/*! For license information please see main.3e25b0a4.js.LICENSE.txt */
(()=>{var t={7520:(t,e,n)=>{"use strict";function o(t){return null==t||""===t?null:t}function r(t,e){return void 0===e&&(e=!1),null!=t&&(""!==t||e)}function i(t){return!r(t)}function s(t){return null==t||0===t.length}function a(t){return null!=t&&"function"===typeof t.toString?t.toString():null}function l(t){if(void 0!==t){if(null===t||""===t)return null;if("number"===typeof t)return isNaN(t)?void 0:t;var e=parseInt(t,10);return isNaN(e)?void 0:e}}function u(t){if(void 0!==t)return null!==t&&""!==t&&("boolean"===typeof t?t:/true/i.test(t))}function c(t,e){return(t?JSON.stringify(t):null)===(e?JSON.stringify(e):null)}function d(t){if(t instanceof Set||t instanceof Map){var e=[];return t.forEach((function(t){return e.push(t)})),e}return Object.values(t)}n.r(e),n.d(e,{AbstractHeaderCellCtrl:()=>td,AgAbstractField:()=>qr,AgAbstractLabel:()=>Kr,AgAutocomplete:()=>hf,AgCheckbox:()=>ui,AgDialog:()=>Qh,AgGroupComponent:()=>Ah,AgInputDateField:()=>ah,AgInputNumberField:()=>Ii,AgInputRange:()=>uh,AgInputTextArea:()=>ih,AgInputTextField:()=>Ni,AgMenuItemComponent:()=>Wh,AgMenuList:()=>Ih,AgMenuPanel:()=>Vh,AgPanel:()=>Yh,AgPickerField:()=>$r,AgPromise:()=>hr,AgPromiseStatus:()=>sr,AgRadioButton:()=>di,AgRichSelect:()=>Th,AgSelect:()=>ri,AgSlider:()=>Ph,AgStackComponentsRegistry:()=>Fe,AgToggleButton:()=>oh,AlignedGridsService:()=>Of,AllCommunityModules:()=>rC,AnimateShowChangeCellRenderer:()=>Ds,AnimateSlideCellRenderer:()=>Ms,AnimationFrameService:()=>gp,AutoScrollService:()=>sl,AutoWidthCalculator:()=>_p,Autowired:()=>nt,BarColumnLabelPlacement:()=>Wm,BaseComponentWrapper:()=>Km,BaseCreator:()=>jy,BaseGridSerializingSession:()=>By,Bean:()=>et,BeanStub:()=>Ut,Beans:()=>iu,BodyDropPivotTarget:()=>Ac,BodyDropTarget:()=>Vc,CHART_TOOLBAR_ALLOW_LIST:()=>Qm,CHART_TOOL_PANEL_ALLOW_LIST:()=>qm,CHART_TOOL_PANEL_MENU_OPTIONS:()=>Xm,CellComp:()=>Ec,CellCtrl:()=>Cu,CellNavigationService:()=>bf,CellPositionUtils:()=>nv,CellRangeType:()=>Yl,ChangedPath:()=>Wp,CheckboxCellEditor:()=>Ra,CheckboxCellRenderer:()=>Oa,CheckboxSelectionComponent:()=>Gs,ClientSideRowModelModule:()=>Dy,ClientSideRowModelSteps:()=>Kd,ColDefUtil:()=>el,Column:()=>ft,ColumnApi:()=>Af,ColumnFactory:()=>qt,ColumnGroup:()=>Xt,ColumnKeyCreator:()=>h,ColumnModel:()=>Ce,ColumnUtils:()=>_e,Component:()=>Sr,ComponentUtil:()=>Ae,Context:()=>X,CssClassApplier:()=>gu,CssClassManager:()=>Cr,CsvCreator:()=>Zy,CsvExportModule:()=>$y,CtrlsService:()=>Ov,CustomTooltipFeature:()=>yr,DEFAULT_CHART_GROUPS:()=>Zm,DataTypeService:()=>pm,DateCellEditor:()=>ya,DateFilter:()=>Ei,DateStringCellEditor:()=>_a,DisplayedGroupCreator:()=>Oe,Downloader:()=>Wy,DragAndDropService:()=>zs,DragService:()=>il,DragSourceType:()=>Hs,Environment:()=>Ig,EventService:()=>ut,Events:()=>$t,ExcelFactoryMode:()=>Ws,ExpansionService:()=>Cp,ExpressionService:()=>Vf,FilterManager:()=>bl,FloatingFilterMapper:()=>Xa,FocusService:()=>ug,GROUP_AUTO_COLUMN_ID:()=>ne,Grid:()=>zm,GridApi:()=>fl,GridBodyComp:()=>uc,GridBodyCtrl:()=>Zl,GridComp:()=>tg,GridCoreCreator:()=>Ym,GridCtrl:()=>Xf,GridHeaderComp:()=>tp,GridHeaderCtrl:()=>Xd,GridOptionsService:()=>$v,GridSerializer:()=>Xy,GroupCellRenderer:()=>oa,GroupCellRendererCtrl:()=>ta,GroupInstanceIdCreator:()=>Jt,HeaderCellCtrl:()=>wd,HeaderFilterCellComp:()=>xl,HeaderFilterCellCtrl:()=>ud,HeaderGroupCellCtrl:()=>Pd,HeaderNavigationDirection:()=>qc,HeaderNavigationService:()=>Zd,HeaderPositionUtils:()=>gv,HeaderRowComp:()=>Qc,HeaderRowContainerComp:()=>zd,HeaderRowContainerCtrl:()=>jd,HeaderRowCtrl:()=>Fd,HeaderRowType:()=>Pc,HorizontalDirection:()=>Bi,HorizontalResizeService:()=>op,InfiniteRowModelModule:()=>Vy,KeyCode:()=>qo,LargeTextCellEditor:()=>ms,LayoutCssClasses:()=>hl,LocaleService:()=>em,Logger:()=>Zf,LoggerFactory:()=>Kf,ManagedFocusFeature:()=>Fr,ModuleNames:()=>z,ModuleRegistry:()=>Z,MouseEventService:()=>gc,MoveColumnFeature:()=>Ic,NavigationService:()=>Cc,NumberCellEditor:()=>ga,NumberFilter:()=>Wi,NumberSequence:()=>cr,Optional:()=>ot,PaginationProxy:()=>$p,PinnedRowModel:()=>jp,PopupComponent:()=>fs,PopupEditorWrapper:()=>_c,PopupService:()=>rf,PositionableFeature:()=>jr,PostConstruct:()=>J,PreConstruct:()=>$,PreDestroy:()=>tt,PropertyKeys:()=>De,ProvidedColumnGroup:()=>vt,ProvidedFilter:()=>zr,Qualifier:()=>it,QuerySelector:()=>Er,RefSelector:()=>Or,ResizeObserverService:()=>pp,RowAnimationCssClasses:()=>Nl,RowContainerComp:()=>Lc,RowContainerCtrl:()=>ic,RowContainerName:()=>Eu,RowContainerType:()=>Ou,RowCtrl:()=>Tu,RowHighlightPosition:()=>nl,RowNode:()=>ks,RowNodeBlock:()=>Up,RowNodeBlockLoader:()=>qp,RowNodeSorter:()=>_v,RowPositionUtils:()=>Jg,RowRenderer:()=>kp,RowType:()=>ly,ScalarFilter:()=>yi,ScrollVisibleService:()=>pc,SelectCellEditor:()=>ws,SelectableService:()=>zg,SelectionHandleType:()=>Ul,ServerSideTransactionResultStatus:()=>vp,SetLeftFeature:()=>od,SimpleFilter:()=>vi,SortController:()=>ig,SortIndicatorComp:()=>ss,StandardMenuFactory:()=>sp,StylingService:()=>eh,TabGuardClassNames:()=>Bp,TabGuardComp:()=>wh,TabGuardCtrl:()=>vh,TabbedLayout:()=>up,TemplateService:()=>Wf,TextCellEditor:()=>xs,TextFilter:()=>Ki,TextFloatingFilter:()=>ns,Timer:()=>fr,TooltipFeature:()=>ou,TouchListener:()=>os,UserComponentFactory:()=>tl,UserComponentRegistry:()=>Aa,ValueCache:()=>bg,ValueFormatterService:()=>Gp,ValueParserService:()=>gm,ValueService:()=>Ff,VanillaFrameworkOverrides:()=>vf,VerticalDirection:()=>ji,VirtualList:()=>Sh,VirtualListDragFeature:()=>cl,XmlFactory:()=>tC,ZipContainer:()=>oC,_:()=>ur,__FORCE_MODULE_DETECTION:()=>$m,createGrid:()=>Bm,getRowContainerTypeForName:()=>nc});var p=Object.freeze({__proto__:null,makeNull:o,exists:r,missing:i,missingOrEmpty:s,toStringOrNull:a,attrToNumber:l,attrToBoolean:u,attrToString:function(t){if(null!=t&&""!==t)return t},jsonEquals:c,defaultComparator:function(t,e,n){void 0===n&&(n=!1);var o=null==t,r=null==e;if(t&&t.toNumber&&(t=t.toNumber()),e&&e.toNumber&&(e=e.toNumber()),o&&r)return 0;if(o)return-1;if(r)return 1;function i(t,e){return t>e?1:t<e?-1:0}if("string"!==typeof t)return i(t,e);if(!n)return i(t,e);try{return t.localeCompare(e)}catch(s){return i(t,e)}},values:d}),h=function(){function t(){this.existingKeys={}}return t.prototype.addExistingKeys=function(t){for(var e=0;e<t.length;e++)this.existingKeys[t[e]]=!0},t.prototype.getUniqueKey=function(t,e){t=a(t);for(var n=0;;){var o=void 0;if(t?(o=t,0!==n&&(o+="_"+n)):e?(o=e,0!==n&&(o+="_"+n)):o=n,!this.existingKeys[o])return this.existingKeys[o]=!0,String(o);n++}},t}(),f=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},g=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s};function v(t,e){var n,o;if(null!=t)if(Array.isArray(t))for(var r=0;r<t.length;r++)e(r.toString(),t[r]);else try{for(var i=f(Object.entries(t)),s=i.next();!s.done;s=i.next()){var a=g(s.value,2);e(a[0],a[1])}}catch(l){n={error:l}}finally{try{s&&!s.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}}function m(t){for(var e={},n=Object.keys(t),o=0;o<n.length;o++){var r=n[o],i=t[r];e[r]=i}return e}function y(t,e){if(t){var n=t,o={};return Object.keys(n).forEach((function(t){if(!(e&&e.indexOf(t)>=0)){var r=n[t],i=T(r)&&r.constructor===Object;o[t]=i?y(r):r}})),o}}function C(t,e){return t[e]}function w(t,e,n){t[e]=n}function b(t,e,n,o){var r=C(t,n);void 0!==r&&w(e,n,o?o(r):r)}function _(t){var e={};return t.filter((function(t){return null!=t})).forEach((function(t){Object.keys(t).forEach((function(t){return e[t]=null}))})),Object.keys(e)}function S(t){if(!t)return[];var e=Object;if("function"===typeof e.values)return e.values(t);var n=[];for(var o in t)t.hasOwnProperty(o)&&t.propertyIsEnumerable(o)&&n.push(t[o]);return n}function E(t,e,n,o){void 0===n&&(n=!0),void 0===o&&(o=!1),r(e)&&v(e,(function(e,r){var i=t[e];if(i!==r){if(o)if(null==i&&null!=r)"object"===typeof r&&r.constructor===Object&&(i={},t[e]=i);T(r)&&T(i)&&!Array.isArray(i)?E(i,r,n,o):(n||void 0!==r)&&(t[e]=r)}}))}function O(t,e,n){if(e&&t){if(!n)return t[e];for(var o=e.split("."),r=t,i=0;i<o.length;i++){if(null==r)return;r=r[o[i]]}return r}}function x(t,e,n){void 0===e&&(e=[]),Object.keys(t).forEach((function(n){"object"!==typeof t[n]||e.includes(n)||(t[n]=void 0)}));var o=Object.getPrototypeOf(t),r={};Object.getOwnPropertyNames(o).forEach((function(t){if("function"===typeof o[t]&&!e.includes(t)){r[t]={value:function(){console.warn(function(t){return"AG Grid: Grid API function ".concat(t,"() cannot be called as the grid has been destroyed.\n    It is recommended to remove local references to the grid api. Alternatively, check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.\n    To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ").concat(n)}(t))},writable:!0}}})),Object.defineProperties(t,r)}function T(t){return"object"===typeof t&&null!==t}var R=Object.freeze({__proto__:null,iterateObject:v,cloneObject:m,deepCloneObject:function(t){return JSON.parse(JSON.stringify(t))},deepCloneDefinition:y,getProperty:C,setProperty:w,copyPropertiesIfPresent:function(t,e){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];n.forEach((function(n){return b(t,e,n)}))},copyPropertyIfPresent:b,getAllKeysInObjects:_,getAllValuesInObject:S,mergeDeep:E,missingOrEmptyObject:function(t){return i(t)||0===Object.keys(t).length},get:function(t,e,n){if(null==t)return n;for(var o=e.split("."),r=t;o.length>1;)if(null==(r=r[o.shift()]))return n;var i=r[o[0]];return null!=i?i:n},set:function(t,e,n){if(null!=t){var o=e.split("."),r=t;o.forEach((function(t,e){r[t]||(r[t]={}),e<o.length-1&&(r=r[t])})),r[o[o.length-1]]=n}},getValueUsingField:O,removeAllReferences:x,isNonNullObject:T}),D={};function P(t,e){D[e]||(t(),D[e]=!0)}function L(t){P((function(){return console.warn("AG Grid: "+t)}),t)}function M(t){P((function(){return console.error("AG Grid: "+t)}),t)}function A(t){if(t.name)return t.name;var e=/function\s+([^\(]+)/.exec(t.toString());return e&&2===e.length?e[1].trim():null}function k(t){return!!(t&&t.constructor&&t.call&&t.apply)}function N(t){H(t,400)}var F=[],I=!1;function G(t){F.push(t),I||(I=!0,window.setTimeout((function(){var t=F.slice();F.length=0,I=!1,t.forEach((function(t){return t()}))}),0))}function H(t,e){void 0===e&&(e=0),t.length>0&&window.setTimeout((function(){return t.forEach((function(t){return t()}))}),e)}function V(t,e){var n;return function(){for(var o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];var i=this;window.clearTimeout(n),n=window.setTimeout((function(){t.apply(i,o)}),e)}}function j(t,e){var n=0;return function(){for(var o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];var i=(new Date).getTime();i-n<e||(n=i,t.apply(this,o))}}function B(t,e,n,o){void 0===n&&(n=100);var r=(new Date).getTime(),i=null,s=!1,a=function(){var a=(new Date).getTime()-r>n;(t()||a)&&(e(),s=!0,null!=i&&(window.clearInterval(i),i=null),a&&o&&console.warn(o))};a(),s||(i=window.setInterval(a,10))}function W(t){t&&t()}var z,U=Object.freeze({__proto__:null,doOnce:P,warnOnce:L,errorOnce:M,getFunctionName:A,isFunction:k,executeInAWhile:N,executeNextVMTurn:G,executeAfter:H,debounce:V,throttle:j,waitUntil:B,compose:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return t.reduce((function(t,e){return e(t)}),e)}},callIfPresent:W,noop:function(){}});!function(t){t.CommunityCoreModule="@ag-grid-community/core",t.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",t.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",t.CsvExportModule="@ag-grid-community/csv-export",t.EnterpriseCoreModule="@ag-grid-enterprise/core",t.RowGroupingModule="@ag-grid-enterprise/row-grouping",t.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",t.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",t.MenuModule="@ag-grid-enterprise/menu",t.SetFilterModule="@ag-grid-enterprise/set-filter",t.MultiFilterModule="@ag-grid-enterprise/multi-filter",t.StatusBarModule="@ag-grid-enterprise/status-bar",t.SideBarModule="@ag-grid-enterprise/side-bar",t.RangeSelectionModule="@ag-grid-enterprise/range-selection",t.MasterDetailModule="@ag-grid-enterprise/master-detail",t.RichSelectModule="@ag-grid-enterprise/rich-select",t.GridChartsModule="@ag-grid-enterprise/charts",t.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",t.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",t.ExcelExportModule="@ag-grid-enterprise/excel-export",t.ClipboardModule="@ag-grid-enterprise/clipboard",t.SparklinesModule="@ag-grid-enterprise/sparklines",t.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",t.AngularModule="@ag-grid-community/angular",t.ReactModule="@ag-grid-community/react",t.VueModule="@ag-grid-community/vue"}(z||(z={}));var Y=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},K=function(t,e,n){if(n||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},Z=function(){function t(){}return t.register=function(e){t.__register(e,!0,void 0)},t.registerModules=function(e){t.__registerModules(e,!0,void 0)},t.__register=function(e,n,o){t.runVersionChecks(e),void 0!==o?(t.areGridScopedModules=!0,void 0===t.gridModulesMap[o]&&(t.gridModulesMap[o]={}),t.gridModulesMap[o][e.moduleName]=e):t.globalModulesMap[e.moduleName]=e,t.setModuleBased(n)},t.__unRegisterGridModules=function(e){delete t.gridModulesMap[e]},t.__registerModules=function(e,n,o){t.setModuleBased(n),e&&e.forEach((function(e){return t.__register(e,n,o)}))},t.isValidModuleVersion=function(e){var n=Y(e.version.split(".")||[],2),o=n[0],r=n[1],i=Y(t.currentModuleVersion.split(".")||[],2),s=i[0],a=i[1];return o===s&&r===a},t.runVersionChecks=function(e){if(t.currentModuleVersion||(t.currentModuleVersion=e.version),e.version?t.isValidModuleVersion(e)||console.error("AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '".concat(e.moduleName,"' is version ").concat(e.version," but the other modules are version ").concat(this.currentModuleVersion,". Please update all modules to the same version.")):console.error("AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '".concat(e.moduleName,"' is incompatible. Please update all modules to the same version.")),e.validate){var n=e.validate();if(!n.isValid){var o=n;console.error("AG Grid: ".concat(o.message))}}},t.setModuleBased=function(e){void 0===t.moduleBased?t.moduleBased=e:t.moduleBased!==e&&P((function(){console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")}),"ModulePackageCheck")},t.__setIsBundled=function(){t.isBundled=!0},t.__assertRegistered=function(e,n,o){var r;if(this.__isRegistered(e,o))return!0;var i,s=n+e;if(t.isBundled)i="AG Grid: unable to use ".concat(n," as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:\n        \n        <script src=\"https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js\"><\/script>\n        \nFor more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise");else if(t.moduleBased||void 0===t.moduleBased){var a=null===(r=Object.entries(z).find((function(t){var n=Y(t,2);return n[0],n[1]===e})))||void 0===r?void 0:r[0];i="AG Grid: unable to use ".concat(n," as the ").concat(a," is not registered").concat(t.areGridScopedModules?" for gridId: ".concat(o):"",". Check if you have registered the module:\n           \n    import { ModuleRegistry } from '@ag-grid-community/core';\n    import { ").concat(a," } from '").concat(e,"';\n    \n    ModuleRegistry.registerModules([ ").concat(a," ]);\n\nFor more info see: https://www.ag-grid.com/javascript-grid/modules/")}else i="AG Grid: unable to use ".concat(n," as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:\n            \n    import 'ag-grid-enterprise';\n            \nFor more info see: https://www.ag-grid.com/javascript-grid/packages/");return P((function(){console.warn(i)}),s),!1},t.__isRegistered=function(e,n){var o;return!!t.globalModulesMap[e]||!!(null===(o=t.gridModulesMap[n])||void 0===o?void 0:o[e])},t.__getRegisteredModules=function(e){return K(K([],Y(d(t.globalModulesMap)),!1),Y(d(t.gridModulesMap[e]||{})),!1)},t.__getGridRegisteredModules=function(e){var n;return d(null!==(n=t.gridModulesMap[e])&&void 0!==n?n:{})||[]},t.__isPackageBased=function(){return!t.moduleBased},t.globalModulesMap={},t.gridModulesMap={},t.areGridScopedModules=!1,t}(),q=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},Q=function(t,e,n){if(n||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},X=function(){function t(t,e){if(this.beanWrappers={},this.destroyed=!1,t&&t.beanClasses){this.contextParams=t,this.logger=e,this.logger.log(">> creating ag-Application Context"),this.createBeans();var n=this.getBeanInstances();this.wireBeans(n),this.logger.log(">> ag-Application Context ready - component is alive")}}return t.prototype.getBeanInstances=function(){return d(this.beanWrappers).map((function(t){return t.beanInstance}))},t.prototype.createBean=function(t,e){if(!t)throw Error("Can't wire to bean since it is null");return this.wireBeans([t],e),t},t.prototype.wireBeans=function(t,e){this.autoWireBeans(t),this.methodWireBeans(t),this.callLifeCycleMethods(t,"preConstructMethods"),r(e)&&t.forEach(e),this.callLifeCycleMethods(t,"postConstructMethods")},t.prototype.createBeans=function(){var t=this;this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),v(this.beanWrappers,(function(e,n){var o;n.bean.__agBeanMetaData&&n.bean.__agBeanMetaData.autowireMethods&&n.bean.__agBeanMetaData.autowireMethods.agConstructor&&(o=n.bean.__agBeanMetaData.autowireMethods.agConstructor);var r=t.getBeansForParameters(o,n.bean.name),i=new(n.bean.bind.apply(n.bean,Q([null],q(r),!1)));n.beanInstance=i}));var e=Object.keys(this.beanWrappers).join(", ");this.logger.log("created beans: ".concat(e))},t.prototype.createBeanWrapper=function(t){var e=t.__agBeanMetaData;if(!e){var n=void 0;return n=t.prototype.constructor?A(t.prototype.constructor):""+t,void console.error("Context item ".concat(n," is not a bean"))}var o={bean:t,beanInstance:null,beanName:e.beanName};this.beanWrappers[e.beanName]=o},t.prototype.autoWireBeans=function(t){var e=this;t.forEach((function(t){e.forEachMetaDataInHierarchy(t,(function(n,o){var r=n.agClassAttributes;r&&r.forEach((function(n){var r=e.lookupBeanInstance(o,n.beanName,n.optional);t[n.attributeName]=r}))}))}))},t.prototype.methodWireBeans=function(t){var e=this;t.forEach((function(t){e.forEachMetaDataInHierarchy(t,(function(n,o){v(n.autowireMethods,(function(n,r){if("agConstructor"!==n){var i=e.getBeansForParameters(r,o);t[n].apply(t,i)}}))}))}))},t.prototype.forEachMetaDataInHierarchy=function(t,e){for(var n=Object.getPrototypeOf(t);null!=n;){var o=n.constructor;if(o.hasOwnProperty("__agBeanMetaData"))e(o.__agBeanMetaData,this.getBeanName(o));n=Object.getPrototypeOf(n)}},t.prototype.getBeanName=function(t){if(t.__agBeanMetaData&&t.__agBeanMetaData.beanName)return t.__agBeanMetaData.beanName;var e=t.toString();return e.substring(9,e.indexOf("("))},t.prototype.getBeansForParameters=function(t,e){var n=this,o=[];return t&&v(t,(function(t,r){var i=n.lookupBeanInstance(e,r);o[Number(t)]=i})),o},t.prototype.lookupBeanInstance=function(t,e,n){if(void 0===n&&(n=!1),this.destroyed)return this.logger.log("AG Grid: bean reference ".concat(e," is used after the grid is destroyed!")),null;if("context"===e)return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(e))return this.contextParams.providedBeanInstances[e];var o=this.beanWrappers[e];return o?o.beanInstance:(n||console.error("AG Grid: unable to find bean reference ".concat(e," while initialising ").concat(t)),null)},t.prototype.callLifeCycleMethods=function(t,e){var n=this;t.forEach((function(t){return n.callLifeCycleMethodsOnBean(t,e)}))},t.prototype.callLifeCycleMethodsOnBean=function(t,e,n){var o={};this.forEachMetaDataInHierarchy(t,(function(t){var r=t[e];r&&r.forEach((function(t){t!=n&&(o[t]=!0)}))})),Object.keys(o).forEach((function(e){return t[e]()}))},t.prototype.getBean=function(t){return this.lookupBeanInstance("getBean",t,!0)},t.prototype.destroy=function(){if(!this.destroyed){this.destroyed=!0,this.logger.log(">> Shutting down ag-Application Context");var t=this.getBeanInstances();this.destroyBeans(t),this.contextParams.providedBeanInstances=null,Z.__unRegisterGridModules(this.contextParams.gridId),this.logger.log(">> ag-Application Context shut down - component is dead")}},t.prototype.destroyBean=function(t){t&&this.destroyBeans([t])},t.prototype.destroyBeans=function(t){var e=this;return t?(t.forEach((function(t){e.callLifeCycleMethodsOnBean(t,"preDestroyMethods","destroy");var n=t;"function"===typeof n.destroy&&n.destroy()})),[]):[]},t.prototype.isDestroyed=function(){return this.destroyed},t.prototype.getGridId=function(){return this.contextParams.gridId},t}();function $(t,e,n){var o=st(t.constructor);o.preConstructMethods||(o.preConstructMethods=[]),o.preConstructMethods.push(e)}function J(t,e,n){var o=st(t.constructor);o.postConstructMethods||(o.postConstructMethods=[]),o.postConstructMethods.push(e)}function tt(t,e,n){var o=st(t.constructor);o.preDestroyMethods||(o.preDestroyMethods=[]),o.preDestroyMethods.push(e)}function et(t){return function(e){st(e).beanName=t}}function nt(t){return function(e,n,o){rt(e,t,!1,e,n,null)}}function ot(t){return function(e,n,o){rt(e,t,!0,e,n,null)}}function rt(t,e,n,o,r,i){if(null!==e)if("number"!==typeof i){var s=st(t.constructor);s.agClassAttributes||(s.agClassAttributes=[]),s.agClassAttributes.push({attributeName:r,beanName:e,optional:n})}else console.error("AG Grid: Autowired should be on an attribute");else console.error("AG Grid: Autowired name should not be null")}function it(t){return function(e,n,o){var r,i="function"==typeof e?e:e.constructor;if("number"===typeof o){var s=void 0;n?(r=st(i),s=n):(r=st(i),s="agConstructor"),r.autowireMethods||(r.autowireMethods={}),r.autowireMethods[s]||(r.autowireMethods[s]={}),r.autowireMethods[s][o]=t}}}function st(t){return t.hasOwnProperty("__agBeanMetaData")||(t.__agBeanMetaData={}),t.__agBeanMetaData}var at=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},lt=function(t,e){return function(n,o){e(n,o,t)}},ut=function(){function t(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}return t.prototype.setBeans=function(t,e,n,o,r){if(void 0===o&&(o=null),void 0===r&&(r=null),this.frameworkOverrides=n,this.gridOptionsService=e,o){var i=e.useAsyncEvents();this.addGlobalListener(o,i)}r&&this.addGlobalListener(r,!1)},t.prototype.getListeners=function(t,e,n){var o=e?this.allAsyncListeners:this.allSyncListeners,r=o.get(t);return!r&&n&&(r=new Set,o.set(t,r)),r},t.prototype.noRegisteredListenersExist=function(){return 0===this.allSyncListeners.size&&0===this.allAsyncListeners.size&&0===this.globalSyncListeners.size&&0===this.globalAsyncListeners.size},t.prototype.addEventListener=function(t,e,n){void 0===n&&(n=!1),this.getListeners(t,n,!0).add(e)},t.prototype.removeEventListener=function(t,e,n){void 0===n&&(n=!1);var o=this.getListeners(t,n,!1);o&&(o.delete(e),0===o.size&&(n?this.allAsyncListeners:this.allSyncListeners).delete(t))},t.prototype.addGlobalListener=function(t,e){void 0===e&&(e=!1),(e?this.globalAsyncListeners:this.globalSyncListeners).add(t)},t.prototype.removeGlobalListener=function(t,e){void 0===e&&(e=!1),(e?this.globalAsyncListeners:this.globalSyncListeners).delete(t)},t.prototype.dispatchEvent=function(t){var e=t;if(this.gridOptionsService){var n=this.gridOptionsService,o=n.api,r=n.columnApi,i=n.context;e.api=o,e.columnApi=r,e.context=i}this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0},t.prototype.dispatchEventOnce=function(t){this.firedEvents[t.type]||this.dispatchEvent(t)},t.prototype.dispatchToListeners=function(t,e){var n,o=this,r=t.type;if(e&&"event"in t){var i=t.event;i instanceof Event&&(t.eventPath=i.composedPath())}var s=null!==(n=this.getListeners(r,e,!1))&&void 0!==n?n:new Set,a=new Set(s);a.size>0&&function(n,r){n.forEach((function(n){r.has(n)&&(e?o.dispatchAsync((function(){return n(t)})):n(t))}))}(a,s),new Set(e?this.globalAsyncListeners:this.globalSyncListeners).forEach((function(n){e?o.dispatchAsync((function(){return o.frameworkOverrides.dispatchEvent(r,(function(){return n(r,t)}),!0)})):o.frameworkOverrides.dispatchEvent(r,(function(){return n(r,t)}),!0)}))},t.prototype.dispatchAsync=function(t){this.asyncFunctionsQueue.push(t),this.scheduled||(window.setTimeout(this.flushAsyncQueue.bind(this),0),this.scheduled=!0)},t.prototype.flushAsyncQueue=function(){this.scheduled=!1;var t=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],t.forEach((function(t){return t()}))},at([lt(0,it("loggerFactory")),lt(1,it("gridOptionsService")),lt(2,it("frameworkOverrides")),lt(3,it("globalEventListener")),lt(4,it("globalSyncEventListener"))],t.prototype,"setBeans",null),t=at([et("eventService")],t)}(),ct=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},dt={resizable:!0,sortable:!0},pt=0;function ht(){return pt++}var ft=function(){function t(t,e,n,o){this.instanceId=ht(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.eventService=new ut,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=t,this.userProvidedColDef=e,this.colId=n,this.primary=o,this.setState(t)}return t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.setState=function(t){void 0!==t.sort?"asc"!==t.sort&&"desc"!==t.sort||(this.sort=t.sort):"asc"!==t.initialSort&&"desc"!==t.initialSort||(this.sort=t.initialSort);var e=t.sortIndex,n=t.initialSortIndex;void 0!==e?null!==e&&(this.sortIndex=e):null!==n&&(this.sortIndex=n);var o=t.hide,r=t.initialHide;this.visible=void 0!==o?!o:!r,void 0!==t.pinned?this.setPinned(t.pinned):this.setPinned(t.initialPinned);var i=t.flex,s=t.initialFlex;void 0!==i?this.flex=i:void 0!==s&&(this.flex=s)},t.prototype.setColDef=function(t,e,n){void 0===n&&(n="api"),this.colDef=t,this.userProvidedColDef=e,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),this.eventService.dispatchEvent(this.createColumnEvent("colDefChanged",n))},t.prototype.getUserProvidedColDef=function(){return this.userProvidedColDef},t.prototype.setParent=function(t){this.parent=t},t.prototype.getParent=function(){return this.parent},t.prototype.setOriginalParent=function(t){this.originalParent=t},t.prototype.getOriginalParent=function(){return this.originalParent},t.prototype.initialise=function(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip()},t.prototype.initDotNotation=function(){var t=this.gridOptionsService.get("suppressFieldDotNotation");this.fieldContainsDots=r(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!t,this.tooltipFieldContainsDots=r(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!t},t.prototype.initMinAndMaxWidths=function(){var t=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(t),this.maxWidth=this.columnUtils.calculateColMaxWidth(t)},t.prototype.initTooltip=function(){this.tooltipEnabled=r(this.colDef.tooltipField)||r(this.colDef.tooltipValueGetter)||r(this.colDef.tooltipComponent)},t.prototype.resetActualWidth=function(t){void 0===t&&(t="api");var e=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(e,t,!0)},t.prototype.isEmptyGroup=function(){return!1},t.prototype.isRowGroupDisplayed=function(t){if(i(this.colDef)||i(this.colDef.showRowGroup))return!1;var e=!0===this.colDef.showRowGroup,n=this.colDef.showRowGroup===t;return e||n},t.prototype.isPrimary=function(){return this.primary},t.prototype.isFilterAllowed=function(){return!!this.colDef.filter},t.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},t.prototype.isTooltipEnabled=function(){return this.tooltipEnabled},t.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},t.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},t.prototype.createColumnFunctionCallbackParams=function(t){return{node:t,data:t.data,column:this,colDef:this.colDef,context:this.gridOptionsService.context,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi}},t.prototype.isSuppressNavigable=function(t){if("boolean"===typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"===typeof this.colDef.suppressNavigable){var e=this.createColumnFunctionCallbackParams(t);return(0,this.colDef.suppressNavigable)(e)}return!1},t.prototype.isCellEditable=function(t){return!(t.group&&!this.gridOptionsService.get("enableGroupEdit"))&&this.isColumnFunc(t,this.colDef.editable)},t.prototype.isSuppressFillHandle=function(){return!!this.colDef.suppressFillHandle},t.prototype.isAutoHeight=function(){return!!this.colDef.autoHeight},t.prototype.isAutoHeaderHeight=function(){return!!this.colDef.autoHeaderHeight},t.prototype.isRowDrag=function(t){return this.isColumnFunc(t,this.colDef.rowDrag)},t.prototype.isDndSource=function(t){return this.isColumnFunc(t,this.colDef.dndSource)},t.prototype.isCellCheckboxSelection=function(t){return this.isColumnFunc(t,this.colDef.checkboxSelection)},t.prototype.isSuppressPaste=function(t){return this.isColumnFunc(t,this.colDef?this.colDef.suppressPaste:null)},t.prototype.isResizable=function(){return!!this.getColDefValue("resizable")},t.prototype.getColDefValue=function(t){var e;return null!==(e=this.colDef[t])&&void 0!==e?e:dt[t]},t.prototype.isColumnFunc=function(t,e){return"boolean"===typeof e?e:"function"===typeof e&&e(this.createColumnFunctionCallbackParams(t))},t.prototype.setMoving=function(t,e){void 0===e&&(e="api"),this.moving=t,this.eventService.dispatchEvent(this.createColumnEvent("movingChanged",e))},t.prototype.createColumnEvent=function(t,e){return{type:t,column:this,columns:[this],source:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}},t.prototype.isMoving=function(){return this.moving},t.prototype.getSort=function(){return this.sort},t.prototype.setSort=function(t,e){void 0===e&&(e="api"),this.sort!==t&&(this.sort=t,this.eventService.dispatchEvent(this.createColumnEvent("sortChanged",e))),this.dispatchStateUpdatedEvent("sort")},t.prototype.setMenuVisible=function(t,e){void 0===e&&(e="api"),this.menuVisible!==t&&(this.menuVisible=t,this.eventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",e)))},t.prototype.isMenuVisible=function(){return this.menuVisible},t.prototype.isSortable=function(){return!!this.getColDefValue("sortable")},t.prototype.isSortAscending=function(){return"asc"===this.sort},t.prototype.isSortDescending=function(){return"desc"===this.sort},t.prototype.isSortNone=function(){return i(this.sort)},t.prototype.isSorting=function(){return r(this.sort)},t.prototype.getSortIndex=function(){return this.sortIndex},t.prototype.setSortIndex=function(t){this.sortIndex=t,this.dispatchStateUpdatedEvent("sortIndex")},t.prototype.setAggFunc=function(t){this.aggFunc=t,this.dispatchStateUpdatedEvent("aggFunc")},t.prototype.getAggFunc=function(){return this.aggFunc},t.prototype.getLeft=function(){return this.left},t.prototype.getOldLeft=function(){return this.oldLeft},t.prototype.getRight=function(){return this.left+this.actualWidth},t.prototype.setLeft=function(t,e){void 0===e&&(e="api"),this.oldLeft=this.left,this.left!==t&&(this.left=t,this.eventService.dispatchEvent(this.createColumnEvent("leftChanged",e)))},t.prototype.isFilterActive=function(){return this.filterActive},t.prototype.setFilterActive=function(t,e,n){void 0===e&&(e="api"),this.filterActive!==t&&(this.filterActive=t,this.eventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",e)));var o=this.createColumnEvent("filterChanged",e);n&&E(o,n),this.eventService.dispatchEvent(o)},t.prototype.isHovered=function(){return this.columnHoverService.isHovered(this)},t.prototype.setPinned=function(t){this.pinned=!0===t||"left"===t?"left":"right"===t?"right":null,this.dispatchStateUpdatedEvent("pinned")},t.prototype.setFirstRightPinned=function(t,e){void 0===e&&(e="api"),this.firstRightPinned!==t&&(this.firstRightPinned=t,this.eventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",e)))},t.prototype.setLastLeftPinned=function(t,e){void 0===e&&(e="api"),this.lastLeftPinned!==t&&(this.lastLeftPinned=t,this.eventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",e)))},t.prototype.isFirstRightPinned=function(){return this.firstRightPinned},t.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},t.prototype.isPinned=function(){return"left"===this.pinned||"right"===this.pinned},t.prototype.isPinnedLeft=function(){return"left"===this.pinned},t.prototype.isPinnedRight=function(){return"right"===this.pinned},t.prototype.getPinned=function(){return this.pinned},t.prototype.setVisible=function(t,e){void 0===e&&(e="api");var n=!0===t;this.visible!==n&&(this.visible=n,this.eventService.dispatchEvent(this.createColumnEvent("visibleChanged",e))),this.dispatchStateUpdatedEvent("hide")},t.prototype.isVisible=function(){return this.visible},t.prototype.isSpanHeaderHeight=function(){var t=this.getColDef();return!t.suppressSpanHeaderHeight&&!t.autoHeaderHeight},t.prototype.getColDef=function(){return this.colDef},t.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},t.prototype.getColId=function(){return this.colId},t.prototype.getId=function(){return this.colId},t.prototype.getUniqueId=function(){return this.colId},t.prototype.getDefinition=function(){return this.colDef},t.prototype.getActualWidth=function(){return this.actualWidth},t.prototype.getAutoHeaderHeight=function(){return this.autoHeaderHeight},t.prototype.setAutoHeaderHeight=function(t){var e=t!==this.autoHeaderHeight;return this.autoHeaderHeight=t,e},t.prototype.createBaseColDefParams=function(t){return{node:t,data:t.data,colDef:this.colDef,column:this,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}},t.prototype.getColSpan=function(t){if(i(this.colDef.colSpan))return 1;var e=this.createBaseColDefParams(t),n=this.colDef.colSpan(e);return Math.max(n,1)},t.prototype.getRowSpan=function(t){if(i(this.colDef.rowSpan))return 1;var e=this.createBaseColDefParams(t),n=this.colDef.rowSpan(e);return Math.max(n,1)},t.prototype.setActualWidth=function(t,e,n){void 0===e&&(e="api"),void 0===n&&(n=!1),null!=this.minWidth&&(t=Math.max(t,this.minWidth)),null!=this.maxWidth&&(t=Math.min(t,this.maxWidth)),this.actualWidth!==t&&(this.actualWidth=t,this.flex&&"flex"!==e&&"gridInitializing"!==e&&(this.flex=null),n||this.fireColumnWidthChangedEvent(e)),this.dispatchStateUpdatedEvent("width")},t.prototype.fireColumnWidthChangedEvent=function(t){this.eventService.dispatchEvent(this.createColumnEvent("widthChanged",t))},t.prototype.isGreaterThanMax=function(t){return null!=this.maxWidth&&t>this.maxWidth},t.prototype.getMinWidth=function(){return this.minWidth},t.prototype.getMaxWidth=function(){return this.maxWidth},t.prototype.getFlex=function(){return this.flex||0},t.prototype.setFlex=function(t){this.flex!==t&&(this.flex=t),this.dispatchStateUpdatedEvent("flex")},t.prototype.setMinimum=function(t){void 0===t&&(t="api"),r(this.minWidth)&&this.setActualWidth(this.minWidth,t)},t.prototype.setRowGroupActive=function(t,e){void 0===e&&(e="api"),this.rowGroupActive!==t&&(this.rowGroupActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",e))),this.dispatchStateUpdatedEvent("rowGroup")},t.prototype.isRowGroupActive=function(){return this.rowGroupActive},t.prototype.setPivotActive=function(t,e){void 0===e&&(e="api"),this.pivotActive!==t&&(this.pivotActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",e))),this.dispatchStateUpdatedEvent("pivot")},t.prototype.isPivotActive=function(){return this.pivotActive},t.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},t.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},t.prototype.setValueActive=function(t,e){void 0===e&&(e="api"),this.aggregationActive!==t&&(this.aggregationActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnValueChanged",e)))},t.prototype.isValueActive=function(){return this.aggregationActive},t.prototype.isAllowPivot=function(){return!0===this.colDef.enablePivot},t.prototype.isAllowValue=function(){return!0===this.colDef.enableValue},t.prototype.isAllowRowGroup=function(){return!0===this.colDef.enableRowGroup},t.prototype.getMenuTabs=function(t){var e=this.getColDef().menuTabs;return null==e&&(e=t),e},t.prototype.dispatchStateUpdatedEvent=function(e){this.eventService.dispatchEvent({type:t.EVENT_STATE_UPDATED,key:e})},t.EVENT_MOVING_CHANGED="movingChanged",t.EVENT_LEFT_CHANGED="leftChanged",t.EVENT_WIDTH_CHANGED="widthChanged",t.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",t.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",t.EVENT_VISIBLE_CHANGED="visibleChanged",t.EVENT_FILTER_CHANGED="filterChanged",t.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",t.EVENT_SORT_CHANGED="sortChanged",t.EVENT_COL_DEF_CHANGED="colDefChanged",t.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",t.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",t.EVENT_PIVOT_CHANGED="columnPivotChanged",t.EVENT_VALUE_CHANGED="columnValueChanged",t.EVENT_STATE_UPDATED="columnStateUpdated",ct([nt("gridOptionsService")],t.prototype,"gridOptionsService",void 0),ct([nt("columnUtils")],t.prototype,"columnUtils",void 0),ct([nt("columnHoverService")],t.prototype,"columnHoverService",void 0),ct([J],t.prototype,"initialise",null),t}(),gt=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},vt=function(){function t(t,e,n,o){this.localEventService=new ut,this.expandable=!1,this.instanceId=ht(),this.expandableListenerRemoveCallback=null,this.colGroupDef=t,this.groupId=e,this.expanded=!!t&&!!t.openByDefault,this.padding=n,this.level=o}return t.prototype.destroy=function(){this.expandableListenerRemoveCallback&&this.reset(null,void 0)},t.prototype.reset=function(t,e){this.colGroupDef=t,this.level=e,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.setOriginalParent=function(t){this.originalParent=t},t.prototype.getOriginalParent=function(){return this.originalParent},t.prototype.getLevel=function(){return this.level},t.prototype.isVisible=function(){return!!this.children&&this.children.some((function(t){return t.isVisible()}))},t.prototype.isPadding=function(){return this.padding},t.prototype.setExpanded=function(e){this.expanded=void 0!==e&&e;var n={type:t.EVENT_EXPANDED_CHANGED};this.localEventService.dispatchEvent(n)},t.prototype.isExpandable=function(){return this.expandable},t.prototype.isExpanded=function(){return this.expanded},t.prototype.getGroupId=function(){return this.groupId},t.prototype.getId=function(){return this.getGroupId()},t.prototype.setChildren=function(t){this.children=t},t.prototype.getChildren=function(){return this.children},t.prototype.getColGroupDef=function(){return this.colGroupDef},t.prototype.getLeafColumns=function(){var t=[];return this.addLeafColumns(t),t},t.prototype.addLeafColumns=function(e){this.children&&this.children.forEach((function(n){n instanceof ft?e.push(n):n instanceof t&&n.addLeafColumns(e)}))},t.prototype.getColumnGroupShow=function(){var t=this.colGroupDef;if(t)return t.columnGroupShow},t.prototype.setupExpandable=function(){var t=this;this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();var e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach((function(t){return t.addEventListener("visibleChanged",e)})),this.expandableListenerRemoveCallback=function(){t.getLeafColumns().forEach((function(t){return t.removeEventListener("visibleChanged",e)})),t.expandableListenerRemoveCallback=null}},t.prototype.setExpandable=function(){if(!this.isPadding()){for(var e=!1,n=!1,o=!1,r=this.findChildrenRemovingPadding(),i=0,s=r.length;i<s;i++){var a=r[i];if(a.isVisible()){var l=a.getColumnGroupShow();"open"===l?(e=!0,o=!0):"closed"===l?(n=!0,o=!0):(e=!0,n=!0)}}var u=e&&n&&o;if(this.expandable!==u){this.expandable=u;var c={type:t.EVENT_EXPANDABLE_CHANGED};this.localEventService.dispatchEvent(c)}}},t.prototype.findChildrenRemovingPadding=function(){var e=[],n=function(o){o.forEach((function(o){o instanceof t&&o.isPadding()?n(o.children):e.push(o)}))};return n(this.children),e},t.prototype.onColumnVisibilityChanged=function(){this.setExpandable()},t.prototype.addEventListener=function(t,e){this.localEventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.localEventService.removeEventListener(t,e)},t.EVENT_EXPANDED_CHANGED="expandedChanged",t.EVENT_EXPANDABLE_CHANGED="expandableChanged",gt([tt],t.prototype,"destroy",null),t}(),mt={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};function yt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;n++){var o=t[n];if(r(o))return o}return null}function Ct(t){if(t&&t.length)return t[t.length-1]}function wt(t,e,n){return null==t&&null==e||null!=t&&null!=e&&t.length===e.length&&t.every((function(t,o){return n?n(t,e[o]):e[o]===t}))}function bt(t){return t.sort((function(t,e){return t-e}))}function _t(t,e){var n=t.indexOf(e);n>=0&&(t[n]=t[t.length-1],t.pop())}function St(t,e){var n=t.indexOf(e);n>=0&&t.splice(n,1)}function Et(t,e){for(var n=0;n<e.length;n++)_t(t,e[n])}function Ot(t,e){for(var n=0;n<e.length;n++)St(t,e[n])}function xt(t,e,n){t.splice(n,0,e)}function Tt(t,e,n){Ot(t,e),e.slice().reverse().forEach((function(e){return xt(t,e,n)}))}function Rt(t,e){return t.indexOf(e)>-1}function Dt(t){return[].concat.apply([],t)}function Pt(t,e){null!=e&&null!=t&&e.forEach((function(e){return t.push(e)}))}var Lt=Object.freeze({__proto__:null,firstExistingValue:yt,existsAndNotEmpty:function(t){return null!=t&&t.length>0},last:Ct,areEqual:wt,shallowCompare:function(t,e){return wt(t,e)},sortNumerically:bt,removeRepeatsFromArray:function(t,e){if(t)for(var n=t.length-2;n>=0;n--){var o=t[n]===e,r=t[n+1]===e;o&&r&&t.splice(n+1,1)}},removeFromUnorderedArray:_t,removeFromArray:St,removeAllFromUnorderedArray:Et,removeAllFromArray:Ot,insertIntoArray:xt,insertArrayIntoArray:function(t,e,n){if(null!=t&&null!=e)for(var o=e.length-1;o>=0;o--){xt(t,e[o],n)}},moveInArray:Tt,includes:Rt,flatten:Dt,pushAll:Pt,toStrings:function(t){return t.map(a)},forEachReverse:function(t,e){if(null!=t)for(var n=t.length-1;n>=0;n--)e(t[n],n)}}),Mt="__ag_Grid_Stop_Propagation",At=["touchstart","touchend","touchmove","touchcancel","scroll"],kt={};function Nt(t){t[Mt]=!0}function Ft(t){return!0===t[Mt]}var It=function(){var t={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return function(e){if("boolean"===typeof kt[e])return kt[e];var n=document.createElement(t[e]||"div");return kt[e="on"+e]=e in n}}();function Gt(t,e,n){for(var o=e;o;){var r=t.getDomData(o,n);if(r)return r;o=o.parentElement}return null}function Ht(t,e){return!(!e||!t)&&jt(e).indexOf(t)>=0}function Vt(t){for(var e=[],n=t.target;n;)e.push(n),n=n.parentElement;return e}function jt(t){var e=t;return e.path?e.path:e.composedPath?e.composedPath():Vt(e)}function Bt(t,e,n,o){var r=Rt(At,n)?{passive:!0}:void 0;t&&t.addEventListener&&t.addEventListener(e,n,o,r)}var Wt=Object.freeze({__proto__:null,stopPropagationForAgGrid:Nt,isStopPropagationForAgGrid:Ft,isEventSupported:It,getCtrlForEventTarget:Gt,isElementInEventPath:Ht,createEventPath:Vt,getEventPath:jt,addSafePassiveEventListener:Bt}),zt=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ut=function(){function t(){var t=this;this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.lastChangeSetIdLookup={},this.propertyListenerId=0,this.isAlive=function(){return!t.destroyed}}return t.prototype.getFrameworkOverrides=function(){return this.frameworkOverrides},t.prototype.getContext=function(){return this.context},t.prototype.destroy=function(){this.destroyFunctions.forEach((function(t){return t()})),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:t.EVENT_DESTROYED})},t.prototype.addEventListener=function(t,e){this.localEventService||(this.localEventService=new ut),this.localEventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.localEventService&&this.localEventService.removeEventListener(t,e)},t.prototype.dispatchEventAsync=function(t){var e=this;window.setTimeout((function(){return e.dispatchEvent(t)}),0)},t.prototype.dispatchEvent=function(t){this.localEventService&&this.localEventService.dispatchEvent(t)},t.prototype.addManagedListener=function(t,e,n){var o=this;if(!this.destroyed){t instanceof HTMLElement?Bt(this.getFrameworkOverrides(),t,e,n):t.addEventListener(e,n);var r=function(){return t.removeEventListener(e,n),o.destroyFunctions=o.destroyFunctions.filter((function(t){return t!==r})),null};return this.destroyFunctions.push(r),r}},t.prototype.setupGridOptionListener=function(t,e){var n=this;this.gridOptionsService.addEventListener(t,e);var o=function(){return n.gridOptionsService.removeEventListener(t,e),n.destroyFunctions=n.destroyFunctions.filter((function(t){return t!==o})),null};this.destroyFunctions.push(o)},t.prototype.addManagedPropertyListener=function(t,e){this.destroyed||this.setupGridOptionListener(t,e)},t.prototype.addManagedPropertyListeners=function(t,e){var n=this;if(!this.destroyed){var o=t.join("-")+this.propertyListenerId++,r=function(t){if(t.changeSet){if(t.changeSet&&t.changeSet.id===n.lastChangeSetIdLookup[o])return;n.lastChangeSetIdLookup[o]=t.changeSet.id}var r={type:"gridPropertyChanged",changeSet:t.changeSet};e(r)};t.forEach((function(t){return n.setupGridOptionListener(t,r)}))}},t.prototype.addDestroyFunc=function(t){this.isAlive()?this.destroyFunctions.push(t):t()},t.prototype.createManagedBean=function(t,e){var n=this.createBean(t,e);return this.addDestroyFunc(this.destroyBean.bind(this,t,e)),n},t.prototype.createBean=function(t,e,n){return(e||this.getContext()).createBean(t,n)},t.prototype.destroyBean=function(t,e){return(e||this.getContext()).destroyBean(t)},t.prototype.destroyBeans=function(t,e){var n=this;return t&&t.forEach((function(t){return n.destroyBean(t,e)})),[]},t.EVENT_DESTROYED="destroyed",zt([nt("frameworkOverrides")],t.prototype,"frameworkOverrides",void 0),zt([nt("context")],t.prototype,"context",void 0),zt([nt("eventService")],t.prototype,"eventService",void 0),zt([nt("gridOptionsService")],t.prototype,"gridOptionsService",void 0),zt([nt("localeService")],t.prototype,"localeService",void 0),zt([nt("environment")],t.prototype,"environment",void 0),zt([tt],t.prototype,"destroy",null),t}(),Yt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Kt=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Zt=function(t,e){return function(n,o){e(n,o,t)}},qt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Yt(e,t),e.prototype.setBeans=function(t){this.logger=t.create("ColumnFactory")},e.prototype.createColumnTree=function(t,e,n){var o=new h,r=this.extractExistingTreeData(n),i=r.existingCols,s=r.existingGroups,a=r.existingColKeys;o.addExistingKeys(a);var l=this.recursivelyCreateColumns(t,0,e,i,o,s),u=this.findMaxDept(l,0);this.logger.log("Number of levels for grouped columns is "+u);var c=this.balanceColumnTree(l,0,u,o);return this.columnUtils.depthFirstOriginalTreeSearch(null,c,(function(t,e){t instanceof vt&&t.setupExpandable(),t.setOriginalParent(e)})),{columnTree:c,treeDept:u}},e.prototype.extractExistingTreeData=function(t){var e=[],n=[],o=[];return t&&this.columnUtils.depthFirstOriginalTreeSearch(null,t,(function(t){if(t instanceof vt){var r=t;n.push(r)}else{var i=t;o.push(i.getId()),e.push(i)}})),{existingCols:e,existingGroups:n,existingColKeys:o}},e.prototype.createForAutoGroups=function(t,e){var n=this;return t.map((function(t){return n.createAutoGroupTreeItem(e,t)}))},e.prototype.createAutoGroupTreeItem=function(t,e){for(var n=this.findDepth(t),o=e,r=n-1;r>=0;r--){var i=new vt(null,"FAKE_PATH_".concat(e.getId(),"}_").concat(r),!0,r);this.createBean(i),i.setChildren([o]),o.setOriginalParent(i),o=i}return 0===n&&e.setOriginalParent(null),o},e.prototype.findDepth=function(t){for(var e=0,n=t;n&&n[0]&&n[0]instanceof vt;)e++,n=n[0].getChildren();return e},e.prototype.balanceColumnTree=function(t,e,n,o){for(var r=[],i=0;i<t.length;i++){var s=t[i];if(s instanceof vt){var a=s,l=this.balanceColumnTree(a.getChildren(),e+1,n,o);a.setChildren(l),r.push(a)}else{for(var u=void 0,c=void 0,d=n-1;d>=e;d--){var p=o.getUniqueKey(null,null),h=this.createMergedColGroupDef(null),f=new vt(h,p,!0,e);this.createBean(f),c&&c.setChildren([f]),c=f,u||(u=c)}if(u&&c){if(r.push(u),t.some((function(t){return t instanceof vt}))){c.setChildren([s]);continue}c.setChildren(t);break}r.push(s)}}return r},e.prototype.findMaxDept=function(t,e){for(var n=e,o=0;o<t.length;o++){var r=t[o];if(r instanceof vt){var i=r,s=this.findMaxDept(i.getChildren(),e+1);n<s&&(n=s)}}return n},e.prototype.recursivelyCreateColumns=function(t,e,n,o,r,i){if(!t)return[];for(var s=new Array(t.length),a=0;a<s.length;a++){var l=t[a];this.isColumnGroup(l)?s[a]=this.createColumnGroup(n,l,e,o,r,i):s[a]=this.createColumn(n,l,o,r)}return s},e.prototype.createColumnGroup=function(t,e,n,o,r,i){var s=this.createMergedColGroupDef(e),a=r.getUniqueKey(s.groupId||null,null),l=new vt(s,a,!1,n);this.createBean(l);var u=this.findExistingGroup(e,i);u&&i.splice(u.idx,1);var c=null===u||void 0===u?void 0:u.group;c&&l.setExpanded(c.isExpanded());var d=this.recursivelyCreateColumns(s.children,n+1,t,o,r,i);return l.setChildren(d),l},e.prototype.createMergedColGroupDef=function(t){var e={};return Object.assign(e,this.gridOptionsService.get("defaultColGroupDef")),Object.assign(e,t),e},e.prototype.createColumn=function(t,e,n,o){var r=this.findExistingColumn(e,n);r&&(null===n||void 0===n||n.splice(r.idx,1));var i=null===r||void 0===r?void 0:r.column;if(i){a=this.addColumnDefaultAndTypes(e,i.getColId());i.setColDef(a,e),this.applyColumnState(i,a)}else{var s=o.getUniqueKey(e.colId,e.field),a=this.addColumnDefaultAndTypes(e,s);i=new ft(a,e,s,t),this.context.createBean(i)}return this.dataTypeService.addColumnListeners(i),i},e.prototype.applyColumnState=function(t,e){var n=l(e.flex);if(void 0!==n&&t.setFlex(n),t.getFlex()<=0){var o=l(e.width);if(null!=o)t.setActualWidth(o);else{var r=t.getActualWidth();t.setActualWidth(r)}}void 0!==e.sort&&("asc"==e.sort||"desc"==e.sort?t.setSort(e.sort):t.setSort(void 0));var i=l(e.sortIndex);void 0!==i&&t.setSortIndex(i);var s=u(e.hide);void 0!==s&&t.setVisible(!s),void 0!==e.pinned&&t.setPinned(e.pinned)},e.prototype.findExistingColumn=function(t,e){if(e)for(var n=0;n<e.length;n++){var o=e[n].getUserProvidedColDef();if(o)if(null!=t.colId){if(e[n].getId()===t.colId)return{idx:n,column:e[n]}}else if(null!=t.field){if(o.field===t.field)return{idx:n,column:e[n]}}else if(o===t)return{idx:n,column:e[n]}}},e.prototype.findExistingGroup=function(t,e){if(null!=t.groupId)for(var n=0;n<e.length;n++){var o=e[n];if(o.getColGroupDef()&&o.getId()===t.groupId)return{idx:n,group:o}}},e.prototype.addColumnDefaultAndTypes=function(t,e){var n={};E(n,this.gridOptionsService.get("defaultColDef"),!1,!0);var o=this.dataTypeService.updateColDefAndGetColumnType(n,t,e);o&&this.assignColumnTypes(o,n),E(n,t,!1,!0);var r=this.gridOptionsService.get("autoGroupColumnDef"),i=this.gridOptionsService.isColumnsSortingCoupledToGroup();return t.rowGroup&&r&&i&&E(n,{sort:r.sort,initialSort:r.initialSort},!1,!0),this.dataTypeService.validateColDef(n),n},e.prototype.assignColumnTypes=function(t,e){if(t.length){var n=Object.assign({},mt);v(this.gridOptionsService.get("columnTypes")||{},(function(t,e){t in n?console.warn("AG Grid: the column type '".concat(t,"' is a default column type and cannot be overridden.")):(e.type&&L("Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type."),n[t]=e)})),t.forEach((function(t){var o=n[t.trim()];o?E(e,o,!1,!0):console.warn("AG Grid: colDef.type '"+t+"' does not correspond to defined gridOptions.columnTypes")}))}},e.prototype.isColumnGroup=function(t){return void 0!==t.children},Kt([nt("columnUtils")],e.prototype,"columnUtils",void 0),Kt([nt("dataTypeService")],e.prototype,"dataTypeService",void 0),Kt([Zt(0,it("loggerFactory"))],e.prototype,"setBeans",null),e=Kt([et("columnFactory")],e)}(Ut),Qt=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Xt=function(){function t(t,e,n,o){this.displayedChildren=[],this.localEventService=new ut,this.groupId=e,this.partId=n,this.providedColumnGroup=t,this.pinned=o}return t.createUniqueId=function(t,e){return t+"_"+e},t.prototype.reset=function(){this.parent=null,this.children=null,this.displayedChildren=null},t.prototype.getParent=function(){return this.parent},t.prototype.setParent=function(t){this.parent=t},t.prototype.getUniqueId=function(){return t.createUniqueId(this.groupId,this.partId)},t.prototype.isEmptyGroup=function(){return 0===this.displayedChildren.length},t.prototype.isMoving=function(){var t=this.getProvidedColumnGroup().getLeafColumns();return!(!t||0===t.length)&&t.every((function(t){return t.isMoving()}))},t.prototype.checkLeft=function(){if(this.displayedChildren.forEach((function(e){e instanceof t&&e.checkLeft()})),this.displayedChildren.length>0)if(this.gridOptionsService.get("enableRtl")){var e=Ct(this.displayedChildren).getLeft();this.setLeft(e)}else{var n=this.displayedChildren[0].getLeft();this.setLeft(n)}else this.setLeft(null)},t.prototype.getLeft=function(){return this.left},t.prototype.getOldLeft=function(){return this.oldLeft},t.prototype.setLeft=function(e){this.oldLeft=e,this.left!==e&&(this.left=e,this.localEventService.dispatchEvent(this.createAgEvent(t.EVENT_LEFT_CHANGED)))},t.prototype.getPinned=function(){return this.pinned},t.prototype.createAgEvent=function(t){return{type:t}},t.prototype.addEventListener=function(t,e){this.localEventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.localEventService.removeEventListener(t,e)},t.prototype.getGroupId=function(){return this.groupId},t.prototype.getPartId=function(){return this.partId},t.prototype.isChildInThisGroupDeepSearch=function(e){var n=!1;return this.children.forEach((function(o){e===o&&(n=!0),o instanceof t&&o.isChildInThisGroupDeepSearch(e)&&(n=!0)})),n},t.prototype.getActualWidth=function(){var t=0;return this.displayedChildren&&this.displayedChildren.forEach((function(e){t+=e.getActualWidth()})),t},t.prototype.isResizable=function(){if(!this.displayedChildren)return!1;var t=!1;return this.displayedChildren.forEach((function(e){e.isResizable()&&(t=!0)})),t},t.prototype.getMinWidth=function(){var t=0;return this.displayedChildren.forEach((function(e){t+=e.getMinWidth()||0})),t},t.prototype.addChild=function(t){this.children||(this.children=[]),this.children.push(t)},t.prototype.getDisplayedChildren=function(){return this.displayedChildren},t.prototype.getLeafColumns=function(){var t=[];return this.addLeafColumns(t),t},t.prototype.getDisplayedLeafColumns=function(){var t=[];return this.addDisplayedLeafColumns(t),t},t.prototype.getDefinition=function(){return this.providedColumnGroup.getColGroupDef()},t.prototype.getColGroupDef=function(){return this.providedColumnGroup.getColGroupDef()},t.prototype.isPadding=function(){return this.providedColumnGroup.isPadding()},t.prototype.isExpandable=function(){return this.providedColumnGroup.isExpandable()},t.prototype.isExpanded=function(){return this.providedColumnGroup.isExpanded()},t.prototype.setExpanded=function(t){this.providedColumnGroup.setExpanded(t)},t.prototype.addDisplayedLeafColumns=function(e){this.displayedChildren.forEach((function(n){n instanceof ft?e.push(n):n instanceof t&&n.addDisplayedLeafColumns(e)}))},t.prototype.addLeafColumns=function(e){this.children.forEach((function(n){n instanceof ft?e.push(n):n instanceof t&&n.addLeafColumns(e)}))},t.prototype.getChildren=function(){return this.children},t.prototype.getColumnGroupShow=function(){return this.providedColumnGroup.getColumnGroupShow()},t.prototype.getProvidedColumnGroup=function(){return this.providedColumnGroup},t.prototype.getPaddingLevel=function(){var t=this.getParent();return this.isPadding()&&t&&t.isPadding()?1+t.getPaddingLevel():0},t.prototype.calculateDisplayedColumns=function(){var e=this;this.displayedChildren=[];for(var n=this;null!=n&&n.isPadding();)n=n.getParent();if(!(!!n&&n.providedColumnGroup.isExpandable()))return this.displayedChildren=this.children,void this.localEventService.dispatchEvent(this.createAgEvent(t.EVENT_DISPLAYED_CHILDREN_CHANGED));this.children.forEach((function(o){if(!(o instanceof t&&(!o.displayedChildren||!o.displayedChildren.length)))switch(o.getColumnGroupShow()){case"open":n.providedColumnGroup.isExpanded()&&e.displayedChildren.push(o);break;case"closed":n.providedColumnGroup.isExpanded()||e.displayedChildren.push(o);break;default:e.displayedChildren.push(o)}})),this.localEventService.dispatchEvent(this.createAgEvent(t.EVENT_DISPLAYED_CHILDREN_CHANGED))},t.EVENT_LEFT_CHANGED="leftChanged",t.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",Qt([nt("gridOptionsService")],t.prototype,"gridOptionsService",void 0),t}(),$t=function(){function t(){}return t.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",t.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",t.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",t.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",t.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",t.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",t.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",t.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",t.EVENT_COLUMN_MOVED="columnMoved",t.EVENT_COLUMN_VISIBLE="columnVisible",t.EVENT_COLUMN_PINNED="columnPinned",t.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",t.EVENT_COLUMN_RESIZED="columnResized",t.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",t.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED="suppressMovableColumns",t.EVENT_SUPPRESS_MENU_HIDE_CHANGED="suppressMenuHide",t.EVENT_SUPPRESS_FIELD_DOT_NOTATION="suppressFieldDotNotation",t.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",t.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",t.EVENT_ROW_GROUP_OPENED="rowGroupOpened",t.EVENT_ROW_DATA_UPDATED="rowDataUpdated",t.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",t.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",t.EVENT_CHART_CREATED="chartCreated",t.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",t.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",t.EVENT_CHART_DESTROYED="chartDestroyed",t.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",t.EVENT_TOOL_PANEL_SIZE_CHANGED="toolPanelSizeChanged",t.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart",t.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd",t.EVENT_MODEL_UPDATED="modelUpdated",t.EVENT_CUT_START="cutStart",t.EVENT_CUT_END="cutEnd",t.EVENT_PASTE_START="pasteStart",t.EVENT_PASTE_END="pasteEnd",t.EVENT_FILL_START="fillStart",t.EVENT_FILL_END="fillEnd",t.EVENT_RANGE_DELETE_START="rangeDeleteStart",t.EVENT_RANGE_DELETE_END="rangeDeleteEnd",t.EVENT_UNDO_STARTED="undoStarted",t.EVENT_UNDO_ENDED="undoEnded",t.EVENT_REDO_STARTED="redoStarted",t.EVENT_REDO_ENDED="redoEnded",t.EVENT_KEY_SHORTCUT_CHANGED_CELL_START="keyShortcutChangedCellStart",t.EVENT_KEY_SHORTCUT_CHANGED_CELL_END="keyShortcutChangedCellEnd",t.EVENT_CELL_CLICKED="cellClicked",t.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",t.EVENT_CELL_MOUSE_DOWN="cellMouseDown",t.EVENT_CELL_CONTEXT_MENU="cellContextMenu",t.EVENT_CELL_VALUE_CHANGED="cellValueChanged",t.EVENT_CELL_EDIT_REQUEST="cellEditRequest",t.EVENT_ROW_VALUE_CHANGED="rowValueChanged",t.EVENT_CELL_FOCUSED="cellFocused",t.EVENT_CELL_FOCUS_CLEARED="cellFocusCleared",t.EVENT_FULL_WIDTH_ROW_FOCUSED="fullWidthRowFocused",t.EVENT_ROW_SELECTED="rowSelected",t.EVENT_SELECTION_CHANGED="selectionChanged",t.EVENT_TOOLTIP_SHOW="tooltipShow",t.EVENT_TOOLTIP_HIDE="tooltipHide",t.EVENT_CELL_KEY_DOWN="cellKeyDown",t.EVENT_CELL_MOUSE_OVER="cellMouseOver",t.EVENT_CELL_MOUSE_OUT="cellMouseOut",t.EVENT_FILTER_CHANGED="filterChanged",t.EVENT_FILTER_MODIFIED="filterModified",t.EVENT_FILTER_OPENED="filterOpened",t.EVENT_ADVANCED_FILTER_BUILDER_VISIBLE_CHANGED="advancedFilterBuilderVisibleChanged",t.EVENT_SORT_CHANGED="sortChanged",t.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",t.EVENT_ROW_CLICKED="rowClicked",t.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",t.EVENT_GRID_READY="gridReady",t.EVENT_GRID_PRE_DESTROYED="gridPreDestroyed",t.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",t.EVENT_VIEWPORT_CHANGED="viewportChanged",t.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",t.EVENT_FIRST_DATA_RENDERED="firstDataRendered",t.EVENT_DRAG_STARTED="dragStarted",t.EVENT_DRAG_STOPPED="dragStopped",t.EVENT_CHECKBOX_CHANGED="checkboxChanged",t.EVENT_ROW_EDITING_STARTED="rowEditingStarted",t.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",t.EVENT_CELL_EDITING_STARTED="cellEditingStarted",t.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",t.EVENT_BODY_SCROLL="bodyScroll",t.EVENT_BODY_SCROLL_END="bodyScrollEnd",t.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",t.EVENT_PAGINATION_CHANGED="paginationChanged",t.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",t.EVENT_STORE_REFRESHED="storeRefreshed",t.EVENT_STATE_UPDATED="stateUpdated",t.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",t.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",t.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",t.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",t.EVENT_FLASH_CELLS="flashCells",t.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",t.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged",t.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged",t.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged",t.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged",t.EVENT_HEADER_HEIGHT_CHANGED="headerHeightChanged",t.EVENT_COLUMN_HEADER_HEIGHT_CHANGED="columnHeaderHeightChanged",t.EVENT_ROW_DRAG_ENTER="rowDragEnter",t.EVENT_ROW_DRAG_MOVE="rowDragMove",t.EVENT_ROW_DRAG_LEAVE="rowDragLeave",t.EVENT_ROW_DRAG_END="rowDragEnd",t.EVENT_GRID_STYLES_CHANGED="gridStylesChanged",t.EVENT_POPUP_TO_FRONT="popupToFront",t.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",t.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",t.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",t.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",t.EVENT_STORE_UPDATED="storeUpdated",t.EVENT_FILTER_DESTROYED="filterDestroyed",t.EVENT_ROW_DATA_UPDATE_STARTED="rowDataUpdateStarted",t.EVENT_ROW_COUNT_READY="rowCountReady",t.EVENT_ADVANCED_FILTER_ENABLED_CHANGED="advancedFilterEnabledChanged",t.EVENT_DATA_TYPES_INFERRED="dataTypesInferred",t.EVENT_FIELD_VALUE_CHANGED="fieldValueChanged",t.EVENT_FIELD_PICKER_VALUE_SELECTED="fieldPickerValueSelected",t.EVENT_SIDE_BAR_UPDATED="sideBarUpdated",t}(),Jt=function(){function t(){this.existingIds={}}return t.prototype.getInstanceIdForKey=function(t){var e,n=this.existingIds[t];return e="number"!==typeof n?0:n+1,this.existingIds[t]=e,e},t}(),te=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ee=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ne="ag-Grid-AutoColumn",oe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return te(e,t),e.prototype.createAutoGroupColumns=function(t){var e=this,n=[],o=this.gridOptionsService.get("treeData"),r=this.gridOptionsService.isGroupMultiAutoColumn();return o&&r&&(console.warn('AG Grid: you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data'),r=!1),r?t.forEach((function(t,o){n.push(e.createOneAutoGroupColumn(t,o))})):n.push(this.createOneAutoGroupColumn()),n},e.prototype.updateAutoGroupColumns=function(t){var e=this;t.forEach((function(t,n){return e.updateOneAutoGroupColumn(t,n)}))},e.prototype.createOneAutoGroupColumn=function(t,e){var n;n=t?"".concat(ne,"-").concat(t.getId()):ne;var o=this.createAutoGroupColDef(n,t,e);o.colId=n;var r=new ft(o,null,n,!0);return this.context.createBean(r),r},e.prototype.updateOneAutoGroupColumn=function(t,e){var n=t.getColDef(),o="string"==typeof n.showRowGroup?n.showRowGroup:void 0,r=null!=o?this.columnModel.getPrimaryColumn(o):void 0,i=this.createAutoGroupColDef(t.getId(),null!==r&&void 0!==r?r:void 0,e);t.setColDef(i,null),this.columnFactory.applyColumnState(t,i)},e.prototype.createAutoGroupColDef=function(t,e,n){var o=this.createBaseColDef(e);(E(o,this.gridOptionsService.get("autoGroupColumnDef")),o=this.columnFactory.addColumnDefaultAndTypes(o,t),this.gridOptionsService.get("treeData"))||i(o.field)&&i(o.valueGetter)&&i(o.filterValueGetter)&&"agGroupColumnFilter"!==o.filter&&(o.filter=!1);n&&n>0&&(o.headerCheckboxSelection=!1);var r=this.gridOptionsService.isColumnsSortingCoupledToGroup(),s=o.valueGetter||null!=o.field;return r&&!s&&(o.sortIndex=void 0,o.initialSort=void 0),o},e.prototype.createBaseColDef=function(t){var e=this.gridOptionsService.get("autoGroupColumnDef"),n={headerName:this.localeService.getLocaleTextFunc()("group","Group")};if(e&&(e.cellRenderer||e.cellRendererSelector)||(n.cellRenderer="agGroupCellRenderer"),t){var o=t.getColDef();Object.assign(n,{headerName:this.columnModel.getDisplayNameForColumn(t,"header"),headerValueGetter:o.headerValueGetter}),o.cellRenderer&&Object.assign(n,{cellRendererParams:{innerRenderer:o.cellRenderer,innerRendererParams:o.cellRendererParams}}),n.showRowGroup=t.getColId()}else n.showRowGroup=!0;return n},ee([nt("columnModel")],e.prototype,"columnModel",void 0),ee([nt("columnFactory")],e.prototype,"columnFactory",void 0),e=ee([et("autoGroupColService")],e)}(Ut),re=/[&<>"']/g,ie={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function se(t,e){if(null==t)return null;var n=t.toString().toString();return e?n:n.replace(re,(function(t){return ie[t]}))}function ae(t){if(!t||null==t)return null;return t.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/([A-Z]+)([A-Z])([a-z])/g,"$1 $2$3").replace(/\./g," ").split(" ").map((function(t){return t.substring(0,1).toUpperCase()+(t.length>1?t.substring(1,t.length):"")})).join(" ")}function le(t){return t.replace(/[A-Z]/g,(function(t){return"-".concat(t.toLocaleLowerCase())}))}var ue=Object.freeze({__proto__:null,utf8_encode:function(t){var e=String.fromCharCode;function n(t,n){return e(t>>n&63|128)}function o(t){if(t>=0&&t<=31&&10!==t){var o=t.toString(16).toUpperCase().padStart(4,"0");return"_x".concat(o,"_")}if(0==(4294967168&t))return e(t);var r="";return 0==(4294965248&t)?r=e(t>>6&31|192):0==(4294901760&t)?(!function(t){if(t>=55296&&t<=57343)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}(t),r=e(t>>12&15|224),r+=n(t,6)):0==(4292870144&t)&&(r=e(t>>18&7|240),r+=n(t,12),r+=n(t,6)),r+=e(63&t|128)}for(var r=function(t){var e=[];if(!t)return[];for(var n,o,r=t.length,i=0;i<r;)(n=t.charCodeAt(i++))>=55296&&n<=56319&&i<r?56320==(64512&(o=t.charCodeAt(i++)))?e.push(((1023&n)<<10)+(1023&o)+65536):(e.push(n),i--):e.push(n);return e}(t),i=r.length,s=-1,a="";++s<i;)a+=o(r[s]);return a},capitalise:function(t){return t[0].toUpperCase()+t.substring(1).toLowerCase()},escapeString:se,camelCaseToHumanText:ae,camelCaseToHyphenated:le});function ce(t){var e=new Map;return t.forEach((function(t){return e.set(t[0],t[1])})),e}var de=Object.freeze({__proto__:null,convertToMap:ce,mapById:function(t,e){var n=new Map;return t.forEach((function(t){return n.set(e(t),t)})),n},keys:function(t){var e=[];return t.forEach((function(t,n){return e.push(n)})),e}}),pe=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),he=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},fe=function(t,e){return function(n,o){e(n,o,t)}},ge=function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]])}return n},ve=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},me=function(t,e,n){if(n||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},ye=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ce=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.primaryHeaderRowCount=0,e.secondaryHeaderRowCount=0,e.gridHeaderRowCount=0,e.displayedColumnsLeft=[],e.displayedColumnsRight=[],e.displayedColumnsCenter=[],e.displayedColumns=[],e.displayedColumnsAndGroupsMap={},e.viewportColumns=[],e.viewportColumnsHash="",e.headerViewportColumns=[],e.viewportColumnsCenter=[],e.headerViewportColumnsCenter=[],e.autoHeightActiveAtLeastOnce=!1,e.rowGroupColumns=[],e.valueColumns=[],e.pivotColumns=[],e.ready=!1,e.autoGroupsNeedBuilding=!1,e.forceRecreateAutoGroups=!1,e.pivotMode=!1,e.bodyWidth=0,e.leftWidth=0,e.rightWidth=0,e.bodyWidthDirty=!0,e.shouldQueueResizeOperations=!1,e.resizeOperationQueue=[],e}return pe(e,t),e.prototype.init=function(){var t=this;this.suppressColumnVirtualisation=this.gridOptionsService.get("suppressColumnVirtualisation");var e=this.gridOptionsService.get("pivotMode");this.isPivotSettingAllowed(e)&&(this.pivotMode=e),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],(function(){return t.buildAutoGroupColumns()})),this.addManagedPropertyListener("autoGroupColumnDef",(function(){return t.onAutoGroupColumnDefChanged()})),this.addManagedPropertyListeners(["defaultColDef","columnTypes","suppressFieldDotNotation"],(function(e){return t.onSharedColDefChanged(e.source)})),this.addManagedPropertyListener("pivotMode",(function(e){return t.setPivotMode(t.gridOptionsService.get("pivotMode"),e.source)})),this.addManagedListener(this.eventService,$t.EVENT_FIRST_DATA_RENDERED,(function(){return t.onFirstDataRendered()}))},e.prototype.buildAutoGroupColumns=function(){this.columnDefs&&(this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns("gridOptionsChanged"))},e.prototype.onAutoGroupColumnDefChanged=function(){this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns)},e.prototype.onSharedColDefChanged=function(t){void 0===t&&(t="api"),this.gridColumns&&(this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns),this.createColumnsFromColumnDefs(!0,t))},e.prototype.setColumnDefs=function(t,e){void 0===e&&(e="api");var n=!!this.columnDefs;this.columnDefs=t,this.createColumnsFromColumnDefs(n,e)},e.prototype.recreateColumnDefs=function(t){void 0===t&&(t="api"),this.onSharedColDefChanged(t)},e.prototype.destroyOldColumns=function(t,e){var n={};if(t){this.columnUtils.depthFirstOriginalTreeSearch(null,t,(function(t){n[t.getInstanceId()]=t})),e&&this.columnUtils.depthFirstOriginalTreeSearch(null,e,(function(t){n[t.getInstanceId()]=null}));var o=Object.values(n).filter((function(t){return null!=t}));this.destroyBeans(o)}},e.prototype.destroyColumns=function(){this.destroyOldColumns(this.primaryColumnTree),this.destroyOldColumns(this.secondaryBalancedTree),this.destroyOldColumns(this.groupAutoColsBalancedTree)},e.prototype.createColumnsFromColumnDefs=function(t,e){var n=this;void 0===e&&(e="api");var o=t?this.compareColumnStatesAndDispatchEvents(e):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;var r=this.primaryColumns,i=this.primaryColumnTree,s=this.columnFactory.createColumnTree(this.columnDefs,!0,i);this.destroyOldColumns(this.primaryColumnTree,s.columnTree),this.primaryColumnTree=s.columnTree,this.primaryHeaderRowCount=s.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach((function(t){return n.primaryColumnsMap[t.getId()]=t})),this.extractRowGroupColumns(e,r),this.extractPivotColumns(e,r),this.extractValueColumns(e,r),this.ready=!0;var a=void 0===this.gridColsArePrimary;(this.gridColsArePrimary||a||this.autoGroupsNeedBuilding)&&(this.updateGridColumns(),t&&this.gridColsArePrimary&&!this.gridOptionsService.get("maintainColumnOrder")&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(e),this.checkViewportColumns()),this.dispatchEverythingChanged(e),o&&o(),this.dispatchNewColumnsLoaded(e)},e.prototype.dispatchNewColumnsLoaded=function(t){var e={type:$t.EVENT_NEW_COLUMNS_LOADED,source:t};this.eventService.dispatchEvent(e),"gridInitializing"===t&&this.onColumnsReady()},e.prototype.dispatchEverythingChanged=function(t){void 0===t&&(t="api");var e={type:$t.EVENT_COLUMN_EVERYTHING_CHANGED,source:t};this.eventService.dispatchEvent(e)},e.prototype.orderGridColumnsLikePrimary=function(){var t=this,e=this.primaryColumns;if(e){var n=e.filter((function(e){return t.gridColumns.indexOf(e)>=0})),o=this.gridColumns.filter((function(t){return n.indexOf(t)<0}));this.gridColumns=me(me([],ve(o),!1),ve(n),!1),this.gridColumns=this.placeLockedColumns(this.gridColumns)}},e.prototype.getAllDisplayedAutoHeightCols=function(){return this.displayedAutoHeightCols},e.prototype.setViewport=function(){this.gridOptionsService.get("enableRtl")?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)},e.prototype.getDisplayedColumnsStartingAt=function(t){for(var e=t,n=[];null!=e;)n.push(e),e=this.getDisplayedColAfter(e);return n},e.prototype.checkViewportColumns=function(t){if((void 0===t&&(t=!1),null!=this.displayedColumnsCenter)&&this.extractViewport()){var e={type:$t.EVENT_VIRTUAL_COLUMNS_CHANGED,afterScroll:t};this.eventService.dispatchEvent(e)}},e.prototype.setViewportPosition=function(t,e,n){void 0===n&&(n=!1),(t!==this.scrollWidth||e!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=t,this.scrollPosition=e,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns(n))},e.prototype.isPivotMode=function(){return this.pivotMode},e.prototype.isPivotSettingAllowed=function(t){return!t||!this.gridOptionsService.get("treeData")||(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1)},e.prototype.setPivotMode=function(t,e){if(void 0===e&&(e="api"),t!==this.pivotMode&&this.isPivotSettingAllowed(this.pivotMode)&&(this.pivotMode=t,this.gridColumns)){this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(e);var n={type:$t.EVENT_COLUMN_PIVOT_MODE_CHANGED};this.eventService.dispatchEvent(n)}},e.prototype.getSecondaryPivotColumn=function(t,e){if(i(this.secondaryColumns))return null;var n=this.getPrimaryColumn(e),o=null;return this.secondaryColumns.forEach((function(e){var r=e.getColDef().pivotKeys,i=e.getColDef().pivotValueColumn;wt(r,t)&&i===n&&(o=e)})),o},e.prototype.setBeans=function(t){this.logger=t.create("columnModel")},e.prototype.setFirstRightAndLastLeftPinned=function(t){var e,n;this.gridOptionsService.get("enableRtl")?(e=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,n=this.displayedColumnsRight?Ct(this.displayedColumnsRight):null):(e=this.displayedColumnsLeft?Ct(this.displayedColumnsLeft):null,n=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach((function(o){o.setLastLeftPinned(o===e,t),o.setFirstRightPinned(o===n,t)}))},e.prototype.autoSizeColumns=function(t){var e=this;if(this.shouldQueueResizeOperations)this.resizeOperationQueue.push((function(){return e.autoSizeColumns(t)}));else{var n=t.columns,o=t.skipHeader,r=t.skipHeaderGroups,i=t.stopAtGroup,s=t.source,a=void 0===s?"api":s;this.animationFrameService.flushAllFrames();for(var l=[],u=-1,c=null!=o?o:this.gridOptionsService.get("skipHeaderOnAutoSize"),d=null!=r?r:c;0!==u;)u=0,this.actionOnGridColumns(n,(function(t){if(l.indexOf(t)>=0)return!1;var n=e.autoWidthCalculator.getPreferredWidthForColumn(t,c);if(n>0){var o=e.normaliseColumnWidth(t,n);t.setActualWidth(o,a),l.push(t),u++}return!0}),a);d||this.autoSizeColumnGroupsByColumns(n,a,i),this.dispatchColumnResizedEvent(l,!0,"autosizeColumns")}},e.prototype.dispatchColumnResizedEvent=function(t,e,n,o){if(void 0===o&&(o=null),t&&t.length){var r={type:$t.EVENT_COLUMN_RESIZED,columns:t,column:1===t.length?t[0]:null,flexColumns:o,finished:e,source:n};this.eventService.dispatchEvent(r)}},e.prototype.dispatchColumnChangedEvent=function(t,e,n){var o={type:t,columns:e,column:e&&1==e.length?e[0]:null,source:n};this.eventService.dispatchEvent(o)},e.prototype.dispatchColumnMovedEvent=function(t){var e=t.movedColumns,n=t.source,o=t.toIndex,r=t.finished,i={type:$t.EVENT_COLUMN_MOVED,columns:e,column:e&&1===e.length?e[0]:null,toIndex:o,finished:r,source:n};this.eventService.dispatchEvent(i)},e.prototype.dispatchColumnPinnedEvent=function(t,e){if(t.length){var n=1===t.length?t[0]:null,o=this.getCommonValue(t,(function(t){return t.getPinned()})),r={type:$t.EVENT_COLUMN_PINNED,pinned:null!=o?o:null,columns:t,column:n,source:e};this.eventService.dispatchEvent(r)}},e.prototype.dispatchColumnVisibleEvent=function(t,e){if(t.length){var n=1===t.length?t[0]:null,o=this.getCommonValue(t,(function(t){return t.isVisible()})),r={type:$t.EVENT_COLUMN_VISIBLE,visible:o,columns:t,column:n,source:e};this.eventService.dispatchEvent(r)}},e.prototype.autoSizeColumn=function(t,e,n){void 0===n&&(n="api"),t&&this.autoSizeColumns({columns:[t],skipHeader:e,skipHeaderGroups:!0,source:n})},e.prototype.autoSizeColumnGroupsByColumns=function(t,e,n){var o,r,i,s,a,l=new Set;this.getGridColumns(t).forEach((function(t){for(var e=t.getParent();e&&e!=n;)e.isPadding()||l.add(e),e=e.getParent()}));try{for(var u=ye(l),c=u.next();!c.done;c=u.next()){var d=c.value;try{for(var p=(i=void 0,ye(this.ctrlsService.getHeaderRowContainerCtrls())),h=p.next();!h.done;h=p.next()){if(a=h.value.getHeaderCtrlForColumn(d))break}}catch(f){i={error:f}}finally{try{h&&!h.done&&(s=p.return)&&s.call(p)}finally{if(i)throw i.error}}a&&a.resizeLeafColumnsToFit(e)}}catch(g){o={error:g}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(o)throw o.error}}return[]},e.prototype.autoSizeAllColumns=function(t,e){var n=this;if(void 0===e&&(e="api"),this.shouldQueueResizeOperations)this.resizeOperationQueue.push((function(){return n.autoSizeAllColumns(t,e)}));else{var o=this.getAllDisplayedColumns();this.autoSizeColumns({columns:o,skipHeader:t,source:e})}},e.prototype.getColumnsFromTree=function(t){var e=[],n=function(t){for(var o=0;o<t.length;o++){var r=t[o];r instanceof ft?e.push(r):r instanceof vt&&n(r.getChildren())}};return n(t),e},e.prototype.getAllDisplayedTrees=function(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null},e.prototype.getPrimaryColumnTree=function(){return this.primaryColumnTree},e.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},e.prototype.getDisplayedTreeLeft=function(){return this.displayedTreeLeft},e.prototype.getDisplayedTreeRight=function(){return this.displayedTreeRight},e.prototype.getDisplayedTreeCentre=function(){return this.displayedTreeCentre},e.prototype.isColumnDisplayed=function(t){return this.getAllDisplayedColumns().indexOf(t)>=0},e.prototype.getAllDisplayedColumns=function(){return this.displayedColumns},e.prototype.getViewportColumns=function(){return this.viewportColumns},e.prototype.getDisplayedLeftColumnsForRow=function(t){return this.colSpanActive?this.getDisplayedColumnsForRow(t,this.displayedColumnsLeft):this.displayedColumnsLeft},e.prototype.getDisplayedRightColumnsForRow=function(t){return this.colSpanActive?this.getDisplayedColumnsForRow(t,this.displayedColumnsRight):this.displayedColumnsRight},e.prototype.isColSpanActive=function(){return this.colSpanActive},e.prototype.getDisplayedColumnsForRow=function(t,e,n,o){for(var r,i=[],s=null,a=function(a){var l,u=e[a],c=e.length-a,d=Math.min(u.getColSpan(t),c),p=[u];if(d>1){for(var h=d-1,f=1;f<=h;f++)p.push(e[a+f]);a+=h}if(n?(l=!1,p.forEach((function(t){n(t)&&(l=!0)}))):l=!0,l){if(0===i.length&&s)!!o&&o(u)&&i.push(s);i.push(u)}s=u,r=a},l=0;l<e.length;l++)a(l),l=r;return i},e.prototype.getViewportCenterColumnsForRow=function(t){var e=this;if(!this.colSpanActive)return this.viewportColumnsCenter;var n=this.suppressColumnVirtualisation?null:this.isColumnInRowViewport.bind(this);return this.getDisplayedColumnsForRow(t,this.displayedColumnsCenter,n,(function(t){var n=t.getLeft();return r(n)&&n>e.viewportLeft}))},e.prototype.isColumnAtEdge=function(t,e){var n=this.getAllDisplayedColumns();if(!n.length)return!1;var o,r="first"===e;if(t instanceof Xt){var i=t.getDisplayedLeafColumns();if(!i.length)return!1;o=r?i[0]:Ct(i)}else o=t;return(r?n[0]:Ct(n))===o},e.prototype.getAriaColumnIndex=function(t){var e;return e=t instanceof Xt?t.getLeafColumns()[0]:t,this.getAllGridColumns().indexOf(e)+1},e.prototype.isColumnInHeaderViewport=function(t){return!!t.isAutoHeaderHeight()||this.isColumnInRowViewport(t)},e.prototype.isColumnInRowViewport=function(t){if(t.isAutoHeight())return!0;var e=t.getLeft()||0,n=e+t.getActualWidth(),o=this.viewportLeft-200,r=this.viewportRight+200;return!(e<o&&n<o)&&!(e>r&&n>r)},e.prototype.getDisplayedColumnsLeftWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsLeft)},e.prototype.getDisplayedColumnsRightWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsRight)},e.prototype.updatePrimaryColumnList=function(t,e,n,o,r,i){var a=this;if(void 0===i&&(i="api"),t&&!s(t)){var l=!1;if(t.forEach((function(t){var r=a.getPrimaryColumn(t);if(r){if(n){if(e.indexOf(r)>=0)return;e.push(r)}else{if(e.indexOf(r)<0)return;St(e,r)}o(r),l=!0}})),l){this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(i);var u={type:r,columns:e,column:1===e.length?e[0]:null,source:i};this.eventService.dispatchEvent(u)}}},e.prototype.setRowGroupColumns=function(t,e){void 0===e&&(e="api"),this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(t,this.rowGroupColumns,$t.EVENT_COLUMN_ROW_GROUP_CHANGED,!0,this.setRowGroupActive.bind(this),e)},e.prototype.setRowGroupActive=function(t,e,n){t!==e.isRowGroupActive()&&(e.setRowGroupActive(t,n),t&&!this.gridOptionsService.get("suppressRowGroupHidesColumns")&&this.setColumnVisible(e,!1,n),t||this.gridOptionsService.get("suppressMakeColumnVisibleAfterUnGroup")||this.setColumnVisible(e,!0,n))},e.prototype.addRowGroupColumn=function(t,e){void 0===e&&(e="api"),t&&this.addRowGroupColumns([t],e)},e.prototype.addRowGroupColumns=function(t,e){void 0===e&&(e="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(t,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),$t.EVENT_COLUMN_ROW_GROUP_CHANGED,e)},e.prototype.removeRowGroupColumns=function(t,e){void 0===e&&(e="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(t,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),$t.EVENT_COLUMN_ROW_GROUP_CHANGED,e)},e.prototype.removeRowGroupColumn=function(t,e){void 0===e&&(e="api"),t&&this.removeRowGroupColumns([t],e)},e.prototype.addPivotColumns=function(t,e){void 0===e&&(e="api"),this.updatePrimaryColumnList(t,this.pivotColumns,!0,(function(t){return t.setPivotActive(!0,e)}),$t.EVENT_COLUMN_PIVOT_CHANGED,e)},e.prototype.setPivotColumns=function(t,e){void 0===e&&(e="api"),this.setPrimaryColumnList(t,this.pivotColumns,$t.EVENT_COLUMN_PIVOT_CHANGED,!0,(function(t,n){n.setPivotActive(t,e)}),e)},e.prototype.addPivotColumn=function(t,e){void 0===e&&(e="api"),this.addPivotColumns([t],e)},e.prototype.removePivotColumns=function(t,e){void 0===e&&(e="api"),this.updatePrimaryColumnList(t,this.pivotColumns,!1,(function(t){return t.setPivotActive(!1,e)}),$t.EVENT_COLUMN_PIVOT_CHANGED,e)},e.prototype.removePivotColumn=function(t,e){void 0===e&&(e="api"),this.removePivotColumns([t],e)},e.prototype.setPrimaryColumnList=function(t,e,n,o,i,s){var a=this;if(this.gridColumns){var l=new Map;e.forEach((function(t,e){return l.set(t,e)})),e.length=0,r(t)&&t.forEach((function(t){var n=a.getPrimaryColumn(t);n&&e.push(n)})),e.forEach((function(t,e){var n=l.get(t);void 0!==n?o&&n!==e||l.delete(t):l.set(t,0)})),(this.primaryColumns||[]).forEach((function(t){var n=e.indexOf(t)>=0;i(n,t)})),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(s),this.dispatchColumnChangedEvent(n,me([],ve(l.keys()),!1),s)}},e.prototype.setValueColumns=function(t,e){void 0===e&&(e="api"),this.setPrimaryColumnList(t,this.valueColumns,$t.EVENT_COLUMN_VALUE_CHANGED,!1,this.setValueActive.bind(this),e)},e.prototype.setValueActive=function(t,e,n){if(t!==e.isValueActive()&&(e.setValueActive(t,n),t&&!e.getAggFunc())){var o=this.aggFuncService.getDefaultAggFunc(e);e.setAggFunc(o)}},e.prototype.addValueColumns=function(t,e){void 0===e&&(e="api"),this.updatePrimaryColumnList(t,this.valueColumns,!0,this.setValueActive.bind(this,!0),$t.EVENT_COLUMN_VALUE_CHANGED,e)},e.prototype.addValueColumn=function(t,e){void 0===e&&(e="api"),t&&this.addValueColumns([t],e)},e.prototype.removeValueColumn=function(t,e){void 0===e&&(e="api"),this.removeValueColumns([t],e)},e.prototype.removeValueColumns=function(t,e){void 0===e&&(e="api"),this.updatePrimaryColumnList(t,this.valueColumns,!1,this.setValueActive.bind(this,!1),$t.EVENT_COLUMN_VALUE_CHANGED,e)},e.prototype.normaliseColumnWidth=function(t,e){var n=t.getMinWidth();r(n)&&e<n&&(e=n);var o=t.getMaxWidth();return r(o)&&t.isGreaterThanMax(e)&&(e=o),e},e.prototype.getPrimaryOrGridColumn=function(t){return this.getPrimaryColumn(t)||this.getGridColumn(t)},e.prototype.setColumnWidths=function(t,e,n,o){var r=this;void 0===o&&(o="api");var i=[];t.forEach((function(t){var n=r.getPrimaryOrGridColumn(t.key);if(n&&(i.push({width:t.newWidth,ratios:[1],columns:[n]}),"shift"===r.gridOptionsService.get("colResizeDefault")&&(e=!e),e)){var o=r.getDisplayedColAfter(n);if(!o)return;var s=n.getActualWidth()-t.newWidth,a=o.getActualWidth()+s;i.push({width:a,ratios:[1],columns:[o]})}})),0!==i.length&&this.resizeColumnSets({resizeSets:i,finished:n,source:o})},e.prototype.checkMinAndMaxWidthsForSet=function(t){var e=t.columns,n=t.width,o=0,i=0,s=!0;return e.forEach((function(t){var e=t.getMinWidth();o+=e||0;var n=t.getMaxWidth();r(n)&&n>0?i+=n:s=!1})),n>=o&&(!s||n<=i)},e.prototype.resizeColumnSets=function(t){var e=this,n=t.resizeSets,o=t.finished,i=t.source;if(!n||n.every((function(t){return e.checkMinAndMaxWidthsForSet(t)}))){var s=[],a=[];n.forEach((function(t){var e=t.width,n=t.columns,o=t.ratios,l={},u={};n.forEach((function(t){return a.push(t)}));for(var c=!0,d=0,p=function(){if(++d>1e3)return console.error("AG Grid: infinite loop in resizeColumnSets"),"break";c=!1;var t=[],i=0,s=e;n.forEach((function(e,n){if(u[e.getId()])s-=l[e.getId()];else{t.push(e);var r=o[n];i+=r}}));var a=1/i;t.forEach((function(n,i){var d;i===t.length-1?d=s:(d=Math.round(o[i]*e*a),s-=d);var p=n.getMinWidth(),h=n.getMaxWidth();r(p)&&d<p?(d=p,u[n.getId()]=!0,c=!0):r(h)&&h>0&&d>h&&(d=h,u[n.getId()]=!0,c=!0),l[n.getId()]=d}))};c;){if("break"===p())break}n.forEach((function(t){var e=l[t.getId()];t.getActualWidth()!==e&&(t.setActualWidth(e,i),s.push(t))}))}));var l=s.length>0,u=[];l&&(u=this.refreshFlexedColumns({resizingCols:a,skipSetLeft:!0}),this.setLeftValues(i),this.updateBodyWidths(),this.checkViewportColumns());var c=a.concat(u);(l||o)&&this.dispatchColumnResizedEvent(c,o,i,u)}else if(o){var d=n&&n.length>0?n[0].columns:null;this.dispatchColumnResizedEvent(d,o,i)}},e.prototype.setColumnAggFunc=function(t,e,n){if(void 0===n&&(n="api"),t){var o=this.getPrimaryColumn(t);o&&(o.setAggFunc(e),this.dispatchColumnChangedEvent($t.EVENT_COLUMN_VALUE_CHANGED,[o],n))}},e.prototype.moveRowGroupColumn=function(t,e,n){if(void 0===n&&(n="api"),!this.isRowGroupEmpty()){var o=this.rowGroupColumns[t],r=this.rowGroupColumns.slice(t,e);this.rowGroupColumns.splice(t,1),this.rowGroupColumns.splice(e,0,o);var i={type:$t.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:r,column:1===r.length?r[0]:null,source:n};this.eventService.dispatchEvent(i)}},e.prototype.moveColumns=function(t,e,n,o){if(void 0===n&&(n="api"),void 0===o&&(o=!0),this.gridColumns){if(this.columnAnimationService.start(),e>this.gridColumns.length-t.length)return console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+e),void console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");var r=this.getGridColumns(t);!this.doesMovePassRules(r,e)||(Tt(this.gridColumns,r,e),this.updateDisplayedColumns(n),this.dispatchColumnMovedEvent({movedColumns:r,source:n,toIndex:e,finished:o}),this.columnAnimationService.finish())}},e.prototype.doesMovePassRules=function(t,e){var n=this.getProposedColumnOrder(t,e);return this.doesOrderPassRules(n)},e.prototype.doesOrderPassRules=function(t){return!!this.doesMovePassMarryChildren(t)&&!!this.doesMovePassLockedPositions(t)},e.prototype.getProposedColumnOrder=function(t,e){var n=this.gridColumns.slice();return Tt(n,t,e),n},e.prototype.sortColumnsLikeGridColumns=function(t){var e=this;!t||t.length<=1||(t.filter((function(t){return e.gridColumns.indexOf(t)<0})).length>0||t.sort((function(t,n){return e.gridColumns.indexOf(t)-e.gridColumns.indexOf(n)})))},e.prototype.doesMovePassLockedPositions=function(t){var e=0,n=!0;return t.forEach((function(t){var o,r=(o=t.getColDef().lockPosition)?!0===o||"left"===o?0:2:1;r<e&&(n=!1),e=r})),n},e.prototype.doesMovePassMarryChildren=function(t){var e=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,(function(n){if(n instanceof vt){var o=n,r=o.getColGroupDef();if(r&&r.marryChildren){var i=[];o.getLeafColumns().forEach((function(e){var n=t.indexOf(e);i.push(n)})),Math.max.apply(Math,i)-Math.min.apply(Math,i)>o.getLeafColumns().length-1&&(e=!1)}}})),e},e.prototype.moveColumn=function(t,e,n){void 0===n&&(n="api"),this.moveColumns([t],e,n)},e.prototype.moveColumnByIndex=function(t,e,n){if(void 0===n&&(n="api"),this.gridColumns){var o=this.gridColumns[t];this.moveColumn(o,e,n)}},e.prototype.getColumnDefs=function(){var t=this;if(this.primaryColumns){var e=this.primaryColumns.slice();return this.gridColsArePrimary?e.sort((function(e,n){return t.gridColumns.indexOf(e)-t.gridColumns.indexOf(n)})):this.lastPrimaryOrder&&e.sort((function(e,n){return t.lastPrimaryOrder.indexOf(e)-t.lastPrimaryOrder.indexOf(n)})),this.columnDefFactory.buildColumnDefs(e,this.rowGroupColumns,this.pivotColumns)}},e.prototype.getBodyContainerWidth=function(){return this.bodyWidth},e.prototype.getContainerWidth=function(t){switch(t){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}},e.prototype.updateBodyWidths=function(){var t=this.getWidthOfColsInList(this.displayedColumnsCenter),e=this.getWidthOfColsInList(this.displayedColumnsLeft),n=this.getWidthOfColsInList(this.displayedColumnsRight);if(this.bodyWidthDirty=this.bodyWidth!==t,this.bodyWidth!==t||this.leftWidth!==e||this.rightWidth!==n){this.bodyWidth=t,this.leftWidth=e,this.rightWidth=n;var o={type:$t.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED};this.eventService.dispatchEvent(o)}},e.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},e.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},e.prototype.isPivotActive=function(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode},e.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},e.prototype.getDisplayedCenterColumns=function(){return this.displayedColumnsCenter},e.prototype.getDisplayedLeftColumns=function(){return this.displayedColumnsLeft},e.prototype.getDisplayedRightColumns=function(){return this.displayedColumnsRight},e.prototype.getDisplayedColumns=function(t){switch(t){case"left":return this.getDisplayedLeftColumns();case"right":return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},e.prototype.getAllPrimaryColumns=function(){return this.primaryColumns?this.primaryColumns.slice():null},e.prototype.getSecondaryColumns=function(){return this.secondaryColumns?this.secondaryColumns.slice():null},e.prototype.getAllColumnsForQuickFilter=function(){return this.columnsForQuickFilter},e.prototype.getAllGridColumns=function(){var t;return null!==(t=this.gridColumns)&&void 0!==t?t:[]},e.prototype.isEmpty=function(){return s(this.gridColumns)},e.prototype.isRowGroupEmpty=function(){return s(this.rowGroupColumns)},e.prototype.setColumnVisible=function(t,e,n){void 0===n&&(n="api"),this.setColumnsVisible([t],e,n)},e.prototype.setColumnsVisible=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n="api"),this.applyColumnState({state:t.map((function(t){return{colId:"string"===typeof t?t:t.getColId(),hide:!e}}))},n)},e.prototype.setColumnPinned=function(t,e,n){void 0===n&&(n="api"),t&&this.setColumnsPinned([t],e,n)},e.prototype.setColumnsPinned=function(t,e,n){var o;(void 0===n&&(n="api"),this.gridColumns)&&(this.gridOptionsService.isDomLayout("print")?console.warn("AG Grid: Changing the column pinning status is not allowed with domLayout='print'"):(this.columnAnimationService.start(),o=!0===e||"left"===e?"left":"right"===e?"right":null,this.actionOnGridColumns(t,(function(t){return t.getPinned()!==o&&(t.setPinned(o),!0)}),n,(function(){return{type:$t.EVENT_COLUMN_PINNED,pinned:o,column:null,columns:null,source:n}})),this.columnAnimationService.finish()))},e.prototype.actionOnGridColumns=function(t,e,n,o){var i=this;if(!s(t)){var a=[];if(t.forEach((function(t){var n=i.getGridColumn(t);n&&(!1!==e(n)&&a.push(n))})),a.length&&(this.updateDisplayedColumns(n),r(o)&&o)){var l=o();l.columns=a,l.column=1===a.length?a[0]:null,this.eventService.dispatchEvent(l)}}},e.prototype.getDisplayedColBefore=function(t){var e=this.getAllDisplayedColumns(),n=e.indexOf(t);return n>0?e[n-1]:null},e.prototype.getDisplayedColAfter=function(t){var e=this.getAllDisplayedColumns(),n=e.indexOf(t);return n<e.length-1?e[n+1]:null},e.prototype.getDisplayedGroupAfter=function(t){return this.getDisplayedGroupAtDirection(t,"After")},e.prototype.getDisplayedGroupBefore=function(t){return this.getDisplayedGroupAtDirection(t,"Before")},e.prototype.getDisplayedGroupAtDirection=function(t,e){for(var n=t.getProvidedColumnGroup().getLevel()+t.getPaddingLevel(),o=t.getDisplayedLeafColumns(),r="After"===e?Ct(o):o[0],i="getDisplayedCol".concat(e);;){var s=this[i](r);if(!s)return null;var a=this.getColumnGroupAtLevel(s,n);if(a!==t)return a}},e.prototype.getColumnGroupAtLevel=function(t,e){for(var n=t.getParent();;){if(n.getProvidedColumnGroup().getLevel()+n.getPaddingLevel()<=e)break;n=n.getParent()}return n},e.prototype.isPinningLeft=function(){return this.displayedColumnsLeft.length>0},e.prototype.isPinningRight=function(){return this.displayedColumnsRight.length>0},e.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var t;return(t=[]).concat.apply(t,[this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[]])},e.prototype.createStateItemFromColumn=function(t){var e=t.isRowGroupActive()?this.rowGroupColumns.indexOf(t):null,n=t.isPivotActive()?this.pivotColumns.indexOf(t):null,o=t.isValueActive()?t.getAggFunc():null,r=null!=t.getSort()?t.getSort():null,i=null!=t.getSortIndex()?t.getSortIndex():null,s=null!=t.getFlex()&&t.getFlex()>0?t.getFlex():null;return{colId:t.getColId(),width:t.getActualWidth(),hide:!t.isVisible(),pinned:t.getPinned(),sort:r,sortIndex:i,aggFunc:o,rowGroup:t.isRowGroupActive(),rowGroupIndex:e,pivot:t.isPivotActive(),pivotIndex:n,flex:s}},e.prototype.getColumnState=function(){if(i(this.primaryColumns)||!this.isAlive())return[];var t=this.getPrimaryAndSecondaryAndAutoColumns().map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(t),t},e.prototype.orderColumnStateList=function(t){var e=ce(this.gridColumns.map((function(t,e){return[t.getColId(),e]})));t.sort((function(t,n){return(e.has(t.colId)?e.get(t.colId):-1)-(e.has(n.colId)?e.get(n.colId):-1)}))},e.prototype.resetColumnState=function(t){var e=this;if(void 0===t&&(t="api"),!s(this.primaryColumns)){var n=this.getColumnsFromTree(this.primaryColumnTree),o=[],r=1e3,a=1e3,l=[];this.groupAutoColumns&&(l=l.concat(this.groupAutoColumns)),n&&(l=l.concat(n)),l.forEach((function(t){var n=e.getColumnStateFromColDef(t);i(n.rowGroupIndex)&&n.rowGroup&&(n.rowGroupIndex=r++),i(n.pivotIndex)&&n.pivot&&(n.pivotIndex=a++),o.push(n)})),this.applyColumnState({state:o,applyOrder:!0},t)}},e.prototype.getColumnStateFromColDef=function(t){var e=function(t,e){return null!=t?t:null!=e?e:null},n=t.getColDef(),o=e(n.sort,n.initialSort),r=e(n.sortIndex,n.initialSortIndex),i=e(n.hide,n.initialHide),s=e(n.pinned,n.initialPinned),a=e(n.width,n.initialWidth),l=e(n.flex,n.initialFlex),u=e(n.rowGroupIndex,n.initialRowGroupIndex),c=e(n.rowGroup,n.initialRowGroup);null!=u||null!=c&&0!=c||(u=null,c=null);var d=e(n.pivotIndex,n.initialPivotIndex),p=e(n.pivot,n.initialPivot);null!=d||null!=p&&0!=p||(d=null,p=null);var h=e(n.aggFunc,n.initialAggFunc);return{colId:t.getColId(),sort:o,sortIndex:r,hide:i,pinned:s,width:a,flex:l,rowGroup:c,rowGroupIndex:u,pivot:p,pivotIndex:d,aggFunc:h}},e.prototype.applyColumnState=function(t,e){var n=this;if(s(this.primaryColumns))return!1;if(t&&t.state&&!t.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;var o=function(o,r,i){var s=n.compareColumnStatesAndDispatchEvents(e);n.autoGroupsNeedBuilding=!0;var a=r.slice(),l={},u={},c=[],d=[],p=0,h=n.rowGroupColumns.slice(),f=n.pivotColumns.slice();o.forEach((function(o){var r=o.colId||"";if(r.startsWith(ne))return c.push(o),void d.push(o);var s=i(r);s?(n.syncColumnWithStateItem(s,o,t.defaultState,l,u,!1,e),St(a,s)):(d.push(o),p+=1)}));var g=function(o){return n.syncColumnWithStateItem(o,null,t.defaultState,l,u,!1,e)};a.forEach(g);var v=function(t,e,n,o){var r=t[n.getId()],i=t[o.getId()],s=null!=r,a=null!=i;if(s&&a)return r-i;if(s)return-1;if(a)return 1;var l=e.indexOf(n),u=e.indexOf(o),c=l>=0;return c&&u>=0?l-u:c?-1:1};n.rowGroupColumns.sort(v.bind(n,l,h)),n.pivotColumns.sort(v.bind(n,u,f)),n.updateGridColumns();var m=n.groupAutoColumns?n.groupAutoColumns.slice():[];return c.forEach((function(o){var r=n.getAutoColumn(o.colId);St(m,r),n.syncColumnWithStateItem(r,o,t.defaultState,null,null,!0,e)})),m.forEach(g),n.applyOrderAfterApplyState(t),n.updateDisplayedColumns(e),n.dispatchEverythingChanged(e),s(),{unmatchedAndAutoStates:d,unmatchedCount:p}};this.columnAnimationService.start();var i=o(t.state||[],this.primaryColumns||[],(function(t){return n.getPrimaryColumn(t)})),a=i.unmatchedAndAutoStates,l=i.unmatchedCount;return(a.length>0||r(t.defaultState))&&(l=o(a,this.secondaryColumns||[],(function(t){return n.getSecondaryColumn(t)})).unmatchedCount),this.columnAnimationService.finish(),0===l},e.prototype.applyOrderAfterApplyState=function(t){var e=this;if(t.applyOrder&&t.state){var n=[],o={};t.state.forEach((function(t){if(t.colId&&!o[t.colId]){var r=e.gridColumnsMap[t.colId];r&&(n.push(r),o[t.colId]=!0)}}));var r=0;this.gridColumns.forEach((function(t){var e=t.getColId();null!=o[e]||(e.startsWith(ne)?xt(n,t,r++):n.push(t))})),n=this.placeLockedColumns(n),this.doesMovePassMarryChildren(n)?this.gridColumns=n:console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.")}},e.prototype.compareColumnStatesAndDispatchEvents=function(t){var e=this,n={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},o=this.getColumnState(),r={};return o.forEach((function(t){r[t.colId]=t})),function(){var i=e.getPrimaryAndSecondaryAndAutoColumns(),s=function(n,o,r,i){if(!wt(o.map(i),r.map(i))){var s=new Set(o);r.forEach((function(t){s.delete(t)||s.add(t)}));var a=me([],ve(s),!1),l={type:n,columns:a,column:1===a.length?a[0]:null,source:t};e.eventService.dispatchEvent(l)}},a=function(t){var e=[];return i.forEach((function(n){var o=r[n.getColId()];o&&t(o,n)&&e.push(n)})),e},l=function(t){return t.getColId()};s($t.EVENT_COLUMN_ROW_GROUP_CHANGED,n.rowGroupColumns,e.rowGroupColumns,l),s($t.EVENT_COLUMN_PIVOT_CHANGED,n.pivotColumns,e.pivotColumns,l);var u=a((function(t,e){var n=null!=t.aggFunc,o=n!=e.isValueActive(),r=n&&t.aggFunc!=e.getAggFunc();return o||r}));u.length>0&&e.dispatchColumnChangedEvent($t.EVENT_COLUMN_VALUE_CHANGED,u,t);e.dispatchColumnResizedEvent(a((function(t,e){return t.width!=e.getActualWidth()})),!0,t);e.dispatchColumnPinnedEvent(a((function(t,e){return t.pinned!=e.getPinned()})),t);e.dispatchColumnVisibleEvent(a((function(t,e){return t.hide==e.isVisible()})),t);a((function(t,e){return t.sort!=e.getSort()||t.sortIndex!=e.getSortIndex()})).length>0&&e.sortController.dispatchSortChangedEvents(t),e.normaliseColumnMovedEventForColumnState(o,t)}},e.prototype.getCommonValue=function(t,e){if(t&&0!=t.length){for(var n=e(t[0]),o=1;o<t.length;o++)if(n!==e(t[o]))return;return n}},e.prototype.normaliseColumnMovedEventForColumnState=function(t,e){var n=this,o=this.getColumnState(),r={};o.forEach((function(t){return r[t.colId]=t}));var i={};t.forEach((function(t){r[t.colId]&&(i[t.colId]=!0)}));var s=t.filter((function(t){return i[t.colId]})),a=o.filter((function(t){return i[t.colId]})),l=[];a.forEach((function(t,e){var o=s&&s[e];if(o&&o.colId!==t.colId){var r=n.getGridColumn(o.colId);r&&l.push(r)}})),l.length&&this.dispatchColumnMovedEvent({movedColumns:l,source:e,finished:!0})},e.prototype.syncColumnWithStateItem=function(t,e,n,o,i,s,a){if(t){var l=function(t,o){var i={value1:void 0,value2:void 0},s=!1;return e&&(void 0!==e[t]&&(i.value1=e[t],s=!0),r(o)&&void 0!==e[o]&&(i.value2=e[o],s=!0)),!s&&n&&(void 0!==n[t]&&(i.value1=n[t]),r(o)&&void 0!==n[o]&&(i.value2=n[o])),i},u=l("hide").value1;void 0!==u&&t.setVisible(!u,a);var c=l("pinned").value1;void 0!==c&&t.setPinned(c);var d=this.columnUtils.calculateColMinWidth(t.getColDef()),p=l("flex").value1;if(void 0!==p&&t.setFlex(p),t.getFlex()<=0){var h=l("width").value1;null!=h&&null!=d&&h>=d&&t.setActualWidth(h,a)}var f=l("sort").value1;void 0!==f&&("desc"===f||"asc"===f?t.setSort(f,a):t.setSort(void 0,a));var g=l("sortIndex").value1;if(void 0!==g&&t.setSortIndex(g),!s&&t.isPrimary()){var v=l("aggFunc").value1;void 0!==v&&("string"===typeof v?(t.setAggFunc(v),t.isValueActive()||(t.setValueActive(!0,a),this.valueColumns.push(t))):(r(v)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),t.isValueActive()&&(t.setValueActive(!1,a),St(this.valueColumns,t))));var m=l("rowGroup","rowGroupIndex"),y=m.value1,C=m.value2;void 0===y&&void 0===C||("number"===typeof C||y?(t.isRowGroupActive()||(t.setRowGroupActive(!0,a),this.rowGroupColumns.push(t)),o&&"number"===typeof C&&(o[t.getId()]=C)):t.isRowGroupActive()&&(t.setRowGroupActive(!1,a),St(this.rowGroupColumns,t)));var w=l("pivot","pivotIndex"),b=w.value1,_=w.value2;void 0===b&&void 0===_||("number"===typeof _||b?(t.isPivotActive()||(t.setPivotActive(!0,a),this.pivotColumns.push(t)),i&&"number"===typeof _&&(i[t.getId()]=_)):t.isPivotActive()&&(t.setPivotActive(!1,a),St(this.pivotColumns,t)))}}},e.prototype.getGridColumns=function(t){return this.getColumns(t,this.getGridColumn.bind(this))},e.prototype.getColumns=function(t,e){var n=[];return t&&t.forEach((function(t){var o=e(t);o&&n.push(o)})),n},e.prototype.getColumnWithValidation=function(t){if(null==t)return null;var e=this.getGridColumn(t);return e||console.warn("AG Grid: could not find column "+t),e},e.prototype.getPrimaryColumn=function(t){return this.primaryColumns?this.getColumn(t,this.primaryColumns,this.primaryColumnsMap):null},e.prototype.getGridColumn=function(t){return this.getColumn(t,this.gridColumns,this.gridColumnsMap)},e.prototype.lookupGridColumn=function(t){return this.gridColumnsMap[t]},e.prototype.getSecondaryColumn=function(t){return this.secondaryColumns?this.getColumn(t,this.secondaryColumns,this.secondaryColumnsMap):null},e.prototype.getColumn=function(t,e,n){if(!t||!n)return null;if("string"==typeof t&&n[t])return n[t];for(var o=0;o<e.length;o++)if(this.columnsMatch(e[o],t))return e[o];return this.getAutoColumn(t)},e.prototype.getSourceColumnsForGroupColumn=function(t){var e=t.getColDef().showRowGroup;if(!e)return null;if(!0===e)return this.rowGroupColumns.slice(0);var n=this.getPrimaryColumn(e);return n?[n]:null},e.prototype.getAutoColumn=function(t){var e=this;return this.groupAutoColumns&&r(this.groupAutoColumns)&&!i(this.groupAutoColumns)&&this.groupAutoColumns.find((function(n){return e.columnsMatch(n,t)}))||null},e.prototype.columnsMatch=function(t,e){var n=t===e,o=t.getColDef()===e,r=t.getColId()==e;return n||o||r},e.prototype.getDisplayNameForColumn=function(t,e,n){if(void 0===n&&(n=!1),!t)return null;var o=this.getHeaderName(t.getColDef(),t,null,null,e);return n?this.wrapHeaderNameWithAggFunc(t,o):o},e.prototype.getDisplayNameForProvidedColumnGroup=function(t,e,n){var o=e?e.getColGroupDef():null;return o?this.getHeaderName(o,null,t,e,n):null},e.prototype.getDisplayNameForColumnGroup=function(t,e){return this.getDisplayNameForProvidedColumnGroup(t,t.getProvidedColumnGroup(),e)},e.prototype.getHeaderName=function(t,e,n,o,r){var i=t.headerValueGetter;if(i){var s={colDef:t,column:e,columnGroup:n,providedColumnGroup:o,location:r,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};return"function"===typeof i?i(s):"string"===typeof i?this.expressionService.evaluate(i,s):(console.warn("AG Grid: headerValueGetter must be a function or a string"),"")}return null!=t.headerName?t.headerName:t.field?ae(t.field):""},e.prototype.wrapHeaderNameWithAggFunc=function(t,e){if(this.gridOptionsService.get("suppressAggFuncInHeader"))return e;var n,o=t.getColDef().pivotValueColumn,i=null;if(r(o)){var s=this.gridOptionsService.get("removePivotHeaderRowWhenSingleValueColumn")&&1===this.valueColumns.length,a=void 0!==t.getColDef().pivotTotalColumnIds;if(s&&!a)return e;i=o?o.getAggFunc():null,n=!0}else{var l=t.isValueActive(),u=this.pivotMode||!this.isRowGroupEmpty();l&&u?(i=t.getAggFunc(),n=!0):n=!1}if(n){var c="string"===typeof i?i:"func",d=this.localeService.getLocaleTextFunc()(c,c);return"".concat(d,"(").concat(e,")")}return e},e.prototype.getColumnGroup=function(t,e){if(!t)return null;if(t instanceof Xt)return t;var n=this.getAllDisplayedTrees(),o="number"===typeof e,r=null;return this.columnUtils.depthFirstAllColumnTreeSearch(n,(function(n){if(n instanceof Xt){var i=n;(o?t===i.getGroupId()&&e===i.getPartId():t===i.getGroupId())&&(r=i)}})),r},e.prototype.isReady=function(){return this.ready},e.prototype.extractValueColumns=function(t,e){this.valueColumns=this.extractColumns(e,this.valueColumns,(function(e,n){return e.setValueActive(n,t)}),(function(){}),(function(){}),(function(t){var e=t.aggFunc;return null===e||""===e?null:void 0!==e?!!e:void 0}),(function(t){return null!=t.initialAggFunc&&""!=t.initialAggFunc})),this.valueColumns.forEach((function(t){var e=t.getColDef();null!=e.aggFunc&&""!=e.aggFunc?t.setAggFunc(e.aggFunc):t.getAggFunc()||t.setAggFunc(e.initialAggFunc)}))},e.prototype.extractRowGroupColumns=function(t,e){this.rowGroupColumns=this.extractColumns(e,this.rowGroupColumns,(function(e,n){return e.setRowGroupActive(n,t)}),(function(t){return t.rowGroupIndex}),(function(t){return t.initialRowGroupIndex}),(function(t){return t.rowGroup}),(function(t){return t.initialRowGroup}))},e.prototype.extractColumns=function(t,e,n,o,r,i,s){void 0===t&&(t=[]),void 0===e&&(e=[]);var a=[],c=[];(this.primaryColumns||[]).forEach((function(n){var d=t.indexOf(n)<0,p=n.getColDef(),h=u(i(p)),f=u(s(p)),g=l(o(p)),v=l(r(p));(void 0!==h?h:void 0!==g?null!==g&&g>=0:d?void 0!==f?f:!!(void 0!==v)&&(null!=v&&v>=0):e.indexOf(n)>=0)&&((d?null!=g||null!=v:null!=g)?a.push(n):c.push(n))}));var d=function(t){var e=o(t.getColDef()),n=r(t.getColDef());return null!=e?e:n};a.sort((function(t,e){var n=d(t),o=d(e);return n===o?0:n<o?-1:1}));var p=[].concat(a);return e.forEach((function(t){c.indexOf(t)>=0&&p.push(t)})),c.forEach((function(t){p.indexOf(t)<0&&p.push(t)})),e.forEach((function(t){p.indexOf(t)<0&&n(t,!1)})),p.forEach((function(t){e.indexOf(t)<0&&n(t,!0)})),p},e.prototype.extractPivotColumns=function(t,e){this.pivotColumns=this.extractColumns(e,this.pivotColumns,(function(e,n){return e.setPivotActive(n,t)}),(function(t){return t.pivotIndex}),(function(t){return t.initialPivotIndex}),(function(t){return t.pivot}),(function(t){return t.initialPivot}))},e.prototype.resetColumnGroupState=function(t){if(void 0===t&&(t="api"),this.primaryColumnTree){var e=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,(function(t){if(t instanceof vt){var n=t.getColGroupDef(),o={groupId:t.getGroupId(),open:n?n.openByDefault:void 0};e.push(o)}})),this.setColumnGroupState(e,t)}},e.prototype.getColumnGroupState=function(){var t=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,(function(e){e instanceof vt&&t.push({groupId:e.getGroupId(),open:e.isExpanded()})})),t},e.prototype.setColumnGroupState=function(t,e){var n=this;if(void 0===e&&(e="api"),this.gridBalancedTree){this.columnAnimationService.start();var o=[];if(t.forEach((function(t){var e=t.groupId,r=t.open,i=n.getProvidedColumnGroup(e);i&&i.isExpanded()!==r&&(n.logger.log("columnGroupOpened("+i.getGroupId()+","+r+")"),i.setExpanded(r),o.push(i))})),this.updateGroupsAndDisplayedColumns(e),this.setFirstRightAndLastLeftPinned(e),o.length){var r={type:$t.EVENT_COLUMN_GROUP_OPENED,columnGroup:1===vt.length?o[0]:void 0,columnGroups:o};this.eventService.dispatchEvent(r)}this.columnAnimationService.finish()}},e.prototype.setColumnGroupOpened=function(t,e,n){var o;void 0===n&&(n="api"),o=t instanceof vt?t.getId():t||"",this.setColumnGroupState([{groupId:o,open:e}],n)},e.prototype.getProvidedColumnGroup=function(t){"string"!==typeof t&&console.error("AG Grid: group key must be a string");var e=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,(function(n){n instanceof vt&&n.getId()===t&&(e=n)})),e},e.prototype.calculateColumnsForDisplay=function(){var t=this;return this.pivotMode&&i(this.secondaryColumns)?this.gridColumns.filter((function(e){var n=t.groupAutoColumns&&Rt(t.groupAutoColumns,e),o=t.valueColumns&&Rt(t.valueColumns,e);return n||o})):this.gridColumns.filter((function(e){return t.groupAutoColumns&&Rt(t.groupAutoColumns,e)||e.isVisible()}))},e.prototype.checkColSpanActiveInCols=function(t){var e=!1;return t.forEach((function(t){r(t.getColDef().colSpan)&&(e=!0)})),e},e.prototype.calculateColumnsForGroupDisplay=function(){var t=this;this.groupDisplayColumns=[],this.groupDisplayColumnsMap={};this.gridColumns.forEach((function(e){var n=e.getColDef(),o=n.showRowGroup;n&&r(o)&&(t.groupDisplayColumns.push(e),"string"===typeof o?t.groupDisplayColumnsMap[o]=e:!0===o&&t.getRowGroupColumns().forEach((function(n){t.groupDisplayColumnsMap[n.getId()]=e})))}))},e.prototype.getGroupDisplayColumns=function(){return this.groupDisplayColumns},e.prototype.getGroupDisplayColumnForGroup=function(t){return this.groupDisplayColumnsMap[t]},e.prototype.updateDisplayedColumns=function(t){var e=this.calculateColumnsForDisplay();this.buildDisplayedTrees(e),this.updateGroupsAndDisplayedColumns(t),this.setFirstRightAndLastLeftPinned(t)},e.prototype.isSecondaryColumnsPresent=function(){return r(this.secondaryColumns)},e.prototype.setSecondaryColumns=function(t,e){var n=this;if(void 0===e&&(e="api"),this.gridColumns){var o=t&&t.length>0;if(o||!i(this.secondaryColumns)){if(o){this.processSecondaryColumnDefinitions(t);var r=this.columnFactory.createColumnTree(t,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0);this.destroyOldColumns(this.secondaryBalancedTree,r.columnTree),this.secondaryBalancedTree=r.columnTree,this.secondaryHeaderRowCount=r.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach((function(t){return n.secondaryColumnsMap[t.getId()]=t})),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(e)}}},e.prototype.processSecondaryColumnDefinitions=function(t){var e=this.gridOptionsService.get("processPivotResultColDef"),n=this.gridOptionsService.get("processPivotResultColGroupDef");if(e||n){var o=function(t){t.forEach((function(t){if(r(t.children)){var i=t;n&&n(i),o(i.children)}else{e&&e(t)}}))};t&&o(t)}},e.prototype.updateGridColumns=function(){var t,e=this,n=this.gridBalancedTree;if(this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns,this.secondaryColumns&&this.secondaryBalancedTree){var o=this.secondaryColumns.every((function(t){return void 0!==e.gridColumnsMap[t.getColId()]}));this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,o&&(t=this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,t=this.lastPrimaryOrder);if(this.createGroupAutoColumnsIfNeeded()&&t){var r=ce(this.groupAutoColumns.map((function(t){return[t,!0]})));t=t.filter((function(t){return!r.has(t)})),t=me(me([],ve(this.groupAutoColumns),!1),ve(t),!1)}if(this.addAutoGroupToGridColumns(),this.orderGridColsLike(t),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.calculateColumnsForGroupDisplay(),this.refreshQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach((function(t){return e.gridColumnsMap[t.getId()]=t})),this.setAutoHeightActive(),!wt(n,this.gridBalancedTree)){var i={type:$t.EVENT_GRID_COLUMNS_CHANGED};this.eventService.dispatchEvent(i)}},e.prototype.setAutoHeightActive=function(){(this.autoHeightActive=this.gridColumns.filter((function(t){return t.isAutoHeight()})).length>0,this.autoHeightActive)&&(this.autoHeightActiveAtLeastOnce=!0,this.gridOptionsService.isRowModelType("clientSide")||this.gridOptionsService.isRowModelType("serverSide")||L("autoHeight columns only work with Client Side Row Model and Server Side Row Model."))},e.prototype.orderGridColsLike=function(t){if(!i(t)){var e=ce(t.map((function(t,e){return[t,e]}))),n=!0;if(this.gridColumns.forEach((function(t){e.has(t)&&(n=!1)})),!n){var o=ce(this.gridColumns.map((function(t){return[t,!0]}))),r=t.filter((function(t){return o.has(t)})),s=ce(r.map((function(t){return[t,!0]}))),a=this.gridColumns.filter((function(t){return!s.has(t)})),l=r.slice();a.forEach((function(t){var e=t.getOriginalParent();if(e){for(var n=[];!n.length&&e;){e.getLeafColumns().forEach((function(t){var e=l.indexOf(t)>=0,o=n.indexOf(t)<0;e&&o&&n.push(t)})),e=e.getOriginalParent()}if(n.length){var o=n.map((function(t){return l.indexOf(t)})),r=Math.max.apply(Math,me([],ve(o),!1));xt(l,t,r+1)}else l.push(t)}else l.push(t)})),this.gridColumns=l}}},e.prototype.isPrimaryColumnGroupsPresent=function(){return this.primaryHeaderRowCount>1},e.prototype.refreshQuickFilterColumns=function(){var t,e=null!==(t=this.isPivotMode()?this.secondaryColumns:this.primaryColumns)&&void 0!==t?t:[];this.groupAutoColumns&&(e=e.concat(this.groupAutoColumns)),this.columnsForQuickFilter=this.gridOptionsService.get("includeHiddenColumnsInQuickFilter")?e:e.filter((function(t){return t.isVisible()||t.isRowGroupActive()}))},e.prototype.placeLockedColumns=function(t){var e=[],n=[],o=[];return t.forEach((function(t){var r=t.getColDef().lockPosition;"right"===r?o.push(t):"left"===r||!0===r?e.push(t):n.push(t)})),me(me(me([],ve(e),!1),ve(n),!1),ve(o),!1)},e.prototype.addAutoGroupToGridColumns=function(){if(i(this.groupAutoColumns))return this.destroyOldColumns(this.groupAutoColsBalancedTree),void(this.groupAutoColsBalancedTree=null);this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;var t=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.destroyOldColumns(this.groupAutoColsBalancedTree,t),this.groupAutoColsBalancedTree=t,this.gridBalancedTree=t.concat(this.gridBalancedTree)},e.prototype.clearDisplayedAndViewportColumns=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.viewportColumns=[],this.headerViewportColumns=[],this.viewportColumnsHash=""},e.prototype.updateGroupsAndDisplayedColumns=function(t){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(t),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths();var e={type:$t.EVENT_DISPLAYED_COLUMNS_CHANGED};this.eventService.dispatchEvent(e)},e.prototype.deriveDisplayedColumns=function(t){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinDisplayedColumns(),this.setLeftValues(t),this.displayedAutoHeightCols=this.displayedColumns.filter((function(t){return t.isAutoHeight()}))},e.prototype.isAutoRowHeightActive=function(){return this.autoHeightActive},e.prototype.wasAutoRowHeightEverActive=function(){return this.autoHeightActiveAtLeastOnce},e.prototype.joinDisplayedColumns=function(){this.gridOptionsService.get("enableRtl")?this.displayedColumns=this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumns=this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)},e.prototype.setLeftValues=function(t){this.setLeftValuesOfColumns(t),this.setLeftValuesOfGroups()},e.prototype.setLeftValuesOfColumns=function(t){var e=this;if(this.primaryColumns){var n=this.primaryColumns.slice(0),o=this.gridOptionsService.get("enableRtl");[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach((function(r){if(o){var i=e.getWidthOfColsInList(r);r.forEach((function(e){i-=e.getActualWidth(),e.setLeft(i,t)}))}else{var s=0;r.forEach((function(e){e.setLeft(s,t),s+=e.getActualWidth()}))}Et(n,r)})),n.forEach((function(e){e.setLeft(null,t)}))}},e.prototype.setLeftValuesOfGroups=function(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach((function(t){t.forEach((function(t){t instanceof Xt&&t.checkLeft()}))}))},e.prototype.derivedDisplayedColumnsFromDisplayedTree=function(t,e){e.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(t,(function(t){t instanceof ft&&e.push(t)}))},e.prototype.extractViewportColumns=function(){this.suppressColumnVirtualisation?(this.viewportColumnsCenter=this.displayedColumnsCenter,this.headerViewportColumnsCenter=this.displayedColumnsCenter):(this.viewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInRowViewport.bind(this)),this.headerViewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInHeaderViewport.bind(this))),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight),this.headerViewportColumns=this.headerViewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)},e.prototype.getVirtualHeaderGroupRow=function(t,e){var n;switch(t){case"left":n=this.viewportRowLeft[e];break;case"right":n=this.viewportRowRight[e];break;default:n=this.viewportRowCenter[e]}return i(n)&&(n=[]),n},e.prototype.calculateHeaderRows=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};var t={};this.headerViewportColumns.forEach((function(e){return t[e.getId()]=!0}));var e=function(n,o,r){for(var i=!1,s=0;s<n.length;s++){var a=n[s],l=!1;if(a instanceof ft)l=!0===t[a.getId()];else{var u=a.getDisplayedChildren();u&&(l=e(u,o,r+1))}l&&(i=!0,o[r]||(o[r]=[]),o[r].push(a))}return i};e(this.displayedTreeLeft,this.viewportRowLeft,0),e(this.displayedTreeRight,this.viewportRowRight,0),e(this.displayedTreeCentre,this.viewportRowCenter,0)},e.prototype.extractViewport=function(){this.extractViewportColumns();var t=this.viewportColumns.map((function(t){return"".concat(t.getId(),"-").concat(t.getPinned()||"normal")})).join("#"),e=this.viewportColumnsHash!==t;return e&&(this.viewportColumnsHash=t,this.calculateHeaderRows()),e},e.prototype.refreshFlexedColumns=function(t){var e;void 0===t&&(t={});var n=t.source?t.source:"flex";if(null!=t.viewportWidth&&(this.flexViewportWidth=t.viewportWidth),!this.flexViewportWidth)return[];var o=-1;if(t.resizingCols)for(var i=new Set(t.resizingCols),s=this.displayedColumnsCenter,a=s.length-1;a>=0;a--)if(i.has(s[a])){o=a;break}var l=0,u=[],c=0,d=0;for(a=0;a<this.displayedColumnsCenter.length;a++){this.displayedColumnsCenter[a].getFlex()&&a>o?(u.push(this.displayedColumnsCenter[a]),d+=this.displayedColumnsCenter[a].getFlex(),c+=null!==(e=this.displayedColumnsCenter[a].getMinWidth())&&void 0!==e?e:0):l+=this.displayedColumnsCenter[a].getActualWidth()}if(!u.length)return[];var p=[];l+c>this.flexViewportWidth&&(u.forEach((function(t){var e;return t.setActualWidth(null!==(e=t.getMinWidth())&&void 0!==e?e:0,n)})),p=u,u=[]);var h,f=[];t:for(;;){var g=(h=this.flexViewportWidth-l)/d;for(a=0;a<u.length;a++){var v=u[a],m=g*v.getFlex(),y=0,C=v.getMinWidth(),w=v.getMaxWidth();if(r(C)&&m<C?y=C:r(w)&&m>w&&(y=w),y){v.setActualWidth(y,n),_t(u,v),d-=v.getFlex(),p.push(v),l+=v.getActualWidth();continue t}f[a]=Math.round(m)}break}var b=h;return u.forEach((function(t,e){t.setActualWidth(Math.min(f[e],b),n),p.push(t),b-=f[e]})),t.skipSetLeft||this.setLeftValues(n),t.updateBodyWidths&&this.updateBodyWidths(),t.fireResizedEvent&&this.dispatchColumnResizedEvent(p,!0,n,u),u},e.prototype.sizeColumnsToFit=function(t,e,n,o){var i,s,a,l,u,c=this;if(void 0===e&&(e="sizeColumnsToFit"),this.shouldQueueResizeOperations)this.resizeOperationQueue.push((function(){return c.sizeColumnsToFit(t,e,n,o)}));else{var d={};o&&(null===(i=null===o||void 0===o?void 0:o.columnLimits)||void 0===i||i.forEach((function(t){var e=t.key,n=ge(t,["key"]);d["string"===typeof e?e:e.getColId()]=n})));var p=this.getAllDisplayedColumns(),h=t===this.getWidthOfColsInList(p);if(!(t<=0||!p.length||h)){var f=[],g=[];p.forEach((function(t){!0===t.getColDef().suppressSizeToFit?g.push(t):f.push(t)}));var v=f.slice(0),m=!1,y=function(t){St(f,t),g.push(t)};for(f.forEach((function(t){var n,r;t.resetActualWidth(e);var i=null===d||void 0===d?void 0:d[t.getId()],s=null!==(n=null===i||void 0===i?void 0:i.minWidth)&&void 0!==n?n:null===o||void 0===o?void 0:o.defaultMinWidth,a=null!==(r=null===i||void 0===i?void 0:i.maxWidth)&&void 0!==r?r:null===o||void 0===o?void 0:o.defaultMaxWidth,l=t.getActualWidth();"number"===typeof s&&l<s?t.setActualWidth(s,e,!0):"number"===typeof a&&l>a&&t.setActualWidth(a,e,!0)}));!m;){m=!0;var C=t-this.getWidthOfColsInList(g);if(C<=0)f.forEach((function(t){var n,r,i=null!==(r=null===(n=null===d||void 0===d?void 0:d[t.getId()])||void 0===n?void 0:n.minWidth)&&void 0!==r?r:null===o||void 0===o?void 0:o.defaultMinWidth;"number"!==typeof i?t.setMinimum(e):t.setActualWidth(i,e,!0)}));else for(var w=C/this.getWidthOfColsInList(f),b=C,_=f.length-1;_>=0;_--){var S=f[_],E=null===d||void 0===d?void 0:d[S.getId()],O=null!==(s=null===E||void 0===E?void 0:E.minWidth)&&void 0!==s?s:null===o||void 0===o?void 0:o.defaultMinWidth,x=null!==(a=null===E||void 0===E?void 0:E.maxWidth)&&void 0!==a?a:null===o||void 0===o?void 0:o.defaultMaxWidth,T=null!==(l=S.getMinWidth())&&void 0!==l?l:0,R=null!==(u=S.getMaxWidth())&&void 0!==u?u:Number.MAX_VALUE,D="number"===typeof O&&O>T?O:S.getMinWidth(),P="number"===typeof x&&x<R?x:S.getMaxWidth(),L=Math.round(S.getActualWidth()*w);r(D)&&L<D?(L=D,y(S),m=!1):r(P)&&L>P?(L=P,y(S),m=!1):0===_&&(L=b),S.setActualWidth(L,e,!0),b-=L}}v.forEach((function(t){t.fireColumnWidthChangedEvent(e)})),this.setLeftValues(e),this.updateBodyWidths(),n||this.dispatchColumnResizedEvent(v,!0,e)}}},e.prototype.buildDisplayedTrees=function(t){var e=[],n=[],o=[];t.forEach((function(t){switch(t.getPinned()){case"left":e.push(t);break;case"right":n.push(t);break;default:o.push(t)}}));var r=new Jt;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(e,r,"left",this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(n,r,"right",this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(o,r,null,this.displayedTreeCentre),this.updateDisplayedMap()},e.prototype.updateDisplayedMap=function(){var t=this;this.displayedColumnsAndGroupsMap={};var e=function(e){t.displayedColumnsAndGroupsMap[e.getUniqueId()]=e};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,e),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,e),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,e)},e.prototype.isDisplayed=function(t){return this.displayedColumnsAndGroupsMap[t.getUniqueId()]===t},e.prototype.updateOpenClosedVisibilityInColumnGroups=function(){var t=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(t,(function(t){t instanceof Xt&&t.calculateDisplayedColumns()}))},e.prototype.getGroupAutoColumns=function(){return this.groupAutoColumns},e.prototype.createGroupAutoColumnsIfNeeded=function(){var t=this.forceRecreateAutoGroups;if(this.forceRecreateAutoGroups=!1,!this.autoGroupsNeedBuilding)return!1;this.autoGroupsNeedBuilding=!1;var e=this.gridOptionsService.isGroupUseEntireRow(this.pivotMode),n=this.pivotMode?this.gridOptionsService.get("pivotSuppressAutoColumn"):this.isGroupSuppressAutoColumn();if((this.rowGroupColumns.length>0||this.gridOptionsService.get("treeData"))&&!n&&!e){var o=this.autoGroupColService.createAutoGroupColumns(this.rowGroupColumns);if(!this.autoColsEqual(o,this.groupAutoColumns)||t)return this.groupAutoColumns=o,!0}else this.groupAutoColumns=null;return!1},e.prototype.isGroupSuppressAutoColumn=function(){return"custom"===this.gridOptionsService.get("groupDisplayType")||"custom"===this.gridOptionsService.get("treeDataDisplayType")},e.prototype.autoColsEqual=function(t,e){return wt(t,e,(function(t,e){return t.getColId()===e.getColId()}))},e.prototype.getWidthOfColsInList=function(t){return t.reduce((function(t,e){return t+e.getActualWidth()}),0)},e.prototype.getFirstDisplayedColumn=function(){var t=this.gridOptionsService.get("enableRtl"),e=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];t&&e.reverse();for(var n=0;n<e.length;n++){var o=this[e[n]]();if(o.length)return t?Ct(o):o[0]}return null},e.prototype.setColumnHeaderHeight=function(t,e){if(t.setAutoHeaderHeight(e)){var n={type:$t.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,column:t,columns:[t],source:"autosizeColumnHeaderHeight"};this.eventService.dispatchEvent(n)}},e.prototype.getColumnGroupHeaderRowHeight=function(){return this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight()},e.prototype.getColumnHeaderRowHeight=function(){var t=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),e=this.getAllDisplayedColumns().filter((function(t){return t.isAutoHeaderHeight()})).map((function(t){return t.getAutoHeaderHeight()||0}));return Math.max.apply(Math,me([t],ve(e),!1))},e.prototype.getHeaderHeight=function(){var t;return null!==(t=this.gridOptionsService.get("headerHeight"))&&void 0!==t?t:this.environment.getFromTheme(25,"headerHeight")},e.prototype.getFloatingFiltersHeight=function(){var t;return null!==(t=this.gridOptionsService.get("floatingFiltersHeight"))&&void 0!==t?t:this.getHeaderHeight()},e.prototype.getGroupHeaderHeight=function(){var t;return null!==(t=this.gridOptionsService.get("groupHeaderHeight"))&&void 0!==t?t:this.getHeaderHeight()},e.prototype.getPivotHeaderHeight=function(){var t;return null!==(t=this.gridOptionsService.get("pivotHeaderHeight"))&&void 0!==t?t:this.getHeaderHeight()},e.prototype.getPivotGroupHeaderHeight=function(){var t;return null!==(t=this.gridOptionsService.get("pivotGroupHeaderHeight"))&&void 0!==t?t:this.getGroupHeaderHeight()},e.prototype.queueResizeOperations=function(){this.shouldQueueResizeOperations=!0},e.prototype.processResizeOperations=function(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach((function(t){return t()})),this.resizeOperationQueue=[]},e.prototype.resetColumnDefIntoColumn=function(t,e){var n=t.getUserProvidedColDef();if(!n)return!1;var o=this.columnFactory.addColumnDefaultAndTypes(n,t.getColId());return t.setColDef(o,n,e),!0},e.prototype.isColumnGroupingLocked=function(t){var e=this.gridOptionsService.get("groupLockGroupColumns");return!(!t.isRowGroupActive()||0===e)&&(-1===e||e>this.rowGroupColumns.findIndex((function(e){return e.getColId()===t.getColId()})))},e.prototype.generateColumnStateForRowGroupAndPivotIndexes=function(t,e){var n=this,o={},r=function(t,e,r,i,s,a){if(!e.length||!n.primaryColumns)return[];for(var l=Object.keys(t),u=new Set(l),c=new Set(l),d=new Set(e.map((function(t){var e=t.getColId();return c.delete(e),e})).concat(l)),p=[],h={},f=0,g=0;g<n.primaryColumns.length;g++){var v=n.primaryColumns[g].getColId();d.has(v)&&(p.push(v),h[v]=f++)}var m=1e3,y=!1,C=0,w=function(e){for(var n=h[e],o=C;o<n;o++){var r=p[o];c.has(r)&&(t[r][s]=m++,c.delete(r))}C=n};e.forEach((function(e){var n=e.getColId();if(u.has(n))w(n),t[n][s]=m++;else{var l=e.getColDef();if(null===l[s]||void 0===l[s]&&null==l[a]){if(!y)l[r]||void 0===l[r]&&l[i]?w(n):(c.forEach((function(e){t[e][s]=m+h[e]})),m+=p.length,y=!0);o[n]||(o[n]={colId:n}),o[n][s]=m++}}}))};return r(t,this.rowGroupColumns,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),r(e,this.pivotColumns,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(o)},e.prototype.onColumnsReady=function(){var t=this,e=this.gridOptionsService.get("autoSizeStrategy");if(e){var n=e.type;setTimeout((function(){if("fitGridWidth"===n){var o=e.columnLimits,r=e.defaultMinWidth,i=e.defaultMaxWidth,s=null===o||void 0===o?void 0:o.map((function(t){return{key:t.colId,minWidth:t.minWidth,maxWidth:t.maxWidth}}));t.ctrlsService.getGridBodyCtrl().sizeColumnsToFit({defaultMinWidth:r,defaultMaxWidth:i,columnLimits:s})}else"fitProvidedWidth"===n&&t.sizeColumnsToFit(e.width,"sizeColumnsToFit")}))}},e.prototype.onFirstDataRendered=function(){var t=this,e=this.gridOptionsService.get("autoSizeStrategy");if("fitCellContents"===(null===e||void 0===e?void 0:e.type)){var n=e.colIds,o=e.skipHeader;setTimeout((function(){n?t.autoSizeColumns({columns:n,skipHeader:o,source:"autosizeColumns"}):t.autoSizeAllColumns(o,"autosizeColumns")}))}},he([nt("expressionService")],e.prototype,"expressionService",void 0),he([nt("columnFactory")],e.prototype,"columnFactory",void 0),he([nt("displayedGroupCreator")],e.prototype,"displayedGroupCreator",void 0),he([nt("ctrlsService")],e.prototype,"ctrlsService",void 0),he([nt("autoWidthCalculator")],e.prototype,"autoWidthCalculator",void 0),he([nt("columnUtils")],e.prototype,"columnUtils",void 0),he([nt("columnAnimationService")],e.prototype,"columnAnimationService",void 0),he([nt("autoGroupColService")],e.prototype,"autoGroupColService",void 0),he([ot("aggFuncService")],e.prototype,"aggFuncService",void 0),he([ot("valueCache")],e.prototype,"valueCache",void 0),he([ot("animationFrameService")],e.prototype,"animationFrameService",void 0),he([nt("sortController")],e.prototype,"sortController",void 0),he([nt("columnDefFactory")],e.prototype,"columnDefFactory",void 0),he([J],e.prototype,"init",null),he([tt],e.prototype,"destroyColumns",null),he([fe(0,it("loggerFactory"))],e.prototype,"setBeans",null),e=he([et("columnModel")],e)}(Ut),we=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),be=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},_e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return we(e,t),e.prototype.calculateColMinWidth=function(t){return null!=t.minWidth?t.minWidth:this.environment.getMinColWidth()},e.prototype.calculateColMaxWidth=function(t){return null!=t.maxWidth?t.maxWidth:Number.MAX_SAFE_INTEGER},e.prototype.calculateColInitialWidth=function(t){var e,n=this.calculateColMinWidth(t),o=this.calculateColMaxWidth(t),r=l(t.width),i=l(t.initialWidth);return e=null!=r?r:null!=i?i:200,Math.max(Math.min(e,o),n)},e.prototype.getOriginalPathForColumn=function(t,e){var n=[],o=!1,r=function(e,i){for(var s=0;s<e.length;s++){if(o)return;var a=e[s];if(a instanceof vt)r(a.getChildren(),i+1),n[i]=a;else a===t&&(o=!0)}};return r(e,0),o?n:null},e.prototype.depthFirstOriginalTreeSearch=function(t,e,n){var o=this;e&&e.forEach((function(e){e instanceof vt&&o.depthFirstOriginalTreeSearch(e,e.getChildren(),n),n(e,t)}))},e.prototype.depthFirstAllColumnTreeSearch=function(t,e){var n=this;t&&t.forEach((function(t){t instanceof Xt&&n.depthFirstAllColumnTreeSearch(t.getChildren(),e),e(t)}))},e.prototype.depthFirstDisplayedColumnTreeSearch=function(t,e){var n=this;t&&t.forEach((function(t){t instanceof Xt&&n.depthFirstDisplayedColumnTreeSearch(t.getDisplayedChildren(),e),e(t)}))},e=be([et("columnUtils")],e)}(Ut),Se=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ee=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Oe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Se(e,t),e.prototype.createDisplayedGroups=function(t,e,n,o){for(var r=this,i=this.mapOldGroupsById(o),s=[],a=t,l=function(){var t=a;a=[];for(var o=0,l=function(l){var u=o;o=l;var c=t[u],d=(c instanceof Xt?c.getProvidedColumnGroup():c).getOriginalParent();if(null!=d){var p=r.createColumnGroup(d,e,i,n);for(h=u;h<l;h++)p.addChild(t[h]);a.push(p)}else for(var h=u;h<l;h++)s.push(t[h])},u=1;u<t.length;u++){var c=t[u],d=(c instanceof Xt?c.getProvidedColumnGroup():c).getOriginalParent(),p=t[o];d!==(p instanceof Xt?p.getProvidedColumnGroup():p).getOriginalParent()&&l(u)}o<t.length&&l(t.length)};a.length;)l();return this.setupParentsIntoColumns(s,null),s},e.prototype.createColumnGroup=function(t,e,n,o){var i=t.getGroupId(),s=e.getInstanceIdForKey(i),a=n[Xt.createUniqueId(i,s)];return a&&a.getProvidedColumnGroup()!==t&&(a=null),r(a)?a.reset():(a=new Xt(t,i,s,o),this.context.createBean(a)),a},e.prototype.mapOldGroupsById=function(t){var e={},n=function(t){t.forEach((function(t){if(t instanceof Xt){var o=t;e[t.getUniqueId()]=o,n(o.getChildren())}}))};return t&&n(t),e},e.prototype.setupParentsIntoColumns=function(t,e){var n=this;t.forEach((function(t){if(t.setParent(e),t instanceof Xt){var o=t;n.setupParentsIntoColumns(o.getChildren(),o)}}))},e=Ee([et("displayedGroupCreator")],e)}(Ut),xe=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},Te=function(t,e,n){if(n||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},Re={statusBar:!0,enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,excludeHiddenColumnsFromQuickFilter:!0,advancedFilterModel:!0,customChartThemes:!0,chartThemeOverrides:!0,enableChartToolPanelsButton:!0,suppressChartToolPanelsButton:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,alignedGrids:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressParentsInRowNodes:!0,suppressTouch:!0,suppressAsyncEvents:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,loadingOverlayComponent:!0,loadingOverlayComponentParams:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,noRowsOverlayComponentParams:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,suppressAggFuncInHeader:!0,suppressAggAtRootLevel:!0,removePivotHeaderRowWhenSingleValueColumn:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,suppressGroupMaintainValueType:!0,autoGroupColumnDef:!0,groupLockGroupColumns:!0,rowGroupPanelSuppressSort:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,suppressServerSideInfiniteScroll:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,functionsPassive:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0},De=function(){function t(){}return t.STRING_PROPERTIES=["rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator"],t.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy"],t.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],t.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","tabIndex"],t.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","excludeHiddenColumnsFromQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterMovesDown","enterMovesDownAfterEdit","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","enableChartToolPanelsButton","suppressChartToolPanelsButton","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilterAllLevels","serverSideSortAllLevels","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","suppressGroupMaintainValueType"],t.FUNCTIONAL_PROPERTIES=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher"],t.CALLBACK_PROPERTIES=["getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering"],t.FUNCTION_PROPERTIES=Te(Te([],xe(t.FUNCTIONAL_PROPERTIES),!1),xe(t.CALLBACK_PROPERTIES),!1),t.ALL_PROPERTIES=Te(Te(Te(Te(Te(Te([],xe(t.ARRAY_PROPERTIES),!1),xe(t.OBJECT_PROPERTIES),!1),xe(t.STRING_PROPERTIES),!1),xe(t.NUMBER_PROPERTIES),!1),xe(t.FUNCTION_PROPERTIES),!1),xe(t.BOOLEAN_PROPERTIES),!1),t}(),Pe=function(){return Pe=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},Pe.apply(this,arguments)},Le=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},Me=function(t,e,n){if(n||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},Ae=function(){function t(){}var e;return t.getCallbackForEvent=function(t){return!t||t.length<2?t:"on"+t[0].toUpperCase()+t.substring(1)},t.getGridOptionKeys=function(){return this.ALL_PROPERTIES_AND_CALLBACKS},t.combineAttributesAndGridOptions=function(e,n){"object"!==typeof e&&(e={});var o=Pe({},e);return t.getGridOptionKeys().forEach((function(e){var r=n[e];"undefined"!==typeof r&&r!==t.VUE_OMITTED_PROPERTY&&(o[e]=r)})),o},t.processOnChange=function(e,n){if(e){var o={},r=!1;if(Object.keys(e).filter((function(e){return t.ALL_PROPERTIES_AND_CALLBACKS_SET.has(e)})).forEach((function(t){o[t]=e[t],r=!0})),r){n.__internalUpdateGridOptions(o);var i={type:$t.EVENT_COMPONENT_STATE_CHANGED};v(o,(function(t,e){i[t]=e})),n.dispatchEvent(i)}}},e=t,t.EVENTS=d($t),t.VUE_OMITTED_PROPERTY="AG-VUE-OMITTED-PROPERTY",t.EXCLUDED_INTERNAL_EVENTS=[$t.EVENT_SCROLLBAR_WIDTH_CHANGED,$t.EVENT_CHECKBOX_CHANGED,$t.EVENT_HEIGHT_SCALE_CHANGED,$t.EVENT_BODY_HEIGHT_CHANGED,$t.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,$t.EVENT_SCROLL_VISIBILITY_CHANGED,$t.EVENT_COLUMN_HOVER_CHANGED,$t.EVENT_FLASH_CELLS,$t.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,$t.EVENT_DISPLAYED_ROWS_CHANGED,$t.EVENT_LEFT_PINNED_WIDTH_CHANGED,$t.EVENT_RIGHT_PINNED_WIDTH_CHANGED,$t.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,$t.EVENT_POPUP_TO_FRONT,$t.EVENT_STORE_UPDATED,$t.EVENT_COLUMN_PANEL_ITEM_DRAG_START,$t.EVENT_COLUMN_PANEL_ITEM_DRAG_END,$t.EVENT_FILL_START,$t.EVENT_FILL_END,$t.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,$t.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,$t.EVENT_FULL_WIDTH_ROW_FOCUSED,$t.EVENT_HEADER_HEIGHT_CHANGED,$t.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,$t.EVENT_CELL_FOCUS_CLEARED,$t.EVENT_GRID_STYLES_CHANGED,$t.EVENT_FILTER_DESTROYED,$t.EVENT_ROW_DATA_UPDATE_STARTED,$t.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,$t.EVENT_DATA_TYPES_INFERRED,$t.EVENT_FIELD_VALUE_CHANGED,$t.EVENT_FIELD_PICKER_VALUE_SELECTED,$t.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED,$t.EVENT_SUPPRESS_MENU_HIDE_CHANGED,$t.EVENT_SUPPRESS_FIELD_DOT_NOTATION,$t.EVENT_ROW_COUNT_READY,$t.EVENT_SIDE_BAR_UPDATED],t.PUBLIC_EVENTS=t.EVENTS.filter((function(e){return!Rt(t.EXCLUDED_INTERNAL_EVENTS,e)})),t.EVENT_CALLBACKS=t.EVENTS.map((function(e){return t.getCallbackForEvent(e)})),t.STRING_PROPERTIES=De.STRING_PROPERTIES,t.OBJECT_PROPERTIES=De.OBJECT_PROPERTIES,t.ARRAY_PROPERTIES=De.ARRAY_PROPERTIES,t.NUMBER_PROPERTIES=De.NUMBER_PROPERTIES,t.BOOLEAN_PROPERTIES=De.BOOLEAN_PROPERTIES,t.FUNCTION_PROPERTIES=De.FUNCTION_PROPERTIES,t.ALL_PROPERTIES=De.ALL_PROPERTIES,t.ALL_PROPERTIES_AND_CALLBACKS=Me(Me([],Le(e.ALL_PROPERTIES),!1),Le(e.EVENT_CALLBACKS),!1),t.ALL_PROPERTIES_AND_CALLBACKS_SET=new Set(t.ALL_PROPERTIES_AND_CALLBACKS),t}(),ke=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ne=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Fe=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.componentsMappedByName={},e}return ke(e,t),e.prototype.setupComponents=function(t){var e=this;t&&t.forEach((function(t){return e.addComponent(t)}))},e.prototype.addComponent=function(t){var e=t.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[e]=t.componentClass},e.prototype.getComponentClass=function(t){return this.componentsMappedByName[t]},e=Ne([et("agStackComponentsRegistry")],e)}(Ut);function Ie(t,e,n){null==n||"string"===typeof n&&""==n?He(t,e):Ge(t,e,n)}function Ge(t,e,n){t.setAttribute(Ve(e),n.toString())}function He(t,e){t.removeAttribute(Ve(e))}function Ve(t){return"aria-".concat(t)}function je(t,e){e?t.setAttribute("role",e):t.removeAttribute("role")}function Be(t){return"asc"===t?"ascending":"desc"===t?"descending":"mixed"===t?"other":"none"}function We(t){return parseInt(t.getAttribute("aria-level"),10)}function ze(t){return parseInt(t.getAttribute("aria-posinset"),10)}function Ue(t){return t.getAttribute("aria-label")}function Ye(t,e){Ie(t,"label",e)}function Ke(t,e){Ie(t,"labelledby",e)}function Ze(t,e){Ie(t,"description",e)}function qe(t,e){Ie(t,"live",e)}function Qe(t,e){Ie(t,"level",e)}function Xe(t,e){Ie(t,"disabled",e)}function $e(t,e){Ie(t,"hidden",e)}function Je(t,e){Ie(t,"activedescendant",e)}function tn(t,e){Ge(t,"expanded",e)}function en(t){He(t,"expanded")}function nn(t,e){Ge(t,"setsize",e)}function on(t,e){Ge(t,"posinset",e)}function rn(t,e){Ge(t,"multiselectable",e)}function sn(t,e){Ge(t,"rowcount",e)}function an(t,e){Ge(t,"rowindex",e)}function ln(t,e){Ge(t,"colcount",e)}function un(t,e){Ge(t,"colindex",e)}function cn(t,e){Ge(t,"colspan",e)}function dn(t,e){Ge(t,"sort",e)}function pn(t){He(t,"sort")}function hn(t,e){Ie(t,"selected",e)}function fn(t,e){Ie(t,"controls",e.id),Ke(e,t.id)}function gn(t,e){return void 0===e?t("ariaIndeterminate","indeterminate"):!0===e?t("ariaChecked","checked"):t("ariaUnchecked","unchecked")}var vn,mn,yn,Cn,wn,bn,_n,Sn,En=Object.freeze({__proto__:null,setAriaRole:je,getAriaSortState:Be,getAriaLevel:We,getAriaPosInSet:ze,getAriaLabel:Ue,setAriaLabel:Ye,setAriaLabelledBy:Ke,setAriaDescription:Ze,setAriaDescribedBy:function(t,e){Ie(t,"describedby",e)},setAriaLive:qe,setAriaAtomic:function(t,e){Ie(t,"atomic",e)},setAriaRelevant:function(t,e){Ie(t,"relevant",e)},setAriaLevel:Qe,setAriaDisabled:Xe,setAriaHidden:$e,setAriaActiveDescendant:Je,setAriaExpanded:tn,removeAriaExpanded:en,setAriaSetSize:nn,setAriaPosInSet:on,setAriaMultiSelectable:rn,setAriaRowCount:sn,setAriaRowIndex:an,setAriaColCount:ln,setAriaColIndex:un,setAriaColSpan:cn,setAriaSort:dn,removeAriaSort:pn,setAriaSelected:hn,setAriaChecked:function(t,e){Ge(t,"checked",void 0===e?"mixed":e)},setAriaControls:fn,getAriaCheckboxStateName:gn});function On(){return void 0===vn&&(vn=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),vn}function xn(){if(void 0===mn)if(On()){var t=navigator.userAgent.match(/version\/(\d+)/i);t&&(mn=null!=t[1]?parseFloat(t[1]):0)}else mn=0;return mn}function Tn(){if(void 0===yn){var t=window;yn=!!t.chrome&&(!!t.chrome.webstore||!!t.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return yn}function Rn(){return void 0===Cn&&(Cn=/(firefox)/i.test(navigator.userAgent)),Cn}function Dn(){return void 0===wn&&(wn=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),wn}function Pn(){return void 0===bn&&(bn=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1),bn}function Ln(){return!On()||xn()>=15}function Mn(t){if(!t)return null;var e=t.tabIndex,n=t.getAttribute("tabIndex");return-1!==e||null!==n&&(""!==n||Rn())?e.toString():null}function An(){if(!document.body)return-1;var t=1e6,e=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,n=document.createElement("div");for(document.body.appendChild(n);;){var o=2*t;if(n.style.height=o+"px",o>e||n.clientHeight!==o)break;t=o}return document.body.removeChild(n),t}function kn(){var t,e,n;return null!==(e=null===(t=document.body)||void 0===t?void 0:t.clientWidth)&&void 0!==e?e:window.innerHeight||(null===(n=document.documentElement)||void 0===n?void 0:n.clientWidth)||-1}function Nn(){var t,e,n;return null!==(e=null===(t=document.body)||void 0===t?void 0:t.clientHeight)&&void 0!==e?e:window.innerHeight||(null===(n=document.documentElement)||void 0===n?void 0:n.clientHeight)||-1}function Fn(){return null==Sn&&In(),Sn}function In(){var t=document.body,e=document.createElement("div");e.style.width=e.style.height="100px",e.style.opacity="0",e.style.overflow="scroll",e.style.msOverflowStyle="scrollbar",e.style.position="absolute",t.appendChild(e);var n=e.offsetWidth-e.clientWidth;0===n&&0===e.clientWidth&&(n=null),e.parentNode&&e.parentNode.removeChild(e),null!=n&&(Sn=n,_n=0===n)}function Gn(){return null==_n&&In(),_n}var Hn=Object.freeze({__proto__:null,isBrowserSafari:On,getSafariVersion:xn,isBrowserChrome:Tn,isBrowserFirefox:Rn,isMacOsUserAgent:Dn,isIOSUserAgent:Pn,browserSupportsPreventScroll:Ln,getTabIndex:Mn,getMaxDivHeight:An,getBodyWidth:kn,getBodyHeight:Nn,getScrollbarWidth:Fn,isInvisibleScrollbar:Gn});function Vn(t,e){return t.toString().padStart(e,"0")}function jn(t,e){for(var n=[],o=t;o<=e;o++)n.push(o);return n}function Bn(t,e,n){return"number"!==typeof t?"":t.toString().replace(".",n).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1".concat(e))}var Wn=Object.freeze({__proto__:null,padStartWidthZeros:Vn,createArrayOfNumbers:jn,cleanNumber:function(t){return"string"===typeof t&&(t=parseInt(t,10)),"number"===typeof t?Math.floor(t):null},decToHex:function(t,e){for(var n="",o=0;o<e;o++)n+=String.fromCharCode(255&t),t>>>=8;return n},formatNumberTwoDecimalPlacesAndCommas:function(t,e,n){return"number"!==typeof t?"":Bn(Math.round(100*t)/100,e,n)},formatNumberCommas:Bn,sum:function(t){return null==t?null:t.reduce((function(t,e){return t+e}),0)}}),zn=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s};function Un(t,e,n){if(void 0===e&&(e=!0),void 0===n&&(n="-"),!t)return null;var o=[t.getFullYear(),t.getMonth()+1,t.getDate()].map((function(t){return Vn(t,2)})).join(n);return e&&(o+=" "+[t.getHours(),t.getMinutes(),t.getSeconds()].map((function(t){return Vn(t,2)})).join(":")),o}var Yn=function(t){if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function Kn(t,e){void 0===e&&(e="YYYY-MM-DD");var n=Vn(t.getFullYear(),4),o=["January","February","March","April","May","June","July","August","September","October","November","December"],r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],i={YYYY:function(){return n.slice(n.length-4,n.length)},YY:function(){return n.slice(n.length-2,n.length)},Y:function(){return"".concat(t.getFullYear())},MMMM:function(){return o[t.getMonth()]},MMM:function(){return o[t.getMonth()].slice(0,3)},MM:function(){return Vn(t.getMonth()+1,2)},Mo:function(){return"".concat(t.getMonth()+1).concat(Yn(t.getMonth()+1))},M:function(){return"".concat(t.getMonth()+1)},Do:function(){return"".concat(t.getDate()).concat(Yn(t.getDate()))},DD:function(){return Vn(t.getDate(),2)},D:function(){return"".concat(t.getDate())},dddd:function(){return r[t.getDay()]},ddd:function(){return r[t.getDay()].slice(0,3)},dd:function(){return r[t.getDay()].slice(0,2)},do:function(){return"".concat(t.getDay()).concat(Yn(t.getDay()))},d:function(){return"".concat(t.getDay())}},s=new RegExp(Object.keys(i).join("|"),"g");return e.replace(s,(function(t){return t in i?i[t]():t}))}function Zn(t){if(!t)return null;var e=zn(t.split(" "),2),n=e[0],o=e[1];if(!n)return null;var r=n.split("-").map((function(t){return parseInt(t,10)}));if(3!==r.filter((function(t){return!isNaN(t)})).length)return null;var i=zn(r,3),s=i[0],a=i[1],l=i[2],u=new Date(s,a-1,l);if(u.getFullYear()!==s||u.getMonth()!==a-1||u.getDate()!==l)return null;if(!o||"00:00:00"===o)return u;var c=zn(o.split(":").map((function(t){return parseInt(t,10)})),3),d=c[0],p=c[1],h=c[2];return d>=0&&d<24&&u.setHours(d),p>=0&&p<60&&u.setMinutes(p),h>=0&&h<60&&u.setSeconds(h),u}var qn,Qn=Object.freeze({__proto__:null,serialiseDate:Un,dateToFormattedString:Kn,parseDateTimeFromString:Zn}),Xn=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$n=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s};function Jn(t,e,n){for(var o=t.parentElement,r=o&&o.firstChild;r;)e&&r.classList.toggle(e,r===t),n&&r.classList.toggle(n,r!==t),r=r.nextSibling}var to="[tabindex], input, select, button, textarea, [href]",eo="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function no(t){var e=Element.prototype.matches||Element.prototype.msMatchesSelector,n=e.call(t,"input, select, button, textarea"),o=e.call(t,eo),r=Co(t);return n&&!o&&r}function oo(t,e,n){void 0===n&&(n={});var o=n.skipAriaHidden;t.classList.toggle("ag-hidden",!e),o||$e(t,!e)}function ro(t,e,n){void 0===n&&(n={});var o=n.skipAriaHidden;t.classList.toggle("ag-invisible",!e),o||$e(t,!e)}function io(t,e){var n="disabled",o=e?function(t){return t.setAttribute(n,"")}:function(t){return t.removeAttribute(n)};o(t),Io(t.querySelectorAll("input"),(function(t){return o(t)}))}function so(t,e,n){for(var o=0;t;){if(t.classList.contains(e))return!0;if(t=t.parentElement,"number"==typeof n){if(++o>n)break}else if(t===n)break}return!1}function ao(t){var e=window.getComputedStyle(t),n=e.height,o=e.width,r=e.borderTopWidth,i=e.borderRightWidth,s=e.borderBottomWidth,a=e.borderLeftWidth,l=e.paddingTop,u=e.paddingRight,c=e.paddingBottom,d=e.paddingLeft,p=e.marginTop,h=e.marginRight,f=e.marginBottom,g=e.marginLeft,v=e.boxSizing;return{height:parseFloat(n),width:parseFloat(o),borderTopWidth:parseFloat(r),borderRightWidth:parseFloat(i),borderBottomWidth:parseFloat(s),borderLeftWidth:parseFloat(a),paddingTop:parseFloat(l),paddingRight:parseFloat(u),paddingBottom:parseFloat(c),paddingLeft:parseFloat(d),marginTop:parseFloat(p),marginRight:parseFloat(h),marginBottom:parseFloat(f),marginLeft:parseFloat(g),boxSizing:v}}function lo(t){var e=ao(t);return"border-box"===e.boxSizing?e.height-e.paddingTop-e.paddingBottom:e.height}function uo(t){var e=ao(t);return"border-box"===e.boxSizing?e.width-e.paddingLeft-e.paddingRight:e.width}function co(t){var e=ao(t),n=e.marginBottom+e.marginTop;return Math.ceil(t.offsetHeight+n)}function po(t){var e=ao(t),n=e.marginLeft+e.marginRight;return Math.ceil(t.offsetWidth+n)}function ho(t){var e=t.getBoundingClientRect(),n=ao(t),o=n.borderTopWidth,r=n.borderLeftWidth,i=n.borderRightWidth,s=n.borderBottomWidth;return{top:e.top+(o||0),left:e.left+(r||0),right:e.right+(i||0),bottom:e.bottom+(s||0)}}function fo(){if("boolean"===typeof qn)return qn;var t=document.createElement("div");return t.style.direction="rtl",t.style.width="1px",t.style.height="1px",t.style.position="fixed",t.style.top="0px",t.style.overflow="hidden",t.dir="rtl",t.innerHTML='<div style="width: 2px">\n            <span style="display: inline-block; width: 1px"></span>\n            <span style="display: inline-block; width: 1px"></span>\n        </div>',document.body.appendChild(t),t.scrollLeft=1,qn=0===Math.floor(t.scrollLeft),document.body.removeChild(t),qn}function go(t,e){var n=t.scrollLeft;return e&&(n=Math.abs(n),Tn()&&!fo()&&(n=t.scrollWidth-t.clientWidth-n)),n}function vo(t,e,n){n&&(fo()?e*=-1:(On()||Tn())&&(e=t.scrollWidth-t.clientWidth-e)),t.scrollLeft=e}function mo(t){for(;t&&t.firstChild;)t.removeChild(t.firstChild)}function yo(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Co(t){var e=t;return e.checkVisibility?e.checkVisibility({checkVisibilityCSS:!0}):!(!t.offsetParent||"visible"!==window.getComputedStyle(t).visibility)}function wo(t){var e=document.createElement("div");return e.innerHTML=(t||"").trim(),e.firstChild}function bo(t){return t&&t.clientHeight?t.clientHeight:0}function _o(t){return t&&t.clientWidth?t.clientWidth:0}function So(t,e,n){if(!n||n.nextSibling!==e){var o=document.activeElement,r=e.contains(o);n?n.nextSibling?t.insertBefore(e,n.nextSibling):t.appendChild(e):t.firstChild&&t.firstChild!==e&&t.insertAdjacentElement("afterbegin",e),r&&o&&Ln()&&o.focus({preventScroll:!0})}}function Eo(t,e){for(var n=0;n<e.length;n++){var o=e[n],r=t.children[n];r!==o&&t.insertBefore(o,r)}}function Oo(t,e,n){n?n.insertAdjacentElement("afterend",e):t.firstChild?t.insertAdjacentElement("afterbegin",e):t.appendChild(e)}function xo(t,e){var n,o;if(e)try{for(var r=Xn(Object.entries(e)),i=r.next();!i.done;i=r.next()){var s=$n(i.value,2),a=s[0],l=s[1];if(a&&a.length&&null!=l){var u=le(a),c=l.toString(),d=c.replace(/\s*!important/g,""),p=d.length!=c.length?"important":void 0;t.style.setProperty(u,d,p)}}}catch(h){n={error:h}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}}function To(t){return t.clientWidth<t.scrollWidth}function Ro(t){return t.clientHeight<t.scrollHeight}function Do(t,e){"flex"===e?(t.style.removeProperty("width"),t.style.removeProperty("minWidth"),t.style.removeProperty("maxWidth"),t.style.flex="1 1 auto"):Po(t,e)}function Po(t,e){e=Mo(e),t.style.width=e.toString(),t.style.maxWidth=e.toString(),t.style.minWidth=e.toString()}function Lo(t,e){e=Mo(e),t.style.height=e.toString(),t.style.maxHeight=e.toString(),t.style.minHeight=e.toString()}function Mo(t){return"number"===typeof t?"".concat(t,"px"):t}function Ao(t){return t instanceof Node||t instanceof HTMLElement}function ko(t){if(null==t)return[];var e=[];return Io(t,(function(t){return e.push(t)})),e}function No(t,e){if(t)for(var n=0;n<t.length;n++){var o=t[n];e(o.name,o.value)}}function Fo(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n.toString())}function Io(t,e){if(null!=t)for(var n=0;n<t.length;n++)e(t[n])}function Go(t,e){t.then((function(t){var n=t.getGui();null!=n&&("object"===typeof n?e.appendChild(n):e.innerHTML=n)}))}var Ho=Object.freeze({__proto__:null,radioCssClass:Jn,FOCUSABLE_SELECTOR:to,FOCUSABLE_EXCLUDE:eo,isFocusableFormField:no,setDisplayed:oo,setVisible:ro,setDisabled:io,isElementChildOfClass:so,getElementSize:ao,getInnerHeight:lo,getInnerWidth:uo,getAbsoluteHeight:co,getAbsoluteWidth:po,getElementRectWithOffset:ho,isRtlNegativeScroll:fo,getScrollLeft:go,setScrollLeft:vo,clearElement:mo,removeFromParent:yo,isVisible:Co,loadTemplate:wo,appendHtml:function(t,e){t.lastChild?t.insertAdjacentHTML("afterbegin",e):t.innerHTML=e},offsetHeight:bo,offsetWidth:_o,ensureDomOrder:So,setDomChildOrder:Eo,insertWithDomOrder:Oo,addStylesToElement:xo,isHorizontalScrollShowing:To,isVerticalScrollShowing:Ro,setElementWidth:Do,setFixedWidth:Po,setElementHeight:function(t,e){"flex"===e?(t.style.removeProperty("height"),t.style.removeProperty("minHeight"),t.style.removeProperty("maxHeight"),t.style.flex="1 1 auto"):Lo(t,e)},setFixedHeight:Lo,formatSize:Mo,isNodeOrElement:Ao,copyNodeList:ko,iterateNamedNodeMap:No,addOrRemoveAttribute:Fo,nodeListForEach:Io,bindCellRendererToHtmlElement:Go}),Vo=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function jo(t,e,n){var o={},r=t.filter((function(t){return!e.some((function(e){return e===t}))}));return r.length>0&&r.forEach((function(t){return o[t]=Bo(t,n).values})),o}function Bo(t,e,n,o){var r,i,s=e.map((function(e,n){return{value:e,relevance:Wo(t.toLowerCase(),e.toLocaleLowerCase()),idx:n}}));if(s.sort((function(t,e){return e.relevance-t.relevance})),n&&(s=s.filter((function(t){return 0!==t.relevance}))),s.length>0&&o&&o>0){var a=s[0].relevance*o;s=s.filter((function(t){return a-t.relevance<0}))}var l=[],u=[];try{for(var c=Vo(s),d=c.next();!d.done;d=c.next()){var p=d.value;l.push(p.value),u.push(p.idx)}}catch(h){r={error:h}}finally{try{d&&!d.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}return{values:l,indices:u}}function Wo(t,e){for(var n=t.replace(/\s/g,""),o=e.replace(/\s/g,""),r=0,i=-1,s=0;s<n.length;s++){var a=o.indexOf(n[s],i+1);-1!==a&&(r+=100-100*(i=a)/1e4*100)}return r}var zo=Object.freeze({__proto__:null,fuzzyCheckStrings:jo,fuzzySuggestions:Bo}),Uo={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus"};function Yo(t,e,n){var o=Ko(t,e,n);if(o){var r=o.className;if("string"===typeof r&&r.indexOf("ag-icon")>-1||"object"===typeof r&&r["ag-icon"])return o}var i=document.createElement("span");return i.appendChild(o),i}function Ko(t,e,n,o){var r=null,i=n&&n.getColDef().icons;if(i&&(r=i[t]),e&&!r){var s=e.get("icons");s&&(r=s[t])}if(!r){var a=document.createElement("span"),l=Uo[t];return l||(o?l=t:(console.warn("AG Grid: Did not find icon ".concat(t)),l="")),a.setAttribute("class","ag-icon ag-icon-".concat(l)),a.setAttribute("unselectable","on"),je(a,"presentation"),a}var u=void 0;if("function"===typeof r)u=r();else{if("string"!==typeof r)throw new Error("icon from grid options needs to be a string or a function");u=r}return"string"===typeof u?wo(u):Ao(u)?u:void console.warn("AG Grid: iconRenderer should return back a string or a dom object")}var Zo=Object.freeze({__proto__:null,iconNameClassMap:Uo,createIcon:Yo,createIconNoSpan:Ko}),qo=function(){function t(){}return t.BACKSPACE="Backspace",t.TAB="Tab",t.ENTER="Enter",t.ESCAPE="Escape",t.SPACE=" ",t.LEFT="ArrowLeft",t.UP="ArrowUp",t.RIGHT="ArrowRight",t.DOWN="ArrowDown",t.DELETE="Delete",t.F2="F2",t.PAGE_UP="PageUp",t.PAGE_DOWN="PageDown",t.PAGE_HOME="Home",t.PAGE_END="End",t.A="KeyA",t.C="KeyC",t.D="KeyD",t.V="KeyV",t.X="KeyX",t.Y="KeyY",t.Z="KeyZ",t}();function Qo(t){return!(t.altKey||t.ctrlKey||t.metaKey)&&1===t.key.length}function Xo(t,e,n,o,r){var i=o?o.getColDef().suppressKeyboardEvent:void 0;if(!i)return!1;var s={event:e,editing:r,column:o,api:t.api,node:n,data:n.data,colDef:o.getColDef(),context:t.context,columnApi:t.columnApi};if(i&&i(s))return!0;return!1}function $o(t,e,n,o){var i=o.getDefinition(),s=i&&i.suppressHeaderKeyboardEvent;return!!r(s)&&!!s({api:t.api,columnApi:t.columnApi,context:t.context,colDef:i,column:o,headerRowIndex:n,event:e})}function Jo(t){var e;switch(t.keyCode){case 65:e=qo.A;break;case 67:e=qo.C;break;case 86:e=qo.V;break;case 68:e=qo.D;break;case 90:e=qo.Z;break;case 89:e=qo.Y;break;default:e=t.code}return e}function tr(t,e){return void 0===e&&(e=!1),t===qo.DELETE||!e&&t===qo.BACKSPACE&&Dn()}var er=Object.freeze({__proto__:null,isEventFromPrintableCharacter:Qo,isUserSuppressingKeyboardEvent:Xo,isUserSuppressingHeaderKeyboardEvent:$o,normaliseQwertyAzerty:Jo,isDeleteKey:tr});function nr(t,e,n){if(0===n)return!1;var o=Math.abs(t.clientX-e.clientX),r=Math.abs(t.clientY-e.clientY);return Math.max(o,r)<=n}var or=Object.freeze({__proto__:null,areEventsNear:nr});var rr=Object.freeze({__proto__:null,sortRowNodesByOrder:function(t,e){if(!t)return!1;for(var n=function(t,n){var o=e[t.id],r=e[n.id],i=void 0!==o,s=void 0!==r;return i&&s?o-r:!i&&!s?t.__objectId-n.__objectId:i?1:-1},o=!1,r=0;r<t.length-1;r++)if(n(t[r],t[r+1])>0){o=!0;break}return!!o&&(t.sort(n),!0)}});function ir(t){var e=new Set;return t.forEach((function(t){return e.add(t)})),e}var sr,ar=Object.freeze({__proto__:null,convertToSet:ir}),lr=function(){return lr=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},lr.apply(this,arguments)},ur=lr(lr(lr(lr(lr(lr(lr(lr(lr(lr(lr(lr(lr(lr(lr(lr(lr(lr({},En),Lt),Hn),Qn),Ho),Wt),U),zo),p),Zo),er),de),or),Wn),R),rr),ar),ue),cr=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=1),this.nextValue=t,this.step=e}return t.prototype.next=function(){var t=this.nextValue;return this.nextValue+=this.step,t},t.prototype.peek=function(){return this.nextValue},t.prototype.skip=function(t){this.nextValue+=t},t}();!function(t){t[t.IN_PROGRESS=0]="IN_PROGRESS",t[t.RESOLVED=1]="RESOLVED"}(sr||(sr={}));var dr,pr,hr=function(){function t(t){var e=this;this.status=sr.IN_PROGRESS,this.resolution=null,this.waiters=[],t((function(t){return e.onDone(t)}),(function(t){return e.onReject(t)}))}return t.all=function(e){return new t((function(t){var n=e.length,o=new Array(n);e.forEach((function(e,r){e.then((function(e){o[r]=e,0===--n&&t(o)}))}))}))},t.resolve=function(e){return void 0===e&&(e=null),new t((function(t){return t(e)}))},t.prototype.then=function(e){var n=this;return new t((function(t){n.status===sr.RESOLVED?t(e(n.resolution)):n.waiters.push((function(n){return t(e(n))}))}))},t.prototype.resolveNow=function(t,e){return this.status===sr.RESOLVED?e(this.resolution):t},t.prototype.onDone=function(t){this.status=sr.RESOLVED,this.resolution=t,this.waiters.forEach((function(e){return e(t)}))},t.prototype.onReject=function(t){console.warn("TBI")},t}(),fr=function(){function t(){this.timestamp=(new Date).getTime()}return t.prototype.print=function(t){var e=(new Date).getTime()-this.timestamp;console.info("".concat(t," = ").concat(e)),this.timestamp=(new Date).getTime()},t}(),gr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),vr=function(){return vr=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},vr.apply(this,arguments)},mr=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t[t.NOTHING=0]="NOTHING",t[t.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",t[t.SHOWING=2]="SHOWING"}(dr||(dr={})),function(t){t[t.HOVER=0]="HOVER",t[t.FOCUS=1]="FOCUS"}(pr||(pr={}));var yr=function(t){function e(e,n,o){var r=t.call(this)||this;return r.parentComp=e,r.tooltipShowDelayOverride=n,r.tooltipHideDelayOverride=o,r.SHOW_QUICK_TOOLTIP_DIFF=1e3,r.FADE_OUT_TOOLTIP_TIMEOUT=1e3,r.INTERACTIVE_HIDE_DELAY=100,r.interactionEnabled=!1,r.isInteractingWithTooltip=!1,r.state=dr.NOTHING,r.tooltipInstanceCount=0,r.tooltipMouseTrack=!1,r}return gr(e,t),e.prototype.postConstruct=function(){this.gridOptionsService.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gridOptionsService.get("tooltipMouseTrack");var t=this.parentComp.getGui();this.tooltipTrigger===pr.HOVER&&(this.addManagedListener(t,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(t,"mouseleave",this.onMouseLeave.bind(this))),this.tooltipTrigger===pr.FOCUS&&(this.addManagedListener(t,"focusin",this.onFocusIn.bind(this)),this.addManagedListener(t,"focusout",this.onFocusOut.bind(this))),this.addManagedListener(t,"mousemove",this.onMouseMove.bind(this)),this.interactionEnabled||(this.addManagedListener(t,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(t,"keydown",this.onKeyDown.bind(this)))},e.prototype.getGridOptionsTooltipDelay=function(t){var e=this.gridOptionsService.get(t);return e<0&&L("".concat(t," should not be lower than 0")),Math.max(200,e)},e.prototype.getTooltipDelay=function(t){var e,n;return"show"===t?null!==(e=this.tooltipShowDelayOverride)&&void 0!==e?e:this.getGridOptionsTooltipDelay("tooltipShowDelay"):null!==(n=this.tooltipHideDelayOverride)&&void 0!==n?n:this.getGridOptionsTooltipDelay("tooltipHideDelay")},e.prototype.destroy=function(){this.setToDoNothing(),t.prototype.destroy.call(this)},e.prototype.getTooltipTrigger=function(){var t=this.gridOptionsService.get("tooltipTrigger");return t&&"hover"!==t?pr.FOCUS:pr.HOVER},e.prototype.onMouseEnter=function(t){var n=this;this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),Pn()||(e.isLocked?this.showTooltipTimeoutId=window.setTimeout((function(){n.prepareToShowTooltip(t)}),this.INTERACTIVE_HIDE_DELAY):this.prepareToShowTooltip(t))},e.prototype.onMouseMove=function(t){this.lastMouseEvent&&(this.lastMouseEvent=t),this.tooltipMouseTrack&&this.state===dr.SHOWING&&this.tooltipComp&&this.positionTooltip()},e.prototype.onMouseDown=function(){this.setToDoNothing()},e.prototype.onMouseLeave=function(){this.interactionEnabled?this.lockService():this.setToDoNothing()},e.prototype.onFocusIn=function(){this.prepareToShowTooltip()},e.prototype.onFocusOut=function(t){var e,n=t.relatedTarget,o=this.parentComp.getGui(),r=null===(e=this.tooltipComp)||void 0===e?void 0:e.getGui();this.isInteractingWithTooltip||o.contains(n)||this.interactionEnabled&&(null===r||void 0===r?void 0:r.contains(n))||this.setToDoNothing()},e.prototype.onKeyDown=function(){this.setToDoNothing()},e.prototype.prepareToShowTooltip=function(t){if(this.state!=dr.NOTHING||e.isLocked)return!1;var n=0;return t&&(n=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=t||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),n),this.state=dr.WAITING_TO_SHOW,!0},e.prototype.isLastTooltipHiddenRecently=function(){return(new Date).getTime()-e.lastTooltipHideTime<this.SHOW_QUICK_TOOLTIP_DIFF},e.prototype.setToDoNothing=function(){this.state===dr.SHOWING&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.clearTimeouts(),this.state=dr.NOTHING,this.lastMouseEvent=null},e.prototype.showTooltip=function(){var t=vr({},this.parentComp.getTooltipParams());if(r(t.value)){this.state=dr.SHOWING,this.tooltipInstanceCount++;var e=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(t).newAgStackInstance().then(e)}else this.setToDoNothing()},e.prototype.hideTooltip=function(t){if(t||!this.isInteractingWithTooltip){this.tooltipComp&&(this.destroyTooltipComp(),e.lastTooltipHideTime=(new Date).getTime());var n={type:$t.EVENT_TOOLTIP_HIDE,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(n),this.state=dr.NOTHING}},e.prototype.newTooltipComponentCallback=function(t,e){if(this.state!==dr.SHOWING||this.tooltipInstanceCount!==t)this.getContext().destroyBean(e);else{var n=e.getGui();this.tooltipComp=e,n.classList.contains("ag-tooltip")||n.classList.add("ag-tooltip-custom"),this.tooltipTrigger===pr.HOVER&&n.classList.add("ag-tooltip-animate"),this.interactionEnabled&&n.classList.add("ag-tooltip-interactive");var o=this.localeService.getLocaleTextFunc(),r=this.popupService.addPopup({eChild:n,ariaLabel:o("ariaLabelTooltip","Tooltip")});r&&(this.tooltipPopupDestroyFunc=r.hideFunc),this.positionTooltip(),this.tooltipTrigger===pr.FOCUS&&(this.onBodyScrollEventCallback=this.addManagedListener(this.eventService,$t.EVENT_BODY_SCROLL,this.setToDoNothing.bind(this)),this.onColumnMovedEventCallback=this.addManagedListener(this.eventService,$t.EVENT_COLUMN_MOVED,this.setToDoNothing.bind(this))),this.interactionEnabled&&(this.tooltipTrigger===pr.HOVER?(this.tooltipMouseEnterListener=this.addManagedListener(n,"mouseenter",this.onTooltipMouseEnter.bind(this))||null,this.tooltipMouseLeaveListener=this.addManagedListener(n,"mouseleave",this.onTooltipMouseLeave.bind(this))||null):(this.tooltipFocusInListener=this.addManagedListener(n,"focusin",this.onTooltipFocusIn.bind(this))||null,this.tooltipFocusOutListener=this.addManagedListener(n,"focusout",this.onTooltipFocusOut.bind(this))||null));var i={type:$t.EVENT_TOOLTIP_SHOW,tooltipGui:n,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(i),this.startHideTimeout()}},e.prototype.onTooltipMouseEnter=function(){this.isInteractingWithTooltip=!0,this.unlockService()},e.prototype.onTooltipMouseLeave=function(){this.isInteractingWithTooltip=!1,this.lockService()},e.prototype.onTooltipFocusIn=function(){this.isInteractingWithTooltip=!0},e.prototype.onTooltipFocusOut=function(t){var e,n=this.parentComp.getGui(),o=null===(e=this.tooltipComp)||void 0===e?void 0:e.getGui(),r=t.relatedTarget;(null===o||void 0===o?void 0:o.contains(r))||(this.isInteractingWithTooltip=!1,n.contains(r)?this.startHideTimeout():this.hideTooltip())},e.prototype.positionTooltip=function(){var t={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent(vr(vr({},t),{mouseEvent:this.lastMouseEvent})):this.popupService.positionPopupByComponent(vr(vr({},t),{eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5}))},e.prototype.destroyTooltipComp=function(){var t=this;this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");var e=this.tooltipPopupDestroyFunc,n=this.tooltipComp,o=this.tooltipTrigger===pr.HOVER?this.FADE_OUT_TOOLTIP_TIMEOUT:0;window.setTimeout((function(){e(),t.getContext().destroyBean(n)}),o),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0},e.prototype.clearTooltipListeners=function(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach((function(t){t&&t()})),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null},e.prototype.lockService=function(){var t=this;e.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout((function(){t.unlockService(),t.setToDoNothing()}),this.INTERACTIVE_HIDE_DELAY)},e.prototype.unlockService=function(){e.isLocked=!1,this.clearInteractiveTimeout()},e.prototype.startHideTimeout=function(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))},e.prototype.clearShowTimeout=function(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)},e.prototype.clearHideTimeout=function(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)},e.prototype.clearInteractiveTimeout=function(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)},e.prototype.clearTimeouts=function(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()},e.isLocked=!1,mr([nt("popupService")],e.prototype,"popupService",void 0),mr([nt("userComponentFactory")],e.prototype,"userComponentFactory",void 0),mr([J],e.prototype,"postConstruct",null),e}(Ut),Cr=function(){function t(t){this.cssClassStates={},this.getGui=t}return t.prototype.addCssClass=function(t){var e=this,n=(t||"").split(" ");if(n.length>1)n.forEach((function(t){return e.addCssClass(t)}));else if(!0!==this.cssClassStates[t]&&t.length){var o=this.getGui();o&&o.classList.add(t),this.cssClassStates[t]=!0}},t.prototype.removeCssClass=function(t){var e=this,n=(t||"").split(" ");if(n.length>1)n.forEach((function(t){return e.removeCssClass(t)}));else if(!1!==this.cssClassStates[t]&&t.length){var o=this.getGui();o&&o.classList.remove(t),this.cssClassStates[t]=!1}},t.prototype.containsCssClass=function(t){var e=this.getGui();return!!e&&e.classList.contains(t)},t.prototype.addOrRemoveCssClass=function(t,e){var n=this;if(t){if(t.indexOf(" ")>=0){var o=(t||"").split(" ");if(o.length>1)return void o.forEach((function(t){return n.addOrRemoveCssClass(t,e)}))}if(this.cssClassStates[t]!==e&&t.length){var r=this.getGui();r&&r.classList.toggle(t,e),this.cssClassStates[t]=e}}},t}(),wr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),br=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},_r=new cr,Sr=function(t){function e(e){var n=t.call(this)||this;return n.displayed=!0,n.visible=!0,n.compId=_r.next(),n.cssClassManager=new Cr((function(){return n.eGui})),e&&n.setTemplate(e),n}return wr(e,t),e.prototype.preConstructOnComponent=function(){this.usingBrowserTooltips=this.gridOptionsService.get("enableBrowserTooltips")},e.prototype.getCompId=function(){return this.compId},e.prototype.getTooltipParams=function(){return{value:this.tooltipText,location:"UNKNOWN"}},e.prototype.setTooltip=function(t,e,n){var o=this;this.tooltipText!=t&&(this.tooltipText&&(o.usingBrowserTooltips?o.getGui().removeAttribute("title"):o.tooltipFeature=o.destroyBean(o.tooltipFeature)),null!=t&&(this.tooltipText=t,this.tooltipText&&(o.usingBrowserTooltips?o.getGui().setAttribute("title",o.tooltipText):o.tooltipFeature=o.createBean(new yr(o,e,n)))))},e.prototype.createChildComponentsFromTags=function(t,e){var n=this;ko(t.childNodes).forEach((function(o){if(o instanceof HTMLElement){var r=n.createComponentFromElement(o,(function(t){t.getGui()&&n.copyAttributesFromNode(o,t.getGui())}),e);if(r){if(r.addItems&&o.children.length){n.createChildComponentsFromTags(o,e);var i=Array.prototype.slice.call(o.children);r.addItems(i)}n.swapComponentForNode(r,t,o)}else o.childNodes&&n.createChildComponentsFromTags(o,e)}}))},e.prototype.createComponentFromElement=function(t,n,o){var r=t.nodeName,i=o?o[t.getAttribute("ref")]:void 0,s=this.agStackComponentsRegistry.getComponentClass(r);if(s){e.elementGettingCreated=t;var a=new s(i);return a.setParentComponent(this),this.createBean(a,null,n),a}return null},e.prototype.copyAttributesFromNode=function(t,e){No(t.attributes,(function(t,n){return e.setAttribute(t,n)}))},e.prototype.swapComponentForNode=function(t,e,n){var o=t.getGui();e.replaceChild(o,n),e.insertBefore(document.createComment(n.nodeName),o),this.addDestroyFunc(this.destroyBean.bind(this,t)),this.swapInComponentForQuerySelectors(t,n)},e.prototype.swapInComponentForQuerySelectors=function(t,e){var n=this;this.iterateOverQuerySelectors((function(o){n[o.attributeName]===e&&(n[o.attributeName]=t)}))},e.prototype.iterateOverQuerySelectors=function(t){for(var e=Object.getPrototypeOf(this);null!=e;){var n=e.__agComponentMetaData,o=A(e.constructor);n&&n[o]&&n[o].querySelectors&&n[o].querySelectors.forEach((function(e){return t(e)})),e=Object.getPrototypeOf(e)}},e.prototype.activateTabIndex=function(t){var e=this.gridOptionsService.get("tabIndex");t||(t=[]),t.length||t.push(this.getGui()),t.forEach((function(t){return t.setAttribute("tabindex",e.toString())}))},e.prototype.setTemplate=function(t,e){var n=wo(t);this.setTemplateFromElement(n,e)},e.prototype.setTemplateFromElement=function(t,e){this.eGui=t,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),e)},e.prototype.createChildComponentsPreConstruct=function(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())},e.prototype.wireQuerySelectors=function(){var t=this;if(this.eGui){var e=this;this.iterateOverQuerySelectors((function(n){var o=function(t){return e[n.attributeName]=t};if(n.refSelector&&t.getAttribute("ref")===n.refSelector)o(t.eGui);else{var r=t.eGui.querySelector(n.querySelector);r&&o(r.__agComponent||r)}}))}},e.prototype.getGui=function(){return this.eGui},e.prototype.getFocusableElement=function(){return this.eGui},e.prototype.getAriaElement=function(){return this.getFocusableElement()},e.prototype.setParentComponent=function(t){this.parentComponent=t},e.prototype.getParentComponent=function(){return this.parentComponent},e.prototype.setGui=function(t){this.eGui=t},e.prototype.queryForHtmlElement=function(t){return this.eGui.querySelector(t)},e.prototype.queryForHtmlInputElement=function(t){return this.eGui.querySelector(t)},e.prototype.appendChild=function(t,e){if(null!=t)if(e||(e=this.eGui),Ao(t))e.appendChild(t);else{var n=t;e.appendChild(n.getGui())}},e.prototype.isDisplayed=function(){return this.displayed},e.prototype.setVisible=function(t,e){if(void 0===e&&(e={}),t!==this.visible){this.visible=t;var n=e.skipAriaHidden;ro(this.eGui,t,{skipAriaHidden:n})}},e.prototype.setDisplayed=function(t,n){if(void 0===n&&(n={}),t!==this.displayed){this.displayed=t;var o=n.skipAriaHidden;oo(this.eGui,t,{skipAriaHidden:o});var r={type:e.EVENT_DISPLAYED_CHANGED,visible:this.displayed};this.dispatchEvent(r)}},e.prototype.destroy=function(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.parentComponent&&(this.parentComponent=void 0);var e=this.eGui;e&&e.__agComponent&&(e.__agComponent=void 0),t.prototype.destroy.call(this)},e.prototype.addGuiEventListener=function(t,e,n){var o=this;this.eGui.addEventListener(t,e,n),this.addDestroyFunc((function(){return o.eGui.removeEventListener(t,e)}))},e.prototype.addCssClass=function(t){this.cssClassManager.addCssClass(t)},e.prototype.removeCssClass=function(t){this.cssClassManager.removeCssClass(t)},e.prototype.containsCssClass=function(t){return this.cssClassManager.containsCssClass(t)},e.prototype.addOrRemoveCssClass=function(t,e){this.cssClassManager.addOrRemoveCssClass(t,e)},e.prototype.getAttribute=function(t){var e=this.eGui;return e?e.getAttribute(t):null},e.prototype.getRefElement=function(t){return this.queryForHtmlElement('[ref="'.concat(t,'"]'))},e.EVENT_DISPLAYED_CHANGED="displayedChanged",br([nt("agStackComponentsRegistry")],e.prototype,"agStackComponentsRegistry",void 0),br([$],e.prototype,"preConstructOnComponent",null),br([$],e.prototype,"createChildComponentsPreConstruct",null),e}(Ut);function Er(t){return xr.bind(this,t,void 0)}function Or(t){return xr.bind(this,"[ref=".concat(t,"]"),t)}function xr(t,e,n,o,r){null!==t?"number"!==typeof r?function(t,e,n){var o=function(t,e){t.__agComponentMetaData||(t.__agComponentMetaData={});t.__agComponentMetaData[e]||(t.__agComponentMetaData[e]={});return t.__agComponentMetaData[e]}(t,A(t.constructor));o[e]||(o[e]=[]);o[e].push(n)}(n,"querySelectors",{attributeName:o,querySelector:t,refSelector:e}):console.error("AG Grid: QuerySelector should be on an attribute"):console.error("AG Grid: QuerySelector selector should not be null")}var Tr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Rr=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Dr=function(t){function e(){return t.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this}return Tr(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.init=function(t){this.params=t;var e=this.columnModel.getDisplayNameForColumn(t.column,"header",!0),n=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel("".concat(e," ").concat(n("ariaFilterInput","Filter Input")))},e.prototype.onParentModelChanged=function(t){var e=this;t?this.params.parentFilterInstance((function(n){if(n.getModelAsString){var o=n.getModelAsString(t);e.eFloatingFilterText.setValue(o)}})):this.eFloatingFilterText.setValue("")},e.prototype.onParamsUpdated=function(t){this.init(t)},Rr([Or("eFloatingFilterText")],e.prototype,"eFloatingFilterText",void 0),Rr([nt("columnModel")],e.prototype,"columnModel",void 0),e}(Sr),Pr=function(){function t(t,e,n,o){var r=this;this.alive=!0,this.context=t,this.eParent=o,e.getDateCompDetails(n).newAgStackInstance().then((function(e){r.alive?(r.dateComp=e,e&&(o.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached(),r.tempValue&&e.setDate(r.tempValue),null!=r.disabled&&r.setDateCompDisabled(r.disabled))):t.destroyBean(e)}))}return t.prototype.destroy=function(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)},t.prototype.getDate=function(){return this.dateComp?this.dateComp.getDate():this.tempValue},t.prototype.setDate=function(t){this.dateComp?this.dateComp.setDate(t):this.tempValue=t},t.prototype.setDisabled=function(t){this.dateComp?this.setDateCompDisabled(t):this.disabled=t},t.prototype.setDisplayed=function(t){oo(this.eParent,t)},t.prototype.setInputPlaceholder=function(t){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(t)},t.prototype.setInputAriaLabel=function(t){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(t)},t.prototype.afterGuiAttached=function(t){this.dateComp&&"function"===typeof this.dateComp.afterGuiAttached&&this.dateComp.afterGuiAttached(t)},t.prototype.updateParams=function(t){var e;(null===(e=this.dateComp)||void 0===e?void 0:e.onParamsUpdated)&&"function"===typeof this.dateComp.onParamsUpdated&&this.dateComp.onParamsUpdated(t)},t.prototype.setDateCompDisabled=function(t){null!=this.dateComp&&null!=this.dateComp.setDisabled&&this.dateComp.setDisabled(t)},t}(),Lr=function(){function t(){this.customFilterOptions={}}return t.prototype.init=function(t,e){this.filterOptions=t.filterOptions||e,this.mapCustomOptions(),this.selectDefaultItem(t)},t.prototype.getFilterOptions=function(){return this.filterOptions},t.prototype.mapCustomOptions=function(){var t=this;this.filterOptions&&this.filterOptions.forEach((function(e){if("string"!==typeof e){[["displayKey"],["displayName"],["predicate","test"]].every((function(t){return!!t.some((function(t){return null!=e[t]}))||(console.warn("AG Grid: ignoring FilterOptionDef as it doesn't contain one of '".concat(t,"'")),!1)}))?t.customFilterOptions[e.displayKey]=e:t.filterOptions=t.filterOptions.filter((function(t){return t===e}))||[]}}))},t.prototype.selectDefaultItem=function(t){if(t.defaultOption)this.defaultOption=t.defaultOption;else if(this.filterOptions.length>=1){var e=this.filterOptions[0];"string"===typeof e?this.defaultOption=e:e.displayKey?this.defaultOption=e.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")},t.prototype.getDefaultOption=function(){return this.defaultOption},t.prototype.getCustomOption=function(t){return this.customFilterOptions[t]},t}(),Mr={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},Ar=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),kr=function(){return kr=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},kr.apply(this,arguments)},Nr=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Fr=function(t){function e(e,n){void 0===n&&(n={});var o=t.call(this)||this;return o.eFocusableElement=e,o.callbacks=n,o.callbacks=kr({shouldStopEventPropagation:function(){return!1},onTabKeyDown:function(t){if(!t.defaultPrevented){var e=o.focusService.findNextFocusableElement(o.eFocusableElement,!1,t.shiftKey);e&&(e.focus(),t.preventDefault())}}},n),o}return Ar(e,t),e.prototype.postConstruct=function(){this.eFocusableElement.classList.add(e.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)},e.prototype.addKeyDownListeners=function(t){var e=this;this.addManagedListener(t,"keydown",(function(t){t.defaultPrevented||Ft(t)||(e.callbacks.shouldStopEventPropagation(t)?Nt(t):t.key===qo.TAB?e.callbacks.onTabKeyDown(t):e.callbacks.handleKeyDown&&e.callbacks.handleKeyDown(t))}))},e.FOCUS_MANAGED_CLASS="ag-focus-managed",Nr([nt("focusService")],e.prototype,"focusService",void 0),Nr([J],e.prototype,"postConstruct",null),e}(Ut),Ir=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Gr=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Hr="ag-resizer-wrapper",Vr='<div class="'.concat(Hr,'">\n        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>\n        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>\n        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>\n        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>\n        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>\n        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>\n        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>\n        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>\n    </div>'),jr=function(t){function e(e,n){var o=t.call(this)||this;return o.element=e,o.dragStartPosition={x:0,y:0},o.position={x:0,y:0},o.lastSize={width:-1,height:-1},o.positioned=!1,o.resizersAdded=!1,o.resizeListeners=[],o.boundaryEl=null,o.isResizing=!1,o.isMoving=!1,o.resizable={},o.movable=!1,o.currentResizer=null,o.config=Object.assign({},{popup:!1},n),o}return Ir(e,t),e.prototype.center=function(){var t=this.offsetParent,e=t.clientHeight,n=t.clientWidth/2-this.getWidth()/2,o=e/2-this.getHeight()/2;this.offsetElement(n,o)},e.prototype.initialisePosition=function(){if(!this.positioned){var t=this.config,e=t.centered,n=t.forcePopupParentAsOffsetParent,o=t.minWidth,r=t.width,i=t.minHeight,s=t.height,a=t.x,l=t.y;this.offsetParent||this.setOffsetParent();var u=0,c=0,d=Co(this.element);if(d){var p=this.findBoundaryElement(),h=window.getComputedStyle(p);if(null!=h.minWidth){var f=p.offsetWidth-this.element.offsetWidth;c=parseInt(h.minWidth,10)-f}if(null!=h.minHeight){var g=p.offsetHeight-this.element.offsetHeight;u=parseInt(h.minHeight,10)-g}}if(this.minHeight=i||u,this.minWidth=o||c,r&&this.setWidth(r),s&&this.setHeight(s),r&&s||this.refreshSize(),e)this.center();else if(a||l)this.offsetElement(a,l);else if(d&&n){var v=!0;if((p=this.boundaryEl)||(p=this.findBoundaryElement(),v=!1),p){var m=parseFloat(p.style.top),y=parseFloat(p.style.left);v?this.offsetElement(isNaN(y)?0:y,isNaN(m)?0:m):this.setPosition(y,m)}}this.positioned=!!this.offsetParent}},e.prototype.isPositioned=function(){return this.positioned},e.prototype.getPosition=function(){return this.position},e.prototype.setMovable=function(t,e){if(this.config.popup&&t!==this.movable){this.movable=t;var n=this.moveElementDragListener||{eElement:e,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};t?(this.dragService.addDragSource(n),this.moveElementDragListener=n):(this.dragService.removeDragSource(n),this.moveElementDragListener=void 0)}},e.prototype.setResizable=function(t){var e=this;if(this.clearResizeListeners(),t?this.addResizers():this.removeResizers(),"boolean"===typeof t){if(!1===t)return;t={topLeft:t,top:t,topRight:t,right:t,bottomRight:t,bottom:t,bottomLeft:t,left:t}}Object.keys(t).forEach((function(n){var o=!!t[n],r=e.getResizerElement(n),i={dragStartPixels:0,eElement:r,onDragStart:function(t){return e.onResizeStart(t,n)},onDragging:e.onResize.bind(e),onDragStop:function(t){return e.onResizeEnd(t,n)}};(o||!e.isAlive()&&!o)&&(o?(e.dragService.addDragSource(i),e.resizeListeners.push(i),r.style.pointerEvents="all"):r.style.pointerEvents="none",e.resizable[n]=o)}))},e.prototype.removeSizeFromEl=function(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")},e.prototype.restoreLastSize=function(){this.element.style.flex="0 0 auto";var t=this.lastSize,e=t.height,n=t.width;-1!==n&&(this.element.style.width="".concat(n,"px")),-1!==e&&(this.element.style.height="".concat(e,"px"))},e.prototype.getHeight=function(){return this.element.offsetHeight},e.prototype.setHeight=function(t){var e=this.config.popup,n=this.element,o=!1;if("string"===typeof t&&-1!==t.indexOf("%"))Lo(n,t),t=co(n),o=!0;else if(t=Math.max(this.minHeight,t),this.positioned){var r=this.getAvailableHeight();r&&t>r&&(t=r)}this.getHeight()!==t&&(o?(n.style.maxHeight="unset",n.style.minHeight="unset"):e?Lo(n,t):(n.style.height="".concat(t,"px"),n.style.flex="0 0 auto",this.lastSize.height="number"===typeof t?t:parseFloat(t)))},e.prototype.getAvailableHeight=function(){var t=this.config,e=t.popup,n=t.forcePopupParentAsOffsetParent;this.positioned||this.initialisePosition();var o=this.offsetParent.clientHeight;if(!o)return null;var r=this.element.getBoundingClientRect(),i=this.offsetParent.getBoundingClientRect(),s=e?this.position.y:r.top,a=e?0:i.top,l=0;if(n){var u=this.element.parentElement;if(u)l=u.getBoundingClientRect().bottom-r.bottom}return o+a-s-l},e.prototype.getWidth=function(){return this.element.offsetWidth},e.prototype.setWidth=function(t){var e=this.element,n=this.config.popup,o=!1;if("string"===typeof t&&-1!==t.indexOf("%"))Po(e,t),t=po(e),o=!0;else if(this.positioned){t=Math.max(this.minWidth,t);var r=this.offsetParent.clientWidth,i=n?this.position.x:this.element.getBoundingClientRect().left;r&&t+i>r&&(t=r-i)}this.getWidth()!==t&&(o?(e.style.maxWidth="unset",e.style.minWidth="unset"):this.config.popup?Po(e,t):(e.style.width="".concat(t,"px"),e.style.flex=" unset",this.lastSize.width="number"===typeof t?t:parseFloat(t)))},e.prototype.offsetElement=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var n=this.config.forcePopupParentAsOffsetParent?this.boundaryEl:this.element;n&&(this.popupService.positionPopup({ePopup:n,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:function(){return{x:t,y:e}}}),this.setPosition(parseFloat(n.style.left),parseFloat(n.style.top)))},e.prototype.constrainSizeToAvailableHeight=function(t){var e=this;if(this.config.forcePopupParentAsOffsetParent){t?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),(function(){var t=e.getAvailableHeight();e.element.style.setProperty("max-height","".concat(t,"px"))})):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}},e.prototype.setPosition=function(t,e){this.position.x=t,this.position.y=e},e.prototype.updateDragStartPosition=function(t,e){this.dragStartPosition={x:t,y:e}},e.prototype.calculateMouseMovement=function(t){var e=t.e,n=t.isLeft,o=t.isTop,r=t.anywhereWithin,i=t.topBuffer,s=e.clientX-this.dragStartPosition.x,a=e.clientY-this.dragStartPosition.y;return{movementX:this.shouldSkipX(e,!!n,!!r,s)?0:s,movementY:this.shouldSkipY(e,!!o,i,a)?0:a}},e.prototype.shouldSkipX=function(t,e,n,o){var r=this.element.getBoundingClientRect(),i=this.offsetParent.getBoundingClientRect(),s=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:r.left,l=a<=0&&i.left>=t.clientX||i.right<=t.clientX&&i.right<=s.right;return!!l||(l=e?o<0&&t.clientX>a+i.left||o>0&&t.clientX<a+i.left:n?o<0&&t.clientX>s.right||o>0&&t.clientX<a+i.left:o<0&&t.clientX>s.right||o>0&&t.clientX<s.right)},e.prototype.shouldSkipY=function(t,e,n,o){void 0===n&&(n=0);var r=this.element.getBoundingClientRect(),i=this.offsetParent.getBoundingClientRect(),s=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:r.top,l=a<=0&&i.top>=t.clientY||i.bottom<=t.clientY&&i.bottom<=s.bottom;return!!l||(l=e?o<0&&t.clientY>a+i.top+n||o>0&&t.clientY<a+i.top:o<0&&t.clientY>s.bottom||o>0&&t.clientY<s.bottom)},e.prototype.createResizeMap=function(){var t=this.element;this.resizerMap={topLeft:{element:t.querySelector("[ref=eTopLeftResizer]")},top:{element:t.querySelector("[ref=eTopResizer]")},topRight:{element:t.querySelector("[ref=eTopRightResizer]")},right:{element:t.querySelector("[ref=eRightResizer]")},bottomRight:{element:t.querySelector("[ref=eBottomRightResizer]")},bottom:{element:t.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:t.querySelector("[ref=eBottomLeftResizer]")},left:{element:t.querySelector("[ref=eLeftResizer]")}}},e.prototype.addResizers=function(){if(!this.resizersAdded){var t=this.element;if(t){var e=(new DOMParser).parseFromString(Vr,"text/html").body;t.appendChild(e.firstChild),this.createResizeMap(),this.resizersAdded=!0}}},e.prototype.removeResizers=function(){this.resizerMap=void 0;var t=this.element.querySelector(".".concat(Hr));t&&this.element.removeChild(t),this.resizersAdded=!1},e.prototype.getResizerElement=function(t){return this.resizerMap[t].element},e.prototype.onResizeStart=function(t,e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!e.match(/top/i),isRight:!!e.match(/right/i),isBottom:!!e.match(/bottom/i),isLeft:!!e.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[e].element.classList.add("ag-active");var n=this.config,o=n.popup,r=n.forcePopupParentAsOffsetParent;o||r||this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(t.clientX,t.clientY)},e.prototype.getSiblings=function(){var t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter((function(t){return!t.classList.contains("ag-hidden")})):null},e.prototype.getMinSizeOfSiblings=function(){for(var t=this.getSiblings()||[],e=0,n=0,o=0;o<t.length;o++){var r=t[o],i=!!r.style.flex&&"0 0 auto"!==r.style.flex;if(r!==this.element){var s=this.minHeight||0,a=this.minWidth||0;if(i){var l=window.getComputedStyle(r);l.minHeight&&(s=parseInt(l.minHeight,10)),l.minWidth&&(a=parseInt(l.minWidth,10))}else s=r.offsetHeight,a=r.offsetWidth;e+=s,n+=a}}return{height:e,width:n}},e.prototype.applySizeToSiblings=function(t){var e=null,n=this.getSiblings();if(n){for(var o=0;o<n.length;o++){var r=n[o];r!==e&&(t?r.style.height="".concat(r.offsetHeight,"px"):r.style.width="".concat(r.offsetWidth,"px"),r.style.flex="0 0 auto",r===this.element&&(e=n[o+1]))}e&&(e.style.removeProperty("height"),e.style.removeProperty("min-height"),e.style.removeProperty("max-height"),e.style.flex="1 1 auto")}},e.prototype.isResizable=function(){return Object.values(this.resizable).some((function(t){return t}))},e.prototype.onResize=function(t){if(this.isResizing&&this.currentResizer){var e=this.config,n=e.popup,o=e.forcePopupParentAsOffsetParent,r=this.currentResizer,i=r.isTop,s=r.isRight,a=r.isBottom,l=r.isLeft,u=s||l,c=a||i,d=this.calculateMouseMovement({e:t,isLeft:l,isTop:i}),p=d.movementX,h=d.movementY,f=this.position.x,g=this.position.y,v=0,m=0;if(u&&p){var y=l?-1:1,C=this.getWidth(),w=C+p*y,b=!1;l&&(f+(v=C-w)<=0||w<=this.minWidth)&&(b=!0,v=0),b||this.setWidth(w)}if(c&&h){y=i?-1:1;var _=this.getHeight(),S=_+h*y,E=!1;i?(g+(m=_-S)<=0||S<=this.minHeight)&&(E=!0,m=0):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&_<S&&this.getMinSizeOfSiblings().height+S>this.element.parentElement.offsetHeight&&(E=!0),E||this.setHeight(S)}this.updateDragStartPosition(t.clientX,t.clientY),((n||o)&&v||m)&&this.offsetElement(f+v,g+m)}},e.prototype.onResizeEnd=function(t,e){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;var n={type:"resize",api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi};this.element.classList.remove("ag-resizing"),this.resizerMap[e].element.classList.remove("ag-active"),this.dispatchEvent(n)},e.prototype.refreshSize=function(){var t=this.element;this.config.popup&&(this.config.width||this.setWidth(t.offsetWidth),this.config.height||this.setHeight(t.offsetHeight))},e.prototype.onMoveStart=function(t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(t.clientX,t.clientY)},e.prototype.onMove=function(t){if(this.isMoving){var e,n=this.position,o=n.x,r=n.y;this.config.calculateTopBuffer&&(e=this.config.calculateTopBuffer());var i=this.calculateMouseMovement({e:t,isTop:!0,anywhereWithin:!0,topBuffer:e}),s=i.movementX,a=i.movementY;this.offsetElement(o+s,r+a),this.updateDragStartPosition(t.clientX,t.clientY)}},e.prototype.onMoveEnd=function(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")},e.prototype.setOffsetParent=function(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent},e.prototype.findBoundaryElement=function(){for(var t=this.element;t;){if("static"!==window.getComputedStyle(t).position)return t;t=t.parentElement}return this.element},e.prototype.clearResizeListeners=function(){for(;this.resizeListeners.length;){var t=this.resizeListeners.pop();this.dragService.removeDragSource(t)}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()},Gr([nt("popupService")],e.prototype,"popupService",void 0),Gr([nt("resizeObserverService")],e.prototype,"resizeObserverService",void 0),Gr([nt("dragService")],e.prototype,"dragService",void 0),e}(Ut),Br=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Wr=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},zr=function(t){function e(e){var n=t.call(this)||this;return n.filterNameKey=e,n.applyActive=!1,n.hidePopup=null,n.debouncePending=!1,n.appliedModel=null,n.buttonListeners=[],n}return Br(e,t),e.prototype.postConstruct=function(){this.resetTemplate(),this.createManagedBean(new Fr(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new jr(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)},e.prototype.handleKeyDown=function(t){},e.prototype.getFilterTitle=function(){return this.translate(this.filterNameKey)},e.prototype.isFilterActive=function(){return!!this.appliedModel},e.prototype.resetTemplate=function(t){var e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit);var n='\n            <form class="ag-filter-wrapper">\n                <div class="ag-filter-body-wrapper ag-'.concat(this.getCssIdentifier(),'-body-wrapper" ref="eFilterBody">\n                    ').concat(this.createBodyTemplate(),"\n                </div>\n            </form>");this.setTemplate(n,t),(e=this.getGui())&&e.addEventListener("submit",this.onFormSubmit)},e.prototype.isReadOnly=function(){return!!this.providedFilterParams.readOnly},e.prototype.init=function(t){var e=this;this.setParams(t),this.resetUiToDefaults(!0).then((function(){e.updateUiVisibility(),e.setupOnBtApplyDebounce()}))},e.prototype.setParams=function(t){this.providedFilterParams=t,this.applyActive=e.isUseApplyButton(t),this.resetButtonsPanel()},e.prototype.updateParams=function(t){var n=this;this.providedFilterParams=t,this.applyActive=e.isUseApplyButton(t),this.resetUiToActiveModel(this.getModel(),(function(){n.updateUiVisibility(),n.setupOnBtApplyDebounce()}))},e.prototype.resetButtonsPanel=function(){var t=this,e=this.providedFilterParams.buttons,n=e&&e.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(mo(this.eButtonsPanel),this.buttonListeners.forEach((function(t){return null===t||void 0===t?void 0:t()})),this.buttonListeners=[]):n&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),n){var o=document.createDocumentFragment();ir(e).forEach((function(e){return function(e){var n,r;switch(e){case"apply":n=t.translate("applyFilter"),r=function(e){return t.onBtApply(!1,!1,e)};break;case"clear":n=t.translate("clearFilter"),r=function(){return t.onBtClear()};break;case"reset":n=t.translate("resetFilter"),r=function(){return t.onBtReset()};break;case"cancel":n=t.translate("cancelFilter"),r=function(e){t.onBtCancel(e)};break;default:return void console.warn("AG Grid: Unknown button type specified")}var i=wo('<button\n                    type="'.concat("apply"===e?"submit":"button",'"\n                    ref="').concat(e,'FilterButton"\n                    class="ag-button ag-standard-button ag-filter-apply-panel-button"\n                >').concat(n,"\n                </button>"));t.buttonListeners.push(t.addManagedListener(i,"click",r)),o.append(i)}(e)})),this.eButtonsPanel.append(o),this.getGui().appendChild(this.eButtonsPanel)}else this.eButtonsPanel&&yo(this.eButtonsPanel)},e.prototype.getDefaultDebounceMs=function(){return 0},e.prototype.setupOnBtApplyDebounce=function(){var t=this,n=e.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs()),o=V(this.checkApplyDebounce.bind(this),n);this.onBtApplyDebounce=function(){t.debouncePending=!0,o()}},e.prototype.checkApplyDebounce=function(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())},e.prototype.getModel=function(){return this.appliedModel?this.appliedModel:null},e.prototype.setModel=function(t){var e=this;return(null!=t?this.setModelIntoUi(t):this.resetUiToDefaults()).then((function(){e.updateUiVisibility(),e.applyModel("api")}))},e.prototype.onBtCancel=function(t){var e=this;this.resetUiToActiveModel(this.getModel(),(function(){e.handleCancelEnd(t)}))},e.prototype.handleCancelEnd=function(t){this.providedFilterParams.closeOnApply&&this.close(t)},e.prototype.resetUiToActiveModel=function(t,e){var n=this,o=function(){n.onUiChanged(!1,"prevent"),null===e||void 0===e||e()};null!=t?this.setModelIntoUi(t).then(o):this.resetUiToDefaults().then(o)},e.prototype.onBtClear=function(){var t=this;this.resetUiToDefaults().then((function(){return t.onUiChanged()}))},e.prototype.onBtReset=function(){this.onBtClear(),this.onBtApply()},e.prototype.applyModel=function(t){var e=this.getModelFromUi();if(!this.isModelValid(e))return!1;var n=this.appliedModel;return this.appliedModel=e,!this.areModelsEqual(n,e)},e.prototype.isModelValid=function(t){return!0},e.prototype.onFormSubmit=function(t){t.preventDefault()},e.prototype.onBtApply=function(t,e,n){if(void 0===t&&(t=!1),void 0===e&&(e=!1),n&&n.preventDefault(),this.applyModel(e?"rowDataUpdated":"ui")){this.providedFilterParams.filterChangedCallback({afterFloatingFilter:t,afterDataChange:e,source:"columnFilter"})}this.providedFilterParams.closeOnApply&&this.applyActive&&!t&&!e&&this.close(n)},e.prototype.onNewRowsLoaded=function(){},e.prototype.close=function(t){if(this.hidePopup){var e,n=t,o=n&&n.key;"Enter"!==o&&"Space"!==o||(e={keyboardEvent:n}),this.hidePopup(e),this.hidePopup=null}},e.prototype.onUiChanged=function(t,e){if(void 0===t&&(t=!1),this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){var n=this.isModelValid(this.getModelFromUi()),o=this.getRefElement("applyFilterButton");o&&io(o,!n)}t&&!e||"immediately"===e?this.onBtApply(t):(this.applyActive||e)&&"debounce"!==e||this.onBtApplyDebounce()},e.prototype.afterGuiAttached=function(t){t&&(this.hidePopup=t.hidePopup),this.refreshFilterResizer(null===t||void 0===t?void 0:t.container)},e.prototype.refreshFilterResizer=function(t){if(this.positionableFeature&&"toolPanel"!==t){var e="floatingFilter"===t,n=this.positionableFeature,o=this.gridOptionsService;e?(n.restoreLastSize(),n.setResizable(o.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}},e.prototype.afterGuiDetached=function(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)},e.getDebounceMs=function(t,n){return e.isUseApplyButton(t)?(null!=t.debounceMs&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):null!=t.debounceMs?t.debounceMs:n},e.isUseApplyButton=function(t){return!!t.buttons&&t.buttons.indexOf("apply")>=0},e.prototype.refresh=function(t){return this.providedFilterParams=t,!0},e.prototype.destroy=function(){var e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),t.prototype.destroy.call(this)},e.prototype.translate=function(t){return this.localeService.getLocaleTextFunc()(t,Mr[t])},e.prototype.getCellValue=function(t){return this.providedFilterParams.getValue(t)},e.prototype.getPositionableElement=function(){return this.eFilterBody},Wr([nt("rowModel")],e.prototype,"rowModel",void 0),Wr([Or("eFilterBody")],e.prototype,"eFilterBody",void 0),Wr([J],e.prototype,"postConstruct",null),e}(Sr),Ur=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Yr=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Kr=function(t){function e(e,n){var o=t.call(this,n)||this;return o.labelSeparator="",o.labelAlignment="left",o.disabled=!1,o.label="",o.config=e||{},o}return Ur(e,t),e.prototype.postConstruct=function(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");var t=this.config,e=t.labelSeparator,n=t.label,o=t.labelWidth,r=t.labelAlignment;null!=e&&this.setLabelSeparator(e),null!=n&&this.setLabel(n),null!=o&&this.setLabelWidth(o),this.setLabelAlignment(r||this.labelAlignment),this.refreshLabel()},e.prototype.refreshLabel=function(){mo(this.eLabel),"string"===typeof this.label?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),""===this.label?(oo(this.eLabel,!1),je(this.eLabel,"presentation")):(oo(this.eLabel,!0),je(this.eLabel,null))},e.prototype.setLabelSeparator=function(t){return this.labelSeparator===t||(this.labelSeparator=t,null!=this.label&&this.refreshLabel()),this},e.prototype.getLabelId=function(){return this.eLabel.id=this.eLabel.id||"ag-".concat(this.getCompId(),"-label"),this.eLabel.id},e.prototype.getLabel=function(){return this.label},e.prototype.setLabel=function(t){return this.label===t||(this.label=t,this.refreshLabel()),this},e.prototype.setLabelAlignment=function(t){var e=this.getGui().classList;return e.toggle("ag-label-align-left","left"===t),e.toggle("ag-label-align-right","right"===t),e.toggle("ag-label-align-top","top"===t),this},e.prototype.setLabelEllipsis=function(t){return this.eLabel.classList.toggle("ag-label-ellipsis",t),this},e.prototype.setLabelWidth=function(t){return null==this.label||Do(this.eLabel,t),this},e.prototype.setDisabled=function(t){t=!!t;var e=this.getGui();return io(e,t),e.classList.toggle("ag-disabled",t),this.disabled=t,this},e.prototype.isDisabled=function(){return!!this.disabled},Yr([J],e.prototype,"postConstruct",null),e}(Sr),Zr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),qr=function(t){function e(e,n,o){var r=t.call(this,e,n)||this;return r.className=o,r}return Zr(e,t),e.prototype.postConstruct=function(){t.prototype.postConstruct.call(this),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()},e.prototype.refreshAriaLabelledBy=function(){var t=this.getAriaElement(),e=this.getLabelId();null!==Ue(t)?Ke(t,""):Ke(t,null!==e&&void 0!==e?e:"")},e.prototype.setAriaLabel=function(t){return Ye(this.getAriaElement(),t),this.refreshAriaLabelledBy(),this},e.prototype.onValueChange=function(t){var e=this;return this.addManagedListener(this,$t.EVENT_FIELD_VALUE_CHANGED,(function(){return t(e.getValue())})),this},e.prototype.getWidth=function(){return this.getGui().clientWidth},e.prototype.setWidth=function(t){return Po(this.getGui(),t),this},e.prototype.getPreviousValue=function(){return this.previousValue},e.prototype.getValue=function(){return this.value},e.prototype.setValue=function(t,e){return this.value===t||(this.previousValue=this.value,this.value=t,e||this.dispatchEvent({type:$t.EVENT_FIELD_VALUE_CHANGED})),this},e}(Kr),Qr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Xr=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},$r=function(t){function e(e){var n=t.call(this,e,(null===e||void 0===e?void 0:e.template)||'\n    <div class="ag-picker-field" role="presentation">\n        <div ref="eLabel"></div>\n            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">\n            <div ref="eDisplayField" class="ag-picker-field-display"></div>\n            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n        </div>\n    </div>',null===e||void 0===e?void 0:e.className)||this;if(n.isPickerDisplayed=!1,n.skipClick=!1,n.pickerGap=4,n.hideCurrentPicker=null,n.ariaRole=null===e||void 0===e?void 0:e.ariaRole,n.onPickerFocusIn=n.onPickerFocusIn.bind(n),n.onPickerFocusOut=n.onPickerFocusOut.bind(n),!e)return n;var o=e.pickerGap,r=e.maxPickerHeight,i=e.variableWidth,s=e.minPickerWidth,a=e.maxPickerWidth;return null!=o&&(n.pickerGap=o),n.variableWidth=!!i,null!=r&&n.setPickerMaxHeight(r),null!=s&&n.setPickerMinWidth(s),null!=a&&n.setPickerMaxWidth(a),n}return Qr(e,t),e.prototype.postConstruct=function(){t.prototype.postConstruct.call(this),this.setupAria();var e="ag-".concat(this.getCompId(),"-display");this.eDisplayField.setAttribute("id",e);var n=this.getAriaElement();this.addManagedListener(n,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(this.eLabel,"mousedown",this.onLabelOrWrapperMouseDown.bind(this)),this.addManagedListener(this.eWrapper,"mousedown",this.onLabelOrWrapperMouseDown.bind(this));var o=this.config.pickerIcon;if(o){var r=Ko(o,this.gridOptionsService);r&&this.eIcon.appendChild(r)}},e.prototype.setupAria=function(){var t=this.getAriaElement();t.setAttribute("tabindex",this.gridOptionsService.get("tabIndex").toString()),tn(t,!1),this.ariaRole&&je(t,this.ariaRole)},e.prototype.onLabelOrWrapperMouseDown=function(t){if(t){var e=this.getFocusableElement();if(e!==this.eWrapper&&(null===t||void 0===t?void 0:t.target)===e)return;t.preventDefault(),this.getFocusableElement().focus()}this.skipClick?this.skipClick=!1:this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())},e.prototype.onKeyDown=function(t){switch(t.key){case qo.UP:case qo.DOWN:case qo.ENTER:case qo.SPACE:t.preventDefault(),this.onLabelOrWrapperMouseDown();break;case qo.ESCAPE:this.isPickerDisplayed&&(t.preventDefault(),t.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker())}},e.prototype.showPicker=function(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());var t=this.pickerComponent.getGui();t.addEventListener("focusin",this.onPickerFocusIn),t.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)},e.prototype.renderAndPositionPicker=function(){var t=this,e=this.gridOptionsService.getDocument(),n=this.pickerComponent.getGui();this.gridOptionsService.get("suppressScrollWhenPopupsAreOpen")||(this.destroyMouseWheelFunc=this.addManagedListener(this.eventService,$t.EVENT_BODY_SCROLL,(function(){t.hidePicker()})));var o=this.localeService.getLocaleTextFunc(),r=this.config,i=r.pickerAriaLabelKey,s=r.pickerAriaLabelValue,a=r.modalPicker,l={modal:void 0===a||a,eChild:n,closeOnEsc:!0,closedCallback:function(){var n=e.activeElement===e.body;t.beforeHidePicker(),n&&t.isAlive()&&t.getFocusableElement().focus()},ariaLabel:o(i,s)},u=this.popupService.addPopup(l),c=this,d=c.maxPickerHeight,p=c.minPickerWidth,h=c.maxPickerWidth;c.variableWidth?(p&&(n.style.minWidth=p),n.style.width=Mo(po(this.eWrapper)),h&&(n.style.maxWidth=h)):Do(n,null!==h&&void 0!==h?h:po(this.eWrapper));var f=null!==d&&void 0!==d?d:"".concat(lo(this.popupService.getPopupParent()),"px");return n.style.setProperty("max-height",f),n.style.position="absolute",this.alignPickerToComponent(),u.hideFunc},e.prototype.alignPickerToComponent=function(){if(this.pickerComponent){var t=this.config.pickerType,e=this.pickerGap,n=this.gridOptionsService.get("enableRtl")?"right":"left";this.popupService.positionPopupByComponent({type:t,eventSource:this.eWrapper,ePopup:this.pickerComponent.getGui(),position:"under",alignSide:n,keepWithinBounds:!0,nudgeY:e})}},e.prototype.beforeHidePicker=function(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);var t=this.pickerComponent.getGui();t.removeEventListener("focusin",this.onPickerFocusIn),t.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null},e.prototype.toggleExpandedStyles=function(t){this.isAlive()&&(tn(this.getAriaElement(),t),this.eWrapper.classList.toggle("ag-picker-expanded",t),this.eWrapper.classList.toggle("ag-picker-collapsed",!t))},e.prototype.onPickerFocusIn=function(){this.togglePickerHasFocus(!0)},e.prototype.onPickerFocusOut=function(t){var e;(null===(e=this.pickerComponent)||void 0===e?void 0:e.getGui().contains(t.relatedTarget))||this.togglePickerHasFocus(!1)},e.prototype.togglePickerHasFocus=function(t){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",t)},e.prototype.hidePicker=function(){this.hideCurrentPicker&&this.hideCurrentPicker()},e.prototype.setInputWidth=function(t){return Do(this.eWrapper,t),this},e.prototype.getFocusableElement=function(){return this.eWrapper},e.prototype.setPickerGap=function(t){return this.pickerGap=t,this},e.prototype.setPickerMinWidth=function(t){return"number"===typeof t&&(t="".concat(t,"px")),this.minPickerWidth=null==t?void 0:t,this},e.prototype.setPickerMaxWidth=function(t){return"number"===typeof t&&(t="".concat(t,"px")),this.maxPickerWidth=null==t?void 0:t,this},e.prototype.setPickerMaxHeight=function(t){return"number"===typeof t&&(t="".concat(t,"px")),this.maxPickerHeight=null==t?void 0:t,this},e.prototype.destroy=function(){this.hidePicker(),t.prototype.destroy.call(this)},Xr([nt("popupService")],e.prototype,"popupService",void 0),Xr([Or("eLabel")],e.prototype,"eLabel",void 0),Xr([Or("eWrapper")],e.prototype,"eWrapper",void 0),Xr([Or("eDisplayField")],e.prototype,"eDisplayField",void 0),Xr([Or("eIcon")],e.prototype,"eIcon",void 0),e}(qr),Jr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ti=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ei=function(t){function e(e){void 0===e&&(e="default");var n=t.call(this,'<div class="ag-list ag-'.concat(e,'-list" role="listbox"></div>'))||this;return n.cssIdentifier=e,n.options=[],n.itemEls=[],n}return Jr(e,t),e.prototype.init=function(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))},e.prototype.handleKeyDown=function(t){var e=t.key;switch(e){case qo.ENTER:if(this.highlightedEl){var n=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(n)}else this.setValue(this.getValue());break;case qo.DOWN:case qo.UP:var o=e===qo.DOWN,r=void 0;if(t.preventDefault(),this.highlightedEl){var i=this.itemEls.indexOf(this.highlightedEl)+(o?1:-1);i=Math.min(Math.max(i,0),this.itemEls.length-1),r=this.itemEls[i]}else r=this.itemEls[o?0:this.itemEls.length-1];this.highlightItem(r)}},e.prototype.addOptions=function(t){var e=this;return t.forEach((function(t){return e.addOption(t)})),this},e.prototype.addOption=function(t){var e=t.value,n=se(t.text||e);return this.options.push({value:e,text:n}),this.renderOption(e,n),this.updateIndices(),this},e.prototype.updateIndices=function(){var t=this.getGui().querySelectorAll(".ag-list-item");t.forEach((function(e,n){on(e,n+1),nn(e,t.length)}))},e.prototype.renderOption=function(t,e){var n=this,o=document.createElement("div");je(o,"option"),o.classList.add("ag-list-item","ag-".concat(this.cssIdentifier,"-list-item")),o.innerHTML="<span>".concat(e,"</span>"),o.tabIndex=-1,this.itemEls.push(o),this.addManagedListener(o,"mouseover",(function(){return n.highlightItem(o)})),this.addManagedListener(o,"mouseleave",(function(){return n.clearHighlighted()})),this.addManagedListener(o,"click",(function(){return n.setValue(t)})),this.getGui().appendChild(o)},e.prototype.setValue=function(t,e){if(this.value===t)return this.fireItemSelected(),this;if(null==t)return this.reset(),this;var n=this.options.findIndex((function(e){return e.value===t}));if(-1!==n){var o=this.options[n];this.value=o.value,this.displayValue=null!=o.text?o.text:o.value,this.highlightItem(this.itemEls[n]),e||this.fireChangeEvent()}return this},e.prototype.setValueByIndex=function(t){return this.setValue(this.options[t].value)},e.prototype.getValue=function(){return this.value},e.prototype.getDisplayValue=function(){return this.displayValue},e.prototype.refreshHighlighted=function(){var t=this;this.clearHighlighted();var e=this.options.findIndex((function(e){return e.value===t.value}));-1!==e&&this.highlightItem(this.itemEls[e])},e.prototype.reset=function(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()},e.prototype.highlightItem=function(t){Co(t)&&(this.clearHighlighted(),this.highlightedEl=t,this.highlightedEl.classList.add(e.ACTIVE_CLASS),hn(this.highlightedEl,!0),this.highlightedEl.focus())},e.prototype.clearHighlighted=function(){this.highlightedEl&&Co(this.highlightedEl)&&(this.highlightedEl.classList.remove(e.ACTIVE_CLASS),hn(this.highlightedEl,!1),this.highlightedEl=null)},e.prototype.fireChangeEvent=function(){this.dispatchEvent({type:$t.EVENT_FIELD_VALUE_CHANGED}),this.fireItemSelected()},e.prototype.fireItemSelected=function(){this.dispatchEvent({type:e.EVENT_ITEM_SELECTED})},e.EVENT_ITEM_SELECTED="selectedItem",e.ACTIVE_CLASS="ag-active-item",ti([J],e.prototype,"init",null),e}(Sr),ni=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),oi=function(){return oi=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},oi.apply(this,arguments)},ri=function(t){function e(e){return t.call(this,oi({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"combobox"},e))||this}return ni(e,t),e.prototype.postConstruct=function(){t.prototype.postConstruct.call(this),this.createListComponent(),this.eWrapper.tabIndex=this.gridOptionsService.get("tabIndex")},e.prototype.createListComponent=function(){var t=this;this.listComponent=this.createBean(new ei("select")),this.listComponent.setParentComponent(this);var n=this.listComponent.getAriaElement(),o="ag-select-list-".concat(this.listComponent.getCompId());n.setAttribute("id",o),fn(this.getAriaElement(),n),this.listComponent.addGuiEventListener("keydown",(function(e){e.key===qo.TAB&&(e.preventDefault(),e.stopImmediatePropagation(),t.getGui().dispatchEvent(new KeyboardEvent("keydown",{key:e.key,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey,bubbles:!0})))})),this.listComponent.addManagedListener(this.listComponent,ei.EVENT_ITEM_SELECTED,(function(){t.hidePicker(),t.dispatchEvent({type:e.EVENT_ITEM_SELECTED})})),this.listComponent.addManagedListener(this.listComponent,$t.EVENT_FIELD_VALUE_CHANGED,(function(){t.listComponent&&(t.setValue(t.listComponent.getValue(),!1,!0),t.hidePicker())}))},e.prototype.createPickerComponent=function(){return this.listComponent},e.prototype.showPicker=function(){this.listComponent&&(t.prototype.showPicker.call(this),this.listComponent.refreshHighlighted())},e.prototype.addOptions=function(t){var e=this;return t.forEach((function(t){return e.addOption(t)})),this},e.prototype.addOption=function(t){return this.listComponent.addOption(t),this},e.prototype.setValue=function(e,n,o){return this.value!==e&&this.listComponent?(o||this.listComponent.setValue(e,!0),this.listComponent.getValue()===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),t.prototype.setValue.call(this,e,n))):this},e.prototype.destroy=function(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),t.prototype.destroy.call(this)},e.EVENT_ITEM_SELECTED="selectedItem",e}($r),ii=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),si=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ai=function(t){function e(e,n,o,r){void 0===o&&(o="text"),void 0===r&&(r="input");var i=t.call(this,e,'\n            <div role="presentation">\n                <div ref="eLabel" class="ag-input-field-label"></div>\n                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                    <'.concat(r,' ref="eInput" class="ag-input-field-input"></').concat(r,">\n                </div>\n            </div>"),n)||this;return i.inputType=o,i.displayFieldTag=r,i}return ii(e,t),e.prototype.postConstruct=function(){t.prototype.postConstruct.call(this),this.setInputType(),this.eLabel.classList.add("".concat(this.className,"-label")),this.eWrapper.classList.add("".concat(this.className,"-input-wrapper")),this.eInput.classList.add("".concat(this.className,"-input")),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||"ag-".concat(this.getCompId(),"-input");var e=this.config,n=e.width,o=e.value;null!=n&&this.setWidth(n),null!=o&&this.setValue(o),this.addInputListeners(),this.activateTabIndex([this.eInput])},e.prototype.addInputListeners=function(){var t=this;this.addManagedListener(this.eInput,"input",(function(e){return t.setValue(e.target.value)}))},e.prototype.setInputType=function(){"input"===this.displayFieldTag&&this.eInput.setAttribute("type",this.inputType)},e.prototype.getInputElement=function(){return this.eInput},e.prototype.setInputWidth=function(t){return Do(this.eWrapper,t),this},e.prototype.setInputName=function(t){return this.getInputElement().setAttribute("name",t),this},e.prototype.getFocusableElement=function(){return this.eInput},e.prototype.setMaxLength=function(t){return this.eInput.maxLength=t,this},e.prototype.setInputPlaceholder=function(t){return Fo(this.eInput,"placeholder",t),this},e.prototype.setInputAriaLabel=function(t){return Ye(this.eInput,t),this.refreshAriaLabelledBy(),this},e.prototype.setDisabled=function(e){return io(this.eInput,e),t.prototype.setDisabled.call(this,e)},e.prototype.setAutoComplete=function(t){if(!0===t)Fo(this.eInput,"autocomplete",null);else{var e="string"===typeof t?t:"off";Fo(this.eInput,"autocomplete",e)}return this},si([Or("eLabel")],e.prototype,"eLabel",void 0),si([Or("eWrapper")],e.prototype,"eWrapper",void 0),si([Or("eInput")],e.prototype,"eInput",void 0),e}(qr),li=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ui=function(t){function e(e,n,o){void 0===n&&(n="ag-checkbox"),void 0===o&&(o="checkbox");var r=t.call(this,e,n,o)||this;return r.labelAlignment="right",r.selected=!1,r.readOnly=!1,r.passive=!1,r}return li(e,t),e.prototype.addInputListeners=function(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))},e.prototype.getNextValue=function(){return void 0===this.selected||!this.selected},e.prototype.setPassive=function(t){this.passive=t},e.prototype.isReadOnly=function(){return this.readOnly},e.prototype.setReadOnly=function(t){this.eWrapper.classList.toggle("ag-disabled",t),this.eInput.disabled=t,this.readOnly=t},e.prototype.setDisabled=function(e){return this.eWrapper.classList.toggle("ag-disabled",e),t.prototype.setDisabled.call(this,e)},e.prototype.toggle=function(){if(!this.eInput.disabled){var t=this.isSelected(),e=this.getNextValue();this.passive?this.dispatchChange(e,t):this.setValue(e)}},e.prototype.getValue=function(){return this.isSelected()},e.prototype.setValue=function(t,e){return this.refreshSelectedClass(t),this.setSelected(t,e),this},e.prototype.setName=function(t){return this.getInputElement().name=t,this},e.prototype.isSelected=function(){return this.selected},e.prototype.setSelected=function(t,e){this.isSelected()!==t&&(this.previousValue=this.isSelected(),t=this.selected="boolean"===typeof t?t:void 0,this.eInput.checked=t,this.eInput.indeterminate=void 0===t,e||this.dispatchChange(this.selected,this.previousValue))},e.prototype.dispatchChange=function(t,e,n){this.dispatchEvent({type:$t.EVENT_FIELD_VALUE_CHANGED,selected:t,previousValue:e,event:n});var o=this.getInputElement(),r={type:$t.EVENT_CHECKBOX_CHANGED,id:o.id,name:o.name,selected:t,previousValue:e};this.eventService.dispatchEvent(r)},e.prototype.onCheckboxClick=function(t){if(!this.passive&&!this.eInput.disabled){var e=this.isSelected(),n=this.selected=t.target.checked;this.refreshSelectedClass(n),this.dispatchChange(n,e,t)}},e.prototype.refreshSelectedClass=function(t){this.eWrapper.classList.toggle("ag-checked",!0===t),this.eWrapper.classList.toggle("ag-indeterminate",null==t)},e}(ai),ci=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),di=function(t){function e(e){return t.call(this,e,"ag-radio-button","radio")||this}return ci(e,t),e.prototype.isSelected=function(){return this.eInput.checked},e.prototype.toggle=function(){this.eInput.disabled||this.isSelected()||this.setValue(!0)},e.prototype.addInputListeners=function(){t.prototype.addInputListeners.call(this),this.addManagedListener(this.eventService,$t.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))},e.prototype.onChange=function(t){t.selected&&t.name&&this.eInput.name&&this.eInput.name===t.name&&t.id&&this.eInput.id!==t.id&&this.setValue(!1,!0)},e}(ui),pi=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),hi=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},fi=function(t,e,n){if(n||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},gi=function(){function t(t,e,n){this.localeService=t,this.optionsFactory=e,this.valueFormatter=n}return t.prototype.getModelAsString=function(t){var e=this;if(!t)return null;var n=null!=t.operator,o=this.localeService.getLocaleTextFunc();if(n){var r=t,i=r.conditions;if(!i)i=[r.condition1,r.condition2];var s=i.map((function(t){return e.getModelAsString(t)})),a="AND"===r.operator?"andCondition":"orCondition";return s.join(" ".concat(o(a,Mr[a])," "))}if(t.type===vi.BLANK||t.type===vi.NOT_BLANK)return o(t.type,t.type);var l=t,u=this.optionsFactory.getCustomOption(l.type),c=u||{},d=c.displayKey,p=c.displayName,h=c.numberOfInputs;return d&&p&&0===h?(o(d,p),p):this.conditionToString(l,u)},t.prototype.updateParams=function(t){this.optionsFactory=t.optionsFactory},t.prototype.formatValue=function(t){var e;return this.valueFormatter?null!==(e=this.valueFormatter(null!==t&&void 0!==t?t:null))&&void 0!==e?e:"":String(t)},t}(),vi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.eTypes=[],e.eJoinOperatorPanels=[],e.eJoinOperatorsAnd=[],e.eJoinOperatorsOr=[],e.eConditionBodies=[],e.listener=function(){return e.onUiChanged()},e.lastUiCompletePosition=null,e.joinOperatorId=0,e}return pi(e,t),e.prototype.getNumberOfInputs=function(t){var n=this.optionsFactory.getCustomOption(t);if(n){var o=n.numberOfInputs;return null!=o?o:1}var r=[e.EMPTY,e.NOT_BLANK,e.BLANK];return t&&r.indexOf(t)>=0?0:t===e.IN_RANGE?2:1},e.prototype.onFloatingFilterChanged=function(t,e){this.setTypeFromFloatingFilter(t),this.setValueFromFloatingFilter(e),this.onUiChanged(!0)},e.prototype.setTypeFromFloatingFilter=function(t){var e=this;this.eTypes.forEach((function(n,o){0===o?n.setValue(t,!0):n.setValue(e.optionsFactory.getDefaultOption(),!0)}))},e.prototype.getModelFromUi=function(){var t=this.getUiCompleteConditions();return 0===t.length?null:this.maxNumConditions>1&&t.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:t[0],condition2:t[1],conditions:t}:t[0]},e.prototype.getConditionTypes=function(){return this.eTypes.map((function(t){return t.getValue()}))},e.prototype.getConditionType=function(t){return this.eTypes[t].getValue()},e.prototype.getJoinOperator=function(){return 0===this.eJoinOperatorsOr.length?this.defaultJoinOperator:!0===this.eJoinOperatorsOr[0].getValue()?"OR":"AND"},e.prototype.areModelsEqual=function(t,e){var n=this;if(!t&&!e)return!0;if(!t&&e||t&&!e)return!1;var o,r=!t.operator,i=!e.operator;if(!r&&i||r&&!i)return!1;if(r){var s=t,a=e;o=this.areSimpleModelsEqual(s,a)}else{var l=t,u=e;o=l.operator===u.operator&&wt(l.conditions,u.conditions,(function(t,e){return n.areSimpleModelsEqual(t,e)}))}return o},e.prototype.shouldRefresh=function(t){var e,n,o,r=this.getModel(),i=r?null!==(e=r.conditions)&&void 0!==e?e:[r]:null,s=null!==(o=null===(n=t.filterOptions)||void 0===n?void 0:n.map((function(t){return"string"===typeof t?t:t.displayKey})))&&void 0!==o?o:this.getDefaultFilterOptions();return!(i&&!i.every((function(t){return void 0!==s.find((function(e){return e===t.type}))})))&&!("number"===typeof t.maxNumConditions&&i&&i.length>t.maxNumConditions)},e.prototype.refresh=function(e){return!!this.shouldRefresh(e)&&(!!t.prototype.refresh.call(this,e)&&(this.setParams(e),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0))},e.prototype.setModelIntoUi=function(t){var e=this;if(t.operator){var n=t;n.conditions||(n.conditions=[n.condition1,n.condition2]);var o=this.validateAndUpdateConditions(n.conditions),r=this.getNumConditions();if(o<r)this.removeConditionsAndOperators(o);else if(o>r)for(var i=r;i<o;i++)this.createJoinOperatorPanel(),this.createOption();var s="OR"===n.operator;this.eJoinOperatorsAnd.forEach((function(t){return t.setValue(!s,!0)})),this.eJoinOperatorsOr.forEach((function(t){return t.setValue(s,!0)})),n.conditions.forEach((function(t,n){e.eTypes[n].setValue(t.type,!0),e.setConditionIntoUi(t,n)}))}else{var a=t;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(a.type,!0),this.setConditionIntoUi(a,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),hr.resolve()},e.prototype.validateAndUpdateConditions=function(t){var e=t.length;return e>this.maxNumConditions&&(t.splice(this.maxNumConditions),L('Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),e=this.maxNumConditions),e},e.prototype.doesFilterPass=function(t){var e,n=this,o=this.getModel();if(null==o)return!0;var r=o.operator,i=[];if(r){var s=o;i.push.apply(i,fi([],hi(null!==(e=s.conditions)&&void 0!==e?e:[]),!1))}else i.push(o);return i[r&&"OR"===r?"some":"every"]((function(e){return n.individualConditionPasses(t,e)}))},e.prototype.setParams=function(e){t.prototype.setParams.call(this,e),this.setNumConditions(e),this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new Lr,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")},e.prototype.setNumConditions=function(t){var e,n;null!=t.suppressAndOrCondition&&L('Since v29.2 "filterParams.suppressAndOrCondition" is deprecated. Use "filterParams.maxNumConditions = 1" instead.'),null!=t.alwaysShowBothConditions&&L('Since v29.2 "filterParams.alwaysShowBothConditions" is deprecated. Use "filterParams.numAlwaysVisibleConditions = 2" instead.'),this.maxNumConditions=null!==(e=t.maxNumConditions)&&void 0!==e?e:t.suppressAndOrCondition?1:2,this.maxNumConditions<1&&(L('"filterParams.maxNumConditions" must be greater than or equal to zero.'),this.maxNumConditions=1),this.numAlwaysVisibleConditions=null!==(n=t.numAlwaysVisibleConditions)&&void 0!==n?n:t.alwaysShowBothConditions?2:1,this.numAlwaysVisibleConditions<1&&(L('"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(L('"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),this.numAlwaysVisibleConditions=this.maxNumConditions)},e.prototype.createOption=function(){var t=this,e=this.createManagedBean(new ri);this.eTypes.push(e),e.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(e.getGui());var n=this.createValueElement();this.eConditionBodies.push(n),this.eFilterBody.appendChild(n),this.putOptionsIntoDropdown(e),this.resetType(e);var o=this.getNumConditions()-1;this.forEachPositionInput(o,(function(e){return t.resetInput(e)})),this.addChangedListeners(e,o)},e.prototype.createJoinOperatorPanel=function(){var t=document.createElement("div");this.eJoinOperatorPanels.push(t),t.classList.add("ag-filter-condition");var e=this.createJoinOperator(this.eJoinOperatorsAnd,t,"and"),n=this.createJoinOperator(this.eJoinOperatorsOr,t,"or");this.eFilterBody.appendChild(t);var o=this.eJoinOperatorPanels.length-1,r=this.joinOperatorId++;this.resetJoinOperatorAnd(e,o,r),this.resetJoinOperatorOr(n,o,r),this.isReadOnly()||(e.onValueChange(this.listener),n.onValueChange(this.listener))},e.prototype.createJoinOperator=function(t,e,n){var o=this.createManagedBean(new di);return t.push(o),o.addCssClass("ag-filter-condition-operator"),o.addCssClass("ag-filter-condition-operator-".concat(n)),e.appendChild(o.getGui()),o},e.prototype.getDefaultJoinOperator=function(t){return"AND"===t||"OR"===t?t:"AND"},e.prototype.createFilterListOptions=function(){var t=this,e=this.optionsFactory.getFilterOptions();this.filterListOptions=e.map((function(e){return"string"===typeof e?t.createBoilerplateListOption(e):t.createCustomListOption(e)}))},e.prototype.putOptionsIntoDropdown=function(t){this.filterListOptions.forEach((function(e){t.addOption(e)})),t.setDisabled(this.filterListOptions.length<=1)},e.prototype.createBoilerplateListOption=function(t){return{value:t,text:this.translate(t)}},e.prototype.createCustomListOption=function(t){var e=t.displayKey,n=this.optionsFactory.getCustomOption(t.displayKey);return{value:e,text:n?this.localeService.getLocaleTextFunc()(n.displayKey,n.displayName):this.translate(e)}},e.prototype.isAllowTwoConditions=function(){return this.maxNumConditions>=2},e.prototype.createBodyTemplate=function(){return""},e.prototype.getCssIdentifier=function(){return"simple-filter"},e.prototype.updateUiVisibility=function(){var t=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,t)},e.prototype.updateNumConditions=function(){for(var t,e=-1,n=!0,o=0;o<this.getNumConditions();o++)this.isConditionUiComplete(o)?e=o:n=!1;if(this.shouldAddNewConditionAtEnd(n))this.createJoinOperatorPanel(),this.createOption();else{var r=null!==(t=this.lastUiCompletePosition)&&void 0!==t?t:this.getNumConditions()-2;if(e<r){this.removeConditionsAndOperators(r+1);var i=e+1,s=r-i;s>0&&this.removeConditionsAndOperators(i,s),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e},e.prototype.updateConditionStatusesAndValues=function(t,e){var n=this;this.eTypes.forEach((function(e,o){var r=n.isConditionDisabled(o,t);e.setDisabled(r||n.filterListOptions.length<=1),1===o&&(io(n.eJoinOperatorPanels[0],r),n.eJoinOperatorsAnd[0].setDisabled(r),n.eJoinOperatorsOr[0].setDisabled(r))})),this.eConditionBodies.forEach((function(t,e){oo(t,n.isConditionBodyVisible(e))}));var o="OR"===(null!==e&&void 0!==e?e:this.getJoinOperator());this.eJoinOperatorsAnd.forEach((function(t,e){t.setValue(!o,!0)})),this.eJoinOperatorsOr.forEach((function(t,e){t.setValue(o,!0)})),this.forEachInput((function(e,o,r,i){n.setElementDisplayed(e,o<i),n.setElementDisabled(e,n.isConditionDisabled(r,t))})),this.resetPlaceholder()},e.prototype.shouldAddNewConditionAtEnd=function(t){return t&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()},e.prototype.removeConditionsAndOperators=function(t,e){if(!(t>=this.getNumConditions())){this.removeComponents(this.eTypes,t,e),this.removeElements(this.eConditionBodies,t,e),this.removeValueElements(t,e);var n=Math.max(t-1,0);this.removeElements(this.eJoinOperatorPanels,n,e),this.removeComponents(this.eJoinOperatorsAnd,n,e),this.removeComponents(this.eJoinOperatorsOr,n,e)}},e.prototype.removeElements=function(t,e,n){this.removeItems(t,e,n).forEach((function(t){return yo(t)}))},e.prototype.removeComponents=function(t,e,n){var o=this;this.removeItems(t,e,n).forEach((function(t){yo(t.getGui()),o.destroyBean(t)}))},e.prototype.removeItems=function(t,e,n){return null==n?t.splice(e):t.splice(e,n)},e.prototype.afterGuiAttached=function(e){if(t.prototype.afterGuiAttached.call(this,e),this.resetPlaceholder(),!(null===e||void 0===e?void 0:e.suppressFocus))if(this.isReadOnly())this.eFilterBody.focus();else{var n=this.getInputs(0)[0];if(!n)return;n instanceof ai&&n.getInputElement().focus()}},e.prototype.afterGuiDetached=function(){t.prototype.afterGuiDetached.call(this);var e=this.getModel();this.resetUiToActiveModel(e);for(var n=-1,o=-1,r=!1,i=this.getJoinOperator(),s=this.getNumConditions()-1;s>=0;s--)if(this.isConditionUiComplete(s))-1===n&&(n=s,o=s);else{var a=s<n;(s>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(s-1)||a)&&(this.removeConditionsAndOperators(s,1),r=!0,a&&o--)}var l=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),l=!0),this.shouldAddNewConditionAtEnd(o===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),l=!0),l&&this.updateConditionStatusesAndValues(o,i),r&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=o},e.prototype.getPlaceholderText=function(t,e){var n=this.translate(t);if(k(this.filterPlaceholder)){var o=this.filterPlaceholder,r=this.eTypes[e].getValue();n=o({filterOptionKey:r,filterOption:this.translate(r),placeholder:n})}else"string"===typeof this.filterPlaceholder&&(n=this.filterPlaceholder);return n},e.prototype.resetPlaceholder=function(){var t=this,e=this.localeService.getLocaleTextFunc();this.forEachInput((function(n,o,r,i){if(n instanceof ai){var s=0===o&&i>1?"inRangeStart":0===o?"filterOoo":"inRangeEnd",a=0===o&&i>1?e("ariaFilterFromValue","Filter from value"):0===o?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");n.setInputPlaceholder(t.getPlaceholderText(s,r)),n.setInputAriaLabel(a)}}))},e.prototype.setElementValue=function(t,e,n){t instanceof ai&&t.setValue(null!=e?String(e):null,!0)},e.prototype.setElementDisplayed=function(t,e){t instanceof Sr&&oo(t.getGui(),e)},e.prototype.setElementDisabled=function(t,e){t instanceof Sr&&io(t.getGui(),e)},e.prototype.attachElementOnChange=function(t,e){t instanceof ai&&t.onValueChange(e)},e.prototype.forEachInput=function(t){var e=this;this.getConditionTypes().forEach((function(n,o){e.forEachPositionTypeInput(o,n,t)}))},e.prototype.forEachPositionInput=function(t,e){var n=this.getConditionType(t);this.forEachPositionTypeInput(t,n,e)},e.prototype.forEachPositionTypeInput=function(t,e,n){for(var o=this.getNumberOfInputs(e),r=this.getInputs(t),i=0;i<r.length;i++){var s=r[i];null!=s&&n(s,i,t,o)}},e.prototype.isConditionDisabled=function(t,e){return!!this.isReadOnly()||0!==t&&t>e+1},e.prototype.isConditionBodyVisible=function(t){var e=this.getConditionType(t);return this.getNumberOfInputs(e)>0},e.prototype.isConditionUiComplete=function(t){return!(t>=this.getNumConditions())&&(this.getConditionType(t)!==e.EMPTY&&!this.getValues(t).some((function(t){return null==t})))},e.prototype.getNumConditions=function(){return this.eTypes.length},e.prototype.getUiCompleteConditions=function(){for(var t=[],e=0;e<this.getNumConditions();e++)this.isConditionUiComplete(e)&&t.push(this.createCondition(e));return t},e.prototype.createMissingConditionsAndOperators=function(){if(!this.isReadOnly())for(var t=this.getNumConditions();t<this.numAlwaysVisibleConditions;t++)this.createJoinOperatorPanel(),this.createOption()},e.prototype.resetUiToDefaults=function(t){var e=this;return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach((function(t){return e.resetType(t)})),this.eJoinOperatorsAnd.forEach((function(t,n){return e.resetJoinOperatorAnd(t,n,e.joinOperatorId+n)})),this.eJoinOperatorsOr.forEach((function(t,n){return e.resetJoinOperatorOr(t,n,e.joinOperatorId+n)})),this.joinOperatorId++,this.forEachInput((function(t){return e.resetInput(t)})),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,t||this.onUiChanged(),hr.resolve()},e.prototype.resetType=function(t){var e=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");t.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(e).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)},e.prototype.resetJoinOperatorAnd=function(t,e,n){this.resetJoinOperator(t,e,this.isDefaultOperator("AND"),this.translate("andCondition"),n)},e.prototype.resetJoinOperatorOr=function(t,e,n){this.resetJoinOperator(t,e,this.isDefaultOperator("OR"),this.translate("orCondition"),n)},e.prototype.resetJoinOperator=function(t,e,n,o,r){this.updateJoinOperatorDisabled(t.setValue(n,!0).setName("ag-simple-filter-and-or-".concat(this.getCompId(),"-").concat(r)).setLabel(o),e)},e.prototype.updateJoinOperatorsDisabled=function(){var t=this;this.eJoinOperatorsAnd.forEach((function(e,n){return t.updateJoinOperatorDisabled(e,n)})),this.eJoinOperatorsOr.forEach((function(e,n){return t.updateJoinOperatorDisabled(e,n)}))},e.prototype.updateJoinOperatorDisabled=function(t,e){t.setDisabled(this.isReadOnly()||e>0)},e.prototype.resetInput=function(t){this.setElementValue(t,null),this.setElementDisabled(t,this.isReadOnly())},e.prototype.setConditionIntoUi=function(t,e){var n=this,o=this.mapValuesFromModel(t);this.forEachInput((function(t,r,i,s){i===e&&n.setElementValue(t,null!=o[r]?o[r]:null)}))},e.prototype.setValueFromFloatingFilter=function(t){var e=this;this.forEachInput((function(n,o,r,i){e.setElementValue(n,0===o&&0===r?t:null,!0)}))},e.prototype.isDefaultOperator=function(t){return t===this.defaultJoinOperator},e.prototype.addChangedListeners=function(t,e){var n=this;this.isReadOnly()||(t.onValueChange(this.listener),this.forEachPositionInput(e,(function(t){n.attachElementOnChange(t,n.listener)})))},e.prototype.individualConditionPasses=function(t,e){var n=this.getCellValue(t.node),o=this.mapValuesFromModel(e),r=this.optionsFactory.getCustomOption(e.type),i=this.evaluateCustomFilter(r,o,n);return null!=i?i:null==n?this.evaluateNullValue(e.type):this.evaluateNonNullValue(o,n,e,t)},e.prototype.evaluateCustomFilter=function(t,e,n){if(null!=t){var o=t.predicate;return null==o||e.some((function(t){return null==t}))?void 0:o(e,n)}},e.prototype.isBlank=function(t){return null==t||"string"===typeof t&&0===t.trim().length},e.prototype.hasInvalidInputs=function(){return!1},e.EMPTY="empty",e.BLANK="blank",e.NOT_BLANK="notBlank",e.EQUALS="equals",e.NOT_EQUAL="notEqual",e.LESS_THAN="lessThan",e.LESS_THAN_OR_EQUAL="lessThanOrEqual",e.GREATER_THAN="greaterThan",e.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",e.IN_RANGE="inRange",e.CONTAINS="contains",e.NOT_CONTAINS="notContains",e.STARTS_WITH="startsWith",e.ENDS_WITH="endsWith",e}(zr),mi=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),yi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return mi(e,t),e.prototype.setParams=function(e){t.prototype.setParams.call(this,e),this.scalarFilterParams=e},e.prototype.evaluateNullValue=function(t){switch(t){case e.EQUALS:case e.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case e.GREATER_THAN:case e.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case e.LESS_THAN:case e.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case e.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case e.BLANK:return!0;case e.NOT_BLANK:return!1}return!1},e.prototype.evaluateNonNullValue=function(t,n,o){var r=this.comparator(),i=null!=t[0]?r(t[0],n):0;switch(o.type){case e.EQUALS:return 0===i;case e.NOT_EQUAL:return 0!==i;case e.GREATER_THAN:return i>0;case e.GREATER_THAN_OR_EQUAL:return i>=0;case e.LESS_THAN:return i<0;case e.LESS_THAN_OR_EQUAL:return i<=0;case e.IN_RANGE:var s=r(t[1],n);return this.scalarFilterParams.inRangeInclusive?i>=0&&s<=0:i>0&&s<0;case e.BLANK:return this.isBlank(n);case e.NOT_BLANK:return!this.isBlank(n);default:return console.warn('AG Grid: Unexpected type of filter "'+o.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}},e}(vi),Ci=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),wi=function(){return wi=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},wi.apply(this,arguments)},bi=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},_i=1/0,Si=function(t){function e(e,n,o){var r=t.call(this,n,o)||this;return r.dateFilterParams=e,r}return Ci(e,t),e.prototype.conditionToString=function(t,e){var n=t.type,o=(e||{}).numberOfInputs,r=n==vi.IN_RANGE||2===o,i=Zn(t.dateFrom),s=Zn(t.dateTo),a=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(r){var l=null!==i?Kn(i,a):"null",u=null!==s?Kn(s,a):"null";return"".concat(l,"-").concat(u)}return null!=i?Kn(i,a):"".concat(n)},e.prototype.updateParams=function(e){t.prototype.updateParams.call(this,e),this.dateFilterParams=e.dateFilterParams},e}(gi),Ei=function(t){function e(){var e=t.call(this,"dateFilter")||this;return e.eConditionPanelsFrom=[],e.eConditionPanelsTo=[],e.dateConditionFromComps=[],e.dateConditionToComps=[],e.minValidYear=1e3,e.maxValidYear=_i,e.minValidDate=null,e.maxValidDate=null,e}return Ci(e,t),e.prototype.afterGuiAttached=function(e){t.prototype.afterGuiAttached.call(this,e),this.dateConditionFromComps[0].afterGuiAttached(e)},e.prototype.mapValuesFromModel=function(t){var e=t||{},n=e.dateFrom,o=e.dateTo,r=e.type;return[n&&Zn(n)||null,o&&Zn(o)||null].slice(0,this.getNumberOfInputs(r))},e.prototype.comparator=function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)},e.prototype.defaultComparator=function(t,e){return null==e||e<t?-1:e>t?1:0},e.prototype.setParams=function(e){this.dateFilterParams=e,t.prototype.setParams.call(this,e);var n=function(t,n){if(null!=e[t]){if(!isNaN(e[t]))return null==e[t]?n:Number(e[t]);console.warn("AG Grid: DateFilter ".concat(t," is not a number"))}return n};this.minValidYear=n("minValidYear",1e3),this.maxValidYear=n("maxValidYear",_i),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),e.minValidDate?this.minValidDate=e.minValidDate instanceof Date?e.minValidDate:Zn(e.minValidDate):this.minValidDate=null,e.maxValidDate?this.maxValidDate=e.maxValidDate instanceof Date?e.maxValidDate:Zn(e.maxValidDate):this.maxValidDate=null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&console.warn("AG Grid: DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new Si(this.dateFilterParams,this.localeService,this.optionsFactory)},e.prototype.createDateCompWrapper=function(t){var e=this,n=new Pr(this.getContext(),this.userComponentFactory,{onDateChanged:function(){return e.onUiChanged()},filterParams:this.dateFilterParams},t);return this.addDestroyFunc((function(){return n.destroy()})),n},e.prototype.setElementValue=function(t,e){t.setDate(e)},e.prototype.setElementDisplayed=function(t,e){t.setDisplayed(e)},e.prototype.setElementDisabled=function(t,e){t.setDisabled(e)},e.prototype.getDefaultFilterOptions=function(){return e.DEFAULT_FILTER_OPTIONS},e.prototype.createValueElement=function(){var t=document.createElement("div");return t.classList.add("ag-filter-body"),this.createFromToElement(t,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(t,this.eConditionPanelsTo,this.dateConditionToComps,"to"),t},e.prototype.createFromToElement=function(t,e,n,o){var r=document.createElement("div");r.classList.add("ag-filter-".concat(o)),r.classList.add("ag-filter-date-".concat(o)),e.push(r),t.appendChild(r),n.push(this.createDateCompWrapper(r))},e.prototype.removeValueElements=function(t,e){this.removeDateComps(this.dateConditionFromComps,t,e),this.removeDateComps(this.dateConditionToComps,t,e),this.removeItems(this.eConditionPanelsFrom,t,e),this.removeItems(this.eConditionPanelsTo,t,e)},e.prototype.removeDateComps=function(t,e,n){this.removeItems(t,e,n).forEach((function(t){return t.destroy()}))},e.prototype.isValidDateValue=function(t){if(null===t)return!1;if(this.minValidDate){if(t<this.minValidDate)return!1}else if(t.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(t>this.maxValidDate)return!1}else if(t.getUTCFullYear()>this.maxValidYear)return!1;return!0},e.prototype.isConditionUiComplete=function(e){var n=this;if(!t.prototype.isConditionUiComplete.call(this,e))return!1;var o=!0;return this.forEachInput((function(t,r,i,s){i!==e||!o||r>=s||(o=o&&n.isValidDateValue(t.getDate()))})),o},e.prototype.areSimpleModelsEqual=function(t,e){return t.dateFrom===e.dateFrom&&t.dateTo===e.dateTo&&t.type===e.type},e.prototype.getFilterType=function(){return"date"},e.prototype.createCondition=function(t){var e=this.getConditionType(t),n={},o=this.getValues(t);return o.length>0&&(n.dateFrom=Un(o[0])),o.length>1&&(n.dateTo=Un(o[1])),wi({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:e},n)},e.prototype.resetPlaceholder=function(){var t=this.localeService.getLocaleTextFunc(),e=this.translate("dateFormatOoo"),n=t("ariaFilterValue","Filter Value");this.forEachInput((function(t){t.setInputPlaceholder(e),t.setInputAriaLabel(n)}))},e.prototype.getInputs=function(t){return t>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[t],this.dateConditionToComps[t]]},e.prototype.getValues=function(t){var e=[];return this.forEachPositionInput(t,(function(t,n,o,r){n<r&&e.push(t.getDate())})),e},e.prototype.translate=function(e){return e===yi.LESS_THAN?t.prototype.translate.call(this,"before"):e===yi.GREATER_THAN?t.prototype.translate.call(this,"after"):t.prototype.translate.call(this,e)},e.prototype.getModelAsString=function(t){var e;return null!==(e=this.filterModelFormatter.getModelAsString(t))&&void 0!==e?e:""},e.DEFAULT_FILTER_OPTIONS=[yi.EQUALS,yi.NOT_EQUAL,yi.LESS_THAN,yi.GREATER_THAN,yi.IN_RANGE,yi.BLANK,yi.NOT_BLANK],bi([nt("userComponentFactory")],e.prototype,"userComponentFactory",void 0),e}(yi),Oi=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),xi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Oi(e,t),e.prototype.getDefaultDebounceMs=function(){return 0},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.isEventFromFloatingFilter=function(t){return t&&t.afterFloatingFilter},e.prototype.isEventFromDataChange=function(t){return null===t||void 0===t?void 0:t.afterDataChange},e.prototype.getLastType=function(){return this.lastType},e.prototype.isReadOnly=function(){return this.readOnly},e.prototype.setLastTypeFromModel=function(t){if(t){var e;if(t.operator)e=t.conditions[0];else e=t;this.lastType=e.type}else this.lastType=this.optionsFactory.getDefaultOption()},e.prototype.canWeEditAfterModelFromParentFilter=function(t){if(!t)return this.isTypeEditable(this.lastType);if(t.operator)return!1;var e=t;return this.isTypeEditable(e.type)},e.prototype.init=function(t){this.setSimpleParams(t,!1)},e.prototype.setSimpleParams=function(t,e){void 0===e&&(e=!0),this.optionsFactory=new Lr,this.optionsFactory.init(t.filterParams,this.getDefaultFilterOptions()),e||(this.lastType=this.optionsFactory.getDefaultOption()),this.readOnly=!!t.filterParams.readOnly;var n=this.isTypeEditable(this.lastType);this.setEditable(n)},e.prototype.onParamsUpdated=function(t){this.setSimpleParams(t)},e.prototype.doesFilterHaveSingleInput=function(t){var e=(this.optionsFactory.getCustomOption(t)||{}).numberOfInputs;return null==e||1==e},e.prototype.isTypeEditable=function(t){var e=[vi.IN_RANGE,vi.EMPTY,vi.BLANK,vi.NOT_BLANK];return!!t&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(t)&&e.indexOf(t)<0},e}(Sr),Ti=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ri=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Di=function(t){function e(){return t.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>\n                <div ref="eDateWrapper" style="display: flex;"></div>\n            </div>')||this}return Ti(e,t),e.prototype.getDefaultFilterOptions=function(){return Ei.DEFAULT_FILTER_OPTIONS},e.prototype.init=function(e){t.prototype.init.call(this,e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new Si(this.filterParams,this.localeService,this.optionsFactory);var n=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(n("ariaDateFilterInput","Date Filter Input"))},e.prototype.onParamsUpdated=function(e){t.prototype.onParamsUpdated.call(this,e),this.params=e,this.filterParams=e.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(e.currentParentModel())},e.prototype.updateCompOnModelChange=function(t){var e=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(t);if(this.setEditable(e),e){if(t){var n=t;this.dateComp.setDate(Zn(n.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(t)),this.dateComp.setDate(null)},e.prototype.setEditable=function(t){oo(this.eDateWrapper,t),oo(this.eReadOnlyText.getGui(),!t)},e.prototype.onParentModelChanged=function(e,n){this.isEventFromFloatingFilter(n)||this.isEventFromDataChange(n)||(t.prototype.setLastTypeFromModel.call(this,e),this.updateCompOnModelChange(e))},e.prototype.onDateChanged=function(){var t=this,e=Un(this.dateComp.getDate());this.params.parentFilterInstance((function(n){if(n){var o=Zn(e);n.onFloatingFilterChanged(t.getLastType()||null,o)}}))},e.prototype.getDateComponentParams=function(){var t=zr.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:V(this.onDateChanged.bind(this),t),filterParams:this.params.column.getColDef().filterParams}},e.prototype.createDateComponent=function(){var t=this;this.dateComp=new Pr(this.getContext(),this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper),this.addDestroyFunc((function(){return t.dateComp.destroy()}))},e.prototype.updateDateComponent=function(){var t=this.getDateComponentParams(),e=this.gridOptionsService,n=e.api,o=e.columnApi,r=e.context;t.api=n,t.columnApi=o,t.context=r,this.dateComp.updateParams(t)},e.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},Ri([nt("userComponentFactory")],e.prototype,"userComponentFactory",void 0),Ri([Or("eReadOnlyText")],e.prototype,"eReadOnlyText",void 0),Ri([Or("eDateWrapper")],e.prototype,"eDateWrapper",void 0),e}(xi),Pi=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Li=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Mi=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},Ai=function(t){function e(){return t.call(this,'\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>\n            </div>')||this}return Pi(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.init=function(t){var e=this;this.params=t,this.setParams(t);var n=this.gridOptionsService.getDocument(),o=this.eDateInput.getInputElement();this.addManagedListener(o,"mousedown",(function(){e.eDateInput.isDisabled()||e.usingSafariDatePicker||o.focus()})),this.addManagedListener(o,"input",(function(t){t.target===n.activeElement&&(e.eDateInput.isDisabled()||e.params.onDateChanged())}))},e.prototype.setParams=function(t){var e=this.eDateInput.getInputElement(),n=this.shouldUseBrowserDatePicker(t);this.usingSafariDatePicker=n&&On(),e.type=n?"date":"text";var o=t.filterParams||{},r=o.minValidYear,i=o.maxValidYear,s=o.minValidDate,a=o.maxValidDate;if(s&&r&&L("DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored."),a&&i&&L("DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored."),s&&a){var l=Mi([s,a].map((function(t){return t instanceof Date?t:Zn(t)})),2),u=l[0],c=l[1];u&&c&&u.getTime()>c.getTime()&&L("DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")}s?s instanceof Date?e.min=Kn(s):e.min=s:r&&(e.min="".concat(r,"-01-01")),a?a instanceof Date?e.max=Kn(a):e.max=a:i&&(e.max="".concat(i,"-12-31"))},e.prototype.onParamsUpdated=function(t){this.params=t,this.setParams(t)},e.prototype.getDate=function(){return Zn(this.eDateInput.getValue())},e.prototype.setDate=function(t){this.eDateInput.setValue(Un(t,!1))},e.prototype.setInputPlaceholder=function(t){this.eDateInput.setInputPlaceholder(t)},e.prototype.setDisabled=function(t){this.eDateInput.setDisabled(t)},e.prototype.afterGuiAttached=function(t){t&&t.suppressFocus||this.eDateInput.getInputElement().focus()},e.prototype.shouldUseBrowserDatePicker=function(t){return t.filterParams&&null!=t.filterParams.browserDatePicker?t.filterParams.browserDatePicker:Tn()||Rn()||On()&&xn()>=14.1},Li([Or("eDateInput")],e.prototype,"eDateInput",void 0),e}(Sr),ki=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ni=function(t){function e(e,n,o){return void 0===n&&(n="ag-text-field"),void 0===o&&(o="text"),t.call(this,e,n,o)||this}return ki(e,t),e.prototype.postConstruct=function(){t.prototype.postConstruct.call(this),this.config.allowedCharPattern&&this.preventDisallowedCharacters()},e.prototype.setValue=function(e,n){return this.eInput.value!==e&&(this.eInput.value=r(e)?e:""),t.prototype.setValue.call(this,e,n)},e.prototype.setStartValue=function(t){this.setValue(t,!0)},e.prototype.preventDisallowedCharacters=function(){var t=new RegExp("[".concat(this.config.allowedCharPattern,"]"));this.addManagedListener(this.eInput,"keydown",(function(e){Qo(e)&&e.key&&!t.test(e.key)&&e.preventDefault()})),this.addManagedListener(this.eInput,"paste",(function(e){var n,o=null===(n=e.clipboardData)||void 0===n?void 0:n.getData("text");o&&o.split("").some((function(e){return!t.test(e)}))&&e.preventDefault()}))},e}(ai),Fi=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ii=function(t){function e(e){return t.call(this,e,"ag-number-field","number")||this}return Fi(e,t),e.prototype.postConstruct=function(){var e=this;t.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"blur",(function(){var t=parseFloat(e.eInput.value),n=isNaN(t)?"":e.normalizeValue(t.toString());e.value!==n&&e.setValue(n)})),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this)),this.eInput.step="any"},e.prototype.onWheel=function(t){document.activeElement===this.eInput&&t.preventDefault()},e.prototype.normalizeValue=function(t){if(""===t)return"";null!=this.precision&&(t=this.adjustPrecision(t));var e=parseFloat(t);return null!=this.min&&e<this.min?t=this.min.toString():null!=this.max&&e>this.max&&(t=this.max.toString()),t},e.prototype.adjustPrecision=function(t,e){if(null==this.precision)return t;if(e){var n=parseFloat(t).toFixed(this.precision);return parseFloat(n).toString()}var o=String(t).split(".");if(o.length>1){if(o[1].length<=this.precision)return t;if(this.precision>0)return"".concat(o[0],".").concat(o[1].slice(0,this.precision))}return o[0]},e.prototype.setMin=function(t){return this.min===t||(this.min=t,Fo(this.eInput,"min",t)),this},e.prototype.setMax=function(t){return this.max===t||(this.max=t,Fo(this.eInput,"max",t)),this},e.prototype.setPrecision=function(t){return this.precision=t,this},e.prototype.setStep=function(t){return this.step===t||(this.step=t,Fo(this.eInput,"step",t)),this},e.prototype.setValue=function(e,n){var o=this;return this.setValueOrInputValue((function(e){return t.prototype.setValue.call(o,e,n)}),(function(){return o}),e)},e.prototype.setStartValue=function(e){var n=this;return this.setValueOrInputValue((function(e){return t.prototype.setValue.call(n,e,!0)}),(function(t){n.eInput.value=t}),e)},e.prototype.setValueOrInputValue=function(t,e,n){if(r(n)){var o=this.isScientificNotation(n);if(o&&this.eInput.validity.valid)return t(n);if(!o)o=(n=this.adjustPrecision(n))!=this.normalizeValue(n);if(o)return e(n)}return t(n)},e.prototype.getValue=function(){if(this.eInput.validity.valid){var e=this.eInput.value;return this.isScientificNotation(e)?this.adjustPrecision(e,!0):t.prototype.getValue.call(this)}},e.prototype.isScientificNotation=function(t){return"string"===typeof t&&t.includes("e")},e}(Ni),Gi=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Hi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Gi(e,t),e.prototype.conditionToString=function(t,e){var n=(e||{}).numberOfInputs;return t.type==vi.IN_RANGE||2===n?"".concat(this.formatValue(t.filter),"-").concat(this.formatValue(t.filterTo)):null!=t.filter?this.formatValue(t.filter):"".concat(t.type)},e}(gi);function Vi(t){var e=(null!==t&&void 0!==t?t:{}).allowedCharPattern;return null!==e&&void 0!==e?e:null}var ji,Bi,Wi=function(t){function e(){var e=t.call(this,"numberFilter")||this;return e.eValuesFrom=[],e.eValuesTo=[],e}return Gi(e,t),e.prototype.refresh=function(e){return this.numberFilterParams.allowedCharPattern===e.allowedCharPattern&&t.prototype.refresh.call(this,e)},e.prototype.mapValuesFromModel=function(t){var e=t||{},n=e.filter,o=e.filterTo,r=e.type;return[this.processValue(n),this.processValue(o)].slice(0,this.getNumberOfInputs(r))},e.prototype.getDefaultDebounceMs=function(){return 500},e.prototype.comparator=function(){return function(t,e){return t===e?0:t<e?1:-1}},e.prototype.setParams=function(e){this.numberFilterParams=e,t.prototype.setParams.call(this,e),this.filterModelFormatter=new Hi(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)},e.prototype.getDefaultFilterOptions=function(){return e.DEFAULT_FILTER_OPTIONS},e.prototype.setElementValue=function(e,n,o){var r=!o&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(null!==n&&void 0!==n?n:null):n;t.prototype.setElementValue.call(this,e,r)},e.prototype.createValueElement=function(){var t=Vi(this.numberFilterParams),e=document.createElement("div");return e.classList.add("ag-filter-body"),je(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from",t),this.createFromToElement(e,this.eValuesTo,"to",t),e},e.prototype.createFromToElement=function(t,e,n,o){var r=this.createManagedBean(o?new Ni({allowedCharPattern:o}):new Ii);r.addCssClass("ag-filter-".concat(n)),r.addCssClass("ag-filter-filter"),e.push(r),t.appendChild(r.getGui())},e.prototype.removeValueElements=function(t,e){this.removeComponents(this.eValuesFrom,t,e),this.removeComponents(this.eValuesTo,t,e)},e.prototype.getValues=function(t){var e=this,n=[];return this.forEachPositionInput(t,(function(t,o,r,i){o<i&&n.push(e.processValue(e.stringToFloat(t.getValue())))})),n},e.prototype.areSimpleModelsEqual=function(t,e){return t.filter===e.filter&&t.filterTo===e.filterTo&&t.type===e.type},e.prototype.getFilterType=function(){return"number"},e.prototype.processValue=function(t){return null==t||isNaN(t)?null:t},e.prototype.stringToFloat=function(t){if("number"===typeof t)return t;var e=o(t);return null!=e&&""===e.trim()&&(e=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(e):null==e||"-"===e.trim()?null:parseFloat(e)},e.prototype.createCondition=function(t){var e=this.getConditionType(t),n={filterType:this.getFilterType(),type:e},o=this.getValues(t);return o.length>0&&(n.filter=o[0]),o.length>1&&(n.filterTo=o[1]),n},e.prototype.getInputs=function(t){return t>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[t],this.eValuesTo[t]]},e.prototype.getModelAsString=function(t){var e;return null!==(e=this.filterModelFormatter.getModelAsString(t))&&void 0!==e?e:""},e.prototype.hasInvalidInputs=function(){var t=!1;return this.forEachInput((function(e){e.getInputElement().validity.valid||(t=!0)})),t},e.DEFAULT_FILTER_OPTIONS=[yi.EQUALS,yi.NOT_EQUAL,yi.GREATER_THAN,yi.GREATER_THAN_OR_EQUAL,yi.LESS_THAN,yi.LESS_THAN_OR_EQUAL,yi.IN_RANGE,yi.BLANK,yi.NOT_BLANK],e}(yi),zi=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ui=function(){return Ui=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},Ui.apply(this,arguments)},Yi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return zi(e,t),e.prototype.conditionToString=function(t,e){var n=(e||{}).numberOfInputs;return t.type==vi.IN_RANGE||2===n?"".concat(t.filter,"-").concat(t.filterTo):null!=t.filter?"".concat(t.filter):"".concat(t.type)},e}(gi),Ki=function(t){function e(){var e=t.call(this,"textFilter")||this;return e.eValuesFrom=[],e.eValuesTo=[],e}return zi(e,t),e.trimInput=function(t){var e=t&&t.trim();return""===e?t:e},e.prototype.getDefaultDebounceMs=function(){return 500},e.prototype.setParams=function(n){this.textFilterParams=n,t.prototype.setParams.call(this,n),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?e.DEFAULT_FORMATTER:e.DEFAULT_LOWERCASE_FORMATTER),this.filterModelFormatter=new Yi(this.localeService,this.optionsFactory)},e.prototype.getTextMatcher=function(){var t=this.textFilterParams.textCustomComparator;return t?(ur.warnOnce("textCustomComparator is deprecated, use textMatcher instead."),function(e){var n=e.filterOption,o=e.value,r=e.filterText;return t(n,o,r)}):this.textFilterParams.textMatcher||e.DEFAULT_MATCHER},e.prototype.createCondition=function(t){var e=this.getConditionType(t),n={filterType:this.getFilterType(),type:e},o=this.getValuesWithSideEffects(t,!0);return o.length>0&&(n.filter=o[0]),o.length>1&&(n.filterTo=o[1]),n},e.prototype.getFilterType=function(){return"text"},e.prototype.areSimpleModelsEqual=function(t,e){return t.filter===e.filter&&t.filterTo===e.filterTo&&t.type===e.type},e.prototype.getInputs=function(t){return t>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[t],this.eValuesTo[t]]},e.prototype.getValues=function(t){return this.getValuesWithSideEffects(t,!1)},e.prototype.getValuesWithSideEffects=function(t,n){var r=this,i=[];return this.forEachPositionInput(t,(function(t,s,a,l){var u;if(s<l){var c=o(t.getValue());n&&r.textFilterParams.trimInput&&(c=null!==(u=e.trimInput(c))&&void 0!==u?u:null,t.setValue(c,!0)),i.push(c)}})),i},e.prototype.getDefaultFilterOptions=function(){return e.DEFAULT_FILTER_OPTIONS},e.prototype.createValueElement=function(){var t=document.createElement("div");return t.classList.add("ag-filter-body"),je(t,"presentation"),this.createFromToElement(t,this.eValuesFrom,"from"),this.createFromToElement(t,this.eValuesTo,"to"),t},e.prototype.createFromToElement=function(t,e,n){var o=this.createManagedBean(new Ni);o.addCssClass("ag-filter-".concat(n)),o.addCssClass("ag-filter-filter"),e.push(o),t.appendChild(o.getGui())},e.prototype.removeValueElements=function(t,e){this.removeComponents(this.eValuesFrom,t,e),this.removeComponents(this.eValuesTo,t,e)},e.prototype.mapValuesFromModel=function(t){var e=t||{},n=e.filter,o=e.filterTo,r=e.type;return[n||null,o||null].slice(0,this.getNumberOfInputs(r))},e.prototype.evaluateNullValue=function(t){var e=[vi.NOT_EQUAL,vi.NOT_CONTAINS,vi.BLANK];return!!t&&e.indexOf(t)>=0},e.prototype.evaluateNonNullValue=function(t,e,n,o){var r=this,i=t.map((function(t){return r.formatter(t)}))||[],s=this.formatter(e),a=this.textFilterParams,l=a.api,u=a.colDef,c=a.column,d=a.columnApi,p=a.context,h=a.textFormatter;if(n.type===vi.BLANK)return this.isBlank(e);if(n.type===vi.NOT_BLANK)return!this.isBlank(e);var f={api:l,colDef:u,column:c,columnApi:d,context:p,node:o.node,data:o.data,filterOption:n.type,value:s,textFormatter:h};return i.some((function(t){return r.matcher(Ui(Ui({},f),{filterText:t}))}))},e.prototype.getModelAsString=function(t){var e;return null!==(e=this.filterModelFormatter.getModelAsString(t))&&void 0!==e?e:""},e.DEFAULT_FILTER_OPTIONS=[vi.CONTAINS,vi.NOT_CONTAINS,vi.EQUALS,vi.NOT_EQUAL,vi.STARTS_WITH,vi.ENDS_WITH,vi.BLANK,vi.NOT_BLANK],e.DEFAULT_FORMATTER=function(t){return t},e.DEFAULT_LOWERCASE_FORMATTER=function(t){return null==t?null:t.toString().toLowerCase()},e.DEFAULT_MATCHER=function(t){var n=t.filterOption,o=t.value,r=t.filterText;if(null==r)return!1;switch(n){case e.CONTAINS:return o.indexOf(r)>=0;case e.NOT_CONTAINS:return o.indexOf(r)<0;case e.EQUALS:return o===r;case e.NOT_EQUAL:return o!=r;case e.STARTS_WITH:return 0===o.indexOf(r);case e.ENDS_WITH:var i=o.lastIndexOf(r);return i>=0&&i===o.length-r.length;default:return!1}},e}(vi),Zi=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),qi=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Qi=function(t){function e(e){var n=t.call(this)||this;return n.params=e,n.valueChangedListener=function(){},n}return Zi(e,t),e.prototype.setupGui=function(t){var e,n=this;this.eFloatingFilterTextInput=this.createManagedBean(new Ni(null===(e=this.params)||void 0===e?void 0:e.config));var o=this.eFloatingFilterTextInput.getGui();t.appendChild(o),this.addManagedListener(o,"input",(function(t){return n.valueChangedListener(t)})),this.addManagedListener(o,"keydown",(function(t){return n.valueChangedListener(t)}))},e.prototype.setEditable=function(t){this.eFloatingFilterTextInput.setDisabled(!t)},e.prototype.setAutoComplete=function(t){this.eFloatingFilterTextInput.setAutoComplete(t)},e.prototype.getValue=function(){return this.eFloatingFilterTextInput.getValue()},e.prototype.setValue=function(t,e){this.eFloatingFilterTextInput.setValue(t,e)},e.prototype.setValueChangedListener=function(t){this.valueChangedListener=t},e.prototype.setParams=function(t){this.setAriaLabel(t.ariaLabel),void 0!==t.autoComplete&&this.setAutoComplete(t.autoComplete)},e.prototype.setAriaLabel=function(t){this.eFloatingFilterTextInput.setInputAriaLabel(t)},e}(Ut),Xi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Zi(e,t),e.prototype.postConstruct=function(){this.setTemplate('\n            <div class="ag-floating-filter-input" role="presentation" ref="eFloatingFilterInputContainer"></div>\n        ')},e.prototype.getDefaultDebounceMs=function(){return 500},e.prototype.onParentModelChanged=function(t,e){this.isEventFromFloatingFilter(e)||this.isEventFromDataChange(e)||(this.setLastTypeFromModel(t),this.setEditable(this.canWeEditAfterModelFromParentFilter(t)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(t)))},e.prototype.init=function(e){this.setupFloatingFilterInputService(e),t.prototype.init.call(this,e),this.setTextInputParams(e)},e.prototype.setupFloatingFilterInputService=function(t){this.floatingFilterInputService=this.createFloatingFilterInputService(t),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)},e.prototype.setTextInputParams=function(t){var e;this.params=t;var n=null!==(e=t.browserAutoComplete)&&void 0!==e&&e;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(t),autoComplete:n}),this.applyActive=zr.isUseApplyButton(this.params.filterParams),!this.isReadOnly()){var o=zr.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),r=V(this.syncUpWithParentFilter.bind(this),o);this.floatingFilterInputService.setValueChangedListener(r)}},e.prototype.onParamsUpdated=function(e){t.prototype.onParamsUpdated.call(this,e),this.setTextInputParams(e)},e.prototype.recreateFloatingFilterInputService=function(t){var e=this.floatingFilterInputService.getValue();mo(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(t),this.floatingFilterInputService.setValue(e,!0)},e.prototype.getAriaLabel=function(t){var e=this.columnModel.getDisplayNameForColumn(t.column,"header",!0),n=this.localeService.getLocaleTextFunc();return"".concat(e," ").concat(n("ariaFilterInput","Filter Input"))},e.prototype.syncUpWithParentFilter=function(t){var e=this,n=t.key===qo.ENTER;if(!this.applyActive||n){var o=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(o=Ki.trimInput(o),this.floatingFilterInputService.setValue(o,!0)),this.params.parentFilterInstance((function(t){t&&t.onFloatingFilterChanged(e.getLastType()||null,o||null)}))}},e.prototype.setEditable=function(t){this.floatingFilterInputService.setEditable(t)},qi([nt("columnModel")],e.prototype,"columnModel",void 0),qi([Or("eFloatingFilterInputContainer")],e.prototype,"eFloatingFilterInputContainer",void 0),qi([J],e.prototype,"postConstruct",null),e}(xi),$i=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ji=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.valueChangedListener=function(){},e.numberInputActive=!0,e}return $i(e,t),e.prototype.setupGui=function(t){var e=this;this.eFloatingFilterNumberInput=this.createManagedBean(new Ii),this.eFloatingFilterTextInput=this.createManagedBean(new Ni),this.eFloatingFilterTextInput.setDisabled(!0);var n=this.eFloatingFilterNumberInput.getGui(),o=this.eFloatingFilterTextInput.getGui();t.appendChild(n),t.appendChild(o),this.setupListeners(n,(function(t){return e.valueChangedListener(t)})),this.setupListeners(o,(function(t){return e.valueChangedListener(t)}))},e.prototype.setEditable=function(t){this.numberInputActive=t,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)},e.prototype.setAutoComplete=function(t){this.eFloatingFilterNumberInput.setAutoComplete(t),this.eFloatingFilterTextInput.setAutoComplete(t)},e.prototype.getValue=function(){return this.getActiveInputElement().getValue()},e.prototype.setValue=function(t,e){this.getActiveInputElement().setValue(t,e)},e.prototype.getActiveInputElement=function(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput},e.prototype.setValueChangedListener=function(t){this.valueChangedListener=t},e.prototype.setupListeners=function(t,e){this.addManagedListener(t,"input",e),this.addManagedListener(t,"keydown",e)},e.prototype.setParams=function(t){this.setAriaLabel(t.ariaLabel),void 0!==t.autoComplete&&this.setAutoComplete(t.autoComplete)},e.prototype.setAriaLabel=function(t){this.eFloatingFilterNumberInput.setInputAriaLabel(t),this.eFloatingFilterTextInput.setInputAriaLabel(t)},e}(Ut),ts=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return $i(e,t),e.prototype.init=function(e){var n;t.prototype.init.call(this,e),this.filterModelFormatter=new Hi(this.localeService,this.optionsFactory,null===(n=e.filterParams)||void 0===n?void 0:n.numberFormatter)},e.prototype.onParamsUpdated=function(e){Vi(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),t.prototype.onParamsUpdated.call(this,e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})},e.prototype.getDefaultFilterOptions=function(){return Wi.DEFAULT_FILTER_OPTIONS},e.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},e.prototype.createFloatingFilterInputService=function(t){return this.allowedCharPattern=Vi(t.filterParams),this.allowedCharPattern?this.createManagedBean(new Qi({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new Ji)},e}(Xi),es=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ns=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return es(e,t),e.prototype.init=function(e){t.prototype.init.call(this,e),this.filterModelFormatter=new Yi(this.localeService,this.optionsFactory)},e.prototype.onParamsUpdated=function(e){t.prototype.onParamsUpdated.call(this,e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})},e.prototype.getDefaultFilterOptions=function(){return Ki.DEFAULT_FILTER_OPTIONS},e.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},e.prototype.createFloatingFilterInputService=function(){return this.createManagedBean(new Qi)},e}(Xi),os=function(){function t(t,e){void 0===e&&(e=!1);var n=this;this.destroyFuncs=[],this.touching=!1,this.eventService=new ut,this.eElement=t,this.preventMouseClick=e;var o=this.onTouchStart.bind(this),r=this.onTouchMove.bind(this),i=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",o,{passive:!0}),this.eElement.addEventListener("touchmove",r,{passive:!0}),this.eElement.addEventListener("touchend",i,{passive:!1}),this.destroyFuncs.push((function(){n.eElement.removeEventListener("touchstart",o,{passive:!0}),n.eElement.removeEventListener("touchmove",r,{passive:!0}),n.eElement.removeEventListener("touchend",i,{passive:!1})}))}return t.prototype.getActiveTouch=function(t){for(var e=0;e<t.length;e++){if(t[e].identifier===this.touchStart.identifier)return t[e]}return null},t.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},t.prototype.onTouchStart=function(e){var n=this;if(!this.touching){this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;var o=this.touchStart;window.setTimeout((function(){var r=n.touchStart===o;if(n.touching&&r&&!n.moved){n.moved=!0;var i={type:t.EVENT_LONG_TAP,touchStart:n.touchStart,touchEvent:e};n.eventService.dispatchEvent(i)}}),500)}},t.prototype.onTouchMove=function(t){if(this.touching){var e=this.getActiveTouch(t.touches);if(e)!nr(e,this.touchStart,4)&&(this.moved=!0)}},t.prototype.onTouchEnd=function(e){if(this.touching){if(!this.moved){var n={type:t.EVENT_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(n),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}},t.prototype.checkForDoubleTap=function(){var e=(new Date).getTime();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>t.DOUBLE_TAP_MILLIS){var n={type:t.EVENT_DOUBLE_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(n),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e},t.prototype.destroy=function(){this.destroyFuncs.forEach((function(t){return t()}))},t.EVENT_TAP="tap",t.EVENT_DOUBLE_TAP="doubleTap",t.EVENT_LONG_TAP="longTap",t.DOUBLE_TAP_MILLIS=500,t}(),rs=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),is=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ss=function(t){function e(n){var o=t.call(this)||this;return n||o.setTemplate(e.TEMPLATE),o}return rs(e,t),e.prototype.attachCustomElements=function(t,e,n,o,r){this.eSortOrder=t,this.eSortAsc=e,this.eSortDesc=n,this.eSortMixed=o,this.eSortNone=r},e.prototype.setupSort=function(t,e){var n=this;void 0===e&&(e=!1),this.column=t,this.suppressOrder=e,this.setupMultiSortIndicator(),this.column.isSortable()&&(this.addInIcon("sortAscending",this.eSortAsc,t),this.addInIcon("sortDescending",this.eSortDesc,t),this.addInIcon("sortUnSort",this.eSortNone,t),this.addManagedPropertyListener("unSortIcon",(function(){return n.updateIcons()})),this.addManagedListener(this.eventService,$t.EVENT_NEW_COLUMNS_LOADED,(function(){return n.updateIcons()})),this.addManagedListener(this.eventService,$t.EVENT_SORT_CHANGED,(function(){return n.onSortChanged()})),this.addManagedListener(this.eventService,$t.EVENT_COLUMN_ROW_GROUP_CHANGED,(function(){return n.onSortChanged()})),this.onSortChanged())},e.prototype.addInIcon=function(t,e,n){if(null!=e){var o=Ko(t,this.gridOptionsService,n);o&&e.appendChild(o)}},e.prototype.onSortChanged=function(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()},e.prototype.updateIcons=function(){var t=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){var e="asc"===t;oo(this.eSortAsc,e,{skipAriaHidden:!0})}if(this.eSortDesc){var n="desc"===t;oo(this.eSortDesc,n,{skipAriaHidden:!0})}if(this.eSortNone){var o=!this.column.getColDef().unSortIcon&&!this.gridOptionsService.get("unSortIcon"),r=null===t||void 0===t;oo(this.eSortNone,!o&&r,{skipAriaHidden:!0})}},e.prototype.setupMultiSortIndicator=function(){var t=this;this.addInIcon("sortUnSort",this.eSortMixed,this.column);var e=this.column.getColDef().showRowGroup;this.gridOptionsService.isColumnsSortingCoupledToGroup()&&e&&(this.addManagedListener(this.eventService,$t.EVENT_SORT_CHANGED,(function(){return t.updateMultiSortIndicator()})),this.addManagedListener(this.eventService,$t.EVENT_COLUMN_ROW_GROUP_CHANGED,(function(){return t.updateMultiSortIndicator()})),this.updateMultiSortIndicator())},e.prototype.updateMultiSortIndicator=function(){if(this.eSortMixed){var t="mixed"===this.sortController.getDisplaySortForColumn(this.column);oo(this.eSortMixed,t,{skipAriaHidden:!0})}},e.prototype.updateSortOrder=function(){var t,e=this;if(this.eSortOrder){var n=this.sortController.getColumnsWithSortingOrdered(),o=null!==(t=this.sortController.getDisplaySortIndexForColumn(this.column))&&void 0!==t?t:-1,r=n.some((function(t){var n;return null!==(n=e.sortController.getDisplaySortIndexForColumn(t))&&void 0!==n&&n})),i=o>=0&&r;oo(this.eSortOrder,i,{skipAriaHidden:!0}),o>=0?this.eSortOrder.innerHTML=(o+1).toString():mo(this.eSortOrder)}},e.TEMPLATE='<span class="ag-sort-indicator-container">\n            <span ref="eSortOrder" class="ag-sort-indicator-icon ag-sort-order ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortAsc" class="ag-sort-indicator-icon ag-sort-ascending-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortDesc" class="ag-sort-indicator-icon ag-sort-descending-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortMixed" class="ag-sort-indicator-icon ag-sort-mixed-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortNone" class="ag-sort-indicator-icon ag-sort-none-icon ag-hidden" aria-hidden="true"></span>\n        </span>',is([Or("eSortOrder")],e.prototype,"eSortOrder",void 0),is([Or("eSortAsc")],e.prototype,"eSortAsc",void 0),is([Or("eSortDesc")],e.prototype,"eSortDesc",void 0),is([Or("eSortMixed")],e.prototype,"eSortMixed",void 0),is([Or("eSortNone")],e.prototype,"eSortNone",void 0),is([nt("columnModel")],e.prototype,"columnModel",void 0),is([nt("sortController")],e.prototype,"sortController",void 0),e}(Sr),as=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ls=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},us=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lastMovingChanged=0,e}return as(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.refresh=function(t){return this.params=t,this.workOutTemplate()==this.currentTemplate&&(this.workOutShowMenu()==this.currentShowMenu&&(this.workOutSort()==this.currentSort&&(this.shouldSuppressMenuHide()==this.currentSuppressMenuHide&&(this.setDisplayName(t),!0))))},e.prototype.workOutTemplate=function(){var t=yt(this.params.template,e.TEMPLATE);return t=t&&t.trim?t.trim():t},e.prototype.init=function(t){this.params=t,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setupIcons(t.column),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setDisplayName(t)},e.prototype.setDisplayName=function(t){if(this.currentDisplayName!=t.displayName){this.currentDisplayName=t.displayName;var e=se(this.currentDisplayName);this.eText&&(this.eText.innerHTML=e)}},e.prototype.setupIcons=function(t){this.addInIcon("menu",this.eMenu,t),this.addInIcon("filter",this.eFilter,t)},e.prototype.addInIcon=function(t,e,n){if(null!=e){var o=Ko(t,this.gridOptionsService,n);o&&e.appendChild(o)}},e.prototype.setupTap=function(){var t=this,e=this.gridOptionsService;if(!e.get("suppressTouch")){var n=new os(this.getGui(),!0),o=e.get("suppressMenuHide"),i=o&&r(this.eMenu),s=i?new os(this.eMenu,!0):n;if(this.params.enableMenu){var a=i?"EVENT_TAP":"EVENT_LONG_TAP";this.addManagedListener(s,os[a],(function(n){e.api.showColumnMenuAfterMouseClick(t.params.column,n.touchStart)}))}if(this.params.enableSorting){this.addManagedListener(n,os.EVENT_TAP,(function(e){var n=e.touchStart.target;o&&t.eMenu.contains(n)||t.sortController.progressSort(t.params.column,!1,"uiColumnSorted")}))}this.addDestroyFunc((function(){return n.destroy()})),i&&this.addDestroyFunc((function(){return s.destroy()}))}},e.prototype.workOutShowMenu=function(){var t=!this.gridOptionsService.get("suppressMenuHide"),e=Pn()&&t;return this.params.enableMenu&&!e},e.prototype.shouldSuppressMenuHide=function(){return this.gridOptionsService.get("suppressMenuHide")},e.prototype.setMenu=function(){var t=this;this.eMenu&&(this.currentShowMenu=this.workOutShowMenu(),this.currentShowMenu?(this.currentSuppressMenuHide=this.shouldSuppressMenuHide(),this.addManagedListener(this.eMenu,"click",(function(){return t.showMenu(t.eMenu)})),this.eMenu.classList.toggle("ag-header-menu-always-show",this.currentSuppressMenuHide)):yo(this.eMenu))},e.prototype.showMenu=function(t){t||(t=this.eMenu),this.menuFactory.showMenuAfterButtonClick(this.params.column,t,"columnMenu")},e.prototype.workOutSort=function(){return this.params.enableSorting},e.prototype.setupSort=function(){var t=this;if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.context.createBean(new ss(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),this.currentSort){this.addManagedListener(this.params.column,ft.EVENT_MOVING_CHANGED,(function(){t.lastMovingChanged=(new Date).getTime()})),this.eLabel&&this.addManagedListener(this.eLabel,"click",(function(e){var n=t.params.column.isMoving(),o=(new Date).getTime()-t.lastMovingChanged<50;if(!(n||o)){var r="ctrl"===t.gridOptionsService.get("multiSortKey")?e.ctrlKey||e.metaKey:e.shiftKey;t.params.progressSort(r)}}));var e=function(){if(t.addOrRemoveCssClass("ag-header-cell-sorted-asc",t.params.column.isSortAscending()),t.addOrRemoveCssClass("ag-header-cell-sorted-desc",t.params.column.isSortDescending()),t.addOrRemoveCssClass("ag-header-cell-sorted-none",t.params.column.isSortNone()),t.params.column.getColDef().showRowGroup){var e=t.columnModel.getSourceColumnsForGroupColumn(t.params.column),n=!(null===e||void 0===e?void 0:e.every((function(e){return t.params.column.getSort()==e.getSort()})));t.addOrRemoveCssClass("ag-header-cell-sorted-mixed",n)}};this.addManagedListener(this.eventService,$t.EVENT_SORT_CHANGED,e),this.addManagedListener(this.eventService,$t.EVENT_COLUMN_ROW_GROUP_CHANGED,e)}},e.prototype.setupFilterIcon=function(){this.eFilter&&(this.addManagedListener(this.params.column,ft.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged())},e.prototype.onFilterChanged=function(){var t=this.params.column.isFilterActive();oo(this.eFilter,t,{skipAriaHidden:!0})},e.TEMPLATE='<div class="ag-cell-label-container" role="presentation">\n            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n            <div ref="eLabel" class="ag-header-cell-label" role="presentation">\n                <span ref="eText" class="ag-header-cell-text"></span>\n                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n                <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>\n            </div>\n        </div>',ls([nt("sortController")],e.prototype,"sortController",void 0),ls([nt("menuFactory")],e.prototype,"menuFactory",void 0),ls([nt("columnModel")],e.prototype,"columnModel",void 0),ls([Or("eFilter")],e.prototype,"eFilter",void 0),ls([Or("eSortIndicator")],e.prototype,"eSortIndicator",void 0),ls([Or("eMenu")],e.prototype,"eMenu",void 0),ls([Or("eLabel")],e.prototype,"eLabel",void 0),ls([Or("eText")],e.prototype,"eText",void 0),ls([Or("eSortOrder")],e.prototype,"eSortOrder",void 0),ls([Or("eSortAsc")],e.prototype,"eSortAsc",void 0),ls([Or("eSortDesc")],e.prototype,"eSortDesc",void 0),ls([Or("eSortMixed")],e.prototype,"eSortMixed",void 0),ls([Or("eSortNone")],e.prototype,"eSortNone",void 0),e}(Sr),cs=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ds=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ps=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return cs(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.init=function(t){this.params=t,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()},e.prototype.checkWarnings=function(){this.params.template&&L("A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")},e.prototype.setupExpandIcons=function(){var t=this;this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");var e=function(e){if(!Ft(e)){var n=!t.params.columnGroup.isExpanded();t.columnModel.setColumnGroupOpened(t.params.columnGroup.getProvidedColumnGroup(),n,"uiColumnExpanded")}};this.addTouchAndClickListeners(this.eCloseIcon,e),this.addTouchAndClickListeners(this.eOpenIcon,e);var n=function(t){Nt(t)};this.addManagedListener(this.eCloseIcon,"dblclick",n),this.addManagedListener(this.eOpenIcon,"dblclick",n),this.addManagedListener(this.getGui(),"dblclick",e),this.updateIconVisibility();var o=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(o,vt.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(o,vt.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))},e.prototype.addTouchAndClickListeners=function(t,e){var n=new os(t,!0);this.addManagedListener(n,os.EVENT_TAP,e),this.addDestroyFunc((function(){return n.destroy()})),this.addManagedListener(t,"click",e)},e.prototype.updateIconVisibility=function(){if(this.params.columnGroup.isExpandable()){var t=this.params.columnGroup.isExpanded();oo(this.eOpenIcon,t),oo(this.eCloseIcon,!t)}else oo(this.eOpenIcon,!1),oo(this.eCloseIcon,!1)},e.prototype.addInIcon=function(t,e){var n=Ko(t,this.gridOptionsService,null);n&&this.getRefElement(e).appendChild(n)},e.prototype.addGroupExpandIcon=function(){if(!this.params.columnGroup.isExpandable())return oo(this.eOpenIcon,!1),void oo(this.eCloseIcon,!1)},e.prototype.setupLabel=function(){var t,e=this.params,n=e.displayName,o=e.columnGroup;if(r(n)){var i=se(n);this.getRefElement("agLabel").innerHTML=i}this.addOrRemoveCssClass("ag-sticky-label",!(null===(t=o.getColGroupDef())||void 0===t?void 0:t.suppressStickyLabel))},e.TEMPLATE='<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">\n            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>\n            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>',ds([nt("columnModel")],e.prototype,"columnModel",void 0),ds([Or("agOpened")],e.prototype,"eOpenIcon",void 0),ds([Or("agClosed")],e.prototype,"eCloseIcon",void 0),e}(Sr),hs=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),fs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return hs(e,t),e.prototype.isPopup=function(){return!0},e.prototype.setParentComponent=function(e){e.addCssClass("ag-has-popup"),t.prototype.setParentComponent.call(this,e)},e.prototype.destroy=function(){var e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),t.prototype.destroy.call(this)},e}(Sr),gs=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),vs=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ms=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return gs(e,t),e.prototype.init=function(t){this.params=t,this.focusAfterAttached=t.cellStartedEdit,this.eTextArea.setMaxLength(t.maxLength||200).setCols(t.cols||60).setRows(t.rows||10),r(t.value,!0)&&this.eTextArea.setValue(t.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()},e.prototype.onKeyDown=function(t){var e=t.key;(e===qo.LEFT||e===qo.UP||e===qo.RIGHT||e===qo.DOWN||t.shiftKey&&e===qo.ENTER)&&t.stopPropagation()},e.prototype.afterGuiAttached=function(){var t=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(t("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()},e.prototype.getValue=function(){var t=this.eTextArea.getValue();return r(t)||r(this.params.value)?this.params.parseValue(t):this.params.value},e.TEMPLATE='<div class="ag-large-text">\n            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>',vs([Or("eTextArea")],e.prototype,"eTextArea",void 0),e}(fs),ys=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Cs=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ws=function(t){function e(){var e=t.call(this,'<div class="ag-cell-edit-wrapper">\n                <ag-select class="ag-cell-editor" ref="eSelect"></ag-select>\n            </div>')||this;return e.startedByEnter=!1,e}return ys(e,t),e.prototype.init=function(t){this.focusAfterAttached=t.cellStartedEdit;var e=this,n=e.eSelect,o=e.valueFormatterService,r=e.gridOptionsService,s=t.values,a=t.value,l=t.eventKey;if(i(s))console.warn("AG Grid: no values found for select cellEditor");else{this.startedByEnter=null!=l&&l===qo.ENTER;var u=!1;s.forEach((function(e){var r={value:e},i=o.formatValue(t.column,null,e),s=null!==i&&void 0!==i;r.text=s?i:e,n.addOption(r),u=u||a===e})),u?n.setValue(t.value,!0):t.values.length&&n.setValue(t.values[0],!0);var c=t.valueListGap,d=t.valueListMaxWidth,p=t.valueListMaxHeight;null!=c&&n.setPickerGap(c),null!=p&&n.setPickerMaxHeight(p),null!=d&&n.setPickerMaxWidth(d),"fullRow"!==r.get("editType")&&this.addManagedListener(this.eSelect,ri.EVENT_ITEM_SELECTED,(function(){return t.stopEditing()}))}},e.prototype.afterGuiAttached=function(){var t=this;this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout((function(){t.isAlive()&&t.eSelect.showPicker()}))},e.prototype.focusIn=function(){this.eSelect.getFocusableElement().focus()},e.prototype.getValue=function(){return this.eSelect.getValue()},e.prototype.isPopup=function(){return!1},Cs([nt("valueFormatterService")],e.prototype,"valueFormatterService",void 0),Cs([Or("eSelect")],e.prototype,"eSelect",void 0),e}(fs),bs=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),_s=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ss=function(t){function e(e){var n=t.call(this,'\n            <div class="ag-cell-edit-wrapper">\n                '.concat(e.getTemplate(),"\n            </div>"))||this;return n.cellEditorInput=e,n}return bs(e,t),e.prototype.init=function(t){this.params=t;var e,n=this.eInput;if(this.cellEditorInput.init(n,t),t.cellStartedEdit){this.focusAfterAttached=!0;var o=t.eventKey;o===qo.BACKSPACE||t.eventKey===qo.DELETE?e="":o&&1===o.length?e=o:(e=this.cellEditorInput.getStartValue(),o!==qo.F2&&(this.highlightAllOnFocus=!0))}else this.focusAfterAttached=!1,e=this.cellEditorInput.getStartValue();null!=e&&n.setStartValue(e),this.addManagedListener(n.getGui(),"keydown",(function(t){var e=t.key;e!==qo.PAGE_UP&&e!==qo.PAGE_DOWN||t.preventDefault()}))},e.prototype.afterGuiAttached=function(){var t,e,n=this.localeService.getLocaleTextFunc(),o=this.eInput;if(o.setInputAriaLabel(n("ariaInputEditor","Input Editor")),this.focusAfterAttached){On()||o.getFocusableElement().focus();var r=o.getInputElement();this.highlightAllOnFocus?r.select():null===(e=(t=this.cellEditorInput).setCaret)||void 0===e||e.call(t)}},e.prototype.focusIn=function(){var t=this.eInput,e=t.getFocusableElement(),n=t.getInputElement();e.focus(),n.select()},e.prototype.getValue=function(){return this.cellEditorInput.getValue()},e.prototype.isPopup=function(){return!1},_s([Or("eInput")],e.prototype,"eInput",void 0),e}(fs),Es=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Os=function(){function t(){}return t.prototype.getTemplate=function(){return'<ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field>'},t.prototype.init=function(t,e){this.eInput=t,this.params=e,null!=e.maxLength&&t.setMaxLength(e.maxLength)},t.prototype.getValue=function(){var t=this.eInput.getValue();return r(t)||r(this.params.value)?this.params.parseValue(t):this.params.value},t.prototype.getStartValue=function(){return this.params.useFormatter||this.params.column.getColDef().refData?this.params.formatValue(this.params.value):this.params.value},t.prototype.setCaret=function(){var t=this.eInput.getValue(),e=r(t)&&t.length||0;e&&this.eInput.getInputElement().setSelectionRange(e,e)},t}(),xs=function(t){function e(){return t.call(this,new Os)||this}return Es(e,t),e}(Ss),Ts=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Rs=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ds=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.refreshCount=0,n}return Ts(e,t),e.prototype.init=function(t){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(t)},e.prototype.showDelta=function(t,e){var n=Math.abs(e),o=t.formatValue(n),i=r(o)?o:n,s=e>=0;this.eDelta.innerHTML=s?"\u2191"+i:"\u2193"+i,this.eDelta.classList.toggle("ag-value-change-delta-up",s),this.eDelta.classList.toggle("ag-value-change-delta-down",!s)},e.prototype.setTimerToRemoveDelta=function(){var t=this;this.refreshCount++;var e=this.refreshCount;window.setTimeout((function(){e===t.refreshCount&&t.hideDeltaValue()}),2e3)},e.prototype.hideDeltaValue=function(){this.eValue.classList.remove("ag-value-change-value-highlight"),mo(this.eDelta)},e.prototype.refresh=function(t){var e=t.value;if(e===this.lastValue)return!1;if(r(t.valueFormatted)?this.eValue.innerHTML=t.valueFormatted:r(t.value)?this.eValue.innerHTML=e:mo(this.eValue),this.filterManager.isSuppressFlashingCellsBecauseFiltering())return!1;if("number"===typeof e&&"number"===typeof this.lastValue){var n=e-this.lastValue;this.showDelta(t,n)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),this.setTimerToRemoveDelta(),this.lastValue=e,!0},e.TEMPLATE='<span><span class="ag-value-change-delta"></span><span class="ag-value-change-value"></span></span>',Rs([nt("filterManager")],e.prototype,"filterManager",void 0),e}(Sr),Ps=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ls=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ms=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.refreshCount=0,n.eCurrent=n.queryForHtmlElement(".ag-value-slide-current"),n}return Ps(e,t),e.prototype.init=function(t){this.refresh(t)},e.prototype.addSlideAnimation=function(){var t=this;this.refreshCount++;var e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=wo('<span class="ag-value-slide-previous ag-value-slide-out"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),window.setTimeout((function(){e===t.refreshCount&&t.ePrevious.classList.add("ag-value-slide-out-end")}),50),window.setTimeout((function(){e===t.refreshCount&&(t.getGui().removeChild(t.ePrevious),t.ePrevious=null)}),3e3)},e.prototype.refresh=function(t){var e=t.value;return i(e)&&(e=""),e!==this.lastValue&&(!this.filterManager.isSuppressFlashingCellsBecauseFiltering()&&(this.addSlideAnimation(),this.lastValue=e,r(t.valueFormatted)?this.eCurrent.innerHTML=t.valueFormatted:r(t.value)?this.eCurrent.innerHTML=e:mo(this.eCurrent),!0))},e.TEMPLATE='<span>\n            <span class="ag-value-slide-current"></span>\n        </span>',Ls([nt("filterManager")],e.prototype,"filterManager",void 0),e}(Sr),As=function(){return As=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},As.apply(this,arguments)},ks=function(){function t(e){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=t.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=e}return t.prototype.setData=function(t){this.setDataCommon(t,!1)},t.prototype.updateData=function(t){this.setDataCommon(t,!0)},t.prototype.setDataCommon=function(t,e){var n=this.data;this.data=t,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();var o=this.createDataChangedEvent(t,n,e);this.dispatchLocalEvent(o)},t.prototype.updateDataOnDetailNode=function(){this.detailNode&&(this.detailNode.data=this.data)},t.prototype.createDataChangedEvent=function(e,n,o){return{type:t.EVENT_DATA_CHANGED,node:this,oldData:n,newData:e,update:o}},t.prototype.createLocalRowEvent=function(t){return{type:t,node:this}},t.prototype.getRowIndexString=function(){return"top"===this.rowPinned?"t-"+this.rowIndex:"bottom"===this.rowPinned?"b-"+this.rowIndex:this.rowIndex.toString()},t.prototype.createDaemonNode=function(){var e=new t(this.beans);return e.id=this.id,e.data=this.data,e.__daemon=!0,e.selected=this.selected,e.level=this.level,e},t.prototype.setDataAndId=function(t,e){var n=r(this.id)?this.createDaemonNode():null,o=this.data;this.data=t,this.updateDataOnDetailNode(),this.setId(e),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,n);var i=this.createDataChangedEvent(t,o,!1);this.dispatchLocalEvent(i)},t.prototype.checkRowSelectable=function(){var t=this.beans.gridOptionsService.get("isRowSelectable");this.setRowSelectable(!t||t(this))},t.prototype.setRowSelectable=function(e,n){if(this.selectable!==e){if(this.selectable=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_SELECTABLE_CHANGED)),n)return;if(this.beans.gridOptionsService.get("groupSelectsChildren")){var o=this.calculateSelectedFromChildren();return void this.setSelectedParams({newValue:null!==o&&void 0!==o&&o,source:"selectableChanged"})}this.isSelected()&&!this.selectable&&this.setSelectedParams({newValue:!1,source:"selectableChanged"})}},t.prototype.setId=function(e){var n=this.beans.gridOptionsService.getCallback("getRowId");if(n)if(this.data){var o=this.getGroupKeys(!0);this.id=n({data:this.data,parentKeys:o.length>0?o:void 0,level:this.level}),null!==this.id&&"string"===typeof this.id&&this.id.startsWith(t.ID_PREFIX_ROW_GROUP)&&console.error("AG Grid: Row IDs cannot start with ".concat(t.ID_PREFIX_ROW_GROUP,", this is a reserved prefix for AG Grid's row grouping feature.")),null!==this.id&&"string"!==typeof this.id&&(this.id=""+this.id)}else this.id=void 0;else this.id=e},t.prototype.getGroupKeys=function(t){void 0===t&&(t=!1);var e=[],n=this;for(t&&(n=n.parent);n&&n.level>=0;)e.push(n.key),n=n.parent;return e.reverse(),e},t.prototype.isPixelInRange=function(t){return!(!r(this.rowTop)||!r(this.rowHeight))&&(t>=this.rowTop&&t<this.rowTop+this.rowHeight)},t.prototype.setFirstChild=function(e){this.firstChild!==e&&(this.firstChild=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_FIRST_CHILD_CHANGED)))},t.prototype.setLastChild=function(e){this.lastChild!==e&&(this.lastChild=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_LAST_CHILD_CHANGED)))},t.prototype.setChildIndex=function(e){this.childIndex!==e&&(this.childIndex=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_CHILD_INDEX_CHANGED)))},t.prototype.setRowTop=function(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_TOP_CHANGED)),this.setDisplayed(null!==e))},t.prototype.clearRowTopAndRowIndex=function(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)},t.prototype.setDisplayed=function(e){this.displayed!==e&&(this.displayed=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_DISPLAYED_CHANGED)))},t.prototype.setDragging=function(e){this.dragging!==e&&(this.dragging=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_DRAGGING_CHANGED)))},t.prototype.setHighlighted=function(e){e!==this.highlighted&&(this.highlighted=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_HIGHLIGHT_CHANGED)))},t.prototype.setHovered=function(t){this.hovered!==t&&(this.hovered=t)},t.prototype.isHovered=function(){return this.hovered},t.prototype.setAllChildrenCount=function(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_ALL_CHILDREN_COUNT_CHANGED)))},t.prototype.setMaster=function(e){this.master!==e&&(this.master&&!e&&(this.expanded=!1),this.master=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_MASTER_CHANGED)))},t.prototype.setGroup=function(e){this.group!==e&&(this.group&&!e&&(this.expanded=!1),this.group=e,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_GROUP_CHANGED)))},t.prototype.setRowHeight=function(e,n){void 0===n&&(n=!1),this.rowHeight=e,this.rowHeightEstimated=n,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_HEIGHT_CHANGED))},t.prototype.setRowAutoHeight=function(t,e){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[e.getId()]=t,null!=t&&(null==this.checkAutoHeightsDebounced&&(this.checkAutoHeightsDebounced=V(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())},t.prototype.checkAutoHeights=function(){var t=this,e=!1,n=!0,o=0,r=this.__autoHeights;if(null!=r&&(this.beans.columnModel.getAllDisplayedAutoHeightCols().forEach((function(i){var s=r[i.getId()];if(null==s){if(!t.beans.columnModel.isColSpanActive())return void(e=!0);var a=[];switch(i.getPinned()){case"left":a=t.beans.columnModel.getDisplayedLeftColumnsForRow(t);break;case"right":a=t.beans.columnModel.getDisplayedRightColumnsForRow(t);break;case null:a=t.beans.columnModel.getViewportCenterColumnsForRow(t)}if(a.includes(i))return void(e=!0);s=-1}else n=!1;s>o&&(o=s)})),!e&&((n||o<10)&&(o=this.beans.gridOptionsService.getRowHeightForNode(this).height),o!=this.rowHeight))){this.setRowHeight(o);var i=this.beans.rowModel;i.onRowHeightChangedDebounced&&i.onRowHeightChangedDebounced()}},t.prototype.setRowIndex=function(e){this.rowIndex!==e&&(this.rowIndex=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_ROW_INDEX_CHANGED)))},t.prototype.setUiLevel=function(e){this.uiLevel!==e&&(this.uiLevel=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_UI_LEVEL_CHANGED)))},t.prototype.setExpanded=function(e,n){if(this.expanded!==e){this.expanded=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_EXPANDED_CHANGED));var o=Object.assign({},this.createGlobalRowEvent($t.EVENT_ROW_GROUP_OPENED),{expanded:e,event:n||null});this.beans.rowNodeEventThrottle.dispatchExpanded(o),this.sibling&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}},t.prototype.createGlobalRowEvent=function(t){return{type:t,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned,context:this.beans.gridOptionsService.context,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi}},t.prototype.dispatchLocalEvent=function(t){this.eventService&&this.eventService.dispatchEvent(t)},t.prototype.setDataValue=function(t,e,n){var o=this,r=function(){var e;return"string"!==typeof t?t:null!==(e=o.beans.columnModel.getGridColumn(t))&&void 0!==e?e:o.beans.columnModel.getPrimaryColumn(t)}(),i=this.getValueFromValueService(r);if(this.beans.gridOptionsService.get("readOnlyEdit"))return this.dispatchEventForSaveValueReadOnly(r,i,e,n),!1;var s=this.beans.valueService.setValue(this,r,e,n);return this.dispatchCellChangedEvent(r,e,i),this.checkRowSelectable(),s},t.prototype.getValueFromValueService=function(t){var e=this.leafGroup&&this.beans.columnModel.isPivotMode(),n=this.group&&this.expanded&&!this.footer&&!e,o=this.beans.gridOptionsService.getGroupIncludeFooter()({node:this}),r=this.beans.gridOptionsService.get("groupSuppressBlankHeader"),i=n&&o&&!r;return this.beans.valueService.getValue(t,this,!1,i)},t.prototype.dispatchEventForSaveValueReadOnly=function(t,e,n,o){var r={type:$t.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:t,colDef:t.getColDef(),context:this.beans.gridOptionsService.context,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,data:this.data,node:this,oldValue:e,newValue:n,value:n,source:o};this.beans.eventService.dispatchEvent(r)},t.prototype.setGroupValue=function(t,e){var n=this.beans.columnModel.getGridColumn(t);i(this.groupData)&&(this.groupData={});var o=n.getColId(),r=this.groupData[o];r!==e&&(this.groupData[o]=e,this.dispatchCellChangedEvent(n,e,r))},t.prototype.setAggData=function(t){var e=this,n=_([this.aggData,t]),o=this.aggData;this.aggData=t,this.eventService&&n.forEach((function(t){var n=e.aggData?e.aggData[t]:void 0,r=o?o[t]:void 0;if(n!==r){var i=e.beans.columnModel.lookupGridColumn(t);i&&e.dispatchCellChangedEvent(i,n,r)}}))},t.prototype.updateHasChildren=function(){var e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(this.beans.gridOptionsService.isRowModelType("serverSide")){var n=this.beans.gridOptionsService.get("treeData"),o=this.beans.gridOptionsService.get("isServerSideGroup");e=!this.stub&&!this.footer&&(n?!!o&&o(this.data):!!this.group)}e!==this.__hasChildren&&(this.__hasChildren=!!e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_HAS_CHILDREN_CHANGED)))},t.prototype.hasChildren=function(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren},t.prototype.isEmptyRowGroupNode=function(){return this.group&&s(this.childrenAfterGroup)},t.prototype.dispatchCellChangedEvent=function(e,n,o){var r={type:t.EVENT_CELL_CHANGED,node:this,column:e,newValue:n,oldValue:o};this.dispatchLocalEvent(r)},t.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},t.prototype.isExpandable=function(){return!this.footer&&(this.beans.columnModel.isPivotMode()?this.hasChildren()&&!this.leafGroup:this.hasChildren()||!!this.master)},t.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},t.prototype.depthFirstSearch=function(t){this.childrenAfterGroup&&this.childrenAfterGroup.forEach((function(e){return e.depthFirstSearch(t)})),t(this)},t.prototype.calculateSelectedFromChildren=function(){var t,e=!1,n=!1,o=!1;if(!(null===(t=this.childrenAfterGroup)||void 0===t?void 0:t.length))return this.selectable?this.selected:null;for(var r=0;r<this.childrenAfterGroup.length;r++){var i=this.childrenAfterGroup[r],s=i.isSelected();if(!i.selectable){var a=i.calculateSelectedFromChildren();if(null===a)continue;s=a}switch(s){case!0:e=!0;break;case!1:n=!0;break;default:o=!0}}return o||e&&n?void 0:!!e||!n&&(this.selectable?this.selected:null)},t.prototype.setSelectedInitialValue=function(t){this.selected=t},t.prototype.selectThisNode=function(e,n,o){void 0===o&&(o="api");var r=!this.selectable&&e,i=this.selected===e;if(r||i)return!1;if(this.selected=e,this.eventService){this.dispatchLocalEvent(this.createLocalRowEvent(t.EVENT_ROW_SELECTED));var s=this.sibling;s&&s.footer&&s.dispatchLocalEvent(s.createLocalRowEvent(t.EVENT_ROW_SELECTED))}var a=As(As({},this.createGlobalRowEvent($t.EVENT_ROW_SELECTED)),{event:n||null,source:o});return this.beans.eventService.dispatchEvent(a),!0},t.prototype.setSelected=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n="api"),"boolean"!==typeof n?this.setSelectedParams({newValue:t,clearSelection:e,rangeSelect:!1,source:n}):console.warn("AG Grid: since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.")},t.prototype.setSelectedParams=function(t){return this.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),0):void 0===this.id?(console.warn("AG Grid: cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected(As(As({},t),{nodes:[this.footer?this.sibling:this]}))},t.prototype.isRowPinned=function(){return"top"===this.rowPinned||"bottom"===this.rowPinned},t.prototype.isParentOfNode=function(t){for(var e=this.parent;e;){if(e===t)return!0;e=e.parent}return!1},t.prototype.addEventListener=function(t,e){this.eventService||(this.eventService=new ut),this.eventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.eventService&&(this.eventService.removeEventListener(t,e),this.eventService.noRegisteredListenersExist()&&(this.eventService=null))},t.prototype.onMouseEnter=function(){this.dispatchLocalEvent(this.createLocalRowEvent(t.EVENT_MOUSE_ENTER))},t.prototype.onMouseLeave=function(){this.dispatchLocalEvent(this.createLocalRowEvent(t.EVENT_MOUSE_LEAVE))},t.prototype.getFirstChildOfFirstChild=function(t){for(var e=this,n=!0,o=!1,i=null;n&&!o;){var s=e.parent;r(s)&&e.firstChild?s.rowGroupColumn===t&&(o=!0,i=s):n=!1,e=s}return o?i:null},t.prototype.isFullWidthCell=function(){if(this.detail)return!0;var t=this.beans.gridOptionsService.getCallback("isFullWidthRow");return!!t&&t({rowNode:this})},t.prototype.getRoute=function(){if(null!=this.key){for(var t=[],e=this;null!=e.key;)t.push(e.key),e=e.parent;return t.reverse()}},t.prototype.createFooter=function(){var e=this;if(!this.sibling){var n=new Set(["eventService","__objectId","sticky"]),o=new t(this.beans);Object.keys(this).forEach((function(t){n.has(t)||(o[t]=e[t])})),o.footer=!0,o.setRowTop(null),o.setRowIndex(null),o.oldRowTop=null,o.id="rowGroupFooter_"+this.id,o.sibling=this,this.sibling=o}},t.prototype.destroyFooter=function(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)},t.ID_PREFIX_ROW_GROUP="row-group-",t.ID_PREFIX_TOP_PINNED="t-",t.ID_PREFIX_BOTTOM_PINNED="b-",t.OBJECT_ID_SEQUENCE=0,t.EVENT_ROW_SELECTED="rowSelected",t.EVENT_DATA_CHANGED="dataChanged",t.EVENT_CELL_CHANGED="cellChanged",t.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",t.EVENT_MASTER_CHANGED="masterChanged",t.EVENT_GROUP_CHANGED="groupChanged",t.EVENT_MOUSE_ENTER="mouseEnter",t.EVENT_MOUSE_LEAVE="mouseLeave",t.EVENT_HEIGHT_CHANGED="heightChanged",t.EVENT_TOP_CHANGED="topChanged",t.EVENT_DISPLAYED_CHANGED="displayedChanged",t.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",t.EVENT_LAST_CHILD_CHANGED="lastChildChanged",t.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",t.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",t.EVENT_EXPANDED_CHANGED="expandedChanged",t.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",t.EVENT_SELECTABLE_CHANGED="selectableChanged",t.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",t.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",t.EVENT_DRAGGING_CHANGED="draggingChanged",t}(),Ns=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Fs=function(){return Fs=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},Fs.apply(this,arguments)},Is=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Gs=function(t){function e(){return t.call(this,'\n            <div class="ag-selection-checkbox" role="presentation">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')||this}return Ns(e,t),e.prototype.postConstruct=function(){this.eCheckbox.setPassive(!0),qe(this.eCheckbox.getInputElement(),"polite")},e.prototype.getCheckboxId=function(){return this.eCheckbox.getInputElement().id},e.prototype.onDataChanged=function(){this.onSelectionChanged()},e.prototype.onSelectableChanged=function(){this.showOrHideSelect()},e.prototype.onSelectionChanged=function(){var t=this.localeService.getLocaleTextFunc(),e=this.rowNode.isSelected(),n=gn(t,e),o=t("ariaRowToggleSelection","Press Space to toggle row selection");this.eCheckbox.setValue(e,!0),this.eCheckbox.setInputAriaLabel("".concat(o," (").concat(n,")"))},e.prototype.onClicked=function(t,e,n){return this.rowNode.setSelectedParams({newValue:t,rangeSelect:n.shiftKey,groupSelectsFiltered:e,event:n,source:"checkboxSelected"})},e.prototype.init=function(t){var e=this;if(this.rowNode=t.rowNode,this.column=t.column,this.overrides=t.overrides,this.onSelectionChanged(),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",(function(t){Nt(t)})),this.addManagedListener(this.eCheckbox.getInputElement(),"click",(function(t){Nt(t);var n=e.gridOptionsService.get("groupSelectsFiltered"),o=e.eCheckbox.getValue();e.shouldHandleIndeterminateState(o,n)?0===e.onClicked(!0,n,t||{})&&e.onClicked(!1,n,t):o?e.onClicked(!1,n,t):e.onClicked(!0,n,t||{})})),this.addManagedListener(this.rowNode,ks.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,ks.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,ks.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this)),this.gridOptionsService.get("isRowSelectable")||"function"===typeof this.getIsVisible()){var n=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,$t.EVENT_DISPLAYED_COLUMNS_CHANGED,n),this.addManagedListener(this.rowNode,ks.EVENT_DATA_CHANGED,n),this.addManagedListener(this.rowNode,ks.EVENT_CELL_CHANGED,n),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")},e.prototype.shouldHandleIndeterminateState=function(t,e){return e&&(void 0===this.eCheckbox.getPreviousValue()||void 0===t)&&this.gridOptionsService.isRowModelType("clientSide")},e.prototype.showOrHideSelect=function(){var t,e,n,o,r=this.rowNode.selectable,i=this.getIsVisible();if(r)if("function"===typeof i){var s=null===(t=this.overrides)||void 0===t?void 0:t.callbackParams,a=null===(e=this.column)||void 0===e?void 0:e.createColumnFunctionCallbackParams(this.rowNode);r=!!a&&i(Fs(Fs({},s),a))}else r=null!==i&&void 0!==i&&i;if(null===(n=this.column)||void 0===n?void 0:n.getColDef().showDisabledCheckboxes)return this.eCheckbox.setDisabled(!r),this.setVisible(!0),void this.setDisplayed(!0);(null===(o=this.overrides)||void 0===o?void 0:o.removeHidden)?this.setDisplayed(r):this.setVisible(r)},e.prototype.getIsVisible=function(){var t,e;return this.overrides?this.overrides.isVisible:null===(e=null===(t=this.column)||void 0===t?void 0:t.getColDef())||void 0===e?void 0:e.checkboxSelection},Is([Or("eCheckbox")],e.prototype,"eCheckbox",void 0),Is([J],e.prototype,"postConstruct",null),e}(Sr);!function(t){t[t.Up=0]="Up",t[t.Down=1]="Down"}(ji||(ji={})),function(t){t[t.Left=0]="Left",t[t.Right=1]="Right"}(Bi||(Bi={}));var Hs,Vs=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),js=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Bs=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};!function(t){t[t.ToolPanel=0]="ToolPanel",t[t.HeaderCell=1]="HeaderCell",t[t.RowDrag=2]="RowDrag",t[t.ChartPanel=3]="ChartPanel",t[t.AdvancedFilterBuilder=4]="AdvancedFilterBuilder"}(Hs||(Hs={}));var Ws,zs=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dragSourceAndParamsList=[],e.dropTargets=[],e}var n;return Vs(e,t),n=e,e.prototype.init=function(){this.ePinnedIcon=Yo("columnMovePin",this.gridOptionsService,null),this.eHideIcon=Yo("columnMoveHide",this.gridOptionsService,null),this.eMoveIcon=Yo("columnMoveMove",this.gridOptionsService,null),this.eLeftIcon=Yo("columnMoveLeft",this.gridOptionsService,null),this.eRightIcon=Yo("columnMoveRight",this.gridOptionsService,null),this.eGroupIcon=Yo("columnMoveGroup",this.gridOptionsService,null),this.eAggregateIcon=Yo("columnMoveValue",this.gridOptionsService,null),this.ePivotIcon=Yo("columnMovePivot",this.gridOptionsService,null),this.eDropNotAllowedIcon=Yo("dropNotAllowed",this.gridOptionsService,null)},e.prototype.addDragSource=function(t,e){void 0===e&&(e=!1);var n={eElement:t.eElement,dragStartPixels:t.dragStartPixels,onDragStart:this.onDragStart.bind(this,t),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),includeTouch:e};this.dragSourceAndParamsList.push({params:n,dragSource:t}),this.dragService.addDragSource(n)},e.prototype.removeDragSource=function(t){var e=this.dragSourceAndParamsList.find((function(e){return e.dragSource===t}));e&&(this.dragService.removeDragSource(e.params),St(this.dragSourceAndParamsList,e))},e.prototype.clearDragSourceParamsList=function(){var t=this;this.dragSourceAndParamsList.forEach((function(e){return t.dragService.removeDragSource(e.params)})),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0},e.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},e.prototype.onDragStart=function(t,e){this.dragging=!0,this.dragSource=t,this.eventLastTime=e,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=this.dragSource.dragSourceDropTarget,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()},e.prototype.onDragStop=function(t){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var e=this.createDropTargetEvent(this.lastDropTarget,t,null,null,!1);this.lastDropTarget.onDragStop(e)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},e.prototype.onDragging=function(t,e){var n,o,r,i,s=this,a=this.getHorizontalDirection(t),l=this.getVerticalDirection(t);this.eventLastTime=t,this.positionGhost(t);var u=this.dropTargets.filter((function(e){return s.isMouseOnDropTarget(t,e)})),c=this.findCurrentDropTarget(t,u);if(c!==this.lastDropTarget)this.leaveLastTargetIfExists(t,a,l,e),null!==this.lastDropTarget&&null===c&&(null===(o=(n=this.dragSource).onGridExit)||void 0===o||o.call(n,this.dragItem)),null===this.lastDropTarget&&null!==c&&(null===(i=(r=this.dragSource).onGridEnter)||void 0===i||i.call(r,this.dragItem)),this.enterDragTargetIfExists(c,t,a,l,e),this.lastDropTarget=c;else if(c&&c.onDragging){var d=this.createDropTargetEvent(c,t,a,l,e);c.onDragging(d)}},e.prototype.getAllContainersFromDropTarget=function(t){var e=t.getSecondaryContainers?t.getSecondaryContainers():null,n=[[t.getContainer()]];return e?n.concat(e):n},e.prototype.allContainersIntersect=function(t,e){var n,o;try{for(var r=Bs(e),i=r.next();!i.done;i=r.next()){var s=i.value.getBoundingClientRect();if(0===s.width||0===s.height)return!1;var a=t.clientX>=s.left&&t.clientX<s.right,l=t.clientY>=s.top&&t.clientY<s.bottom;if(!a||!l)return!1}}catch(u){n={error:u}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}return!0},e.prototype.isMouseOnDropTarget=function(t,e){var n,o,r=this.getAllContainersFromDropTarget(e),i=!1;try{for(var s=Bs(r),a=s.next();!a.done;a=s.next()){var l=a.value;if(this.allContainersIntersect(t,l)){i=!0;break}}}catch(u){n={error:u}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}return!(e.targetContainsSource&&!e.getContainer().contains(this.dragSource.eElement))&&(i&&e.isInterestedIn(this.dragSource.type,this.dragSource.eElement))},e.prototype.findCurrentDropTarget=function(t,e){var n,o,r,i,s=e.length;if(0===s)return null;if(1===s)return e[0];var a=this.gridOptionsService.getRootNode().elementsFromPoint(t.clientX,t.clientY);try{for(var l=Bs(a),u=l.next();!u.done;u=l.next()){var c=u.value;try{for(var d=(r=void 0,Bs(e)),p=d.next();!p.done;p=d.next()){var h=p.value;if(-1!==Dt(this.getAllContainersFromDropTarget(h)).indexOf(c))return h}}catch(f){r={error:f}}finally{try{p&&!p.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}}}catch(g){n={error:g}}finally{try{u&&!u.done&&(o=l.return)&&o.call(l)}finally{if(n)throw n.error}}return null},e.prototype.enterDragTargetIfExists=function(t,e,n,o,r){if(t){if(t.onDragEnter){var i=this.createDropTargetEvent(t,e,n,o,r);t.onDragEnter(i)}this.setGhostIcon(t.getIconName?t.getIconName():null)}},e.prototype.leaveLastTargetIfExists=function(t,e,n,o){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){var r=this.createDropTargetEvent(this.lastDropTarget,t,e,n,o);this.lastDropTarget.onDragLeave(r)}this.setGhostIcon(null)}},e.prototype.addDropTarget=function(t){this.dropTargets.push(t)},e.prototype.removeDropTarget=function(t){this.dropTargets=this.dropTargets.filter((function(e){return e.getContainer()!==t.getContainer()}))},e.prototype.hasExternalDropZones=function(){return this.dropTargets.some((function(t){return t.external}))},e.prototype.findExternalZone=function(t){return this.dropTargets.filter((function(t){return t.external})).find((function(e){return e.getContainer()===t.getContainer()}))||null},e.prototype.getHorizontalDirection=function(t){var e=this.eventLastTime&&this.eventLastTime.clientX,n=t.clientX;return e===n?null:e>n?Bi.Left:Bi.Right},e.prototype.getVerticalDirection=function(t){var e=this.eventLastTime&&this.eventLastTime.clientY,n=t.clientY;return e===n?null:e>n?ji.Up:ji.Down},e.prototype.createDropTargetEvent=function(t,e,n,o,r){var i=t.getContainer(),s=i.getBoundingClientRect(),a=this,l=a.gridApi,u=a.columnApi,c=a.dragItem,d=a.dragSource;return{event:e,x:e.clientX-s.left,y:e.clientY-s.top,vDirection:o,hDirection:n,dragSource:d,fromNudge:r,dragItem:c,api:l,columnApi:u,dropZoneTarget:i}},e.prototype.positionGhost=function(t){var e=this.eGhost;if(e){var n=e.getBoundingClientRect().height,o=kn()-2,r=Nn()-2,i=ho(e.offsetParent),s=t.clientY,a=t.clientX,l=s-i.top-n/2,u=a-i.left-10,c=this.gridOptionsService.getDocument(),d=c.defaultView||window,p=d.pageYOffset||c.documentElement.scrollTop,h=d.pageXOffset||c.documentElement.scrollLeft;o>0&&u+e.clientWidth>o+h&&(u=o+h-e.clientWidth),u<0&&(u=0),r>0&&l+e.clientHeight>r+p&&(l=r+p-e.clientHeight),l<0&&(l=0),e.style.left="".concat(u,"px"),e.style.top="".concat(l,"px")}},e.prototype.removeGhost=function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null},e.prototype.createGhost=function(){this.eGhost=wo(n.GHOST_TEMPLATE),this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost);var t=this.environment.getTheme().theme;t&&this.eGhost.classList.add(t),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);var e=this.eGhost.querySelector(".ag-dnd-ghost-label"),o=this.dragSource.dragItemName;k(o)&&(o=o()),e.innerHTML=se(o)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";var r=this.gridOptionsService.getDocument(),i=null,s=null;try{i=r.fullscreenElement}catch(l){}finally{i||(i=this.gridOptionsService.getRootNode());var a=i.querySelector("body");s=a||(i instanceof ShadowRoot?i:i instanceof Document?null===i||void 0===i?void 0:i.documentElement:i)}this.eGhostParent=s,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")},e.prototype.setGhostIcon=function(t,e){void 0===e&&(e=!1),mo(this.eGhostIcon);var o=null;switch(t||(t=this.dragSource.getDefaultIconName?this.dragSource.getDefaultIconName():n.ICON_NOT_ALLOWED),t){case n.ICON_PINNED:o=this.ePinnedIcon;break;case n.ICON_MOVE:o=this.eMoveIcon;break;case n.ICON_LEFT:o=this.eLeftIcon;break;case n.ICON_RIGHT:o=this.eRightIcon;break;case n.ICON_GROUP:o=this.eGroupIcon;break;case n.ICON_AGGREGATE:o=this.eAggregateIcon;break;case n.ICON_PIVOT:o=this.ePivotIcon;break;case n.ICON_NOT_ALLOWED:o=this.eDropNotAllowedIcon;break;case n.ICON_HIDE:o=this.eHideIcon}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",e),o===this.eHideIcon&&this.gridOptionsService.get("suppressDragLeaveHidesColumns")||o&&this.eGhostIcon.appendChild(o)},e.ICON_PINNED="pinned",e.ICON_MOVE="move",e.ICON_LEFT="left",e.ICON_RIGHT="right",e.ICON_GROUP="group",e.ICON_AGGREGATE="aggregate",e.ICON_PIVOT="pivot",e.ICON_NOT_ALLOWED="notAllowed",e.ICON_HIDE="hide",e.GHOST_TEMPLATE='<div class="ag-dnd-ghost ag-unselectable">\n            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n            <div class="ag-dnd-ghost-label"></div>\n        </div>',js([nt("dragService")],e.prototype,"dragService",void 0),js([nt("mouseEventService")],e.prototype,"mouseEventService",void 0),js([nt("columnApi")],e.prototype,"columnApi",void 0),js([nt("gridApi")],e.prototype,"gridApi",void 0),js([J],e.prototype,"init",null),js([tt],e.prototype,"clearDragSourceParamsList",null),e=n=js([et("dragAndDropService")],e)}(Ut),Us=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ys=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ks=function(t){function e(e,n,o,r,i,s){var a=t.call(this)||this;return a.cellValueFn=e,a.rowNode=n,a.column=o,a.customGui=r,a.dragStartPixels=i,a.suppressVisibilityChange=s,a.dragSource=null,a}return Us(e,t),e.prototype.isCustomGui=function(){return null!=this.customGui},e.prototype.postConstruct=function(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(Ko("rowDrag",this.gridOptionsService,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){var t=this.gridOptionsService.get("rowDragManaged")?new Qs(this,this.beans,this.rowNode,this.column):new qs(this,this.beans,this.rowNode,this.column);this.createManagedBean(t,this.beans.context)}},e.prototype.setDragElement=function(t,e){this.setTemplateFromElement(t),this.addDragSource(e)},e.prototype.getSelectedNodes=function(){if(!this.gridOptionsService.get("rowDragMultiRow"))return[this.rowNode];var t=this.beans.selectionService.getSelectedNodes();return-1!==t.indexOf(this.rowNode)?t:[this.rowNode]},e.prototype.checkCompatibility=function(){var t=this.gridOptionsService.get("rowDragManaged");this.gridOptionsService.get("treeData")&&t&&L("If using row drag with tree data, you cannot have rowDragManaged=true")},e.prototype.getDragItem=function(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}},e.prototype.getRowDragText=function(t){if(t){var e=t.getColDef();if(e.rowDragText)return e.rowDragText}return this.gridOptionsService.get("rowDragText")},e.prototype.addDragSource=function(t){var e=this;void 0===t&&(t=4),this.dragSource&&this.removeDragSource();var n=this.localeService.getLocaleTextFunc();this.dragSource={type:Hs.RowDrag,eElement:this.getGui(),dragItemName:function(){var t,o=e.getDragItem(),r=(null===(t=o.rowNodes)||void 0===t?void 0:t.length)||1,i=e.getRowDragText(e.column);return i?i(o,r):1===r?e.cellValueFn():"".concat(r," ").concat(n("rowDragRows","rows"))},getDragItem:function(){return e.getDragItem()},dragStartPixels:t,dragSourceDomDataKey:this.gridOptionsService.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)},e.prototype.removeDragSource=function(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null},Ys([nt("beans")],e.prototype,"beans",void 0),Ys([J],e.prototype,"postConstruct",null),Ys([tt],e.prototype,"removeDragSource",null),e}(Sr),Zs=function(t){function e(e,n,o){var r=t.call(this)||this;return r.parent=e,r.rowNode=n,r.column=o,r}return Us(e,t),e.prototype.setDisplayedOrVisible=function(t){var e={skipAriaHidden:!0};if(t)this.parent.setDisplayed(!1,e);else{var n=!0,o=!1;this.column&&(n=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),o=k(this.column.getColDef().rowDrag)),o?(this.parent.setDisplayed(!0,e),this.parent.setVisible(n,e)):(this.parent.setDisplayed(n,e),this.parent.setVisible(!0,e))}},e}(Ut),qs=function(t){function e(e,n,o,r){var i=t.call(this,e,o,r)||this;return i.beans=n,i}return Us(e,t),e.prototype.postConstruct=function(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,ks.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,ks.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,ks.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,$t.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()},e.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},e.prototype.workOutVisibility=function(){var t=this.gridOptionsService.get("suppressRowDrag");this.setDisplayedOrVisible(t)},Ys([J],e.prototype,"postConstruct",null),e}(Zs),Qs=function(t){function e(e,n,o,r){var i=t.call(this,e,o,r)||this;return i.beans=n,i}return Us(e,t),e.prototype.postConstruct=function(){this.addManagedListener(this.beans.eventService,$t.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,$t.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,$t.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,$t.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,ks.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,ks.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()},e.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},e.prototype.workOutVisibility=function(){var t=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),e=t&&t.shouldPreventRowMove(),n=this.gridOptionsService.get("suppressRowDrag"),o=this.beans.dragAndDropService.hasExternalDropZones(),r=e&&!o||n;this.setDisplayedOrVisible(r)},Ys([J],e.prototype,"postConstruct",null),e}(Zs),Xs=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),$s=function(){return $s=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},$s.apply(this,arguments)},Js=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ta=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Xs(e,t),e.prototype.init=function(t,e,n,o,r,i,s){var a,l,u,c;this.params=s,this.eGui=e,this.eCheckbox=n,this.eExpanded=o,this.eContracted=r,this.comp=t,this.compClass=i;var d=s.node;s.value;var p=s.colDef,h=this.isTopLevelFooter();if(!h){if(this.isEmbeddedRowMismatch())return;if(d.footer&&this.gridOptionsService.get("groupHideOpenParents"))if((p&&p.showRowGroup)!==(d.rowGroupColumn&&d.rowGroupColumn.getColId()))return}if(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),!h){var f=s.node.footer&&s.node.rowGroupIndex===this.columnModel.getRowGroupColumns().findIndex((function(t){var e;return t.getColId()===(null===(e=s.colDef)||void 0===e?void 0:e.showRowGroup)})),g="multipleColumns"!=this.gridOptionsService.get("groupDisplayType")||this.gridOptionsService.get("treeData")||this.gridOptionsService.get("showOpenedGroup")&&!s.node.footer&&(!s.node.group||null!=s.node.rowGroupIndex&&s.node.rowGroupIndex>this.columnModel.getRowGroupColumns().findIndex((function(t){var e;return t.getColId()===(null===(e=s.colDef)||void 0===e?void 0:e.showRowGroup)}))),v=!d.group&&((null===(a=this.params.colDef)||void 0===a?void 0:a.field)||(null===(l=this.params.colDef)||void 0===l?void 0:l.valueGetter)),m=this.isExpandable(),y=this.columnModel.isPivotMode()&&d.leafGroup&&(null===(u=d.rowGroupColumn)||void 0===u?void 0:u.getColId())===(null===(c=s.column)||void 0===c?void 0:c.getColDef().showRowGroup);if(!this.showingValueForOpenedParent&&!m&&!v&&!g&&!f&&!y)return}this.addExpandAndContract(),this.addFullWidthRowDraggerIfNeeded(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded()},e.prototype.getCellAriaRole=function(){var t,e,n=null===(t=this.params.colDef)||void 0===t?void 0:t.cellAriaRole,o=null===(e=this.params.column)||void 0===e?void 0:e.getColDef().cellAriaRole;return n||o||"gridcell"},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.expandListener=null},e.prototype.refreshAriaExpanded=function(){var t=this.params,e=t.node,n=t.eParentOfValue;if(this.expandListener&&(this.expandListener=this.expandListener()),this.isExpandable()){var o=function(){tn(n,!!e.expanded)};this.expandListener=this.addManagedListener(e,ks.EVENT_EXPANDED_CHANGED,o)||null,o()}else en(n)},e.prototype.isTopLevelFooter=function(){if(!this.gridOptionsService.get("groupIncludeTotalFooter"))return!1;if(null!=this.params.value||-1!=this.params.node.level)return!1;var t=this.params.colDef;if(null==t)return!0;if(!0===t.showRowGroup)return!0;var e=this.columnModel.getRowGroupColumns();return!e||0===e.length||e[0].getId()===t.showRowGroup},e.prototype.isEmbeddedRowMismatch=function(){if(!this.params.fullWidth||!this.gridOptionsService.get("embedFullWidthRows"))return!1;var t="left"===this.params.pinned,e="right"===this.params.pinned,n=!t&&!e;return this.gridOptionsService.get("enableRtl")?this.columnModel.isPinningLeft()?!e:!n:this.columnModel.isPinningLeft()?!t:!n},e.prototype.findDisplayedGroupNode=function(){var t=this.params.column,e=this.params.node;if(this.showingValueForOpenedParent)for(var n=e.parent;null!=n;){if(n.rowGroupColumn&&t.isRowGroupDisplayed(n.rowGroupColumn.getId())){this.displayedGroupNode=n;break}n=n.parent}i(this.displayedGroupNode)&&(this.displayedGroupNode=e)},e.prototype.setupShowingValueForOpenedParent=function(){var t=this.params.node,e=this.params.column;if(this.gridOptionsService.get("groupHideOpenParents"))if(t.groupData){if(null!=t.rowGroupColumn){var n=t.rowGroupColumn.getId();if(e.isRowGroupDisplayed(n))return void(this.showingValueForOpenedParent=!1)}var o=null!=t.groupData[e.getId()];this.showingValueForOpenedParent=o}else this.showingValueForOpenedParent=!1;else this.showingValueForOpenedParent=!1},e.prototype.addValueElement=function(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())},e.prototype.addGroupValue=function(){var t,e=this.adjustParamsWithDetailsFromRelatedColumn(),n=this.getInnerCompDetails(e),o=e.valueFormatted,r=e.value,i=o;if(null==i){var s=this.displayedGroupNode.rowGroupColumn&&(null===(t=this.params.column)||void 0===t?void 0:t.isRowGroupDisplayed(this.displayedGroupNode.rowGroupColumn.getId()));if(""===this.displayedGroupNode.key&&this.displayedGroupNode.group&&s)i=this.localeService.getLocaleTextFunc()("blanks","(Blanks)");else i=null!==r&&void 0!==r?r:null}this.comp.setInnerRenderer(n,i)},e.prototype.adjustParamsWithDetailsFromRelatedColumn=function(){var t=this.displayedGroupNode.rowGroupColumn,e=this.params.column;if(!t)return this.params;if(null!=e&&!e.isRowGroupDisplayed(t.getId()))return this.params;var n=this.params,o=this.params,r=o.value,i=o.node,s=this.valueFormatterService.formatValue(t,i,r);return $s($s({},n),{valueFormatted:s})},e.prototype.addFooterValue=function(){var t=this.params.footerValueGetter,e="";if(t){var n=m(this.params);n.value=this.params.value,"function"===typeof t?e=t(n):"string"===typeof t?e=this.expressionService.evaluate(t,n):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else e="Total "+(null!=this.params.value?this.params.value:"");var o=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(o,e)},e.prototype.getInnerCompDetails=function(t){var e=this;if(t.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptionsService.get("groupRowRendererParams"),t);var n=this.userComponentFactory.getInnerRendererDetails(t,t),o=function(t){return t&&t.componentClass==e.compClass};if(n&&!o(n))return n;var r=this.displayedGroupNode.rowGroupColumn,i=r?r.getColDef():void 0;if(i){var s=this.userComponentFactory.getCellRendererDetails(i,t);if(s&&!o(s))return s;if(o(s)&&i.cellRendererParams&&i.cellRendererParams.innerRenderer)return this.userComponentFactory.getInnerRendererDetails(i.cellRendererParams,t)}},e.prototype.addChildCount=function(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,ks.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())},e.prototype.updateChildCount=function(){var t=this.displayedGroupNode.allChildrenCount,e=this.isShowRowGroupForThisRow()&&null!=t&&t>=0?"(".concat(t,")"):"";this.comp.setChildCount(e)},e.prototype.isShowRowGroupForThisRow=function(){if(this.gridOptionsService.get("treeData"))return!0;var t=this.displayedGroupNode.rowGroupColumn;if(!t)return!1;var e=this.params.column;return null==e||e.isRowGroupDisplayed(t.getId())},e.prototype.addExpandAndContract=function(){var t,e=this.params,n=Ko("groupExpanded",this.gridOptionsService,null),o=Ko("groupContracted",this.gridOptionsService,null);n&&this.eExpanded.appendChild(n),o&&this.eContracted.appendChild(o);var r=e.eGridCell;(null===(t=this.params.column)||void 0===t?void 0:t.isCellEditable(e.node))&&this.gridOptionsService.get("enableGroupEdit")||!this.isExpandable()||e.suppressDoubleClickExpand||this.addManagedListener(r,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(r,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(e.node,ks.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();var i=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,ks.EVENT_ALL_CHILDREN_COUNT_CHANGED,i),this.addManagedListener(this.displayedGroupNode,ks.EVENT_MASTER_CHANGED,i),this.addManagedListener(this.displayedGroupNode,ks.EVENT_GROUP_CHANGED,i),this.addManagedListener(this.displayedGroupNode,ks.EVENT_HAS_CHILDREN_CHANGED,i)},e.prototype.onExpandClicked=function(t){Ft(t)||(Nt(t),this.onExpandOrContract(t))},e.prototype.onExpandOrContract=function(t){var e=this.displayedGroupNode,n=!e.expanded;!n&&e.sticky&&this.scrollToStickyNode(e),e.setExpanded(n,t)},e.prototype.scrollToStickyNode=function(t){this.ctrlsService.getGridBodyCtrl().getScrollFeature().setVerticalScrollPosition(t.rowTop-t.stickyRowTop)},e.prototype.isExpandable=function(){if(this.showingValueForOpenedParent)return!0;var t=this.displayedGroupNode,e=this.columnModel.isPivotMode()&&t.leafGroup;if(!(t.isExpandable()&&!t.footer&&!e))return!1;var n=this.params.column;return null==n||"string"!==typeof n.getColDef().showRowGroup||this.isShowRowGroupForThisRow()},e.prototype.showExpandAndContractIcons=function(){var t=this,e=t.params,n=t.displayedGroupNode,o=t.columnModel,r=e.node,i=this.isExpandable();if(i){var s=!!this.showingValueForOpenedParent||r.expanded;this.comp.setExpandedDisplayed(s),this.comp.setContractedDisplayed(!s)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);var a=o.isPivotMode(),l=a&&n.leafGroup,u=i&&!l,c=r.footer&&-1===r.level;this.comp.addOrRemoveCssClass("ag-cell-expandable",u),this.comp.addOrRemoveCssClass("ag-row-group",u),a?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",l):c||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!u)},e.prototype.onRowNodeIsExpandableChanged=function(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()},e.prototype.setupIndent=function(){var t=this.params.node;this.params.suppressPadding||(this.addManagedListener(t,ks.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())},e.prototype.setIndent=function(){if(!this.gridOptionsService.get("groupHideOpenParents")){var t=this.params,e=t.node,n=!!t.colDef,o=this.gridOptionsService.get("treeData"),r=!n||o||!0===t.colDef.showRowGroup?e.uiLevel:0;this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+r,this.comp.addOrRemoveCssClass(this.indentClass,!0)}},e.prototype.addFullWidthRowDraggerIfNeeded=function(){var t=this;if(this.params.fullWidth&&this.params.rowDrag){var e=new Ks((function(){return t.params.value}),this.params.node);this.createManagedBean(e,this.context),this.eGui.insertAdjacentElement("afterbegin",e.getGui())}},e.prototype.isUserWantsSelected=function(){var t=this.params.checkbox;return"function"===typeof t||!0===t},e.prototype.addCheckboxIfNeeded=function(){var t=this,e=this.displayedGroupNode,n=this.isUserWantsSelected()&&!e.footer&&!e.rowPinned&&!e.detail;if(n){var o=new Gs;this.getContext().createBean(o),o.init({rowNode:this.params.node,column:this.params.column,overrides:{isVisible:this.params.checkbox,callbackParams:this.params,removeHidden:!0}}),this.eCheckbox.appendChild(o.getGui()),this.addDestroyFunc((function(){return t.getContext().destroyBean(o)}))}this.comp.setCheckboxVisible(n)},e.prototype.onKeyDown=function(t){t.key!==qo.ENTER||this.params.suppressEnterExpand||(this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract(t))},e.prototype.onCellDblClicked=function(t){Ft(t)||(Ht(this.eExpanded,t)||Ht(this.eContracted,t)||this.onExpandOrContract(t))},Js([nt("expressionService")],e.prototype,"expressionService",void 0),Js([nt("valueFormatterService")],e.prototype,"valueFormatterService",void 0),Js([nt("columnModel")],e.prototype,"columnModel",void 0),Js([nt("userComponentFactory")],e.prototype,"userComponentFactory",void 0),Js([nt("ctrlsService")],e.prototype,"ctrlsService",void 0),e}(Ut),ea=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),na=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},oa=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return ea(e,t),e.prototype.init=function(t){var e=this,n={setInnerRenderer:function(t,n){return e.setRenderDetails(t,n)},setChildCount:function(t){return e.eChildCount.innerHTML=t},addOrRemoveCssClass:function(t,n){return e.addOrRemoveCssClass(t,n)},setContractedDisplayed:function(t){return oo(e.eContracted,t)},setExpandedDisplayed:function(t){return oo(e.eExpanded,t)},setCheckboxVisible:function(t){return e.eCheckbox.classList.toggle("ag-invisible",!t)}},o=this.createManagedBean(new ta),r=!t.colDef,i=this.getGui();o.init(n,i,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,t),r&&je(i,o.getCellAriaRole())},e.prototype.setRenderDetails=function(t,e){var n=this;if(t){var o=t.newAgStackInstance();if(!o)return;o.then((function(t){if(t){var e=function(){return n.context.destroyBean(t)};n.isAlive()?(n.eValue.appendChild(t.getGui()),n.addDestroyFunc(e)):e()}}))}else this.eValue.innerText=e},e.prototype.destroy=function(){this.getContext().destroyBean(this.innerCellRenderer),t.prototype.destroy.call(this)},e.prototype.refresh=function(){return!1},e.TEMPLATE='<span class="ag-cell-wrapper">\n            <span class="ag-group-expanded" ref="eExpanded"></span>\n            <span class="ag-group-contracted" ref="eContracted"></span>\n            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>\n            <span class="ag-group-value" ref="eValue"></span>\n            <span class="ag-group-child-count" ref="eChildCount"></span>\n        </span>',na([Or("eExpanded")],e.prototype,"eExpanded",void 0),na([Or("eContracted")],e.prototype,"eContracted",void 0),na([Or("eCheckbox")],e.prototype,"eCheckbox",void 0),na([Or("eValue")],e.prototype,"eValue",void 0),na([Or("eChildCount")],e.prototype,"eChildCount",void 0),e}(Sr),ra=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ia=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},sa=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return ra(e,t),e.prototype.init=function(t){t.node.failedLoad?this.setupFailed():this.setupLoading()},e.prototype.setupFailed=function(){var t=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=t("loadingError","ERR")},e.prototype.setupLoading=function(){var t=Ko("groupLoading",this.gridOptionsService,null);t&&this.eLoadingIcon.appendChild(t);var e=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingOoo","Loading")},e.prototype.refresh=function(t){return!1},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.TEMPLATE='<div class="ag-loading">\n            <span class="ag-loading-icon" ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" ref="eLoadingText"></span>\n        </div>',ia([Or("eLoadingIcon")],e.prototype,"eLoadingIcon",void 0),ia([Or("eLoadingText")],e.prototype,"eLoadingText",void 0),e}(Sr),aa=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),la=function(t){function e(){return t.call(this)||this}return aa(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.init=function(t){var n,o=null!==(n=this.gridOptionsService.get("overlayLoadingTemplate"))&&void 0!==n?n:e.DEFAULT_LOADING_OVERLAY_TEMPLATE,r=this.localeService.getLocaleTextFunc(),i=o.replace("[LOADING...]",r("loadingOoo","Loading..."));this.setTemplate(i)},e.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span class="ag-overlay-loading-center">[LOADING...]</span>',e}(Sr),ua=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ca=function(t){function e(){return t.call(this)||this}return ua(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.init=function(t){var n,o=null!==(n=this.gridOptionsService.get("overlayNoRowsTemplate"))&&void 0!==n?n:e.DEFAULT_NO_ROWS_TEMPLATE,r=this.localeService.getLocaleTextFunc(),i=o.replace("[NO_ROWS_TO_SHOW]",r("noRowsToShow","No Rows To Show"));this.setTemplate(i)},e.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>',e}(Sr),da=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),pa=function(t){function e(){return t.call(this,'<div class="ag-tooltip"></div>')||this}return da(e,t),e.prototype.init=function(t){var e=t.value;this.getGui().innerHTML=se(e)},e}(fs),ha=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),fa=function(){function t(){}return t.prototype.getTemplate=function(){return'<ag-input-number-field class="ag-cell-editor" ref="eInput"></ag-input-number-field>'},t.prototype.init=function(t,e){this.eInput=t,this.params=e,null!=e.max&&t.setMax(e.max),null!=e.min&&t.setMin(e.min),null!=e.precision&&t.setPrecision(e.precision),null!=e.step&&t.setStep(e.step);var n=t.getInputElement();e.preventStepping?t.addManagedListener(n,"keydown",this.preventStepping):e.showStepperButtons&&n.classList.add("ag-number-field-input-stepper")},t.prototype.preventStepping=function(t){t.key!==qo.UP&&t.key!==qo.DOWN||t.preventDefault()},t.prototype.getValue=function(){var t=this.eInput.getValue();if(!r(t)&&!r(this.params.value))return this.params.value;var e=this.params.parseValue(t);if(null==e)return e;if("string"===typeof e){if(""===e)return null;e=Number(e)}return isNaN(e)?null:e},t.prototype.getStartValue=function(){return this.params.value},t}(),ga=function(t){function e(){return t.call(this,new fa)||this}return ha(e,t),e}(Ss),va=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ma=function(){function t(){}return t.prototype.getTemplate=function(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'},t.prototype.init=function(t,e){this.eInput=t,this.params=e,null!=e.min&&t.setMin(e.min),null!=e.max&&t.setMax(e.max),null!=e.step&&t.setStep(e.step)},t.prototype.getValue=function(){var t=this.eInput.getDate();return r(t)||r(this.params.value)?null!==t&&void 0!==t?t:null:this.params.value},t.prototype.getStartValue=function(){var t=this.params.value;if(t instanceof Date)return Un(t,!1)},t}(),ya=function(t){function e(){return t.call(this,new ma)||this}return va(e,t),e}(Ss),Ca=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),wa=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ba=function(){function t(t){this.getDataTypeService=t}return t.prototype.getTemplate=function(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'},t.prototype.init=function(t,e){this.eInput=t,this.params=e,null!=e.min&&t.setMin(e.min),null!=e.max&&t.setMax(e.max),null!=e.step&&t.setStep(e.step)},t.prototype.getValue=function(){var t=this.formatDate(this.eInput.getDate());return r(t)||r(this.params.value)?this.params.parseValue(null!==t&&void 0!==t?t:""):this.params.value},t.prototype.getStartValue=function(){var t,e;return Un(null!==(e=this.parseDate(null!==(t=this.params.value)&&void 0!==t?t:void 0))&&void 0!==e?e:null,!1)},t.prototype.parseDate=function(t){return this.getDataTypeService().getDateParserFunction()(t)},t.prototype.formatDate=function(t){return this.getDataTypeService().getDateFormatterFunction()(t)},t}(),_a=function(t){function e(){var e=t.call(this,new ba((function(){return e.dataTypeService})))||this;return e}return Ca(e,t),wa([nt("dataTypeService")],e.prototype,"dataTypeService",void 0),e}(Ss),Sa=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ea=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Oa=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return Sa(e,t),e.prototype.init=function(t){var e=this;this.params=t,this.updateCheckbox(t);var n=this.eCheckbox.getInputElement();n.setAttribute("tabindex","-1"),qe(n,"polite"),this.addManagedListener(n,"click",(function(t){if(Nt(t),!e.eCheckbox.isDisabled()){var n=e.eCheckbox.getValue();e.onCheckboxChanged(n)}})),this.addManagedListener(n,"dblclick",(function(t){Nt(t)}));var o=this.gridOptionsService.getDocument();this.addManagedListener(this.params.eGridCell,"keydown",(function(t){if(t.key===qo.SPACE&&!e.eCheckbox.isDisabled()){e.params.eGridCell===o.activeElement&&e.eCheckbox.toggle();var n=e.eCheckbox.getValue();e.onCheckboxChanged(n),t.preventDefault()}}))},e.prototype.refresh=function(t){return this.params=t,this.updateCheckbox(t),!0},e.prototype.updateCheckbox=function(t){var e,n,o,r,i=!0;if(t.node.group&&t.column){var s=t.column.getColId();s.startsWith(ne)?r=null==t.value||""===t.value?void 0:"true"===t.value:t.node.aggData&&void 0!==t.node.aggData[s]?r=null!==(e=t.value)&&void 0!==e?e:void 0:i=!1}else r=null!==(n=t.value)&&void 0!==n?n:void 0;if(i){this.eCheckbox.setValue(r);var a=null!=t.disabled?t.disabled:!(null===(o=t.column)||void 0===o?void 0:o.isCellEditable(t.node));this.eCheckbox.setDisabled(a);var l=this.localeService.getLocaleTextFunc(),u=gn(l,r),c=a?u:"".concat(l("ariaToggleCellValue","Press SPACE to toggle cell value")," (").concat(u,")");this.eCheckbox.setInputAriaLabel(c)}else this.eCheckbox.setDisplayed(!1)},e.prototype.onCheckboxChanged=function(t){var e=this.params,n=e.column,o=e.node,r=e.rowIndex,i=e.value,s={type:$t.EVENT_CELL_EDITING_STARTED,column:n,colDef:null===n||void 0===n?void 0:n.getColDef(),data:o.data,node:o,rowIndex:r,rowPinned:o.rowPinned,value:i};this.eventService.dispatchEvent(s);var a=this.params.node.setDataValue(this.params.column,t,"edit"),l={type:$t.EVENT_CELL_EDITING_STOPPED,column:n,colDef:null===n||void 0===n?void 0:n.getColDef(),data:o.data,node:o,rowIndex:r,rowPinned:o.rowPinned,value:i,oldValue:i,newValue:t,valueChanged:a};this.eventService.dispatchEvent(l)},e.TEMPLATE='\n        <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">\n            <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n        </div>',Ea([Or("eCheckbox")],e.prototype,"eCheckbox",void 0),e}(Sr),xa=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ta=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ra=function(t){function e(){return t.call(this,'\n            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')||this}return xa(e,t),e.prototype.init=function(t){var e,n=this;this.params=t;var o=null!==(e=t.value)&&void 0!==e?e:void 0;this.eCheckbox.setValue(o),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(o),this.addManagedListener(this.eCheckbox,$t.EVENT_FIELD_VALUE_CHANGED,(function(t){return n.setAriaLabel(t.selected)}))},e.prototype.getValue=function(){return this.eCheckbox.getValue()},e.prototype.focusIn=function(){this.eCheckbox.getFocusableElement().focus()},e.prototype.afterGuiAttached=function(){this.params.cellStartedEdit&&this.focusIn()},e.prototype.isPopup=function(){return!1},e.prototype.setAriaLabel=function(t){var e=this.localeService.getLocaleTextFunc(),n=gn(e,t),o=e("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel("".concat(o," (").concat(n,")"))},Ta([Or("eCheckbox")],e.prototype,"eCheckbox",void 0),e}(fs),Da=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Pa=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},La=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},Ma=function(t,e,n){if(n||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},Aa=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.agGridDefaults={agDateInput:Ai,agColumnHeader:us,agColumnGroupHeader:ps,agSortIndicator:ss,agTextColumnFloatingFilter:ns,agNumberColumnFloatingFilter:ts,agDateColumnFloatingFilter:Di,agReadOnlyFloatingFilter:Dr,agAnimateShowChangeCellRenderer:Ds,agAnimateSlideCellRenderer:Ms,agGroupCellRenderer:oa,agGroupRowRenderer:oa,agLoadingCellRenderer:sa,agCheckboxCellRenderer:Oa,agCellEditor:xs,agTextCellEditor:xs,agNumberCellEditor:ga,agDateCellEditor:ya,agDateStringCellEditor:_a,agSelectCellEditor:ws,agLargeTextCellEditor:ms,agCheckboxCellEditor:Ra,agTextColumnFilter:Ki,agNumberColumnFilter:Wi,agDateColumnFilter:Ei,agLoadingOverlay:la,agNoRowsOverlay:ca,agTooltipComponent:pa},e.enterpriseAgDefaultCompsModule={agSetColumnFilter:z.SetFilterModule,agSetColumnFloatingFilter:z.SetFilterModule,agMultiColumnFilter:z.MultiFilterModule,agMultiColumnFloatingFilter:z.MultiFilterModule,agGroupColumnFilter:z.RowGroupingModule,agGroupColumnFloatingFilter:z.RowGroupingModule,agRichSelect:z.RichSelectModule,agRichSelectCellEditor:z.RichSelectModule,agDetailCellRenderer:z.MasterDetailModule,agSparklineCellRenderer:z.SparklinesModule},e.jsComps={},e}return Da(e,t),e.prototype.init=function(){var t=this;null!=this.gridOptions.components&&v(this.gridOptions.components,(function(e,n){return t.registerJsComponent(e,n)}))},e.prototype.registerDefaultComponent=function(t,e){this.agGridDefaults[t]?console.error("Trying to overwrite a default component. You should call registerComponent"):this.agGridDefaults[t]=e},e.prototype.registerJsComponent=function(t,e){this.jsComps[t]=e},e.prototype.retrieve=function(t,e){var n=this,o=function(t,e){return{componentFromFramework:e,component:t}},r=this.getFrameworkOverrides().frameworkComponent(e,this.gridOptions.components);if(null!=r)return o(r,!0);var i=this.jsComps[e];if(i)return o(i,this.getFrameworkOverrides().isFrameworkComponent(i));var s=this.agGridDefaults[e];if(s)return o(s,!1);var a=this.enterpriseAgDefaultCompsModule[e];return a?Z.__assertRegistered(a,"AG Grid '".concat(t,"' component: ").concat(e),this.context.getGridId()):P((function(){n.warnAboutMissingComponent(t,e)}),"MissingComp"+e),null},e.prototype.warnAboutMissingComponent=function(t,e){var n=Bo(e,Ma(Ma([],La(Object.keys(this.agGridDefaults).filter((function(t){return!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(t)}))),!1),La(Object.keys(this.jsComps)),!1),!0,.8).values;console.warn("AG Grid: Could not find '".concat(e,"' component. It was configured as \"").concat(t,": '").concat(e,"'\" but it wasn't found in the list of registered components.")),n.length>0&&console.warn("         Did you mean: [".concat(n.slice(0,3),"]?")),console.warn("If using a custom component check it has been registered as described in: ".concat(this.getFrameworkOverrides().getDocLink("components/")))},Pa([nt("gridOptions")],e.prototype,"gridOptions",void 0),Pa([J],e.prototype,"init",null),e=Pa([et("userComponentRegistry")],e)}(Ut),ka={propertyName:"dateComponent",cellRenderer:!1},Na={propertyName:"headerComponent",cellRenderer:!1},Fa={propertyName:"headerGroupComponent",cellRenderer:!1},Ia={propertyName:"cellRenderer",cellRenderer:!0},Ga={propertyName:"cellEditor",cellRenderer:!1},Ha={propertyName:"innerRenderer",cellRenderer:!0},Va={propertyName:"loadingOverlayComponent",cellRenderer:!1},ja={propertyName:"noRowsOverlayComponent",cellRenderer:!1},Ba={propertyName:"tooltipComponent",cellRenderer:!1},Wa={propertyName:"filter",cellRenderer:!1},za={propertyName:"floatingFilterComponent",cellRenderer:!1},Ua={propertyName:"toolPanel",cellRenderer:!1},Ya={propertyName:"statusPanel",cellRenderer:!1},Ka={propertyName:"fullWidthCellRenderer",cellRenderer:!0},Za={propertyName:"loadingCellRenderer",cellRenderer:!0},qa={propertyName:"groupRowRenderer",cellRenderer:!0},Qa={propertyName:"detailCellRenderer",cellRenderer:!0},Xa=function(){function t(){}return t.getFloatingFilterType=function(t){return this.filterToFloatingFilterMapping[t]},t.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},t}(),$a=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ja=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},tl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return $a(e,t),e.prototype.getHeaderCompDetails=function(t,e){return this.getCompDetails(t,Na,"agColumnHeader",e)},e.prototype.getHeaderGroupCompDetails=function(t){var e=t.columnGroup.getColGroupDef();return this.getCompDetails(e,Fa,"agColumnGroupHeader",t)},e.prototype.getFullWidthCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,Ka,null,t,!0)},e.prototype.getFullWidthLoadingCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,Za,"agLoadingCellRenderer",t,!0)},e.prototype.getFullWidthGroupCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,qa,"agGroupRowRenderer",t,!0)},e.prototype.getFullWidthDetailCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,Qa,"agDetailCellRenderer",t,!0)},e.prototype.getInnerRendererDetails=function(t,e){return this.getCompDetails(t,Ha,null,e)},e.prototype.getFullWidthGroupRowInnerCellRenderer=function(t,e){return this.getCompDetails(t,Ha,null,e)},e.prototype.getCellRendererDetails=function(t,e){return this.getCompDetails(t,Ia,null,e)},e.prototype.getCellEditorDetails=function(t,e){return this.getCompDetails(t,Ga,"agCellEditor",e,!0)},e.prototype.getFilterDetails=function(t,e,n){return this.getCompDetails(t,Wa,n,e,!0)},e.prototype.getDateCompDetails=function(t){return this.getCompDetails(this.gridOptions,ka,"agDateInput",t,!0)},e.prototype.getLoadingOverlayCompDetails=function(t){return this.getCompDetails(this.gridOptions,Va,"agLoadingOverlay",t,!0)},e.prototype.getNoRowsOverlayCompDetails=function(t){return this.getCompDetails(this.gridOptions,ja,"agNoRowsOverlay",t,!0)},e.prototype.getTooltipCompDetails=function(t){return this.getCompDetails(t.colDef,Ba,"agTooltipComponent",t,!0)},e.prototype.getSetFilterCellRendererDetails=function(t,e){return this.getCompDetails(t,Ia,null,e)},e.prototype.getFloatingFilterCompDetails=function(t,e,n){return this.getCompDetails(t,za,n,e)},e.prototype.getToolPanelCompDetails=function(t,e){return this.getCompDetails(t,Ua,null,e,!0)},e.prototype.getStatusPanelCompDetails=function(t,e){return this.getCompDetails(t,Ya,null,e,!0)},e.prototype.getCompDetails=function(t,e,n,o,r){var i=this;void 0===r&&(r=!1);var s=e.propertyName,a=e.cellRenderer,l=this.getCompKeys(t,e,o),u=l.compName,c=l.jsComp,d=l.fwComp,p=l.paramsFromSelector,h=l.popupFromSelector,f=l.popupPositionFromSelector,g=function(t){var e=i.userComponentRegistry.retrieve(s,t);e&&(c=e.componentFromFramework?void 0:e.component,d=e.componentFromFramework?e.component:void 0)};if(null!=u&&g(u),null==c&&null==d&&null!=n&&g(n),c&&a&&!this.agComponentUtils.doesImplementIComponent(c)&&(c=this.agComponentUtils.adaptFunction(s,c)),c||d){var v=this.mergeParamsWithApplicationProvidedParams(t,e,o,p),m=null==c,y=c||d;return{componentFromFramework:m,componentClass:y,params:v,type:e,popupFromSelector:h,popupPositionFromSelector:f,newAgStackInstance:function(){return i.newAgStackInstance(y,m,v,e)}}}r&&console.error("AG Grid: Could not find component ".concat(u,", did you forget to configure this component?"))},e.prototype.getCompKeys=function(t,e,n){var o,r,i,s,a,l,u=this,c=e.propertyName;if(t){var d=t,p=d[c+"Selector"],h=p?p(n):null,f=function(t){if("string"===typeof t)o=t;else if(null!=t&&!0!==t){u.getFrameworkOverrides().isFrameworkComponent(t)?i=t:r=t}};h?(f(h.component),s=h.params,a=h.popup,l=h.popupPosition):f(d[c])}return{compName:o,jsComp:r,fwComp:i,paramsFromSelector:s,popupFromSelector:a,popupPositionFromSelector:l}},e.prototype.newAgStackInstance=function(t,e,n,o){var r,i=o.propertyName;if(!e)r=new t;else{var s=this.componentMetadataProvider.retrieve(i);r=this.frameworkComponentWrapper.wrap(t,s.mandatoryMethodList,s.optionalMethodList,o)}var a=this.initComponent(r,n);return null==a?hr.resolve(r):a.then((function(){return r}))},e.prototype.mergeParamsWithApplicationProvidedParams=function(t,e,n,o){void 0===o&&(o=null);var r={context:this.gridOptionsService.context,columnApi:this.gridOptionsService.columnApi,api:this.gridOptionsService.api};E(r,n);var i=t&&t[e.propertyName+"Params"];"function"===typeof i?E(r,i(n)):"object"===typeof i&&E(r,i);return E(r,o),r},e.prototype.initComponent=function(t,e){if(this.context.createBean(t),null!=t.init)return t.init(e)},e.prototype.getDefaultFloatingFilterType=function(t,e){if(null==t)return null;var n=null,o=this.getCompKeys(t,Wa),r=o.compName,i=o.jsComp,s=o.fwComp;r?n=Xa.getFloatingFilterType(r):null==i&&null==s&&!0===t.filter&&(n=e());return n},Ja([nt("gridOptions")],e.prototype,"gridOptions",void 0),Ja([nt("agComponentUtils")],e.prototype,"agComponentUtils",void 0),Ja([nt("componentMetadataProvider")],e.prototype,"componentMetadataProvider",void 0),Ja([nt("userComponentRegistry")],e.prototype,"userComponentRegistry",void 0),Ja([ot("frameworkComponentWrapper")],e.prototype,"frameworkComponentWrapper",void 0),e=Ja([et("userComponentFactory")],e)}(Ut),el=function(){function t(){}return t.ColDefPropertyMap={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0},t.ALL_PROPERTIES=Object.keys(t.ColDefPropertyMap),t}();!function(t){t[t.SINGLE_SHEET=0]="SINGLE_SHEET",t[t.MULTI_SHEET=1]="MULTI_SHEET"}(Ws||(Ws={}));var nl,ol=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),rl=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},il=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dragEndFunctions=[],e.dragSources=[],e}return ol(e,t),e.prototype.removeAllListeners=function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0},e.prototype.removeListener=function(t){var e=t.dragSource.eElement,n=t.mouseDownListener;if(e.removeEventListener("mousedown",n),t.touchEnabled){var o=t.touchStartListener;e.removeEventListener("touchstart",o,{passive:!0})}},e.prototype.removeDragSource=function(t){var e=this.dragSources.find((function(e){return e.dragSource===t}));e&&(this.removeListener(e),St(this.dragSources,e))},e.prototype.isDragging=function(){return this.dragging},e.prototype.addDragSource=function(t){var e=this,n=this.onMouseDown.bind(this,t),o=t.eElement,r=t.includeTouch,i=t.stopPropagationForTouch;o.addEventListener("mousedown",n);var s=null,a=this.gridOptionsService.get("suppressTouch");r&&!a&&(s=function(n){no(n.target)||(n.cancelable&&(n.preventDefault(),i&&n.stopPropagation()),e.onTouchStart(t,n))},o.addEventListener("touchstart",s,{passive:!1})),this.dragSources.push({dragSource:t,mouseDownListener:n,touchStartListener:s,touchEnabled:!!r})},e.prototype.getStartTarget=function(){return this.startTarget},e.prototype.onTouchStart=function(t,e){var n=this;this.currentDragParams=t,this.dragging=!1;var o=e.touches[0];this.touchLastTime=o,this.touchStart=o;var r=function(e){return n.onTouchUp(e,t.eElement)},i=e.target,s=[{target:this.gridOptionsService.getRootNode(),type:"touchmove",listener:function(t){t.cancelable&&t.preventDefault()},options:{passive:!1}},{target:i,type:"touchmove",listener:function(e){return n.onTouchMove(e,t.eElement)},options:{passive:!0}},{target:i,type:"touchend",listener:r,options:{passive:!0}},{target:i,type:"touchcancel",listener:r,options:{passive:!0}}];this.addTemporaryEvents(s),0===t.dragStartPixels&&this.onCommonMove(o,this.touchStart,t.eElement)},e.prototype.onMouseDown=function(t,e){var n=this,o=e;if((!t.skipMouseEvent||!t.skipMouseEvent(e))&&!o._alreadyProcessedByDragService&&(o._alreadyProcessedByDragService=!0,0===e.button)){this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.currentDragParams=t,this.dragging=!1,this.mouseStartEvent=e,this.startTarget=e.target;var r=this.gridOptionsService.getRootNode(),i=[{target:r,type:"mousemove",listener:function(e){return n.onMouseMove(e,t.eElement)}},{target:r,type:"mouseup",listener:function(e){return n.onMouseUp(e,t.eElement)}},{target:r,type:"contextmenu",listener:function(t){return t.preventDefault()}}];this.addTemporaryEvents(i),0===t.dragStartPixels&&this.onMouseMove(e,t.eElement)}},e.prototype.addTemporaryEvents=function(t){t.forEach((function(t){var e=t.target,n=t.type,o=t.listener,r=t.options;e.addEventListener(n,o,r)})),this.dragEndFunctions.push((function(){t.forEach((function(t){var e=t.target,n=t.type,o=t.listener,r=t.options;e.removeEventListener(n,o,r)}))}))},e.prototype.isEventNearStartEvent=function(t,e){var n=this.currentDragParams.dragStartPixels;return nr(t,e,r(n)?n:4)},e.prototype.getFirstActiveTouch=function(t){for(var e=0;e<t.length;e++)if(t[e].identifier===this.touchStart.identifier)return t[e];return null},e.prototype.onCommonMove=function(t,e,n){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(t,e))return;this.dragging=!0;var o={type:$t.EVENT_DRAG_STARTED,target:n};this.eventService.dispatchEvent(o),this.currentDragParams.onDragStart(e),this.currentDragParams.onDragging(e)}this.currentDragParams.onDragging(t)},e.prototype.onTouchMove=function(t,e){var n=this.getFirstActiveTouch(t.touches);n&&this.onCommonMove(n,this.touchStart,e)},e.prototype.onMouseMove=function(t,e){var n;On()&&(null===(n=this.gridOptionsService.getDocument().getSelection())||void 0===n||n.removeAllRanges());this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.onCommonMove(t,this.mouseStartEvent,e)},e.prototype.shouldPreventMouseEvent=function(t){var e=this.gridOptionsService.get("enableCellTextSelection"),n="mousemove"===t.type;return e&&n&&t.cancelable&&this.mouseEventService.isEventFromThisGrid(t)&&!this.isOverFormFieldElement(t)},e.prototype.isOverFormFieldElement=function(t){var e=t.target,n=null===e||void 0===e?void 0:e.tagName.toLocaleLowerCase();return!!(null===n||void 0===n?void 0:n.match("^a$|textarea|input|select|button"))},e.prototype.onTouchUp=function(t,e){var n=this.getFirstActiveTouch(t.changedTouches);n||(n=this.touchLastTime),this.onUpCommon(n,e)},e.prototype.onMouseUp=function(t,e){this.onUpCommon(t,e)},e.prototype.onUpCommon=function(t,e){if(this.dragging){this.dragging=!1,this.currentDragParams.onDragStop(t);var n={type:$t.EVENT_DRAG_STOPPED,target:e};this.eventService.dispatchEvent(n)}this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach((function(t){return t()})),this.dragEndFunctions.length=0},rl([nt("mouseEventService")],e.prototype,"mouseEventService",void 0),rl([tt],e.prototype,"removeAllListeners",null),e=rl([et("dragService")],e)}(Ut),sl=function(){function t(t){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=t.scrollContainer,this.scrollHorizontally=-1!==t.scrollAxis.indexOf("x"),this.scrollVertically=-1!==t.scrollAxis.indexOf("y"),this.scrollByTick=null!=t.scrollByTick?t.scrollByTick:20,t.onScrollCallback&&(this.onScrollCallback=t.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=t.getVerticalPosition,this.setVerticalPosition=t.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=t.getHorizontalPosition,this.setHorizontalPosition=t.setHorizontalPosition),this.shouldSkipVerticalScroll=t.shouldSkipVerticalScroll||function(){return!1},this.shouldSkipHorizontalScroll=t.shouldSkipHorizontalScroll||function(){return!1}}return t.prototype.check=function(t,e){void 0===e&&(e=!1);var n=e||this.shouldSkipVerticalScroll();if(!n||!this.shouldSkipHorizontalScroll()){var o=this.scrollContainer.getBoundingClientRect(),r=this.scrollByTick;this.tickLeft=t.clientX<o.left+r,this.tickRight=t.clientX>o.right-r,this.tickUp=t.clientY<o.top+r&&!n,this.tickDown=t.clientY>o.bottom-r&&!n,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}},t.prototype.ensureTickingStarted=function(){null===this.tickingInterval&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)},t.prototype.doTick=function(){var t;if(this.tickCount++,t=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){var e=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(e-t),this.tickDown&&this.setVerticalPosition(e+t)}if(this.scrollHorizontally){var n=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(n-t),this.tickRight&&this.setHorizontalPosition(n+t)}this.onScrollCallback&&this.onScrollCallback()},t.prototype.ensureCleared=function(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)},t}(),al=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ll=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ul="ag-list-item-hovered",cl=function(t){function e(e,n,o){var r=t.call(this)||this;return r.comp=e,r.virtualList=n,r.params=o,r.currentDragValue=null,r.lastHoveredListItem=null,r}return al(e,t),e.prototype.postConstruct=function(){this.addManagedListener(this.params.eventSource,this.params.listItemDragStartEvent,this.listItemDragStart.bind(this)),this.addManagedListener(this.params.eventSource,this.params.listItemDragEndEvent,this.listItemDragEnd.bind(this)),this.createDropTarget(),this.createAutoScrollService()},e.prototype.listItemDragStart=function(t){this.currentDragValue=this.params.getCurrentDragValue(t),this.moveBlocked=this.params.isMoveBlocked(this.currentDragValue)},e.prototype.listItemDragEnd=function(){var t=this;window.setTimeout((function(){t.currentDragValue=null,t.moveBlocked=!1}),10)},e.prototype.createDropTarget=function(){var t=this,e={isInterestedIn:function(e){return e===t.params.dragSourceType},getIconName:function(){return zs[t.moveBlocked?"ICON_NOT_ALLOWED":"ICON_MOVE"]},getContainer:function(){return t.comp.getGui()},onDragging:function(e){return t.onDragging(e)},onDragStop:function(){return t.onDragStop()},onDragLeave:function(){return t.onDragLeave()}};this.dragAndDropService.addDropTarget(e)},e.prototype.createAutoScrollService=function(){var t=this.virtualList.getGui();this.autoScrollService=new sl({scrollContainer:t,scrollAxis:"y",getVerticalPosition:function(){return t.scrollTop},setVerticalPosition:function(e){return t.scrollTop=e}})},e.prototype.onDragging=function(t){if(this.currentDragValue&&!this.moveBlocked){var e=this.getListDragItem(t),n=this.virtualList.getComponentAt(e.rowIndex);if(n){var o=n.getGui().parentElement;this.lastHoveredListItem&&this.lastHoveredListItem.rowIndex===e.rowIndex&&this.lastHoveredListItem.position===e.position||(this.autoScrollService.check(t.event),this.clearHoveredItems(),this.lastHoveredListItem=e,Jn(o,ul),Jn(o,"ag-item-highlight-".concat(e.position)))}}},e.prototype.getListDragItem=function(t){var e=this.virtualList.getGui(),n=parseFloat(window.getComputedStyle(e).paddingTop),o=this.virtualList.getRowHeight(),r=this.virtualList.getScrollTop(),i=Math.max(0,(t.y-n+r)/o),s=this.params.getNumRows(this.comp)-1,a=0|Math.min(s,i);return{rowIndex:a,position:Math.round(i)>i||i>s?"bottom":"top",component:this.virtualList.getComponentAt(a)}},e.prototype.onDragStop=function(){this.moveBlocked||(this.params.moveItem(this.currentDragValue,this.lastHoveredListItem),this.clearHoveredItems(),this.autoScrollService.ensureCleared())},e.prototype.onDragLeave=function(){this.clearHoveredItems(),this.autoScrollService.ensureCleared()},e.prototype.clearHoveredItems=function(){this.virtualList.getGui().querySelectorAll(".".concat(ul)).forEach((function(t){[ul,"ag-item-highlight-top","ag-item-highlight-bottom"].forEach((function(e){t.classList.remove(e)}))})),this.lastHoveredListItem=null},ll([nt("dragAndDropService")],e.prototype,"dragAndDropService",void 0),ll([J],e.prototype,"postConstruct",null),e}(Ut);!function(t){t[t.Above=0]="Above",t[t.Below=1]="Below"}(nl||(nl={}));var dl=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};function pl(t){var e=t;return null!=e&&null!=e.getFrameworkComponentInstance?e.getFrameworkComponentInstance():t}var hl,fl=function(){function t(){this.detailGridInfoMap={},this.destroyCalled=!1}return t.prototype.init=function(){var t=this;switch(this.rowModel.getType()){case"clientSide":this.clientSideRowModel=this.rowModel;break;case"infinite":this.infiniteRowModel=this.rowModel;break;case"serverSide":this.serverSideRowModel=this.rowModel}this.ctrlsService.whenReady((function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl()}))},t.prototype.__getAlignedGridService=function(){return this.alignedGridsService},t.prototype.__getContext=function(){return this.context},t.prototype.getGridId=function(){return this.context.getGridId()},t.prototype.addDetailGridInfo=function(t,e){this.detailGridInfoMap[t]=e},t.prototype.removeDetailGridInfo=function(t){this.detailGridInfoMap[t]=void 0},t.prototype.getDetailGridInfo=function(t){return this.detailGridInfoMap[t]},t.prototype.forEachDetailGridInfo=function(t){var e=0;v(this.detailGridInfoMap,(function(n,o){r(o)&&(t(o,e),e++)}))},t.prototype.getDataAsCsv=function(t){if(Z.__assertRegistered(z.CsvExportModule,"api.getDataAsCsv",this.context.getGridId()))return this.csvCreator.getDataAsCsv(t)},t.prototype.exportDataAsCsv=function(t){Z.__assertRegistered(z.CsvExportModule,"api.exportDataAsCSv",this.context.getGridId())&&this.csvCreator.exportDataAsCsv(t)},t.prototype.assertNotExcelMultiSheet=function(t,e){return!!Z.__assertRegistered(z.ExcelExportModule,"api."+t,this.context.getGridId())&&(this.excelCreator.getFactoryMode()!==Ws.MULTI_SHEET||(console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'"),!1))},t.prototype.getDataAsExcel=function(t){if(this.assertNotExcelMultiSheet("getDataAsExcel",t))return this.excelCreator.getDataAsExcel(t)},t.prototype.exportDataAsExcel=function(t){this.assertNotExcelMultiSheet("exportDataAsExcel",t)&&this.excelCreator.exportDataAsExcel(t)},t.prototype.getSheetDataForExcel=function(t){if(Z.__assertRegistered(z.ExcelExportModule,"api.getSheetDataForExcel",this.context.getGridId()))return this.excelCreator.setFactoryMode(Ws.MULTI_SHEET),this.excelCreator.getSheetDataForExcel(t)},t.prototype.getMultipleSheetsAsExcel=function(t){if(Z.__assertRegistered(z.ExcelExportModule,"api.getMultipleSheetsAsExcel",this.context.getGridId()))return this.excelCreator.getMultipleSheetsAsExcel(t)},t.prototype.exportMultipleSheetsAsExcel=function(t){if(Z.__assertRegistered(z.ExcelExportModule,"api.exportMultipleSheetsAsExcel",this.context.getGridId()))return this.excelCreator.exportMultipleSheetsAsExcel(t)},t.prototype.setGridAriaProperty=function(t,e){if(t){var n=this.ctrlsService.getGridBodyCtrl().getGui(),o="aria-".concat(t);null===e?n.removeAttribute(o):n.setAttribute(o,e)}},t.prototype.logMissingRowModel=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];console.error("AG Grid: api.".concat(t," can only be called when gridOptions.rowModelType is ").concat(e.join(" or ")))},t.prototype.getPinnedTopRowCount=function(){return this.pinnedRowModel.getPinnedTopRowCount()},t.prototype.getPinnedBottomRowCount=function(){return this.pinnedRowModel.getPinnedBottomRowCount()},t.prototype.getPinnedTopRow=function(t){return this.pinnedRowModel.getPinnedTopRow(t)},t.prototype.getPinnedBottomRow=function(t){return this.pinnedRowModel.getPinnedBottomRow(t)},t.prototype.expireValueCache=function(){this.valueCache.expire()},t.prototype.getVerticalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()},t.prototype.getHorizontalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()},t.prototype.refreshCells=function(t){void 0===t&&(t={}),this.rowRenderer.refreshCells(t)},t.prototype.flashCells=function(t){void 0===t&&(t={}),this.rowRenderer.flashCells(t)},t.prototype.redrawRows=function(t){void 0===t&&(t={});var e=t?t.rowNodes:void 0;this.rowRenderer.redrawRows(e)},t.prototype.refreshHeader=function(){this.ctrlsService.getHeaderRowContainerCtrls().forEach((function(t){return t.refresh()}))},t.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},t.prototype.isColumnFilterPresent=function(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()},t.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},t.prototype.getModel=function(){return this.rowModel},t.prototype.setRowNodeExpanded=function(t,e,n){this.expansionService.setRowNodeExpanded(t,e,n)},t.prototype.onGroupExpandedOrCollapsed=function(){i(this.clientSideRowModel)?this.logMissingRowModel("onGroupExpandedOrCollapsed","clientSide"):this.expansionService.onGroupExpandedOrCollapsed()},t.prototype.refreshClientSideRowModel=function(t){i(this.clientSideRowModel)?this.logMissingRowModel("refreshClientSideRowModel","clientSide"):this.clientSideRowModel.refreshModel(t)},t.prototype.isAnimationFrameQueueEmpty=function(){return this.animationFrameService.isQueueEmpty()},t.prototype.flushAllAnimationFrames=function(){this.animationFrameService.flushAllFrames()},t.prototype.getRowNode=function(t){return this.rowModel.getRowNode(t)},t.prototype.getSizesForCurrentTheme=function(){return{rowHeight:this.gos.getRowHeightAsNumber(),headerHeight:this.columnModel.getHeaderHeight()}},t.prototype.expandAll=function(){this.clientSideRowModel||this.serverSideRowModel?this.expansionService.expandAll(!0):this.logMissingRowModel("expandAll","clientSide","serverSide")},t.prototype.collapseAll=function(){this.clientSideRowModel||this.serverSideRowModel?this.expansionService.expandAll(!1):this.logMissingRowModel("collapseAll","clientSide","serverSide")},t.prototype.addRenderedRowListener=function(t,e,n){this.rowRenderer.addRenderedRowListener(t,e,n)},t.prototype.getQuickFilter=function(){return this.gos.get("quickFilterText")},t.prototype.getAdvancedFilterModel=function(){return Z.__assertRegistered(z.AdvancedFilterModule,"api.getAdvancedFilterModel",this.context.getGridId())?this.filterManager.getAdvancedFilterModel():null},t.prototype.setAdvancedFilterModel=function(t){this.filterManager.setAdvancedFilterModel(t)},t.prototype.showAdvancedFilterBuilder=function(){Z.__assertRegistered(z.AdvancedFilterModule,"api.setAdvancedFilterModel",this.context.getGridId())&&this.filterManager.showAdvancedFilterBuilder("api")},t.prototype.setNodesSelected=function(t){if(t.nodes.every((function(t){return t.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),!1):void 0!==t.id||(console.warn("AG Grid: cannot select node until id for node is known"),!1)}))){var e=t.nodes,n=t.source,o=t.newValue,r=e;this.selectionService.setNodesSelected({nodes:r,source:null!==n&&void 0!==n?n:"api",newValue:o})}},t.prototype.selectAll=function(t){void 0===t&&(t="apiSelectAll"),this.selectionService.selectAllRowNodes({source:t})},t.prototype.deselectAll=function(t){void 0===t&&(t="apiSelectAll"),this.selectionService.deselectAllRowNodes({source:t})},t.prototype.selectAllFiltered=function(t){void 0===t&&(t="apiSelectAllFiltered"),this.selectionService.selectAllRowNodes({source:t,justFiltered:!0})},t.prototype.deselectAllFiltered=function(t){void 0===t&&(t="apiSelectAllFiltered"),this.selectionService.deselectAllRowNodes({source:t,justFiltered:!0})},t.prototype.getServerSideSelectionState=function(){return i(this.serverSideRowModel)?(this.logMissingRowModel("getServerSideSelectionState","serverSide"),null):this.selectionService.getSelectionState()},t.prototype.setServerSideSelectionState=function(t){i(this.serverSideRowModel)?this.logMissingRowModel("setServerSideSelectionState","serverSide"):this.selectionService.setSelectionState(t,"api")},t.prototype.selectAllOnCurrentPage=function(t){void 0===t&&(t="apiSelectAllCurrentPage"),this.selectionService.selectAllRowNodes({source:t,justCurrentPage:!0})},t.prototype.deselectAllOnCurrentPage=function(t){void 0===t&&(t="apiSelectAllCurrentPage"),this.selectionService.deselectAllRowNodes({source:t,justCurrentPage:!0})},t.prototype.showLoadingOverlay=function(){this.overlayService.showLoadingOverlay()},t.prototype.showNoRowsOverlay=function(){this.overlayService.showNoRowsOverlay()},t.prototype.hideOverlay=function(){this.overlayService.hideOverlay()},t.prototype.getSelectedNodes=function(){return this.selectionService.getSelectedNodes()},t.prototype.getSelectedRows=function(){return this.selectionService.getSelectedRows()},t.prototype.getBestCostNodeSelection=function(){if(!i(this.clientSideRowModel))return this.selectionService.getBestCostNodeSelection();this.logMissingRowModel("getBestCostNodeSelection","clientSide")},t.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},t.prototype.ensureColumnVisible=function(t,e){void 0===e&&(e="auto"),this.gridBodyCtrl.getScrollFeature().ensureColumnVisible(t,e)},t.prototype.ensureIndexVisible=function(t,e){this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(t,e)},t.prototype.ensureNodeVisible=function(t,e){void 0===e&&(e=null),this.gridBodyCtrl.getScrollFeature().ensureNodeVisible(t,e)},t.prototype.forEachLeafNode=function(t){i(this.clientSideRowModel)?this.logMissingRowModel("forEachLeafNode","clientSide"):this.clientSideRowModel.forEachLeafNode(t)},t.prototype.forEachNode=function(t,e){this.rowModel.forEachNode(t,e)},t.prototype.forEachNodeAfterFilter=function(t){i(this.clientSideRowModel)?this.logMissingRowModel("forEachNodeAfterFilter","clientSide"):this.clientSideRowModel.forEachNodeAfterFilter(t)},t.prototype.forEachNodeAfterFilterAndSort=function(t){i(this.clientSideRowModel)?this.logMissingRowModel("forEachNodeAfterFilterAndSort","clientSide"):this.clientSideRowModel.forEachNodeAfterFilterAndSort(t)},t.prototype.getFilterInstance=function(t,e){return this.filterManager.getFilterInstance(t,e)},t.prototype.destroyFilter=function(t){var e=this.columnModel.getPrimaryColumn(t);if(e)return this.filterManager.destroyFilter(e,"api")},t.prototype.getStatusPanel=function(t){if(Z.__assertRegistered(z.StatusBarModule,"api.getStatusPanel",this.context.getGridId()))return pl(this.statusBarService.getStatusPanel(t))},t.prototype.getColumnDef=function(t){var e=this.columnModel.getPrimaryColumn(t);return e?e.getColDef():null},t.prototype.getColumnDefs=function(){return this.columnModel.getColumnDefs()},t.prototype.onFilterChanged=function(t){void 0===t&&(t="api"),this.filterManager.onFilterChanged({source:t})},t.prototype.onSortChanged=function(){this.sortController.onSortChanged("api")},t.prototype.setFilterModel=function(t){this.filterManager.setFilterModel(t)},t.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},t.prototype.getFocusedCell=function(){return this.focusService.getFocusedCell()},t.prototype.clearFocusedCell=function(){return this.focusService.clearFocusedCell()},t.prototype.setFocusedCell=function(t,e,n){this.focusService.setFocusedCell({rowIndex:t,column:e,rowPinned:n,forceBrowserFocus:!0})},t.prototype.addRowDropZone=function(t){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(t)},t.prototype.removeRowDropZone=function(t){var e=this.dragAndDropService.findExternalZone(t);e&&this.dragAndDropService.removeDropTarget(e)},t.prototype.getRowDropZoneParams=function(t){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(t)},t.prototype.assertSideBarLoaded=function(t){return Z.__assertRegistered(z.SideBarModule,"api."+t,this.context.getGridId())},t.prototype.isSideBarVisible=function(){return this.assertSideBarLoaded("isSideBarVisible")&&this.sideBarService.getSideBarComp().isDisplayed()},t.prototype.setSideBarVisible=function(t){this.assertSideBarLoaded("setSideBarVisible")&&this.sideBarService.getSideBarComp().setDisplayed(t)},t.prototype.setSideBarPosition=function(t){this.assertSideBarLoaded("setSideBarPosition")&&this.sideBarService.getSideBarComp().setSideBarPosition(t)},t.prototype.openToolPanel=function(t){this.assertSideBarLoaded("openToolPanel")&&this.sideBarService.getSideBarComp().openToolPanel(t,"api")},t.prototype.closeToolPanel=function(){this.assertSideBarLoaded("closeToolPanel")&&this.sideBarService.getSideBarComp().close("api")},t.prototype.getOpenedToolPanel=function(){return this.assertSideBarLoaded("getOpenedToolPanel")?this.sideBarService.getSideBarComp().openedItem():null},t.prototype.refreshToolPanel=function(){this.assertSideBarLoaded("refreshToolPanel")&&this.sideBarService.getSideBarComp().refresh()},t.prototype.isToolPanelShowing=function(){return this.assertSideBarLoaded("isToolPanelShowing")&&this.sideBarService.getSideBarComp().isToolPanelShowing()},t.prototype.getToolPanelInstance=function(t){if(this.assertSideBarLoaded("getToolPanelInstance"))return pl(this.sideBarService.getSideBarComp().getToolPanelInstance(t))},t.prototype.getSideBar=function(){if(this.assertSideBarLoaded("getSideBar"))return this.sideBarService.getSideBarComp().getDef()},t.prototype.resetRowHeights=function(){if(r(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive())return void console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");this.clientSideRowModel.resetRowHeights()}},t.prototype.setRowCount=function(t,e){if(this.serverSideRowModel)return this.columnModel.isRowGroupEmpty()?void this.serverSideRowModel.setRowCount(t,e):void console.error("AG Grid: setRowCount cannot be used while using row grouping.");this.infiniteRowModel?this.infiniteRowModel.setRowCount(t,e):this.logMissingRowModel("setRowCount","infinite","serverSide")},t.prototype.onRowHeightChanged=function(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()},t.prototype.getValue=function(t,e){var n=this.columnModel.getPrimaryColumn(t);return i(n)&&(n=this.columnModel.getGridColumn(t)),i(n)?null:this.valueService.getValue(n,e)},t.prototype.addEventListener=function(t,e){this.apiEventService.addEventListener(t,e)},t.prototype.addGlobalListener=function(t){this.apiEventService.addGlobalListener(t)},t.prototype.removeEventListener=function(t,e){this.apiEventService.removeEventListener(t,e)},t.prototype.removeGlobalListener=function(t){this.apiEventService.removeGlobalListener(t)},t.prototype.dispatchEvent=function(t){this.eventService.dispatchEvent(t)},t.prototype.destroy=function(){var t="See ".concat(this.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed"));if(!this.destroyCalled){var e={type:$t.EVENT_GRID_PRE_DESTROYED,state:this.getState()};this.dispatchEvent(e),this.destroyCalled=!0;var n=this.ctrlsService.getGridCtrl();n&&n.destroyGridUi(),this.context.destroy(),x(this,["isDestroyed"],t)}},t.prototype.isDestroyed=function(){return this.destroyCalled},t.prototype.resetQuickFilter=function(){this.filterManager.resetQuickFilterCache()},t.prototype.getCellRanges=function(){return this.rangeService?this.rangeService.getCellRanges():(Z.__assertRegistered(z.RangeSelectionModule,"api.getCellRanges",this.context.getGridId()),null)},t.prototype.addCellRange=function(t){this.rangeService?this.rangeService.addCellRange(t):Z.__assertRegistered(z.RangeSelectionModule,"api.addCellRange",this.context.getGridId())},t.prototype.clearRangeSelection=function(){this.rangeService&&this.rangeService.removeAllCellRanges(),Z.__assertRegistered(z.RangeSelectionModule,"gridApi.clearRangeSelection",this.context.getGridId())},t.prototype.undoCellEditing=function(){this.undoRedoService.undo("api")},t.prototype.redoCellEditing=function(){this.undoRedoService.redo("api")},t.prototype.getCurrentUndoSize=function(){return this.undoRedoService.getCurrentUndoStackSize()},t.prototype.getCurrentRedoSize=function(){return this.undoRedoService.getCurrentRedoStackSize()},t.prototype.getChartModels=function(){if(Z.__assertRegistered(z.GridChartsModule,"api.getChartModels",this.context.getGridId()))return this.chartService.getChartModels()},t.prototype.getChartRef=function(t){if(Z.__assertRegistered(z.GridChartsModule,"api.getChartRef",this.context.getGridId()))return this.chartService.getChartRef(t)},t.prototype.getChartImageDataURL=function(t){if(Z.__assertRegistered(z.GridChartsModule,"api.getChartImageDataURL",this.context.getGridId()))return this.chartService.getChartImageDataURL(t)},t.prototype.downloadChart=function(t){if(Z.__assertRegistered(z.GridChartsModule,"api.downloadChart",this.context.getGridId()))return this.chartService.downloadChart(t)},t.prototype.openChartToolPanel=function(t){if(Z.__assertRegistered(z.GridChartsModule,"api.openChartToolPanel",this.context.getGridId()))return this.chartService.openChartToolPanel(t)},t.prototype.closeChartToolPanel=function(t){if(Z.__assertRegistered(z.GridChartsModule,"api.closeChartToolPanel",this.context.getGridId()))return this.chartService.closeChartToolPanel(t.chartId)},t.prototype.createRangeChart=function(t){if(Z.__assertRegistered(z.GridChartsModule,"api.createRangeChart",this.context.getGridId()))return this.chartService.createRangeChart(t)},t.prototype.createPivotChart=function(t){if(Z.__assertRegistered(z.GridChartsModule,"api.createPivotChart",this.context.getGridId()))return this.chartService.createPivotChart(t)},t.prototype.createCrossFilterChart=function(t){if(Z.__assertRegistered(z.GridChartsModule,"api.createCrossFilterChart",this.context.getGridId()))return this.chartService.createCrossFilterChart(t)},t.prototype.updateChart=function(t){Z.__assertRegistered(z.GridChartsModule,"api.updateChart",this.context.getGridId())&&this.chartService.updateChart(t)},t.prototype.restoreChart=function(t,e){if(Z.__assertRegistered(z.GridChartsModule,"api.restoreChart",this.context.getGridId()))return this.chartService.restoreChart(t,e)},t.prototype.copyToClipboard=function(t){Z.__assertRegistered(z.ClipboardModule,"api.copyToClipboard",this.context.getGridId())&&this.clipboardService.copyToClipboard(t)},t.prototype.cutToClipboard=function(t){Z.__assertRegistered(z.ClipboardModule,"api.cutToClipboard",this.context.getGridId())&&this.clipboardService.cutToClipboard(t,"api")},t.prototype.copySelectedRowsToClipboard=function(t){Z.__assertRegistered(z.ClipboardModule,"api.copySelectedRowsToClipboard",this.context.getGridId())&&this.clipboardService.copySelectedRowsToClipboard(t)},t.prototype.copySelectedRangeToClipboard=function(t){Z.__assertRegistered(z.ClipboardModule,"api.copySelectedRangeToClipboard",this.context.getGridId())&&this.clipboardService.copySelectedRangeToClipboard(t)},t.prototype.copySelectedRangeDown=function(){Z.__assertRegistered(z.ClipboardModule,"api.copySelectedRangeDown",this.context.getGridId())&&this.clipboardService.copyRangeDown()},t.prototype.pasteFromClipboard=function(){Z.__assertRegistered(z.ClipboardModule,"api.pasteFromClipboard",this.context.getGridId())&&this.clipboardService.pasteFromClipboard()},t.prototype.showColumnMenuAfterButtonClick=function(t,e){var n=this.columnModel.getGridColumn(t);this.menuFactory.showMenuAfterButtonClick(n,e,"columnMenu")},t.prototype.showColumnMenuAfterMouseClick=function(t,e){var n=this.columnModel.getGridColumn(t);n||(n=this.columnModel.getPrimaryColumn(t)),n?this.menuFactory.showMenuAfterMouseEvent(n,e):console.error("AG Grid: column '".concat(t,"' not found"))},t.prototype.hidePopupMenu=function(){this.contextMenuFactory&&this.contextMenuFactory.hideActiveMenu(),this.menuFactory.hideActiveMenu()},t.prototype.tabToNextCell=function(t){return this.navigationService.tabToNextCell(!1,t)},t.prototype.tabToPreviousCell=function(t){return this.navigationService.tabToNextCell(!0,t)},t.prototype.getCellRendererInstances=function(t){return void 0===t&&(t={}),this.rowRenderer.getCellRendererInstances(t).map(pl)},t.prototype.getCellEditorInstances=function(t){return void 0===t&&(t={}),this.rowRenderer.getCellEditorInstances(t).map(pl)},t.prototype.getEditingCells=function(){return this.rowRenderer.getEditingCells()},t.prototype.stopEditing=function(t){void 0===t&&(t=!1),this.rowRenderer.stopEditing(t)},t.prototype.startEditingCell=function(t){var e=this.columnModel.getGridColumn(t.colKey);if(e){var n={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:e};null==t.rowPinned&&this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(t.rowIndex);var o=this.navigationService.getCellByPosition(n);o&&(this.focusService.isCellFocused(n)||this.focusService.setFocusedCell(n),o.startRowOrCellEdit(t.key))}else console.warn("AG Grid: no column found for ".concat(t.colKey))},t.prototype.addAggFunc=function(t,e){this.aggFuncService&&this.aggFuncService.addAggFunc(t,e)},t.prototype.addAggFuncs=function(t){this.aggFuncService&&this.aggFuncService.addAggFuncs(t)},t.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},t.prototype.applyServerSideTransaction=function(t){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransaction(t);this.logMissingRowModel("applyServerSideTransaction","serverSide")},t.prototype.applyServerSideTransactionAsync=function(t,e){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransactionAsync(t,e);this.logMissingRowModel("applyServerSideTransactionAsync","serverSide")},t.prototype.applyServerSideRowData=function(t){var e,n,o=null!==(e=t.startRow)&&void 0!==e?e:0,r=null!==(n=t.route)&&void 0!==n?n:[];o<0?console.warn("AG Grid: invalid value ".concat(t.startRow," for startRow, the value should be >= 0")):this.serverSideRowModel?this.serverSideRowModel.applyRowData(t.successParams,o,r):this.logMissingRowModel("setServerSideDatasource","serverSide")},t.prototype.retryServerSideLoads=function(){this.serverSideRowModel?this.serverSideRowModel.retryLoads():this.logMissingRowModel("retryServerSideLoads","serverSide")},t.prototype.flushServerSideAsyncTransactions=function(){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.flushAsyncTransactions();this.logMissingRowModel("flushServerSideAsyncTransactions","serverSide")},t.prototype.applyTransaction=function(t){if(this.clientSideRowModel)return this.clientSideRowModel.updateRowData(t);this.logMissingRowModel("applyTransaction","clientSide")},t.prototype.applyTransactionAsync=function(t,e){this.clientSideRowModel?this.clientSideRowModel.batchUpdateRowData(t,e):this.logMissingRowModel("applyTransactionAsync","clientSide")},t.prototype.flushAsyncTransactions=function(){this.clientSideRowModel?this.clientSideRowModel.flushAsyncTransactions():this.logMissingRowModel("flushAsyncTransactions","clientSide")},t.prototype.refreshInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():this.logMissingRowModel("refreshInfiniteCache","infinite")},t.prototype.purgeInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():this.logMissingRowModel("purgeInfiniteCache","infinite")},t.prototype.refreshServerSide=function(t){this.serverSideRowModel?this.serverSideRowModel.refreshStore(t):this.logMissingRowModel("refreshServerSide","serverSide")},t.prototype.getServerSideGroupLevelState=function(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(this.logMissingRowModel("getServerSideGroupLevelState","serverSide"),[])},t.prototype.getInfiniteRowCount=function(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();this.logMissingRowModel("getInfiniteRowCount","infinite")},t.prototype.isLastRowIndexKnown=function(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();this.logMissingRowModel("isLastRowIndexKnown","infinite")},t.prototype.getCacheBlockState=function(){return this.rowNodeBlockLoader.getBlockState()},t.prototype.getFirstDisplayedRow=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},t.prototype.getLastDisplayedRow=function(){return this.rowRenderer.getLastVirtualRenderedRow()},t.prototype.getDisplayedRowAtIndex=function(t){return this.rowModel.getRow(t)},t.prototype.getDisplayedRowCount=function(){return this.rowModel.getRowCount()},t.prototype.paginationIsLastPageFound=function(){return this.paginationProxy.isLastPageFound()},t.prototype.paginationGetPageSize=function(){return this.paginationProxy.getPageSize()},t.prototype.paginationGetCurrentPage=function(){return this.paginationProxy.getCurrentPage()},t.prototype.paginationGetTotalPages=function(){return this.paginationProxy.getTotalPages()},t.prototype.paginationGetRowCount=function(){return this.paginationProxy.getMasterRowCount()},t.prototype.paginationGoToNextPage=function(){this.paginationProxy.goToNextPage()},t.prototype.paginationGoToPreviousPage=function(){this.paginationProxy.goToPreviousPage()},t.prototype.paginationGoToFirstPage=function(){this.paginationProxy.goToFirstPage()},t.prototype.paginationGoToLastPage=function(){this.paginationProxy.goToLastPage()},t.prototype.paginationGoToPage=function(t){this.paginationProxy.goToPage(t)},t.prototype.sizeColumnsToFit=function(t){"number"===typeof t?this.columnModel.sizeColumnsToFit(t,"api"):this.gridBodyCtrl.sizeColumnsToFit(t)},t.prototype.setColumnGroupOpened=function(t,e){this.columnModel.setColumnGroupOpened(t,e,"api")},t.prototype.getColumnGroup=function(t,e){return this.columnModel.getColumnGroup(t,e)},t.prototype.getProvidedColumnGroup=function(t){return this.columnModel.getProvidedColumnGroup(t)},t.prototype.getDisplayNameForColumn=function(t,e){return this.columnModel.getDisplayNameForColumn(t,e)||""},t.prototype.getDisplayNameForColumnGroup=function(t,e){return this.columnModel.getDisplayNameForColumnGroup(t,e)||""},t.prototype.getColumn=function(t){return this.columnModel.getPrimaryColumn(t)},t.prototype.getColumns=function(){return this.columnModel.getAllPrimaryColumns()},t.prototype.applyColumnState=function(t){return this.columnModel.applyColumnState(t,"api")},t.prototype.getColumnState=function(){return this.columnModel.getColumnState()},t.prototype.resetColumnState=function(){this.columnModel.resetColumnState("api")},t.prototype.getColumnGroupState=function(){return this.columnModel.getColumnGroupState()},t.prototype.setColumnGroupState=function(t){this.columnModel.setColumnGroupState(t,"api")},t.prototype.resetColumnGroupState=function(){this.columnModel.resetColumnGroupState("api")},t.prototype.isPinning=function(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()},t.prototype.isPinningLeft=function(){return this.columnModel.isPinningLeft()},t.prototype.isPinningRight=function(){return this.columnModel.isPinningRight()},t.prototype.getDisplayedColAfter=function(t){return this.columnModel.getDisplayedColAfter(t)},t.prototype.getDisplayedColBefore=function(t){return this.columnModel.getDisplayedColBefore(t)},t.prototype.setColumnVisible=function(t,e){this.columnModel.setColumnVisible(t,e,"api")},t.prototype.setColumnsVisible=function(t,e){this.columnModel.setColumnsVisible(t,e,"api")},t.prototype.setColumnPinned=function(t,e){this.columnModel.setColumnPinned(t,e,"api")},t.prototype.setColumnsPinned=function(t,e){this.columnModel.setColumnsPinned(t,e,"api")},t.prototype.getAllGridColumns=function(){return this.columnModel.getAllGridColumns()},t.prototype.getDisplayedLeftColumns=function(){return this.columnModel.getDisplayedLeftColumns()},t.prototype.getDisplayedCenterColumns=function(){return this.columnModel.getDisplayedCenterColumns()},t.prototype.getDisplayedRightColumns=function(){return this.columnModel.getDisplayedRightColumns()},t.prototype.getAllDisplayedColumns=function(){return this.columnModel.getAllDisplayedColumns()},t.prototype.getAllDisplayedVirtualColumns=function(){return this.columnModel.getViewportColumns()},t.prototype.moveColumn=function(t,e){this.columnModel.moveColumn(t,e,"api")},t.prototype.moveColumnByIndex=function(t,e){this.columnModel.moveColumnByIndex(t,e,"api")},t.prototype.moveColumns=function(t,e){this.columnModel.moveColumns(t,e,"api")},t.prototype.moveRowGroupColumn=function(t,e){this.columnModel.moveRowGroupColumn(t,e)},t.prototype.setColumnAggFunc=function(t,e){this.columnModel.setColumnAggFunc(t,e)},t.prototype.setColumnWidth=function(t,e,n,o){void 0===n&&(n=!0),this.columnModel.setColumnWidths([{key:t,newWidth:e}],!1,n,o)},t.prototype.setColumnWidths=function(t,e,n){void 0===e&&(e=!0),this.columnModel.setColumnWidths(t,!1,e,n)},t.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},t.prototype.getPivotResultColumn=function(t,e){return this.columnModel.getSecondaryPivotColumn(t,e)},t.prototype.setValueColumns=function(t){this.columnModel.setValueColumns(t,"api")},t.prototype.getValueColumns=function(){return this.columnModel.getValueColumns()},t.prototype.removeValueColumn=function(t){this.columnModel.removeValueColumn(t,"api")},t.prototype.removeValueColumns=function(t){this.columnModel.removeValueColumns(t,"api")},t.prototype.addValueColumn=function(t){this.columnModel.addValueColumn(t,"api")},t.prototype.addValueColumns=function(t){this.columnModel.addValueColumns(t,"api")},t.prototype.setRowGroupColumns=function(t){this.columnModel.setRowGroupColumns(t,"api")},t.prototype.removeRowGroupColumn=function(t){this.columnModel.removeRowGroupColumn(t,"api")},t.prototype.removeRowGroupColumns=function(t){this.columnModel.removeRowGroupColumns(t,"api")},t.prototype.addRowGroupColumn=function(t){this.columnModel.addRowGroupColumn(t,"api")},t.prototype.addRowGroupColumns=function(t){this.columnModel.addRowGroupColumns(t,"api")},t.prototype.getRowGroupColumns=function(){return this.columnModel.getRowGroupColumns()},t.prototype.setPivotColumns=function(t){this.columnModel.setPivotColumns(t,"api")},t.prototype.removePivotColumn=function(t){this.columnModel.removePivotColumn(t,"api")},t.prototype.removePivotColumns=function(t){this.columnModel.removePivotColumns(t,"api")},t.prototype.addPivotColumn=function(t){this.columnModel.addPivotColumn(t,"api")},t.prototype.addPivotColumns=function(t){this.columnModel.addPivotColumns(t,"api")},t.prototype.getPivotColumns=function(){return this.columnModel.getPivotColumns()},t.prototype.getLeftDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeLeft()},t.prototype.getCenterDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeCentre()},t.prototype.getRightDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeRight()},t.prototype.getAllDisplayedColumnGroups=function(){return this.columnModel.getAllDisplayedTrees()},t.prototype.autoSizeColumn=function(t,e){return this.columnModel.autoSizeColumn(t,e,"api")},t.prototype.autoSizeColumns=function(t,e){this.columnModel.autoSizeColumns({columns:t,skipHeader:e})},t.prototype.autoSizeAllColumns=function(t){this.columnModel.autoSizeAllColumns(t,"api")},t.prototype.setPivotResultColumns=function(t){this.columnModel.setSecondaryColumns(t,"api")},t.prototype.getPivotResultColumns=function(){return this.columnModel.getSecondaryColumns()},t.prototype.getState=function(){return this.stateService.getState()},t.prototype.getGridOption=function(t){return this.gos.get(t)},t.prototype.setGridOption=function(t,e){var n;this.updateGridOptions(((n={})[t]=e,n))},t.prototype.updateGridOptions=function(t){this.gos.updateGridOptions({options:t})},t.prototype.__internalUpdateGridOptions=function(t){this.gos.updateGridOptions({options:t,source:"gridOptionsUpdated"})},t.prototype.deprecatedUpdateGridOption=function(t,e){L("set".concat(t.charAt(0).toUpperCase()).concat(t.slice(1,t.length)," is deprecated. Please use 'api.setGridOption('").concat(t,"', newValue)' or 'api.updateGridOptions({ ").concat(t,": newValue })' instead.")),this.setGridOption(t,e)},t.prototype.setPivotMode=function(t){this.deprecatedUpdateGridOption("pivotMode",t)},t.prototype.setPinnedTopRowData=function(t){this.deprecatedUpdateGridOption("pinnedTopRowData",t)},t.prototype.setPinnedBottomRowData=function(t){this.deprecatedUpdateGridOption("pinnedBottomRowData",t)},t.prototype.setPopupParent=function(t){this.deprecatedUpdateGridOption("popupParent",t)},t.prototype.setSuppressModelUpdateAfterUpdateTransaction=function(t){this.deprecatedUpdateGridOption("suppressModelUpdateAfterUpdateTransaction",t)},t.prototype.setDataTypeDefinitions=function(t){this.deprecatedUpdateGridOption("dataTypeDefinitions",t)},t.prototype.setPagination=function(t){this.deprecatedUpdateGridOption("pagination",t)},t.prototype.paginationSetPageSize=function(t){this.deprecatedUpdateGridOption("paginationPageSize",t)},t.prototype.setSideBar=function(t){this.deprecatedUpdateGridOption("sideBar",t)},t.prototype.setSuppressClipboardPaste=function(t){this.deprecatedUpdateGridOption("suppressClipboardPaste",t)},t.prototype.setGroupRemoveSingleChildren=function(t){this.deprecatedUpdateGridOption("groupRemoveSingleChildren",t)},t.prototype.setGroupRemoveLowestSingleChildren=function(t){this.deprecatedUpdateGridOption("groupRemoveLowestSingleChildren",t)},t.prototype.setGroupDisplayType=function(t){this.deprecatedUpdateGridOption("groupDisplayType",t)},t.prototype.setGroupIncludeFooter=function(t){this.deprecatedUpdateGridOption("groupIncludeFooter",t)},t.prototype.setGroupIncludeTotalFooter=function(t){this.deprecatedUpdateGridOption("groupIncludeTotalFooter",t)},t.prototype.setRowClass=function(t){this.deprecatedUpdateGridOption("rowClass",t)},t.prototype.setDeltaSort=function(t){this.deprecatedUpdateGridOption("deltaSort",t)},t.prototype.setSuppressRowDrag=function(t){this.deprecatedUpdateGridOption("suppressRowDrag",t)},t.prototype.setSuppressMoveWhenRowDragging=function(t){this.deprecatedUpdateGridOption("suppressMoveWhenRowDragging",t)},t.prototype.setSuppressRowClickSelection=function(t){this.deprecatedUpdateGridOption("suppressRowClickSelection",t)},t.prototype.setEnableAdvancedFilter=function(t){this.deprecatedUpdateGridOption("enableAdvancedFilter",t)},t.prototype.setIncludeHiddenColumnsInAdvancedFilter=function(t){this.deprecatedUpdateGridOption("includeHiddenColumnsInAdvancedFilter",t)},t.prototype.setAdvancedFilterParent=function(t){this.deprecatedUpdateGridOption("advancedFilterParent",t)},t.prototype.setAdvancedFilterBuilderParams=function(t){this.deprecatedUpdateGridOption("advancedFilterBuilderParams",t)},t.prototype.setQuickFilter=function(t){L("setQuickFilter is deprecated. Please use 'api.setGridOption('quickFilterText', newValue)' or 'api.updateGridOptions({ quickFilterText: newValue })' instead."),this.gos.updateGridOptions({options:{quickFilterText:t}})},t.prototype.setExcludeHiddenColumnsFromQuickFilter=function(t){this.deprecatedUpdateGridOption("includeHiddenColumnsInQuickFilter",!t)},t.prototype.setIncludeHiddenColumnsInQuickFilter=function(t){this.deprecatedUpdateGridOption("includeHiddenColumnsInQuickFilter",t)},t.prototype.setQuickFilterParser=function(t){this.deprecatedUpdateGridOption("quickFilterParser",t)},t.prototype.setQuickFilterMatcher=function(t){this.deprecatedUpdateGridOption("quickFilterMatcher",t)},t.prototype.setAlwaysShowHorizontalScroll=function(t){this.deprecatedUpdateGridOption("alwaysShowHorizontalScroll",t)},t.prototype.setAlwaysShowVerticalScroll=function(t){this.deprecatedUpdateGridOption("alwaysShowVerticalScroll",t)},t.prototype.setFunctionsReadOnly=function(t){this.deprecatedUpdateGridOption("functionsReadOnly",t)},t.prototype.setColumnDefs=function(t,e){void 0===e&&(e="api"),L("setColumnDefs is deprecated. Please use 'api.setGridOption('columnDefs', newValue)' or 'api.updateGridOptions({ columnDefs: newValue })' instead."),this.gos.updateGridOptions({options:{columnDefs:t},source:e})},t.prototype.setAutoGroupColumnDef=function(t,e){void 0===e&&(e="api"),L("setAutoGroupColumnDef is deprecated. Please use 'api.setGridOption('autoGroupColumnDef', newValue)' or 'api.updateGridOptions({ autoGroupColumnDef: newValue })' instead."),this.gos.updateGridOptions({options:{autoGroupColumnDef:t},source:e})},t.prototype.setDefaultColDef=function(t,e){void 0===e&&(e="api"),L("setDefaultColDef is deprecated. Please use 'api.setGridOption('defaultColDef', newValue)' or 'api.updateGridOptions({ defaultColDef: newValue })' instead."),this.gos.updateGridOptions({options:{defaultColDef:t},source:e})},t.prototype.setColumnTypes=function(t,e){void 0===e&&(e="api"),L("setColumnTypes is deprecated. Please use 'api.setGridOption('columnTypes', newValue)' or 'api.updateGridOptions({ columnTypes: newValue })' instead."),this.gos.updateGridOptions({options:{columnTypes:t},source:e})},t.prototype.setTreeData=function(t){this.deprecatedUpdateGridOption("treeData",t)},t.prototype.setServerSideDatasource=function(t){this.deprecatedUpdateGridOption("serverSideDatasource",t)},t.prototype.setCacheBlockSize=function(t){this.deprecatedUpdateGridOption("cacheBlockSize",t)},t.prototype.setDatasource=function(t){this.deprecatedUpdateGridOption("datasource",t)},t.prototype.setViewportDatasource=function(t){this.deprecatedUpdateGridOption("viewportDatasource",t)},t.prototype.setRowData=function(t){this.deprecatedUpdateGridOption("rowData",t)},t.prototype.setEnableCellTextSelection=function(t){this.deprecatedUpdateGridOption("enableCellTextSelection",t)},t.prototype.setHeaderHeight=function(t){this.deprecatedUpdateGridOption("headerHeight",t)},t.prototype.setDomLayout=function(t){this.deprecatedUpdateGridOption("domLayout",t)},t.prototype.setFillHandleDirection=function(t){this.deprecatedUpdateGridOption("fillHandleDirection",t)},t.prototype.setGroupHeaderHeight=function(t){this.deprecatedUpdateGridOption("groupHeaderHeight",t)},t.prototype.setFloatingFiltersHeight=function(t){this.deprecatedUpdateGridOption("floatingFiltersHeight",t)},t.prototype.setPivotHeaderHeight=function(t){this.deprecatedUpdateGridOption("pivotHeaderHeight",t)},t.prototype.setPivotGroupHeaderHeight=function(t){this.deprecatedUpdateGridOption("pivotGroupHeaderHeight",t)},t.prototype.setAnimateRows=function(t){this.deprecatedUpdateGridOption("animateRows",t)},t.prototype.setIsExternalFilterPresent=function(t){this.deprecatedUpdateGridOption("isExternalFilterPresent",t)},t.prototype.setDoesExternalFilterPass=function(t){this.deprecatedUpdateGridOption("doesExternalFilterPass",t)},t.prototype.setNavigateToNextCell=function(t){this.deprecatedUpdateGridOption("navigateToNextCell",t)},t.prototype.setTabToNextCell=function(t){this.deprecatedUpdateGridOption("tabToNextCell",t)},t.prototype.setTabToNextHeader=function(t){this.deprecatedUpdateGridOption("tabToNextHeader",t)},t.prototype.setNavigateToNextHeader=function(t){this.deprecatedUpdateGridOption("navigateToNextHeader",t)},t.prototype.setRowGroupPanelShow=function(t){this.deprecatedUpdateGridOption("rowGroupPanelShow",t)},t.prototype.setGetGroupRowAgg=function(t){this.deprecatedUpdateGridOption("getGroupRowAgg",t)},t.prototype.setGetBusinessKeyForNode=function(t){this.deprecatedUpdateGridOption("getBusinessKeyForNode",t)},t.prototype.setGetChildCount=function(t){this.deprecatedUpdateGridOption("getChildCount",t)},t.prototype.setProcessRowPostCreate=function(t){this.deprecatedUpdateGridOption("processRowPostCreate",t)},t.prototype.setGetRowId=function(t){L("getRowId is a static property and can no longer be updated.")},t.prototype.setGetRowClass=function(t){this.deprecatedUpdateGridOption("getRowClass",t)},t.prototype.setIsFullWidthRow=function(t){this.deprecatedUpdateGridOption("isFullWidthRow",t)},t.prototype.setIsRowSelectable=function(t){this.deprecatedUpdateGridOption("isRowSelectable",t)},t.prototype.setIsRowMaster=function(t){this.deprecatedUpdateGridOption("isRowMaster",t)},t.prototype.setPostSortRows=function(t){this.deprecatedUpdateGridOption("postSortRows",t)},t.prototype.setGetDocument=function(t){this.deprecatedUpdateGridOption("getDocument",t)},t.prototype.setGetContextMenuItems=function(t){this.deprecatedUpdateGridOption("getContextMenuItems",t)},t.prototype.setGetMainMenuItems=function(t){this.deprecatedUpdateGridOption("getMainMenuItems",t)},t.prototype.setProcessCellForClipboard=function(t){this.deprecatedUpdateGridOption("processCellForClipboard",t)},t.prototype.setSendToClipboard=function(t){this.deprecatedUpdateGridOption("sendToClipboard",t)},t.prototype.setProcessCellFromClipboard=function(t){this.deprecatedUpdateGridOption("processCellFromClipboard",t)},t.prototype.setProcessPivotResultColDef=function(t){this.deprecatedUpdateGridOption("processPivotResultColDef",t)},t.prototype.setProcessPivotResultColGroupDef=function(t){this.deprecatedUpdateGridOption("processPivotResultColGroupDef",t)},t.prototype.setPostProcessPopup=function(t){this.deprecatedUpdateGridOption("postProcessPopup",t)},t.prototype.setInitialGroupOrderComparator=function(t){this.deprecatedUpdateGridOption("initialGroupOrderComparator",t)},t.prototype.setGetChartToolbarItems=function(t){this.deprecatedUpdateGridOption("getChartToolbarItems",t)},t.prototype.setPaginationNumberFormatter=function(t){this.deprecatedUpdateGridOption("paginationNumberFormatter",t)},t.prototype.setGetServerSideGroupLevelParams=function(t){this.deprecatedUpdateGridOption("getServerSideGroupLevelParams",t)},t.prototype.setIsServerSideGroupOpenByDefault=function(t){this.deprecatedUpdateGridOption("isServerSideGroupOpenByDefault",t)},t.prototype.setIsApplyServerSideTransaction=function(t){this.deprecatedUpdateGridOption("isApplyServerSideTransaction",t)},t.prototype.setIsServerSideGroup=function(t){this.deprecatedUpdateGridOption("isServerSideGroup",t)},t.prototype.setGetServerSideGroupKey=function(t){this.deprecatedUpdateGridOption("getServerSideGroupKey",t)},t.prototype.setGetRowStyle=function(t){this.deprecatedUpdateGridOption("getRowStyle",t)},t.prototype.setGetRowHeight=function(t){this.deprecatedUpdateGridOption("getRowHeight",t)},dl([ot("csvCreator")],t.prototype,"csvCreator",void 0),dl([ot("excelCreator")],t.prototype,"excelCreator",void 0),dl([nt("rowRenderer")],t.prototype,"rowRenderer",void 0),dl([nt("navigationService")],t.prototype,"navigationService",void 0),dl([nt("filterManager")],t.prototype,"filterManager",void 0),dl([nt("columnModel")],t.prototype,"columnModel",void 0),dl([nt("selectionService")],t.prototype,"selectionService",void 0),dl([nt("gridOptionsService")],t.prototype,"gos",void 0),dl([nt("valueService")],t.prototype,"valueService",void 0),dl([nt("alignedGridsService")],t.prototype,"alignedGridsService",void 0),dl([nt("eventService")],t.prototype,"eventService",void 0),dl([nt("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),dl([nt("context")],t.prototype,"context",void 0),dl([nt("rowModel")],t.prototype,"rowModel",void 0),dl([nt("sortController")],t.prototype,"sortController",void 0),dl([nt("paginationProxy")],t.prototype,"paginationProxy",void 0),dl([nt("focusService")],t.prototype,"focusService",void 0),dl([nt("dragAndDropService")],t.prototype,"dragAndDropService",void 0),dl([ot("rangeService")],t.prototype,"rangeService",void 0),dl([ot("clipboardService")],t.prototype,"clipboardService",void 0),dl([ot("aggFuncService")],t.prototype,"aggFuncService",void 0),dl([nt("menuFactory")],t.prototype,"menuFactory",void 0),dl([ot("contextMenuFactory")],t.prototype,"contextMenuFactory",void 0),dl([nt("valueCache")],t.prototype,"valueCache",void 0),dl([nt("animationFrameService")],t.prototype,"animationFrameService",void 0),dl([ot("statusBarService")],t.prototype,"statusBarService",void 0),dl([ot("chartService")],t.prototype,"chartService",void 0),dl([ot("undoRedoService")],t.prototype,"undoRedoService",void 0),dl([ot("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),dl([ot("ssrmTransactionManager")],t.prototype,"serverSideTransactionManager",void 0),dl([nt("ctrlsService")],t.prototype,"ctrlsService",void 0),dl([nt("overlayService")],t.prototype,"overlayService",void 0),dl([ot("sideBarService")],t.prototype,"sideBarService",void 0),dl([nt("stateService")],t.prototype,"stateService",void 0),dl([nt("expansionService")],t.prototype,"expansionService",void 0),dl([nt("apiEventService")],t.prototype,"apiEventService",void 0),dl([nt("frameworkOverrides")],t.prototype,"frameworkOverrides",void 0),dl([J],t.prototype,"init",null),t=dl([et("gridApi")],t)}(),gl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),vl=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ml=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.quickFilter=null,e.quickFilterParts=null,e}var n;return gl(e,t),n=e,e.prototype.postConstruct=function(){var t=this;this.addManagedListener(this.eventService,$t.EVENT_COLUMN_PIVOT_MODE_CHANGED,(function(){return t.resetQuickFilterCache()})),this.addManagedListener(this.eventService,$t.EVENT_NEW_COLUMNS_LOADED,(function(){return t.resetQuickFilterCache()})),this.addManagedListener(this.eventService,$t.EVENT_COLUMN_ROW_GROUP_CHANGED,(function(){return t.resetQuickFilterCache()})),this.addManagedListener(this.eventService,$t.EVENT_COLUMN_VISIBLE,(function(){t.gridOptionsService.get("includeHiddenColumnsInQuickFilter")||t.resetQuickFilterCache()})),this.addManagedPropertyListener("quickFilterText",(function(e){return t.setQuickFilter(e.currentValue)})),this.addManagedPropertyListener("includeHiddenColumnsInQuickFilter",(function(){return t.onIncludeHiddenColumnsInQuickFilterChanged()})),this.quickFilter=this.parseQuickFilter(this.gridOptionsService.get("quickFilterText")),this.parser=this.gridOptionsService.get("quickFilterParser"),this.matcher=this.gridOptionsService.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],(function(){return t.setQuickFilterParserAndMatcher()}))},e.prototype.isQuickFilterPresent=function(){return null!==this.quickFilter},e.prototype.doesRowPassQuickFilter=function(t){var e=this,n=this.gridOptionsService.get("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(n,t):this.quickFilterParts.every((function(o){return n?e.doesRowPassQuickFilterCache(t,o):e.doesRowPassQuickFilterNoCache(t,o)}))},e.prototype.resetQuickFilterCache=function(){this.rowModel.forEachNode((function(t){return t.quickFilterAggregateText=null}))},e.prototype.setQuickFilterParts=function(){var t=this.quickFilter,e=this.parser;this.quickFilterParts=t?e?e(t):t.split(" "):null},e.prototype.parseQuickFilter=function(t){return r(t)?this.gridOptionsService.isRowModelType("clientSide")?t.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null},e.prototype.setQuickFilter=function(t){if(null==t||"string"===typeof t){var e=this.parseQuickFilter(t);this.quickFilter!==e&&(this.quickFilter=e,this.setQuickFilterParts(),this.dispatchEvent({type:n.EVENT_QUICK_FILTER_CHANGED}))}else console.warn("AG Grid - Grid option quickFilterText only supports string inputs, received: ".concat(typeof t))},e.prototype.setQuickFilterParserAndMatcher=function(){var t=this.gridOptionsService.get("quickFilterParser"),e=this.gridOptionsService.get("quickFilterMatcher"),o=t!==this.parser||e!==this.matcher;this.parser=t,this.matcher=e,o&&(this.setQuickFilterParts(),this.dispatchEvent({type:n.EVENT_QUICK_FILTER_CHANGED}))},e.prototype.onIncludeHiddenColumnsInQuickFilterChanged=function(){this.columnModel.refreshQuickFilterColumns(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchEvent({type:n.EVENT_QUICK_FILTER_CHANGED})},e.prototype.doesRowPassQuickFilterNoCache=function(t,e){var n=this;return this.columnModel.getAllColumnsForQuickFilter().some((function(o){var i=n.getQuickFilterTextForColumn(o,t);return r(i)&&i.indexOf(e)>=0}))},e.prototype.doesRowPassQuickFilterCache=function(t,e){return this.checkGenerateQuickFilterAggregateText(t),t.quickFilterAggregateText.indexOf(e)>=0},e.prototype.doesRowPassQuickFilterMatcher=function(t,e){var n;t?(this.checkGenerateQuickFilterAggregateText(e),n=e.quickFilterAggregateText):n=this.getQuickFilterAggregateText(e);var o=this.quickFilterParts;return(0,this.matcher)(o,n)},e.prototype.checkGenerateQuickFilterAggregateText=function(t){t.quickFilterAggregateText||(t.quickFilterAggregateText=this.getQuickFilterAggregateText(t))},e.prototype.getQuickFilterTextForColumn=function(t,e){var n=this.valueService.getValue(t,e,!0),o=t.getColDef();if(o.getQuickFilterText){var i={value:n,node:e,data:e.data,column:t,colDef:o,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};n=o.getQuickFilterText(i)}return r(n)?n.toString().toUpperCase():null},e.prototype.getQuickFilterAggregateText=function(t){var e=this,o=[];return this.columnModel.getAllColumnsForQuickFilter().forEach((function(n){var i=e.getQuickFilterTextForColumn(n,t);r(i)&&o.push(i)})),o.join(n.QUICK_FILTER_SEPARATOR)},e.EVENT_QUICK_FILTER_CHANGED="quickFilterChanged",e.QUICK_FILTER_SEPARATOR="\n",vl([nt("valueService")],e.prototype,"valueService",void 0),vl([nt("columnModel")],e.prototype,"columnModel",void 0),vl([nt("rowModel")],e.prototype,"rowModel",void 0),vl([J],e.prototype,"postConstruct",null),e=n=vl([et("quickFilterService")],e)}(Ut),yl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Cl=function(){return Cl=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},Cl.apply(this,arguments)},wl=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},bl=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allColumnFilters=new Map,e.allColumnListeners=new Map,e.activeAggregateFilters=[],e.activeColumnFilters=[],e.processingFilterChange=!1,e.filterModelUpdateQueue=[],e.advancedFilterModelUpdateQueue=[],e}return yl(e,t),e.prototype.init=function(){var t=this;this.addManagedListener(this.eventService,$t.EVENT_GRID_COLUMNS_CHANGED,(function(){return t.onColumnsChanged()})),this.addManagedListener(this.eventService,$t.EVENT_COLUMN_VALUE_CHANGED,(function(){return t.refreshFiltersForAggregations()})),this.addManagedListener(this.eventService,$t.EVENT_COLUMN_PIVOT_CHANGED,(function(){return t.refreshFiltersForAggregations()})),this.addManagedListener(this.eventService,$t.EVENT_COLUMN_PIVOT_MODE_CHANGED,(function(){return t.refreshFiltersForAggregations()})),this.addManagedListener(this.eventService,$t.EVENT_NEW_COLUMNS_LOADED,(function(){return t.updateAdvancedFilterColumns()})),this.addManagedListener(this.eventService,$t.EVENT_COLUMN_VISIBLE,(function(){return t.updateAdvancedFilterColumns()})),this.addManagedListener(this.eventService,$t.EVENT_ROW_DATA_UPDATED,(function(){return t.onNewRowsLoaded("rowDataUpdated")})),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],(function(){t.onFilterChanged({source:"api"})})),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",(function(){t.updateAggFiltering(),t.onFilterChanged()})),this.addManagedPropertyListener("advancedFilterModel",(function(e){return t.setAdvancedFilterModel(e.currentValue)})),this.addManagedListener(this.eventService,$t.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,(function(e){var n=e.enabled;return t.onAdvancedFilterEnabledChanged(n)})),this.addManagedListener(this.eventService,$t.EVENT_DATA_TYPES_INFERRED,(function(){return t.processFilterModelUpdateQueue()})),this.addManagedListener(this.quickFilterService,ml.EVENT_QUICK_FILTER_CHANGED,(function(){return t.onFilterChanged({source:"quickFilter"})}))},e.prototype.isExternalFilterPresentCallback=function(){var t=this.gridOptionsService.getCallback("isExternalFilterPresent");return"function"===typeof t&&t({})},e.prototype.doesExternalFilterPass=function(t){var e=this.gridOptionsService.get("doesExternalFilterPass");return"function"===typeof e&&e(t)},e.prototype.setFilterModel=function(t,e){var n=this;if(void 0===e&&(e="api"),this.isAdvancedFilterEnabled())this.warnAdvancedFilters();else if(this.dataTypeService.isPendingInference())this.filterModelUpdateQueue.push({model:t,source:e});else{var o=[],r=this.getFilterModel();if(t){var i=ir(Object.keys(t));this.allColumnFilters.forEach((function(e,r){var s=t[r];o.push(n.setModelOnFilterWrapper(e.filterPromise,s)),i.delete(r)})),i.forEach((function(e){var r=n.columnModel.getPrimaryColumn(e)||n.columnModel.getGridColumn(e);if(r)if(r.isFilterAllowed()){var i=n.getOrCreateFilterWrapper(r,"NO_UI");i?o.push(n.setModelOnFilterWrapper(i.filterPromise,t[e])):console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+e)}else console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+e);else console.warn("AG Grid: setFilterModel() - no column found for colId: "+e)}))}else this.allColumnFilters.forEach((function(t){o.push(n.setModelOnFilterWrapper(t.filterPromise,null))}));hr.all(o).then((function(){var t=n.getFilterModel(),o=[];n.allColumnFilters.forEach((function(e,n){var i=r?r[n]:null,s=t?t[n]:null;ur.jsonEquals(i,s)||o.push(e.column)})),o.length>0&&n.onFilterChanged({columns:o,source:e})}))}},e.prototype.setModelOnFilterWrapper=function(t,e){return new hr((function(n){t.then((function(t){"function"!==typeof t.setModel&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),n()),(t.setModel(e)||hr.resolve()).then((function(){return n()}))}))}))},e.prototype.getFilterModel=function(){var t={};return this.allColumnFilters.forEach((function(e,n){var o=e.filterPromise.resolveNow(null,(function(t){return t}));if(null==o)return null;if("function"===typeof o.getModel){var i=o.getModel();r(i)&&(t[n]=i)}else console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel")})),t},e.prototype.isColumnFilterPresent=function(){return this.activeColumnFilters.length>0},e.prototype.isAggregateFilterPresent=function(){return!!this.activeAggregateFilters.length},e.prototype.isExternalFilterPresent=function(){return this.externalFilterPresent},e.prototype.isChildFilterPresent=function(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()},e.prototype.isAdvancedFilterPresent=function(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()},e.prototype.onAdvancedFilterEnabledChanged=function(t){var e,n=this;t?this.allColumnFilters.size&&(this.allColumnFilters.forEach((function(t){return n.disposeFilterWrapper(t,"advancedFilterEnabled")})),this.onFilterChanged({source:"advancedFilter"})):(null===(e=this.advancedFilterService)||void 0===e?void 0:e.isFilterPresent())&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))},e.prototype.isAdvancedFilterEnabled=function(){var t;return null===(t=this.advancedFilterService)||void 0===t?void 0:t.isEnabled()},e.prototype.isAdvancedFilterHeaderActive=function(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()},e.prototype.doAggregateFiltersPass=function(t,e){return this.doColumnFiltersPass(t,e,!0)},e.prototype.updateActiveFilters=function(){var t=this;this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;var e=function(t){return!!t&&(t.isFilterActive?t.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1))},n=!!this.gridOptionsService.getGroupAggFiltering();this.allColumnFilters.forEach((function(o){if(o.filterPromise.resolveNow(!1,e)){var r=o.filterPromise.resolveNow(null,(function(t){return t}));!function(e){if(!e.isPrimary())return!0;var o=!t.columnModel.isPivotActive();return!(!e.isValueActive()||!o)&&(!!t.columnModel.isPivotMode()||n)}(o.column)?t.activeColumnFilters.push(r):t.activeAggregateFilters.push(r)}}))},e.prototype.updateFilterFlagInColumns=function(t,e){this.allColumnFilters.forEach((function(n){var o=n.filterPromise.resolveNow(!1,(function(t){return t.isFilterActive()}));n.column.setFilterActive(o,t,e)}))},e.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()},e.prototype.doColumnFiltersPass=function(t,e,n){for(var o=t.data,r=t.aggData,i=n?this.activeAggregateFilters:this.activeColumnFilters,s=n?r:o,a=0;a<i.length;a++){var l=i[a];if(null!=l&&l!==e){if("function"!==typeof l.doesFilterPass)throw new Error("Filter is missing method doesFilterPass");if(!l.doesFilterPass({node:t,data:s}))return!1}}return!0},e.prototype.resetQuickFilterCache=function(){this.quickFilterService.resetQuickFilterCache()},e.prototype.refreshFiltersForAggregations=function(){this.gridOptionsService.getGroupAggFiltering()&&this.onFilterChanged()},e.prototype.callOnFilterChangedOutsideRenderCycle=function(t){var e=this,n=function(){return e.onFilterChanged(t)};this.rowRenderer.isRefreshInProgress()?setTimeout(n,0):n()},e.prototype.onFilterChanged=function(t){void 0===t&&(t={});var e=t.source,n=t.filterInstance,o=t.additionalEventAttributes,r=t.columns;this.updateDependantFilters(),this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",o),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.allColumnFilters.forEach((function(t){t.filterPromise&&t.filterPromise.then((function(t){t&&t!==n&&t.onAnyFilterChanged&&t.onAnyFilterChanged()}))}));var i={source:e,type:$t.EVENT_FILTER_CHANGED,columns:r||[]};o&&E(i,o),this.processingFilterChange=!0,this.eventService.dispatchEvent(i),this.processingFilterChange=!1},e.prototype.isSuppressFlashingCellsBecauseFiltering=function(){var t;return!(null!==(t=this.gridOptionsService.get("allowShowChangeAfterFilter"))&&void 0!==t&&t)&&this.processingFilterChange},e.prototype.isQuickFilterPresent=function(){return this.quickFilterService.isQuickFilterPresent()},e.prototype.updateAggFiltering=function(){this.aggFiltering=!!this.gridOptionsService.getGroupAggFiltering()},e.prototype.isAggregateQuickFilterPresent=function(){return this.isQuickFilterPresent()&&(this.aggFiltering||this.columnModel.isPivotMode())},e.prototype.isNonAggregateQuickFilterPresent=function(){return this.isQuickFilterPresent()&&!(this.aggFiltering||this.columnModel.isPivotMode())},e.prototype.doesRowPassOtherFilters=function(t,e){return this.doesRowPassFilter({rowNode:e,filterInstanceToSkip:t})},e.prototype.doesRowPassAggregateFilters=function(t){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(t.rowNode))&&!(this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(t.rowNode,t.filterInstanceToSkip))},e.prototype.doesRowPassFilter=function(t){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(t.rowNode))&&(!(this.isExternalFilterPresent()&&!this.doesExternalFilterPass(t.rowNode))&&(!(this.isColumnFilterPresent()&&!this.doColumnFiltersPass(t.rowNode,t.filterInstanceToSkip))&&!(this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(t.rowNode))))},e.prototype.onNewRowsLoaded=function(t){this.allColumnFilters.forEach((function(t){t.filterPromise.then((function(t){t.onNewRowsLoaded&&t.onNewRowsLoaded()}))})),this.updateFilterFlagInColumns(t,{afterDataChange:!0}),this.updateActiveFilters()},e.prototype.createValueGetter=function(t){var e=this;return function(n){var o=n.node;return e.valueService.getValue(t,o,!0)}},e.prototype.createGetValue=function(t){var e=this;return function(n,o){var r=o?e.columnModel.getGridColumn(o):t;return r?e.valueService.getValue(r,n,!0):void 0}},e.prototype.getFilterComponent=function(t,e,n){var o;if(void 0===n&&(n=!0),n)return(null===(o=this.getOrCreateFilterWrapper(t,e))||void 0===o?void 0:o.filterPromise)||null;var r=this.cachedFilter(t);return r?r.filterPromise:null},e.prototype.isFilterActive=function(t){var e=this.cachedFilter(t);return!!e&&e.filterPromise.resolveNow(!1,(function(t){return t.isFilterActive()}))},e.prototype.getOrCreateFilterWrapper=function(t,e){if(!t.isFilterAllowed())return null;var n=this.cachedFilter(t);return n?"NO_UI"!==e&&this.putIntoGui(n,e):(n=this.createFilterWrapper(t,e),this.setColumnFilterWrapper(t,n)),n},e.prototype.cachedFilter=function(t){return this.allColumnFilters.get(t.getColId())},e.prototype.getDefaultFilter=function(t){var e;if(Z.__isRegistered(z.SetFilterModule,this.context.getGridId()))e="agSetColumnFilter";else{var n=t.getColDef().cellDataType;e="number"===n?"agNumberColumnFilter":"date"===n||"dateString"===n?"agDateColumnFilter":"agTextColumnFilter"}return e},e.prototype.getDefaultFloatingFilter=function(t){var e;if(Z.__isRegistered(z.SetFilterModule,this.context.getGridId()))e="agSetColumnFloatingFilter";else{var n=t.getColDef().cellDataType;e="number"===n?"agNumberColumnFloatingFilter":"date"===n||"dateString"===n?"agDateColumnFloatingFilter":"agTextColumnFloatingFilter"}return e},e.prototype.createFilterInstance=function(t){var e,n=this,o=this.getDefaultFilter(t),r=t.getColDef(),i=Cl(Cl({},this.createFilterParams(t,r)),{filterModifiedCallback:function(){return n.filterModifiedCallbackFactory(e,t)()},filterChangedCallback:function(o){return n.filterChangedCallbackFactory(e,t)(o)},doesRowPassOtherFilter:function(t){return n.doesRowPassOtherFilters(e,t)}}),s=this.userComponentFactory.getFilterDetails(r,i,o);return s?{filterPromise:function(){var t=s.newAgStackInstance();return t&&t.then((function(t){return e=t})),t},compDetails:s}:{filterPromise:null,compDetails:null}},e.prototype.createFilterParams=function(t,e){return{column:t,colDef:m(e),rowModel:this.rowModel,filterChangedCallback:function(){},filterModifiedCallback:function(){},valueGetter:this.createValueGetter(t),getValue:this.createGetValue(t),doesRowPassOtherFilter:function(){return!0},api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}},e.prototype.createFilterWrapper=function(t,e){var n,o={column:t,filterPromise:null,compiledElement:null,guiPromise:hr.resolve(null),compDetails:null},r=this.createFilterInstance(t),i=r.filterPromise,s=r.compDetails;return o.filterPromise=null!==(n=null===i||void 0===i?void 0:i())&&void 0!==n?n:null,o.compDetails=s,i&&this.putIntoGui(o,e),o},e.prototype.putIntoGui=function(t,e){var n=this,o=document.createElement("div");o.className="ag-filter",t.guiPromise=new hr((function(i){t.filterPromise.then((function(s){var a=s.getGui();r(a)||console.warn("AG Grid: getGui method from filter returned ".concat(a,", it should be a DOM element or an HTML template string.")),"string"===typeof a&&(a=wo(a)),o.appendChild(a),i(o);var l={type:$t.EVENT_FILTER_OPENED,column:t.column,source:e,eGui:o};n.eventService.dispatchEvent(l)}))}))},e.prototype.onColumnsChanged=function(){var t=this,e=[];this.allColumnFilters.forEach((function(n,o){(n.column.isPrimary()?t.columnModel.getPrimaryColumn(o):t.columnModel.getGridColumn(o))||(e.push(n.column),t.disposeFilterWrapper(n,"columnChanged"),t.disposeColumnListener(o))})),e.length>0?this.onFilterChanged({columns:e,source:"api"}):this.updateDependantFilters()},e.prototype.updateDependantFilters=function(){var t=this,e=this.columnModel.getGroupAutoColumns();null===e||void 0===e||e.forEach((function(e){"agGroupColumnFilter"===e.getColDef().filter&&t.getOrCreateFilterWrapper(e,"NO_UI")}))},e.prototype.isFilterAllowed=function(t){var e,n;if(this.isAdvancedFilterEnabled())return!1;if(!t.isFilterAllowed())return!1;var o=this.allColumnFilters.get(t.getColId());return null===(n=null===(e=null===o||void 0===o?void 0:o.filterPromise)||void 0===e?void 0:e.resolveNow(!0,(function(t){return"function"!==typeof(null===t||void 0===t?void 0:t.isFilterAllowed)||(null===t||void 0===t?void 0:t.isFilterAllowed())})))||void 0===n||n},e.prototype.getFloatingFilterCompDetails=function(t,e){var n=this,o=t.getColDef(),r=this.createFilterParams(t,o),i=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(o,Wa,r),s=this.userComponentFactory.getDefaultFloatingFilterType(o,(function(){return n.getDefaultFloatingFilter(t)}));null==s&&(s="agReadOnlyFloatingFilter");var a={column:t,filterParams:i,currentParentModel:function(){return n.getCurrentFloatingFilterParentModel(t)},parentFilterInstance:function(e){var o=n.getFilterComponent(t,"NO_UI");null!=o&&o.then((function(t){e(pl(t))}))},showParentFilter:e,suppressFilterButton:!1};return this.userComponentFactory.getFloatingFilterCompDetails(o,a,s)},e.prototype.getCurrentFloatingFilterParentModel=function(t){var e=this.getFilterComponent(t,"NO_UI",!1);return e?e.resolveNow(null,(function(t){return t&&t.getModel()})):null},e.prototype.destroyFilter=function(t,e){void 0===e&&(e="api");var n=t.getColId(),o=this.allColumnFilters.get(n);this.disposeColumnListener(n),o&&(this.disposeFilterWrapper(o,e),this.onFilterChanged({columns:[t],source:"api"}))},e.prototype.disposeColumnListener=function(t){var e=this.allColumnListeners.get(t);e&&(this.allColumnListeners.delete(t),e())},e.prototype.disposeFilterWrapper=function(t,e){var n=this;t.filterPromise.then((function(o){n.getContext().destroyBean(o),t.column.setFilterActive(!1,"filterDestroyed"),n.allColumnFilters.delete(t.column.getColId());var r={type:$t.EVENT_FILTER_DESTROYED,source:e,column:t.column};n.eventService.dispatchEvent(r)}))},e.prototype.filterModifiedCallbackFactory=function(t,e){var n=this;return function(){var o={type:$t.EVENT_FILTER_MODIFIED,column:e,filterInstance:t};n.eventService.dispatchEvent(o)}},e.prototype.filterChangedCallbackFactory=function(t,e){var n=this;return function(o){var r,i=null!==(r=null===o||void 0===o?void 0:o.source)&&void 0!==r?r:"api",s={filter:t,additionalEventAttributes:o,columns:[e],source:i};n.callOnFilterChangedOutsideRenderCycle(s)}},e.prototype.checkDestroyFilter=function(t){var e=this,n=this.allColumnFilters.get(t);if(n){var o=n.column,r=(o.isFilterAllowed()?this.createFilterInstance(o):{compDetails:null}).compDetails;if(this.areFilterCompsDifferent(n.compDetails,r))this.destroyFilter(o,"columnChanged");else{var i=o.getColDef().filterParams;n.filterPromise?n.filterPromise.then((function(t){!(null===t||void 0===t?void 0:t.refresh)||t.refresh(Cl(Cl(Cl({},e.createFilterParams(o,o.getColDef())),{filterModifiedCallback:e.filterModifiedCallbackFactory(t,o),filterChangedCallback:e.filterChangedCallbackFactory(t,o),doesRowPassOtherFilter:function(n){return e.doesRowPassOtherFilters(t,n)}}),i))||e.destroyFilter(o,"columnChanged")})):this.destroyFilter(o,"columnChanged")}}},e.prototype.setColumnFilterWrapper=function(t,e){var n=this,o=t.getColId();this.allColumnFilters.set(o,e),this.allColumnListeners.set(o,this.addManagedListener(t,ft.EVENT_COL_DEF_CHANGED,(function(){return n.checkDestroyFilter(o)})))},e.prototype.areFilterCompsDifferent=function(t,e){if(!e||!t)return!0;var n=t.componentClass,o=e.componentClass;return!(n===o||(null===n||void 0===n?void 0:n.render)&&(null===o||void 0===o?void 0:o.render)&&n.render===o.render)},e.prototype.getAdvancedFilterModel=function(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null},e.prototype.setAdvancedFilterModel=function(t){this.isAdvancedFilterEnabled()&&(this.dataTypeService.isPendingInference()?this.advancedFilterModelUpdateQueue.push(t):(this.advancedFilterService.setModel(null!==t&&void 0!==t?t:null),this.onFilterChanged({source:"advancedFilter"})))},e.prototype.showAdvancedFilterBuilder=function(t){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder(t,!0)},e.prototype.updateAdvancedFilterColumns=function(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})},e.prototype.hasFloatingFilters=function(){return!this.isAdvancedFilterEnabled()&&this.columnModel.getAllGridColumns().some((function(t){return t.getColDef().floatingFilter}))},e.prototype.getFilterInstance=function(t,e){if(!this.isAdvancedFilterEnabled()){var n=this.getFilterInstanceImpl(t,(function(t){if(e){var n=pl(t);e(n)}}));return pl(n)}this.warnAdvancedFilters()},e.prototype.getFilterInstanceImpl=function(t,e){var n=this.columnModel.getPrimaryColumn(t);if(n){var o=this.getFilterComponent(n,"NO_UI"),r=o&&o.resolveNow(null,(function(t){return t}));return r?setTimeout(e,0,r):o&&o.then((function(t){e(t)})),r}},e.prototype.warnAdvancedFilters=function(){L("Column Filter API methods have been disabled as Advanced Filters are enabled.")},e.prototype.setupAdvancedFilterHeaderComp=function(t){var e;null===(e=this.advancedFilterService)||void 0===e||e.getCtrl().setupHeaderComp(t)},e.prototype.getHeaderRowCount=function(){return this.isAdvancedFilterHeaderActive()?1:0},e.prototype.getHeaderHeight=function(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0},e.prototype.processFilterModelUpdateQueue=function(){var t=this;this.filterModelUpdateQueue.forEach((function(e){var n=e.model,o=e.source;return t.setFilterModel(n,o)})),this.filterModelUpdateQueue=[],this.advancedFilterModelUpdateQueue.forEach((function(e){return t.setAdvancedFilterModel(e)})),this.advancedFilterModelUpdateQueue=[]},e.prototype.destroy=function(){var e=this;t.prototype.destroy.call(this),this.allColumnFilters.forEach((function(t){return e.disposeFilterWrapper(t,"gridDestroyed")})),this.allColumnListeners.clear()},wl([nt("valueService")],e.prototype,"valueService",void 0),wl([nt("columnModel")],e.prototype,"columnModel",void 0),wl([nt("rowModel")],e.prototype,"rowModel",void 0),wl([nt("userComponentFactory")],e.prototype,"userComponentFactory",void 0),wl([nt("rowRenderer")],e.prototype,"rowRenderer",void 0),wl([nt("dataTypeService")],e.prototype,"dataTypeService",void 0),wl([nt("quickFilterService")],e.prototype,"quickFilterService",void 0),wl([ot("advancedFilterService")],e.prototype,"advancedFilterService",void 0),wl([J],e.prototype,"init",null),e=wl([et("filterManager")],e)}(Ut),_l=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Sl=function(t){function e(e,n){var o=t.call(this,e)||this;return o.ctrl=n,o}return _l(e,t),e.prototype.getCtrl=function(){return this.ctrl},e}(Sr),El=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ol=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},xl=function(t){function e(n){return t.call(this,e.TEMPLATE,n)||this}return El(e,t),e.prototype.postConstruct=function(){var t=this,e=this.getGui(),n={addOrRemoveCssClass:function(e,n){return t.addOrRemoveCssClass(e,n)},addOrRemoveBodyCssClass:function(e,n){return t.eFloatingFilterBody.classList.toggle(e,n)},setButtonWrapperDisplayed:function(e){return oo(t.eButtonWrapper,e)},setCompDetails:function(e){return t.setCompDetails(e)},getFloatingFilterComp:function(){return t.compPromise},setWidth:function(t){return e.style.width=t},setMenuIcon:function(e){return t.eButtonShowMainFilter.appendChild(e)}};this.ctrl.setComp(n,e,this.eButtonShowMainFilter,this.eFloatingFilterBody)},e.prototype.setCompDetails=function(t){var e=this;if(!t)return this.destroyFloatingFilterComp(),void(this.compPromise=null);this.compPromise=t.newAgStackInstance(),this.compPromise.then((function(t){return e.afterCompCreated(t)}))},e.prototype.destroyFloatingFilterComp=function(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))},e.prototype.afterCompCreated=function(t){t&&(this.isAlive()?(this.destroyFloatingFilterComp(),this.floatingFilterComp=t,this.eFloatingFilterBody.appendChild(t.getGui()),t.afterGuiAttached&&t.afterGuiAttached()):this.destroyBean(t))},e.TEMPLATE='<div class="ag-header-cell ag-floating-filter" role="gridcell" tabindex="-1">\n            <div ref="eFloatingFilterBody" role="presentation"></div>\n            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">\n                <button type="button" class="ag-button ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>\n            </div>\n        </div>',Ol([Or("eFloatingFilterBody")],e.prototype,"eFloatingFilterBody",void 0),Ol([Or("eButtonWrapper")],e.prototype,"eButtonWrapper",void 0),Ol([Or("eButtonShowMainFilter")],e.prototype,"eButtonShowMainFilter",void 0),Ol([J],e.prototype,"postConstruct",null),Ol([tt],e.prototype,"destroyFloatingFilterComp",null),e}(Sl),Tl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Rl=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t.AUTO_HEIGHT="ag-layout-auto-height",t.NORMAL="ag-layout-normal",t.PRINT="ag-layout-print"}(hl||(hl={}));var Dl,Pl,Ll=function(t){function e(e){var n=t.call(this)||this;return n.view=e,n}return Tl(e,t),e.prototype.postConstruct=function(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()},e.prototype.updateLayoutClasses=function(){var t=this.getDomLayout(),e={autoHeight:"autoHeight"===t,normal:"normal"===t,print:"print"===t},n=e.autoHeight?hl.AUTO_HEIGHT:e.print?hl.PRINT:hl.NORMAL;this.view.updateLayoutClasses(n,e)},e.prototype.getDomLayout=function(){var t,e=null!==(t=this.gridOptionsService.get("domLayout"))&&void 0!==t?t:"normal";return-1===["normal","print","autoHeight"].indexOf(e)?(L("".concat(e," is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.")),"normal"):e},Rl([J],e.prototype,"postConstruct",null),e}(Ut),Ml=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Al=function(){return Al=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},Al.apply(this,arguments)},kl=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t[t.Vertical=0]="Vertical",t[t.Horizontal=1]="Horizontal"}(Dl||(Dl={})),function(t){t[t.Container=0]="Container",t[t.FakeContainer=1]="FakeContainer"}(Pl||(Pl={}));var Nl,Fl=function(t){function e(e){var n=t.call(this)||this;return n.lastScrollSource=[null,null],n.scrollLeft=-1,n.nextScrollTop=-1,n.scrollTop=-1,n.eBodyViewport=e,n.resetLastHScrollDebounced=V((function(){return n.lastScrollSource[Dl.Horizontal]=null}),500),n.resetLastVScrollDebounced=V((function(){return n.lastScrollSource[Dl.Vertical]=null}),500),n}return Ml(e,t),e.prototype.postConstruct=function(){var t=this;this.enableRtl=this.gridOptionsService.get("enableRtl"),this.addManagedListener(this.eventService,$t.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady((function(e){t.centerRowContainerCtrl=e.centerRowContainerCtrl,t.onDisplayedColumnsWidthChanged(),t.addScrollListener()}))},e.prototype.addScrollListener=function(){var t=this.ctrlsService.getFakeHScrollComp(),e=this.ctrlsService.getFakeVScrollComp();this.addManagedListener(this.centerRowContainerCtrl.getViewportElement(),"scroll",this.onHScroll.bind(this)),t.onScrollCallback(this.onFakeHScroll.bind(this));var n=this.gridOptionsService.get("debounceVerticalScrollbar"),o=n?V(this.onVScroll.bind(this),100):this.onVScroll.bind(this),r=n?V(this.onFakeVScroll.bind(this),100):this.onFakeVScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",o),e.onScrollCallback(r)},e.prototype.onDisplayedColumnsWidthChanged=function(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()},e.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(t){if(!(null==this.centerRowContainerCtrl)){void 0===t&&(t=this.centerRowContainerCtrl.getCenterViewportScrollLeft());var e=this.enableRtl?t:-t,n=this.ctrlsService.getTopCenterRowContainerCtrl(),o=this.ctrlsService.getStickyTopCenterRowContainerCtrl(),r=this.ctrlsService.getBottomCenterRowContainerCtrl(),i=this.ctrlsService.getFakeHScrollComp();this.ctrlsService.getHeaderRowContainerCtrl().setHorizontalScroll(-e),r.setContainerTranslateX(e),n.setContainerTranslateX(e),o.setContainerTranslateX(e);var s=this.centerRowContainerCtrl.getViewportElement(),a=this.lastScrollSource[Dl.Horizontal]===Pl.Container;t=Math.abs(t),a?i.setScrollPosition(t):vo(s,t,this.enableRtl)}},e.prototype.isControllingScroll=function(t,e){return null==this.lastScrollSource[e]?(this.lastScrollSource[e]=t,!0):this.lastScrollSource[e]===t},e.prototype.onFakeHScroll=function(){this.isControllingScroll(Pl.FakeContainer,Dl.Horizontal)&&this.onHScrollCommon(Pl.FakeContainer)},e.prototype.onHScroll=function(){this.isControllingScroll(Pl.Container,Dl.Horizontal)&&this.onHScrollCommon(Pl.Container)},e.prototype.onHScrollCommon=function(t){var e,n=this.centerRowContainerCtrl.getViewportElement(),o=n.scrollLeft;this.shouldBlockScrollUpdate(Dl.Horizontal,o,!0)||(e=t===Pl.Container?go(n,this.enableRtl):this.ctrlsService.getFakeHScrollComp().getScrollPosition(),this.doHorizontalScroll(Math.round(e)),this.resetLastHScrollDebounced())},e.prototype.onFakeVScroll=function(){this.isControllingScroll(Pl.FakeContainer,Dl.Vertical)&&this.onVScrollCommon(Pl.FakeContainer)},e.prototype.onVScroll=function(){this.isControllingScroll(Pl.Container,Dl.Vertical)&&this.onVScrollCommon(Pl.Container)},e.prototype.onVScrollCommon=function(t){var e;e=t===Pl.Container?this.eBodyViewport.scrollTop:this.ctrlsService.getFakeVScrollComp().getScrollPosition(),this.shouldBlockScrollUpdate(Dl.Vertical,e,!0)||(this.animationFrameService.setScrollTop(e),this.nextScrollTop=e,t===Pl.Container?this.ctrlsService.getFakeVScrollComp().setScrollPosition(e):this.eBodyViewport.scrollTop=e,this.gridOptionsService.get("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())},e.prototype.doHorizontalScroll=function(t){var e=this.ctrlsService.getFakeHScrollComp().getScrollPosition();this.scrollLeft===t&&t===e||(this.scrollLeft=t,this.fireScrollEvent(Dl.Horizontal),this.horizontallyScrollHeaderCenterAndFloatingCenter(t),this.centerRowContainerCtrl.onHorizontalViewportChanged(!0))},e.prototype.fireScrollEvent=function(t){var e=this,n={type:$t.EVENT_BODY_SCROLL,direction:t===Dl.Horizontal?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(n),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout((function(){var t=Al(Al({},n),{type:$t.EVENT_BODY_SCROLL_END});e.eventService.dispatchEvent(t)}),100)},e.prototype.shouldBlockScrollUpdate=function(t,e,n){return void 0===n&&(n=!1),!(n&&!Pn())&&(t===Dl.Vertical?this.shouldBlockVerticalScroll(e):this.shouldBlockHorizontalScroll(e))},e.prototype.shouldBlockVerticalScroll=function(t){var e=lo(this.eBodyViewport),n=this.eBodyViewport.scrollHeight;return t<0||t+e>n},e.prototype.shouldBlockHorizontalScroll=function(t){var e=this.centerRowContainerCtrl.getCenterWidth(),n=this.centerRowContainerCtrl.getViewportElement().scrollWidth;if(this.enableRtl&&fo()){if(t>0)return!0}else if(t<0)return!0;return Math.abs(t)+e>n},e.prototype.redrawRowsAfterScroll=function(){this.fireScrollEvent(Dl.Vertical)},e.prototype.checkScrollLeft=function(){this.scrollLeft!==this.centerRowContainerCtrl.getCenterViewportScrollLeft()&&this.onHScrollCommon(Pl.Container)},e.prototype.scrollGridIfNeeded=function(){var t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),t},e.prototype.setHorizontalScrollPosition=function(t,e){void 0===e&&(e=!1);var n=this.centerRowContainerCtrl.getViewportElement().scrollWidth-this.centerRowContainerCtrl.getCenterWidth();!e&&this.shouldBlockScrollUpdate(Dl.Horizontal,t)&&(t=this.enableRtl&&fo()?t>0?0:n:Math.min(Math.max(t,0),n)),vo(this.centerRowContainerCtrl.getViewportElement(),Math.abs(t),this.enableRtl),this.doHorizontalScroll(t)},e.prototype.setVerticalScrollPosition=function(t){this.eBodyViewport.scrollTop=t},e.prototype.getVScrollPosition=function(){return{top:this.eBodyViewport.scrollTop,bottom:this.eBodyViewport.scrollTop+this.eBodyViewport.offsetHeight}},e.prototype.getHScrollPosition=function(){return this.centerRowContainerCtrl.getHScrollPosition()},e.prototype.isHorizontalScrollShowing=function(){return this.centerRowContainerCtrl.isHorizontalScrollShowing()},e.prototype.scrollHorizontally=function(t){var e=this.centerRowContainerCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(e+t),this.centerRowContainerCtrl.getViewportElement().scrollLeft-e},e.prototype.scrollToTop=function(){this.eBodyViewport.scrollTop=0},e.prototype.ensureNodeVisible=function(t,e){void 0===e&&(e=null);for(var n=this.rowModel.getRowCount(),o=-1,r=0;r<n;r++){var i=this.rowModel.getRow(r);if("function"===typeof t){if(i&&t(i)){o=r;break}}else if(t===i||t===i.data){o=r;break}}o>=0&&this.ensureIndexVisible(o,e)},e.prototype.ensureIndexVisible=function(t,e){if(!this.gridOptionsService.isDomLayout("print")){var n=this.paginationProxy.getRowCount();if("number"!==typeof t||t<0||t>=n)console.warn("AG Grid: Invalid row index for ensureIndexVisible: "+t);else{this.gridOptionsService.get("pagination")&&!this.gridOptionsService.get("suppressPaginationPanel")||this.paginationProxy.goToPageWithIndex(t);var o,r=this.ctrlsService.getGridBodyCtrl().getStickyTopHeight(),i=this.paginationProxy.getRow(t);do{var s=i.rowTop,a=i.rowHeight,l=this.paginationProxy.getPixelOffset(),u=i.rowTop-l,c=u+i.rowHeight,d=this.getVScrollPosition(),p=this.heightScaler.getDivStretchOffset(),h=d.top+p,f=d.bottom+p,g=f-h,v=this.heightScaler.getScrollPositionForPixel(u),m=this.heightScaler.getScrollPositionForPixel(c-g),y=Math.min((v+m)/2,u),C=null;"top"===e?C=v:"bottom"===e?C=m:"middle"===e?C=y:h+r>u?C=v-r:f<c&&(C=m),null!==C&&(this.setVerticalScrollPosition(C),this.rowRenderer.redraw({afterScroll:!0})),o=s!==i.rowTop||a!==i.rowHeight}while(o);this.animationFrameService.flushAllFrames()}}},e.prototype.ensureColumnVisible=function(t,e){void 0===e&&(e="auto");var n=this.columnModel.getGridColumn(t);if(n&&!n.isPinned()&&this.columnModel.isColumnDisplayed(n)){var o=this.getPositionedHorizontalScroll(n,e);null!==o&&this.centerRowContainerCtrl.setCenterViewportScrollLeft(o),this.centerRowContainerCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}},e.prototype.setScrollPosition=function(t,e){this.centerRowContainerCtrl.setCenterViewportScrollLeft(e),this.setVerticalScrollPosition(t),this.rowRenderer.redraw({afterScroll:!0}),this.animationFrameService.flushAllFrames()},e.prototype.getPositionedHorizontalScroll=function(t,e){var n=this.isColumnOutsideViewport(t),o=n.columnBeforeStart,r=n.columnAfterEnd,i=this.centerRowContainerCtrl.getCenterWidth()<t.getActualWidth(),s=this.centerRowContainerCtrl.getCenterWidth(),a=this.enableRtl,l=(a?o:r)||i,u=a?r:o;"auto"!==e&&(l="start"===e,u="end"===e);var c="middle"===e;if(l||u||c){var d=this.getColumnBounds(t),p=d.colLeft,h=d.colMiddle,f=d.colRight;return c?h-s/2:l?a?f:p:a?p-s:f-s}return null},e.prototype.isColumnOutsideViewport=function(t){var e=this.getViewportBounds(),n=e.start,o=e.end,r=this.getColumnBounds(t),i=r.colLeft,s=r.colRight,a=this.enableRtl;return{columnBeforeStart:a?n>s:o<s,columnAfterEnd:a?o<i:n>i}},e.prototype.getColumnBounds=function(t){var e=this.enableRtl,n=this.columnModel.getBodyContainerWidth(),o=t.getActualWidth(),r=t.getLeft(),i=e?-1:1,s=e?n-r:r;return{colLeft:s,colMiddle:s+o/2*i,colRight:s+o*i}},e.prototype.getViewportBounds=function(){var t=this.centerRowContainerCtrl.getCenterWidth(),e=this.centerRowContainerCtrl.getCenterViewportScrollLeft();return{start:e,end:t+e,width:t}},kl([nt("ctrlsService")],e.prototype,"ctrlsService",void 0),kl([nt("animationFrameService")],e.prototype,"animationFrameService",void 0),kl([nt("paginationProxy")],e.prototype,"paginationProxy",void 0),kl([nt("rowModel")],e.prototype,"rowModel",void 0),kl([nt("rowContainerHeightService")],e.prototype,"heightScaler",void 0),kl([nt("rowRenderer")],e.prototype,"rowRenderer",void 0),kl([nt("columnModel")],e.prototype,"columnModel",void 0),kl([J],e.prototype,"postConstruct",null),e}(Ut),Il=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Gl=function(){return Gl=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},Gl.apply(this,arguments)},Hl=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Vl=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},jl=function(t,e,n){if(n||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},Bl=function(t){function e(e){var n=t.call(this)||this;return n.isMultiRowDrag=!1,n.isGridSorted=!1,n.isGridFiltered=!1,n.isRowGroupActive=!1,n.eContainer=e,n}return Il(e,t),e.prototype.postConstruct=function(){var t=this;this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel);var e=function(){t.onSortChanged(),t.onFilterChanged(),t.onRowGroupChanged()};this.addManagedListener(this.eventService,$t.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,$t.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,$t.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,$t.EVENT_MODEL_UPDATED,(function(){e()})),e(),this.ctrlsService.whenReady((function(){var e=t.ctrlsService.getGridBodyCtrl();t.autoScrollService=new sl({scrollContainer:e.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:function(){return e.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(t){return e.getScrollFeature().setVerticalScrollPosition(t)},onScrollCallback:function(){t.onDragging(t.lastDraggingEvent)}})}))},e.prototype.onSortChanged=function(){this.isGridSorted=this.sortController.isSortActive()},e.prototype.onFilterChanged=function(){this.isGridFiltered=this.filterManager.isAnyFilterPresent()},e.prototype.onRowGroupChanged=function(){var t=this.columnModel.getRowGroupColumns();this.isRowGroupActive=!s(t)},e.prototype.getContainer=function(){return this.eContainer},e.prototype.isInterestedIn=function(t){return t===Hs.RowDrag},e.prototype.getIconName=function(){return this.gridOptionsService.get("rowDragManaged")&&this.shouldPreventRowMove()?zs.ICON_NOT_ALLOWED:zs.ICON_MOVE},e.prototype.shouldPreventRowMove=function(){return this.isGridSorted||this.isGridFiltered||this.isRowGroupActive},e.prototype.getRowNodes=function(t){var e=this;if(!this.isFromThisGrid(t))return t.dragItem.rowNodes||[];var n=this.gridOptionsService.get("rowDragMultiRow"),o=jl([],Vl(this.selectionService.getSelectedNodes()),!1).sort((function(t,n){return null==t.rowIndex||null==n.rowIndex?0:e.getRowIndexNumber(t)-e.getRowIndexNumber(n)})),r=t.dragItem.rowNode;return n&&-1!==o.indexOf(r)?(this.isMultiRowDrag=!0,o):(this.isMultiRowDrag=!1,[r])},e.prototype.onDragEnter=function(t){t.dragItem.rowNodes=this.getRowNodes(t),this.dispatchGridEvent($t.EVENT_ROW_DRAG_ENTER,t),this.getRowNodes(t).forEach((function(t){t.setDragging(!0)})),this.onEnterOrDragging(t)},e.prototype.onDragging=function(t){this.onEnterOrDragging(t)},e.prototype.isFromThisGrid=function(t){return t.dragSource.dragSourceDomDataKey===this.gridOptionsService.getDomDataKey()},e.prototype.isDropZoneWithinThisGrid=function(t){var e=this.ctrlsService.getGridBodyCtrl().getGui(),n=t.dropZoneTarget;return!e.contains(n)},e.prototype.onEnterOrDragging=function(t){this.dispatchGridEvent($t.EVENT_ROW_DRAG_MOVE,t),this.lastDraggingEvent=t;var e=this.mouseEventService.getNormalisedPosition(t).y;this.gridOptionsService.get("rowDragManaged")&&this.doManagedDrag(t,e),this.autoScrollService.check(t.event)},e.prototype.doManagedDrag=function(t,e){var n=this.isFromThisGrid(t),o=this.gridOptionsService.get("rowDragManaged"),r=t.dragItem.rowNodes;o&&this.shouldPreventRowMove()||(this.gridOptionsService.get("suppressMoveWhenRowDragging")||!n?this.isDropZoneWithinThisGrid(t)||this.clientSideRowModel.highlightRowAtPixel(r[0],e):this.moveRows(r,e))},e.prototype.getRowIndexNumber=function(t){return parseInt(Ct(t.getRowIndexString().split("-")),10)},e.prototype.moveRowAndClearHighlight=function(t){var e=this,n=this.clientSideRowModel.getLastHighlightedRowNode(),o=n&&n.highlighted===nl.Below,r=this.mouseEventService.getNormalisedPosition(t).y,i=t.dragItem.rowNodes,s=o?1:0;if(this.isFromThisGrid(t))i.forEach((function(t){t.rowTop<r&&(s-=1)})),this.moveRows(i,r,s);else{var a=this.gridOptionsService.getCallback("getRowId"),l=this.clientSideRowModel.getRowIndexAtPixel(r)+1;this.clientSideRowModel.getHighlightPosition(r)===nl.Above&&l--,this.clientSideRowModel.updateRowData({add:i.map((function(t){return t.data})).filter((function(t){return!e.clientSideRowModel.getRowNode(a?a({data:t,level:0}):t.id)})),addIndex:l})}this.clearRowHighlight()},e.prototype.clearRowHighlight=function(){this.clientSideRowModel.highlightRowAtPixel(null)},e.prototype.moveRows=function(t,e,n){void 0===n&&(n=0),this.clientSideRowModel.ensureRowsAtPixel(t,e,n)&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())},e.prototype.addRowDropZone=function(t){var e=this;if(t.getContainer())if(this.dragAndDropService.findExternalZone(t))console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");else{var n={getContainer:t.getContainer};t.fromGrid?(t.fromGrid=void 0,n=t):(t.onDragEnter&&(n.onDragEnter=function(n){t.onDragEnter(e.draggingToRowDragEvent($t.EVENT_ROW_DRAG_ENTER,n))}),t.onDragLeave&&(n.onDragLeave=function(n){t.onDragLeave(e.draggingToRowDragEvent($t.EVENT_ROW_DRAG_LEAVE,n))}),t.onDragging&&(n.onDragging=function(n){t.onDragging(e.draggingToRowDragEvent($t.EVENT_ROW_DRAG_MOVE,n))}),t.onDragStop&&(n.onDragStop=function(n){t.onDragStop(e.draggingToRowDragEvent($t.EVENT_ROW_DRAG_END,n))})),this.dragAndDropService.addDropTarget(Gl({isInterestedIn:function(t){return t===Hs.RowDrag},getIconName:function(){return zs.ICON_MOVE},external:!0},n))}else L("addRowDropZone - A container target needs to be provided")},e.prototype.getRowDropZone=function(t){var e=this,n=this.getContainer.bind(this),o=this.onDragEnter.bind(this),r=this.onDragLeave.bind(this),i=this.onDragging.bind(this),s=this.onDragStop.bind(this);return t?{getContainer:n,onDragEnter:t.onDragEnter?function(n){o(n),t.onDragEnter(e.draggingToRowDragEvent($t.EVENT_ROW_DRAG_ENTER,n))}:o,onDragLeave:t.onDragLeave?function(n){r(n),t.onDragLeave(e.draggingToRowDragEvent($t.EVENT_ROW_DRAG_LEAVE,n))}:r,onDragging:t.onDragging?function(n){i(n),t.onDragging(e.draggingToRowDragEvent($t.EVENT_ROW_DRAG_MOVE,n))}:i,onDragStop:t.onDragStop?function(n){s(n),t.onDragStop(e.draggingToRowDragEvent($t.EVENT_ROW_DRAG_END,n))}:s,fromGrid:!0}:{getContainer:n,onDragEnter:o,onDragLeave:r,onDragging:i,onDragStop:s,fromGrid:!0}},e.prototype.draggingToRowDragEvent=function(t,e){var n,o,r=this.mouseEventService.getNormalisedPosition(e).y,i=-1;switch(r>this.paginationProxy.getCurrentPageHeight()||(i=this.rowModel.getRowIndexAtPixel(r),n=this.rowModel.getRow(i)),e.vDirection){case ji.Down:o="down";break;case ji.Up:o="up";break;default:o=null}return{type:t,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,event:e.event,node:e.dragItem.rowNode,nodes:e.dragItem.rowNodes,overIndex:i,overNode:n,y:r,vDirection:o}},e.prototype.dispatchGridEvent=function(t,e){var n=this.draggingToRowDragEvent(t,e);this.eventService.dispatchEvent(n)},e.prototype.onDragLeave=function(t){this.dispatchGridEvent($t.EVENT_ROW_DRAG_LEAVE,t),this.stopDragging(t),this.gridOptionsService.get("rowDragManaged")&&this.clearRowHighlight(),this.isFromThisGrid(t)&&(this.isMultiRowDrag=!1)},e.prototype.onDragStop=function(t){this.dispatchGridEvent($t.EVENT_ROW_DRAG_END,t),this.stopDragging(t),!this.gridOptionsService.get("rowDragManaged")||!this.gridOptionsService.get("suppressMoveWhenRowDragging")&&this.isFromThisGrid(t)||this.isDropZoneWithinThisGrid(t)||this.moveRowAndClearHighlight(t)},e.prototype.stopDragging=function(t){this.autoScrollService.ensureCleared(),this.getRowNodes(t).forEach((function(t){t.setDragging(!1)}))},Hl([nt("dragAndDropService")],e.prototype,"dragAndDropService",void 0),Hl([nt("rowModel")],e.prototype,"rowModel",void 0),Hl([nt("paginationProxy")],e.prototype,"paginationProxy",void 0),Hl([nt("columnModel")],e.prototype,"columnModel",void 0),Hl([nt("focusService")],e.prototype,"focusService",void 0),Hl([nt("sortController")],e.prototype,"sortController",void 0),Hl([nt("filterManager")],e.prototype,"filterManager",void 0),Hl([nt("selectionService")],e.prototype,"selectionService",void 0),Hl([nt("mouseEventService")],e.prototype,"mouseEventService",void 0),Hl([nt("ctrlsService")],e.prototype,"ctrlsService",void 0),Hl([ot("rangeService")],e.prototype,"rangeService",void 0),Hl([J],e.prototype,"postConstruct",null),e}(Ut),Wl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),zl=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t.ANIMATION_ON="ag-row-animation",t.ANIMATION_OFF="ag-row-no-animation"}(Nl||(Nl={}));var Ul,Yl,Kl="ag-force-vertical-scroll",Zl=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stickyTopHeight=0,e}return Wl(e,t),e.prototype.getScrollFeature=function(){return this.bodyScrollFeature},e.prototype.getBodyViewportElement=function(){return this.eBodyViewport},e.prototype.setComp=function(t,e,n,o,r,i){var s=this;this.comp=t,this.eGridBody=e,this.eBodyViewport=n,this.eTop=o,this.eBottom=r,this.eStickyTop=i,this.setCellTextSelection(this.gridOptionsService.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",(function(t){return s.setCellTextSelection(t.currentValue)})),this.createManagedBean(new Ll(this.comp)),this.bodyScrollFeature=this.createManagedBean(new Fl(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([o,n,r,i]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.filterManager.setupAdvancedFilterHeaderComp(o),this.ctrlsService.registerGridBodyCtrl(this)},e.prototype.getComp=function(){return this.comp},e.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,$t.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,$t.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,$t.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,$t.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))},e.prototype.addFocusListeners=function(t){var e=this;t.forEach((function(t){e.addManagedListener(t,"focusin",(function(e){var n=so(e.target,"ag-root",t);t.classList.toggle("ag-has-focus",!n)})),e.addManagedListener(t,"focusout",(function(e){var n=e.target,o=e.relatedTarget,r=t.contains(o),i=so(o,"ag-root",t);so(n,"ag-root",t)||r&&!i||t.classList.remove("ag-has-focus")}))}))},e.prototype.setColumnMovingCss=function(t){this.comp.setColumnMovingCss("ag-column-moving",t)},e.prototype.setCellTextSelection=function(t){void 0===t&&(t=!1),this.comp.setCellSelectableCss("ag-selectable",t)},e.prototype.onScrollVisibilityChanged=function(){var t=this,e=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(e),this.setStickyTopWidth(e);var n=e&&this.gridOptionsService.getScrollbarWidth()||0,o=Gn()?16:0,r="calc(100% + ".concat(n+o,"px)");this.animationFrameService.requestAnimationFrame((function(){return t.comp.setBodyViewportWidth(r)}))},e.prototype.onGridColumnsChanged=function(){var t=this.columnModel.getAllGridColumns();this.comp.setColumnCount(t.length)},e.prototype.disableBrowserDragging=function(){this.addManagedListener(this.eGridBody,"dragstart",(function(t){if(t.target instanceof HTMLImageElement)return t.preventDefault(),!1}))},e.prototype.addStopEditingWhenGridLosesFocus=function(){var t=this;if(this.gridOptionsService.get("stopEditingWhenCellsLoseFocus")){var e=function(e){var o=e.relatedTarget;if(null!==Mn(o)){var r=n.some((function(t){return t.contains(o)}))&&t.mouseEventService.isElementInThisGrid(o);if(!r){var i=t.popupService;r=i.getActivePopups().some((function(t){return t.contains(o)}))||i.isElementWithinCustomPopup(o)}r||t.rowRenderer.stopEditing()}else t.rowRenderer.stopEditing()},n=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop];n.forEach((function(n){return t.addManagedListener(n,"focusout",e)}))}},e.prototype.updateRowCount=function(){var t=this.headerNavigationService.getHeaderRowCount()+this.filterManager.getHeaderRowCount(),e=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1,n=-1===e?-1:t+e;this.comp.setRowCount(n)},e.prototype.registerBodyViewportResizeListener=function(t){this.comp.registerBodyViewportResizeListener(t)},e.prototype.setVerticalScrollPaddingVisible=function(t){var e=t?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(e)},e.prototype.isVerticalScrollShowing=function(){var t=this.gridOptionsService.get("alwaysShowVerticalScroll"),e=t?Kl:null,n=this.gridOptionsService.isDomLayout("normal");return this.comp.setAlwaysVerticalScrollClass(e,t),t||n&&Ro(this.eBodyViewport)},e.prototype.setupRowAnimationCssClass=function(){var t=this,e=function(){var e=t.gridOptionsService.isAnimateRows()&&!t.rowContainerHeightService.isStretching(),n=e?Nl.ANIMATION_ON:Nl.ANIMATION_OFF;t.comp.setRowAnimationCssOnBodyViewport(n,e)};e(),this.addManagedListener(this.eventService,$t.EVENT_HEIGHT_SCALE_CHANGED,e),this.addManagedPropertyListener("animateRows",e)},e.prototype.getGridBodyElement=function(){return this.eGridBody},e.prototype.addBodyViewportListener=function(){var t=this.onBodyViewportContextMenu.bind(this);this.addManagedListener(this.eBodyViewport,"contextmenu",t),this.mockContextMenuForIPad(t),this.addManagedListener(this.eBodyViewport,"wheel",this.onBodyViewportWheel.bind(this)),this.addManagedListener(this.eStickyTop,"wheel",this.onStickyTopWheel.bind(this)),this.addFullWidthContainerWheelListener()},e.prototype.addFullWidthContainerWheelListener=function(){var t=this,e=this.eBodyViewport.querySelector(".ag-full-width-container"),n=this.eBodyViewport.querySelector(".ag-center-cols-viewport");e&&n&&this.addManagedListener(e,"wheel",(function(e){return t.onFullWidthContainerWheel(e,n)}))},e.prototype.onFullWidthContainerWheel=function(t,e){!t.deltaX||Math.abs(t.deltaY)>Math.abs(t.deltaX)||!this.mouseEventService.isEventFromThisGrid(t)||(t.preventDefault(),e.scrollBy({left:t.deltaX}))},e.prototype.onBodyViewportContextMenu=function(t,e,n){if(t||n){if(this.gridOptionsService.get("preventDefaultOnContextMenu"))(t||n).preventDefault();var o=(t||e).target;if(o===this.eBodyViewport||o===this.ctrlsService.getCenterRowContainerCtrl().getViewportElement()){if(!this.contextMenuFactory)return;t?this.contextMenuFactory.onContextMenu(t,null,null,null,null,this.eGridBody):n&&this.contextMenuFactory.onContextMenu(null,n,null,null,null,this.eGridBody)}}},e.prototype.mockContextMenuForIPad=function(t){if(Pn()){var e=new os(this.eBodyViewport);this.addManagedListener(e,os.EVENT_LONG_TAP,(function(e){t(void 0,e.touchStart,e.touchEvent)})),this.addDestroyFunc((function(){return e.destroy()}))}},e.prototype.onBodyViewportWheel=function(t){this.gridOptionsService.get("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&t.preventDefault()},e.prototype.onStickyTopWheel=function(t){t.preventDefault(),t.offsetY&&this.scrollVertically(t.deltaY)},e.prototype.getGui=function(){return this.eGridBody},e.prototype.scrollVertically=function(t){var e=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(e+t),this.eBodyViewport.scrollTop-e},e.prototype.addRowDragListener=function(){this.rowDragFeature=this.createManagedBean(new Bl(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)},e.prototype.getRowDragFeature=function(){return this.rowDragFeature},e.prototype.onPinnedRowDataChanged=function(){this.setFloatingHeights()},e.prototype.setFloatingHeights=function(){var t=this.pinnedRowModel,e=t.getPinnedTopTotalHeight();e&&(e+=1);var n=t.getPinnedBottomTotalHeight();n&&(n+=1),this.comp.setTopHeight(e),this.comp.setBottomHeight(n),this.comp.setTopDisplay(e?"inherit":"none"),this.comp.setBottomDisplay(n?"inherit":"none"),this.setStickyTopOffsetTop()},e.prototype.setStickyTopHeight=function(t){void 0===t&&(t=0),this.comp.setStickyTopHeight("".concat(t,"px")),this.stickyTopHeight=t},e.prototype.getStickyTopHeight=function(){return this.stickyTopHeight},e.prototype.setStickyTopWidth=function(t){if(t){var e=this.gridOptionsService.getScrollbarWidth();this.comp.setStickyTopWidth("calc(100% - ".concat(e,"px)"))}else this.comp.setStickyTopWidth("100%")},e.prototype.onHeaderHeightChanged=function(){this.setStickyTopOffsetTop()},e.prototype.setStickyTopOffsetTop=function(){var t=this.ctrlsService.getGridHeaderCtrl().getHeaderHeight()+this.filterManager.getHeaderHeight(),e=this.pinnedRowModel.getPinnedTopTotalHeight(),n=0;t>0&&(n+=t+1),e>0&&(n+=e+1),this.comp.setStickyTopTop("".concat(n,"px"))},e.prototype.sizeColumnsToFit=function(t,e){var n=this,o=this.isVerticalScrollShowing()?this.gridOptionsService.getScrollbarWidth():0,r=uo(this.eGridBody)-o;r>0?this.columnModel.sizeColumnsToFit(r,"sizeColumnsToFit",!1,t):void 0===e?window.setTimeout((function(){n.sizeColumnsToFit(t,100)}),0):100===e?window.setTimeout((function(){n.sizeColumnsToFit(t,500)}),100):500===e?window.setTimeout((function(){n.sizeColumnsToFit(t,-1)}),500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},e.prototype.addScrollEventListener=function(t){this.eBodyViewport.addEventListener("scroll",t,{passive:!0})},e.prototype.removeScrollEventListener=function(t){this.eBodyViewport.removeEventListener("scroll",t)},zl([nt("animationFrameService")],e.prototype,"animationFrameService",void 0),zl([nt("rowContainerHeightService")],e.prototype,"rowContainerHeightService",void 0),zl([nt("ctrlsService")],e.prototype,"ctrlsService",void 0),zl([nt("columnModel")],e.prototype,"columnModel",void 0),zl([nt("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),zl([ot("contextMenuFactory")],e.prototype,"contextMenuFactory",void 0),zl([nt("headerNavigationService")],e.prototype,"headerNavigationService",void 0),zl([nt("dragAndDropService")],e.prototype,"dragAndDropService",void 0),zl([nt("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),zl([nt("rowRenderer")],e.prototype,"rowRenderer",void 0),zl([nt("popupService")],e.prototype,"popupService",void 0),zl([nt("mouseEventService")],e.prototype,"mouseEventService",void 0),zl([nt("rowModel")],e.prototype,"rowModel",void 0),zl([nt("filterManager")],e.prototype,"filterManager",void 0),e}(Ut);!function(t){t[t.FILL=0]="FILL",t[t.RANGE=1]="RANGE"}(Ul||(Ul={})),function(t){t[t.VALUE=0]="VALUE",t[t.DIMENSION=1]="DIMENSION"}(Yl||(Yl={}));var ql,Ql="ag-cell-range-selected",Xl=function(){function t(t,e){this.beans=t,this.cellCtrl=e}return t.prototype.setComp=function(t,e){this.cellComp=t,this.eGui=e,this.onRangeSelectionChanged()},t.prototype.onRangeSelectionChanged=function(){this.cellComp&&(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(Ql,0!==this.rangeCount),this.cellComp.addOrRemoveCssClass("".concat(Ql,"-1"),1===this.rangeCount),this.cellComp.addOrRemoveCssClass("".concat(Ql,"-2"),2===this.rangeCount),this.cellComp.addOrRemoveCssClass("".concat(Ql,"-3"),3===this.rangeCount),this.cellComp.addOrRemoveCssClass("".concat(Ql,"-4"),this.rangeCount>=4),this.cellComp.addOrRemoveCssClass("ag-cell-range-chart",this.hasChartRange),hn(this.eGui,this.rangeCount>0||void 0),this.cellComp.addOrRemoveCssClass("ag-cell-range-single-cell",this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())},t.prototype.updateRangeBorders=function(){var t=this.getRangeBorders(),e=this.isSingleCell(),n=!e&&t.top,o=!e&&t.right,r=!e&&t.bottom,i=!e&&t.left;this.cellComp.addOrRemoveCssClass("ag-cell-range-top",n),this.cellComp.addOrRemoveCssClass("ag-cell-range-right",o),this.cellComp.addOrRemoveCssClass("ag-cell-range-bottom",r),this.cellComp.addOrRemoveCssClass("ag-cell-range-left",i)},t.prototype.isSingleCell=function(){var t=this.beans.rangeService;return 1===this.rangeCount&&t&&!t.isMoreThanOneCell()},t.prototype.getHasChartRange=function(){var t=this.beans.rangeService;if(!this.rangeCount||!t)return!1;var e=t.getCellRanges();return e.length>0&&e.every((function(t){return Rt([Yl.DIMENSION,Yl.VALUE],t.type)}))},t.prototype.updateRangeBordersIfRangeCount=function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())},t.prototype.getRangeBorders=function(){var t,e,n=this,o=this.beans.gridOptionsService.get("enableRtl"),r=!1,i=!1,s=!1,a=!1,l=this.cellCtrl.getCellPosition().column,u=this.beans,c=u.rangeService,d=u.columnModel;o?(t=d.getDisplayedColAfter(l),e=d.getDisplayedColBefore(l)):(t=d.getDisplayedColBefore(l),e=d.getDisplayedColAfter(l));var p=c.getCellRanges().filter((function(t){return c.isCellInSpecificRange(n.cellCtrl.getCellPosition(),t)}));t||(a=!0),e||(i=!0);for(var h=0;h<p.length&&!(r&&i&&s&&a);h++){var f=p[h],g=c.getRangeStartRow(f),v=c.getRangeEndRow(f);!r&&this.beans.rowPositionUtils.sameRow(g,this.cellCtrl.getCellPosition())&&(r=!0),!s&&this.beans.rowPositionUtils.sameRow(v,this.cellCtrl.getCellPosition())&&(s=!0),!a&&t&&f.columns.indexOf(t)<0&&(a=!0),!i&&e&&f.columns.indexOf(e)<0&&(i=!0)}return{top:r,right:i,bottom:s,left:a}},t.prototype.refreshHandle=function(){if(this.beans.rangeService){var t=this.shouldHaveSelectionHandle();this.selectionHandle&&!t&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),t&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass("ag-cell-range-handle",!!this.selectionHandle)}},t.prototype.shouldHaveSelectionHandle=function(){var t=this.beans,e=t.gridOptionsService,n=t.rangeService,o=n.getCellRanges(),r=o.length;if(this.rangeCount<1||r<1)return!1;var i=Ct(o),s=this.cellCtrl.getCellPosition(),a=e.get("enableFillHandle")&&!this.cellCtrl.isSuppressFillHandle(),l=e.get("enableRangeHandle"),u=1===r&&!this.cellCtrl.isEditing()&&(a||l);if(this.hasChartRange){var c=o[0].type===Yl.DIMENSION&&n.isCellInSpecificRange(s,o[0]);this.cellComp.addOrRemoveCssClass("ag-cell-range-chart-category",c),u=i.type===Yl.VALUE}return u&&null!=i.endRow&&n.isContiguousRange(i)&&n.isBottomRightCell(i,s)},t.prototype.addSelectionHandle=function(){var t=this.beans,e=t.gridOptionsService,n=Ct(t.rangeService.getCellRanges()).type,o=e.get("enableFillHandle")&&i(n)?Ul.FILL:Ul.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==o&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(o)),this.selectionHandle.refresh(this.cellCtrl)},t.prototype.destroy=function(){this.beans.context.destroyBean(this.selectionHandle)},t}(),$l=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Jl=function(t){function e(e,n){var o=t.call(this)||this;return o.cellCtrl=e,o.beans=n,o.column=e.getColumn(),o.rowNode=e.getRowNode(),o.setupColSpan(),o.setupRowSpan(),o}return $l(e,t),e.prototype.setupRowSpan=function(){var t=this;this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListener(this.beans.eventService,$t.EVENT_NEW_COLUMNS_LOADED,(function(){return t.onNewColumnsLoaded()}))},e.prototype.setComp=function(t){this.eGui=t,this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()},e.prototype.onNewColumnsLoaded=function(){var t=this.column.getRowSpan(this.rowNode);this.rowSpan!==t&&(this.rowSpan=t,this.applyRowSpan(!0))},e.prototype.onDisplayColumnsChanged=function(){var t=this.getColSpanningList();wt(this.colsSpanning,t)||(this.colsSpanning=t,this.onWidthChanged(),this.onLeftChanged())},e.prototype.setupColSpan=function(){null!=this.column.getColDef().colSpan&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,$t.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,$t.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))},e.prototype.onWidthChanged=function(){if(this.eGui){var t=this.getCellWidth();this.eGui.style.width="".concat(t,"px")}},e.prototype.getCellWidth=function(){return this.colsSpanning?this.colsSpanning.reduce((function(t,e){return t+e.getActualWidth()}),0):this.column.getActualWidth()},e.prototype.getColSpanningList=function(){var t=this.column.getColSpan(this.rowNode),e=[];if(1===t)e.push(this.column);else for(var n=this.column,o=this.column.getPinned(),r=0;n&&r<t&&(e.push(n),(n=this.beans.columnModel.getDisplayedColAfter(n))&&!i(n))&&o===n.getPinned();r++);return e},e.prototype.onLeftChanged=function(){if(this.eGui){var t=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=t+"px"}},e.prototype.getCellLeft=function(){return(this.beans.gridOptionsService.get("enableRtl")&&this.colsSpanning?Ct(this.colsSpanning):this.column).getLeft()},e.prototype.modifyLeftForPrintLayout=function(t){if(!this.cellCtrl.isPrintLayout()||"left"===this.column.getPinned())return t;var e=this.beans.columnModel.getDisplayedColumnsLeftWidth();return"right"===this.column.getPinned()?e+this.beans.columnModel.getBodyContainerWidth()+(t||0):e+(t||0)},e.prototype.applyRowSpan=function(t){if(1!==this.rowSpan||t){var e=this.beans.gridOptionsService.getRowHeightAsNumber()*this.rowSpan;this.eGui.style.height="".concat(e,"px"),this.eGui.style.zIndex="1"}},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e}(Ut),tu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),eu=function(t){function e(e,n){var o=t.call(this)||this;return o.staticClasses=[],o.cellCtrl=e,o.beans=n,o.column=e.getColumn(),o.rowNode=e.getRowNode(),o}return tu(e,t),e.prototype.setComp=function(t){this.cellComp=t,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()},e.prototype.applyCellClassRules=function(){var t=this,e=this.column.getColDef(),n=e.cellClassRules,o={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:e,column:this.column,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};this.beans.stylingService.processClassRules(n===this.cellClassRules?void 0:this.cellClassRules,n,o,(function(e){return t.cellComp.addOrRemoveCssClass(e,!0)}),(function(e){return t.cellComp.addOrRemoveCssClass(e,!1)})),this.cellClassRules=n},e.prototype.applyUserStyles=function(){var t=this.column.getColDef();if(t.cellStyle){var e;if("function"===typeof t.cellStyle){var n={column:this.column,value:this.cellCtrl.getValue(),colDef:t,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};e=(0,t.cellStyle)(n)}else e=t.cellStyle;e&&this.cellComp.setUserStyles(e)}},e.prototype.applyClassesFromColDef=function(){var t=this,e=this.column.getColDef(),n={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:e,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};this.staticClasses.length&&this.staticClasses.forEach((function(e){return t.cellComp.addOrRemoveCssClass(e,!1)})),this.staticClasses=this.beans.stylingService.getStaticCellClasses(e,n),this.staticClasses.length&&this.staticClasses.forEach((function(e){return t.cellComp.addOrRemoveCssClass(e,!0)}))},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e}(Ut),nu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ou=function(t){function e(e,n){var o=t.call(this)||this;return o.ctrl=e,o.beans=n,o}return nu(e,t),e.prototype.setComp=function(t){this.eGui=t,this.setupTooltip()},e.prototype.setBrowserTooltip=function(t){var e="title";null!=t&&""!=t?this.eGui.setAttribute(e,t):this.eGui.removeAttribute(e)},e.prototype.setupTooltip=function(){this.browserTooltips=this.beans.gridOptionsService.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?this.setBrowserTooltip(this.tooltip):this.createTooltipFeatureIfNeeded()},e.prototype.updateTooltipText=function(){this.tooltip=this.ctrl.getTooltipValue()},e.prototype.createTooltipFeatureIfNeeded=function(){var t,e,n,o,r=this;if(null==this.genericTooltipFeature){var i={getTooltipParams:function(){return r.getTooltipParams()},getGui:function(){return r.ctrl.getGui()}};this.genericTooltipFeature=this.createManagedBean(new yr(i,null===(e=(t=this.ctrl).getTooltipShowDelayOverride)||void 0===e?void 0:e.call(t),null===(o=(n=this.ctrl).getTooltipHideDelayOverride)||void 0===o?void 0:o.call(n)),this.beans.context)}},e.prototype.refreshToolTip=function(){this.updateTooltipText(),this.browserTooltips&&this.setBrowserTooltip(this.tooltip)},e.prototype.getTooltipParams=function(){var t=this,e=this.ctrl,n=e.getColumn?e.getColumn():void 0,o=e.getColDef?e.getColDef():void 0,r=e.getRowNode?e.getRowNode():void 0;return{location:e.getLocation(),colDef:o,column:n,rowIndex:e.getRowIndex?e.getRowIndex():void 0,node:r,data:r?r.data:void 0,value:this.getTooltipText(),valueFormatted:e.getValueFormatted?e.getValueFormatted():void 0,hideTooltipCallback:function(){return t.genericTooltipFeature.hideTooltip(!0)}}},e.prototype.getTooltipText=function(){return this.tooltip},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e}(Ut),ru=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},iu=function(){function t(){}return t.prototype.postConstruct=function(){this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.gridOptionsService.isRowModelType("serverSide")&&(this.serverSideRowModel=this.rowModel)},ru([nt("resizeObserverService")],t.prototype,"resizeObserverService",void 0),ru([nt("paginationProxy")],t.prototype,"paginationProxy",void 0),ru([nt("context")],t.prototype,"context",void 0),ru([nt("columnApi")],t.prototype,"columnApi",void 0),ru([nt("gridApi")],t.prototype,"gridApi",void 0),ru([nt("gridOptionsService")],t.prototype,"gridOptionsService",void 0),ru([nt("expressionService")],t.prototype,"expressionService",void 0),ru([nt("environment")],t.prototype,"environment",void 0),ru([nt("rowRenderer")],t.prototype,"rowRenderer",void 0),ru([nt("templateService")],t.prototype,"templateService",void 0),ru([nt("valueService")],t.prototype,"valueService",void 0),ru([nt("eventService")],t.prototype,"eventService",void 0),ru([nt("columnModel")],t.prototype,"columnModel",void 0),ru([nt("headerNavigationService")],t.prototype,"headerNavigationService",void 0),ru([nt("navigationService")],t.prototype,"navigationService",void 0),ru([nt("columnAnimationService")],t.prototype,"columnAnimationService",void 0),ru([ot("rangeService")],t.prototype,"rangeService",void 0),ru([nt("focusService")],t.prototype,"focusService",void 0),ru([ot("contextMenuFactory")],t.prototype,"contextMenuFactory",void 0),ru([nt("popupService")],t.prototype,"popupService",void 0),ru([nt("valueFormatterService")],t.prototype,"valueFormatterService",void 0),ru([nt("stylingService")],t.prototype,"stylingService",void 0),ru([nt("columnHoverService")],t.prototype,"columnHoverService",void 0),ru([nt("userComponentFactory")],t.prototype,"userComponentFactory",void 0),ru([nt("userComponentRegistry")],t.prototype,"userComponentRegistry",void 0),ru([nt("animationFrameService")],t.prototype,"animationFrameService",void 0),ru([nt("dragService")],t.prototype,"dragService",void 0),ru([nt("dragAndDropService")],t.prototype,"dragAndDropService",void 0),ru([nt("sortController")],t.prototype,"sortController",void 0),ru([nt("filterManager")],t.prototype,"filterManager",void 0),ru([nt("rowContainerHeightService")],t.prototype,"rowContainerHeightService",void 0),ru([nt("frameworkOverrides")],t.prototype,"frameworkOverrides",void 0),ru([nt("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),ru([nt("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),ru([nt("selectionService")],t.prototype,"selectionService",void 0),ru([ot("selectionHandleFactory")],t.prototype,"selectionHandleFactory",void 0),ru([nt("rowCssClassCalculator")],t.prototype,"rowCssClassCalculator",void 0),ru([nt("rowModel")],t.prototype,"rowModel",void 0),ru([nt("ctrlsService")],t.prototype,"ctrlsService",void 0),ru([nt("ctrlsFactory")],t.prototype,"ctrlsFactory",void 0),ru([nt("agStackComponentsRegistry")],t.prototype,"agStackComponentsRegistry",void 0),ru([nt("valueCache")],t.prototype,"valueCache",void 0),ru([nt("rowNodeEventThrottle")],t.prototype,"rowNodeEventThrottle",void 0),ru([nt("localeService")],t.prototype,"localeService",void 0),ru([nt("valueParserService")],t.prototype,"valueParserService",void 0),ru([nt("syncService")],t.prototype,"syncService",void 0),ru([J],t.prototype,"postConstruct",null),t=ru([et("beans")],t)}(),su=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),au=function(t){function e(e,n,o){var r=t.call(this)||this;return r.cellCtrl=e,r.beans=n,r.column=o,r}return su(e,t),e.prototype.onMouseEvent=function(t,e){if(!Ft(e))switch(t){case"click":this.onCellClicked(e);break;case"mousedown":case"touchstart":this.onMouseDown(e);break;case"dblclick":this.onCellDoubleClicked(e);break;case"mouseout":this.onMouseOut(e);break;case"mouseover":this.onMouseOver(e)}},e.prototype.onCellClicked=function(t){if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(t),void t.preventDefault();var e=this.beans,n=e.eventService,o=e.rangeService,r=e.gridOptionsService,i=t.ctrlKey||t.metaKey;o&&i&&o.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&o.intersectLastRange(!0);var s=this.cellCtrl.createEvent(t,$t.EVENT_CELL_CLICKED);n.dispatchEvent(s);var a=this.column.getColDef();a.onCellClicked&&window.setTimeout((function(){return a.onCellClicked(s)}),0),!((r.get("singleClickEdit")||a.singleClickEdit)&&!r.get("suppressClickEdit"))||t.shiftKey&&0!=(null===o||void 0===o?void 0:o.getCellRanges().length)||this.cellCtrl.startRowOrCellEdit()},e.prototype.isDoubleClickOnIPad=function(){if(!Pn()||It("dblclick"))return!1;var t=(new Date).getTime(),e=t-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=t,e},e.prototype.onCellDoubleClicked=function(t){var e=this.column.getColDef(),n=this.cellCtrl.createEvent(t,$t.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(n),"function"===typeof e.onCellDoubleClicked&&window.setTimeout((function(){return e.onCellDoubleClicked(n)}),0),!this.beans.gridOptionsService.get("singleClickEdit")&&!this.beans.gridOptionsService.get("suppressClickEdit")&&this.cellCtrl.startRowOrCellEdit(null,t)},e.prototype.onMouseDown=function(t){var e=t.ctrlKey,n=t.metaKey,o=t.shiftKey,r=t.target,i=this.cellCtrl,s=this.beans,a=s.eventService,l=s.rangeService,u=s.focusService;if(!this.isRightClickInExistingRange(t)){var c=l&&0!=l.getCellRanges().length;if(!o||!c){var d=On()&&!i.isEditing()&&!no(r);i.focusCell(d)}if(o&&c&&!u.isCellFocused(i.getCellPosition())){t.preventDefault();var p=u.getFocusedCell();if(p){var h=p.column,f=p.rowIndex,g=p.rowPinned,v=s.rowRenderer.getRowByPosition({rowIndex:f,rowPinned:g}),m=null===v||void 0===v?void 0:v.getCellCtrl(h);(null===m||void 0===m?void 0:m.isEditing())&&m.stopEditing(),u.setFocusedCell({column:h,rowIndex:f,rowPinned:g,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(r)){if(l){var y=this.cellCtrl.getCellPosition();if(o)l.extendLatestRangeToCell(y);else{var C=e||n;l.setRangeToCell(y,C)}}a.dispatchEvent(this.cellCtrl.createEvent(t,$t.EVENT_CELL_MOUSE_DOWN))}}},e.prototype.isRightClickInExistingRange=function(t){var e=this.beans.rangeService;if(e){var n=e.isCellInAnyRange(this.cellCtrl.getCellPosition()),o=2===t.button||t.ctrlKey&&this.beans.gridOptionsService.get("allowContextMenuWithControlKey");if(n&&o)return!0}return!1},e.prototype.containsWidget=function(t){return so(t,"ag-selection-checkbox",3)},e.prototype.onMouseOut=function(t){if(!this.mouseStayingInsideCell(t)){var e=this.cellCtrl.createEvent(t,$t.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(e),this.beans.columnHoverService.clearMouseOver()}},e.prototype.onMouseOver=function(t){if(!this.mouseStayingInsideCell(t)){var e=this.cellCtrl.createEvent(t,$t.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(e),this.beans.columnHoverService.setMouseOver([this.column])}},e.prototype.mouseStayingInsideCell=function(t){if(!t.target||!t.relatedTarget)return!1;var e=this.cellCtrl.getGui(),n=e.contains(t.target),o=e.contains(t.relatedTarget);return n&&o},e.prototype.destroy=function(){},e}(iu),lu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),uu=function(t){function e(e,n,o,r,i){var s=t.call(this)||this;return s.cellCtrl=e,s.beans=n,s.rowNode=r,s.rowCtrl=i,s}return lu(e,t),e.prototype.setComp=function(t){this.eGui=t},e.prototype.onKeyDown=function(t){var e=t.key;switch(e){case qo.ENTER:this.onEnterKeyDown(t);break;case qo.F2:this.onF2KeyDown(t);break;case qo.ESCAPE:this.onEscapeKeyDown(t);break;case qo.TAB:this.onTabKeyDown(t);break;case qo.BACKSPACE:case qo.DELETE:this.onBackspaceOrDeleteKeyDown(e,t);break;case qo.DOWN:case qo.UP:case qo.RIGHT:case qo.LEFT:this.onNavigationKeyDown(t,e)}},e.prototype.onNavigationKeyDown=function(t,e){this.cellCtrl.isEditing()||(t.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(t):this.beans.navigationService.navigateToNextCell(t,e,this.cellCtrl.getCellPosition(),!0),t.preventDefault())},e.prototype.onShiftRangeSelect=function(t){if(this.beans.rangeService){var e=this.beans.rangeService.extendLatestRangeInDirection(t);e&&this.beans.navigationService.ensureCellVisible(e)}},e.prototype.onTabKeyDown=function(t){this.beans.navigationService.onTabKeyDown(this.cellCtrl,t)},e.prototype.onBackspaceOrDeleteKeyDown=function(t,e){var n=this,o=n.cellCtrl,r=n.beans,i=n.rowNode,s=r.gridOptionsService,a=r.rangeService,l=r.eventService;o.isEditing()||(l.dispatchEvent({type:$t.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),tr(t,s.get("enableCellEditingOnBackspace"))?a&&s.get("enableRangeSelection")?a.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"}):o.isCellEditable()&&i.setDataValue(o.getColumn(),null,"cellClear"):o.startRowOrCellEdit(t,e),l.dispatchEvent({type:$t.EVENT_KEY_SHORTCUT_CHANGED_CELL_END}))},e.prototype.onEnterKeyDown=function(t){if(this.cellCtrl.isEditing()||this.rowCtrl.isEditing())this.cellCtrl.stopEditingAndFocus(!1,t.shiftKey);else if(this.beans.gridOptionsService.get("enterNavigatesVertically")){var e=t.shiftKey?qo.UP:qo.DOWN;this.beans.navigationService.navigateToNextCell(null,e,this.cellCtrl.getCellPosition(),!1)}else this.cellCtrl.startRowOrCellEdit(qo.ENTER,t),this.cellCtrl.isEditing()&&t.preventDefault()},e.prototype.onF2KeyDown=function(t){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(qo.F2,t)},e.prototype.onEscapeKeyDown=function(t){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))},e.prototype.processCharacter=function(t){if(!(t.target!==this.eGui)&&!this.cellCtrl.isEditing()){var e=t.key;" "===e?this.onSpaceKeyDown(t):(this.cellCtrl.startRowOrCellEdit(e,t),t.preventDefault())}},e.prototype.onSpaceKeyDown=function(t){var e=this.beans.gridOptionsService;if(!this.cellCtrl.isEditing()&&e.isRowSelection()){var n=this.rowNode.isSelected(),o=!n;if(o||!e.get("suppressRowDeselection")){var r=this.beans.gridOptionsService.get("groupSelectsFiltered"),i=this.rowNode.setSelectedParams({newValue:o,rangeSelect:t.shiftKey,groupSelectsFiltered:r,event:t,source:"spaceKey"});void 0===n&&0===i&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:t.shiftKey,groupSelectsFiltered:r,event:t,source:"spaceKey"})}}t.preventDefault()},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e}(Ut),cu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),du=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},pu=function(t){function e(e,n,o){var r=t.call(this,'<div class="ag-drag-handle ag-row-drag" draggable="true"></div>')||this;return r.rowNode=e,r.column=n,r.eCell=o,r}return cu(e,t),e.prototype.postConstruct=function(){this.getGui().appendChild(Ko("rowDrag",this.gridOptionsService,null)),this.addGuiEventListener("mousedown",(function(t){t.stopPropagation()})),this.addDragSource(),this.checkVisibility()},e.prototype.addDragSource=function(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))},e.prototype.onDragStart=function(t){var e=this,n=this.column.getColDef().dndSourceOnRowDrag;t.dataTransfer.setDragImage(this.eCell,0,0);n?n({rowNode:this.rowNode,dragEvent:t,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}):function(){try{var n=JSON.stringify(e.rowNode.data);t.dataTransfer.setData("application/json",n),t.dataTransfer.setData("text/plain",n)}catch(o){}}()},e.prototype.checkVisibility=function(){var t=this.column.isDndSource(this.rowNode);this.setDisplayed(t)},du([J],e.prototype,"postConstruct",null),e}(Sr),hu=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},fu=function(t,e,n){if(n||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},gu=function(){function t(){}return t.getHeaderClassesFromColDef=function(t,e,n,o){return i(t)?[]:this.getColumnClassesFromCollDef(t.headerClass,t,e,n,o)},t.getToolPanelClassesFromColDef=function(t,e,n,o){return i(t)?[]:this.getColumnClassesFromCollDef(t.toolPanelClass,t,e,n,o)},t.refreshFirstAndLastStyles=function(t,e,n){t.addOrRemoveCssClass("ag-column-first",n.isColumnAtEdge(e,"first")),t.addOrRemoveCssClass("ag-column-last",n.isColumnAtEdge(e,"last"))},t.getClassParams=function(t,e,n,o){return{colDef:t,column:n,columnGroup:o,api:e.api,columnApi:e.columnApi,context:e.context}},t.getColumnClassesFromCollDef=function(t,e,n,o,r){if(i(t))return[];var s;"function"===typeof t?s=t(this.getClassParams(e,n,o,r)):s=t;return"string"===typeof s?[s]:Array.isArray(s)?fu([],hu(s),!1):[]},t}(),vu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),mu=function(){return mu=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},mu.apply(this,arguments)},yu=0,Cu=function(t){function e(e,n,o,r){var i=t.call(this)||this;i.cellRangeFeature=null,i.cellPositionFeature=null,i.cellCustomStyleFeature=null,i.tooltipFeature=null,i.cellMouseListenerFeature=null,i.cellKeyboardListenerFeature=null,i.suppressRefreshCell=!1,i.onCellCompAttachedFuncs=[],i.column=e,i.rowNode=n,i.beans=o,i.rowCtrl=r,i.instanceId=e.getId()+"-"+yu++;var s=i.column.getColDef();return i.colIdSanitised=se(i.column.getId()),i.beans.gridOptionsService.get("suppressCellFocus")||(i.tabIndex=-1),i.isCellRenderer=null!=s.cellRenderer||null!=s.cellRendererSelector,i.createCellPosition(),i.addFeatures(),i.updateAndFormatValue(!1),i}return vu(e,t),e.prototype.shouldRestoreFocus=function(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)},e.prototype.addFeatures=function(){var t=this;this.cellPositionFeature=new Jl(this,this.beans),this.addDestroyFunc((function(){var e;null===(e=t.cellPositionFeature)||void 0===e||e.destroy(),t.cellPositionFeature=null})),this.cellCustomStyleFeature=new eu(this,this.beans),this.addDestroyFunc((function(){var e;null===(e=t.cellCustomStyleFeature)||void 0===e||e.destroy(),t.cellCustomStyleFeature=null})),this.cellMouseListenerFeature=new au(this,this.beans,this.column),this.addDestroyFunc((function(){var e;null===(e=t.cellMouseListenerFeature)||void 0===e||e.destroy(),t.cellMouseListenerFeature=null})),this.cellKeyboardListenerFeature=new uu(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc((function(){var e;null===(e=t.cellKeyboardListenerFeature)||void 0===e||e.destroy(),t.cellKeyboardListenerFeature=null})),this.column.isTooltipEnabled()&&(this.enableTooltipFeature(),this.addDestroyFunc((function(){t.disableTooltipFeature()}))),this.beans.rangeService&&this.beans.gridOptionsService.get("enableRangeSelection")&&(this.cellRangeFeature=new Xl(this.beans,this),this.addDestroyFunc((function(){var e;null===(e=t.cellRangeFeature)||void 0===e||e.destroy(),t.cellRangeFeature=null})))},e.prototype.enableTooltipFeature=function(){var t=this,e={getColumn:function(){return t.column},getColDef:function(){return t.column.getColDef()},getRowIndex:function(){return t.cellPosition.rowIndex},getRowNode:function(){return t.rowNode},getGui:function(){return t.getGui()},getLocation:function(){return"cell"},getTooltipValue:function(){var e=t.column.getColDef(),n=t.rowNode.data;if(e.tooltipField&&r(n))return O(n,e.tooltipField,t.column.isTooltipFieldContainsDots());var o=e.tooltipValueGetter;return o?o({location:"cell",api:t.beans.gridOptionsService.api,columnApi:t.beans.gridOptionsService.columnApi,context:t.beans.gridOptionsService.context,colDef:t.column.getColDef(),column:t.column,rowIndex:t.cellPosition.rowIndex,node:t.rowNode,data:t.rowNode.data,value:t.value,valueFormatted:t.valueFormatted}):null},getValueFormatted:function(){return t.valueFormatted}};this.tooltipFeature=new ou(e,this.beans)},e.prototype.disableTooltipFeature=function(){this.tooltipFeature&&(this.tooltipFeature.destroy(),this.tooltipFeature=null)},e.prototype.setComp=function(t,e,n,o,r){var i,s,a,l;this.cellComp=t,this.eGui=e,this.printLayout=o,this.addDomData(),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(n),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),null===(i=this.cellPositionFeature)||void 0===i||i.setComp(e),null===(s=this.cellCustomStyleFeature)||void 0===s||s.setComp(t),null===(a=this.tooltipFeature)||void 0===a||a.setComp(e),null===(l=this.cellKeyboardListenerFeature)||void 0===l||l.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(t,e),r&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach((function(t){return t()})),this.onCellCompAttachedFuncs=[])},e.prototype.setupAutoHeight=function(t){var e=this;if(this.isAutoHeight=this.column.isAutoHeight(),this.isAutoHeight&&t){var n=t.parentElement,o=this.beans.gridOptionsService.getRowHeightForNode(this.rowNode).height,r=function(i){if(!e.editing&&e.isAlive()){var s=ao(n),a=s.paddingTop+s.paddingBottom+s.borderBottomWidth+s.borderTopWidth,l=t.offsetHeight+a;if(i<5){var u=e.beans.gridOptionsService.getDocument();if(!u||!u.contains(t)||0==l)return void e.beans.frameworkOverrides.setTimeout((function(){return r(i+1)}),0)}var c=Math.max(l,o);e.rowNode.setRowAutoHeight(c,e.column)}},i=function(){return r(0)};i();var s=this.beans.resizeObserverService.observeResize(t,i);this.addDestroyFunc((function(){s(),e.rowNode.setRowAutoHeight(void 0,e.column)}))}},e.prototype.getCellAriaRole=function(){var t;return null!==(t=this.column.getColDef().cellAriaRole)&&void 0!==t?t:"gridcell"},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.getIncludeSelection=function(){return this.includeSelection},e.prototype.getIncludeRowDrag=function(){return this.includeRowDrag},e.prototype.getIncludeDndSource=function(){return this.includeDndSource},e.prototype.getColumnIdSanitised=function(){return this.colIdSanitised},e.prototype.getTabIndex=function(){return this.tabIndex},e.prototype.getIsCellRenderer=function(){return this.isCellRenderer},e.prototype.getValueToDisplay=function(){return null!=this.valueFormatted?this.valueFormatted:this.value},e.prototype.showValue=function(t){void 0===t&&(t=!1);var e,n=this.getValueToDisplay();if(this.isCellRenderer){var o=this.createCellRendererParams();e=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),o)}this.cellComp.setRenderDetails(e,n,t),this.refreshHandle()},e.prototype.setupControlComps=function(){var t=this.column.getColDef();this.includeSelection=this.isIncludeControl(t.checkboxSelection),this.includeRowDrag=this.isIncludeControl(t.rowDrag),this.includeDndSource=this.isIncludeControl(t.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)},e.prototype.isForceWrapper=function(){return this.beans.gridOptionsService.get("enableCellTextSelection")||this.column.isAutoHeight()},e.prototype.isIncludeControl=function(t){return!(null!=this.rowNode.rowPinned)&&("function"===typeof t||!0===t)},e.prototype.refreshShouldDestroy=function(){var t=this.column.getColDef(),e=this.includeSelection!=this.isIncludeControl(t.checkboxSelection),n=this.includeRowDrag!=this.isIncludeControl(t.rowDrag),o=this.includeDndSource!=this.isIncludeControl(t.dndSource);return e||n||o},e.prototype.startEditing=function(t,e,n){var o=this;if(void 0===t&&(t=null),void 0===e&&(e=!1),void 0===n&&(n=null),this.isCellEditable()&&!this.editing)if(this.cellComp){var r=this.createCellEditorParams(t,e),i=this.column.getColDef(),s=this.beans.userComponentFactory.getCellEditorDetails(i,r),a=null!=(null===s||void 0===s?void 0:s.popupFromSelector)?s.popupFromSelector:!!i.cellEditorPopup,l=null!=(null===s||void 0===s?void 0:s.popupPositionFromSelector)?s.popupPositionFromSelector:i.cellEditorPopupPosition;this.setEditing(!0),this.cellComp.setEditDetails(s,a,l);var u=this.createEvent(n,$t.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(u)}else this.onCellCompAttachedFuncs.push((function(){o.startEditing(t,e,n)}))},e.prototype.setEditing=function(t){this.editing!==t&&(this.editing=t,this.refreshHandle())},e.prototype.stopRowOrCellEdit=function(t){void 0===t&&(t=!1),"fullRow"===this.beans.gridOptionsService.get("editType")?this.rowCtrl.stopRowEditing(t):this.stopEditing(t)},e.prototype.onPopupEditorClosed=function(){this.isEditing()&&this.stopEditingAndFocus()},e.prototype.takeValueFromCellEditor=function(t){var e={newValueExists:!1};if(t)return e;var n=this.cellComp.getCellEditor();return n?n.isCancelAfterEnd&&n.isCancelAfterEnd()?e:{newValue:n.getValue(),newValueExists:!0}:e},e.prototype.saveNewValue=function(t,e){if(e===t)return!1;this.suppressRefreshCell=!0;var n=this.rowNode.setDataValue(this.column,e,"edit");return this.suppressRefreshCell=!1,n},e.prototype.stopEditing=function(t){if(void 0===t&&(t=!1),!this.editing)return!1;var e=this.takeValueFromCellEditor(t),n=e.newValue,o=e.newValueExists,r=this.rowNode.getValueFromValueService(this.column),i=!1;return o&&(i=this.saveNewValue(r,n)),this.setEditing(!1),this.cellComp.setEditDetails(),this.updateAndFormatValue(!1),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(r,n,!t&&!!i),i},e.prototype.dispatchEditingStoppedEvent=function(t,e,n){var o=mu(mu({},this.createEvent(null,$t.EVENT_CELL_EDITING_STOPPED)),{oldValue:t,newValue:e,valueChanged:n});this.beans.eventService.dispatchEvent(o)},e.prototype.createCellEditorParams=function(t,e){return{value:this.rowNode.getValueFromValueService(this.column),eventKey:t,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,api:this.beans.gridOptionsService.api,cellStartedEdit:e,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)}},e.prototype.createCellRendererParams=function(){var t=this;return{value:this.value,valueFormatted:this.valueFormatted,getValue:function(){return t.rowNode.getValueFromValueService(t.column)},setValue:function(e){return t.beans.valueService.setValue(t.rowNode,t.column,e)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:function(e,n,o,r){return t.registerRowDragger(e,n,r)}}},e.prototype.parseValue=function(t){return this.beans.valueParserService.parseValue(this.column,this.rowNode,t,this.getValue())},e.prototype.setFocusOutOnEditor=function(){if(this.editing){var t=this.cellComp.getCellEditor();t&&t.focusOut&&t.focusOut()}},e.prototype.setFocusInOnEditor=function(){if(this.editing){var t=this.cellComp.getCellEditor();t&&t.focusIn?t.focusIn():this.focusCell(!0)}},e.prototype.onCellChanged=function(t){t.column===this.column&&this.refreshCell({})},e.prototype.refreshOrDestroyCell=function(t){var e;this.refreshShouldDestroy()?null===(e=this.rowCtrl)||void 0===e||e.refreshCell(this):this.refreshCell(t)},e.prototype.refreshCell=function(t){var e,n,o;if(!this.suppressRefreshCell&&!this.editing){var r=this.column.getColDef(),i=null!=t&&!!t.newData,s=null!=t&&!!t.suppressFlash||!!r.suppressCellFlash,a=null==r.field&&null==r.valueGetter&&null==r.showRowGroup,l=t&&t.forceRefresh||a||i,u=!!this.cellComp,c=this.updateAndFormatValue(u);if(u){if(l||c){this.showValue(i);var d=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!s&&!d&&(this.beans.gridOptionsService.get("enableCellChangeFlash")||r.enableCellChangeFlash)&&this.flashCell(),null===(e=this.cellCustomStyleFeature)||void 0===e||e.applyUserStyles(),null===(n=this.cellCustomStyleFeature)||void 0===n||n.applyClassesFromColDef()}this.refreshToolTip(),null===(o=this.cellCustomStyleFeature)||void 0===o||o.applyCellClassRules()}}},e.prototype.stopEditingAndFocus=function(t,e){void 0===t&&(t=!1),void 0===e&&(e=!1),this.stopRowOrCellEdit(),this.focusCell(!0),t||this.navigateAfterEdit(e)},e.prototype.navigateAfterEdit=function(t){if(this.beans.gridOptionsService.get("enterNavigatesVerticallyAfterEdit")){var e=t?qo.UP:qo.DOWN;this.beans.navigationService.navigateToNextCell(null,e,this.getCellPosition(),!1)}},e.prototype.flashCell=function(t){var e=t&&t.flashDelay,n=t&&t.fadeDelay;this.animateCell("data-changed",e,n)},e.prototype.animateCell=function(t,e,n){var o=this;if(this.cellComp){var i="ag-cell-".concat(t),s="ag-cell-".concat(t,"-animation"),a=this.beans.gridOptionsService;e||(e=a.get("cellFlashDelay")),r(n)||(n=a.get("cellFadeDelay")),this.cellComp.addOrRemoveCssClass(i,!0),this.cellComp.addOrRemoveCssClass(s,!1),window.setTimeout((function(){o.isAlive()&&(o.cellComp.addOrRemoveCssClass(i,!1),o.cellComp.addOrRemoveCssClass(s,!0),o.eGui.style.transition="background-color ".concat(n,"ms"),window.setTimeout((function(){o.isAlive()&&(o.cellComp.addOrRemoveCssClass(s,!1),o.eGui.style.transition="")}),n))}),e)}},e.prototype.onFlashCells=function(t){if(this.cellComp){var e=this.beans.cellPositionUtils.createId(this.getCellPosition());t.cells[e]&&this.animateCell("highlight")}},e.prototype.isCellEditable=function(){return this.column.isCellEditable(this.rowNode)},e.prototype.isSuppressFillHandle=function(){return this.column.isSuppressFillHandle()},e.prototype.formatValue=function(t){var e;return null!==(e=this.callValueFormatter(t))&&void 0!==e?e:t},e.prototype.callValueFormatter=function(t){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,t)},e.prototype.updateAndFormatValue=function(t){var e=this.value,n=this.valueFormatted;return this.value=this.rowNode.getValueFromValueService(this.column),this.valueFormatted=this.callValueFormatter(this.value),!t||(!this.valuesAreEqual(e,this.value)||this.valueFormatted!=n)},e.prototype.valuesAreEqual=function(t,e){var n=this.column.getColDef();return n.equals?n.equals(t,e):t===e},e.prototype.getComp=function(){return this.cellComp},e.prototype.getValue=function(){return this.value},e.prototype.getValueFormatted=function(){return this.valueFormatted},e.prototype.addDomData=function(){var t=this,n=this.getGui();this.beans.gridOptionsService.setDomData(n,e.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc((function(){return t.beans.gridOptionsService.setDomData(n,e.DOM_DATA_KEY_CELL_CTRL,null)}))},e.prototype.createEvent=function(t,e){return{type:e,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),context:this.beans.gridOptionsService.context,api:this.beans.gridApi,columnApi:this.beans.columnApi,rowPinned:this.rowNode.rowPinned,event:t,rowIndex:this.rowNode.rowIndex}},e.prototype.processCharacter=function(t){var e;null===(e=this.cellKeyboardListenerFeature)||void 0===e||e.processCharacter(t)},e.prototype.onKeyDown=function(t){var e;null===(e=this.cellKeyboardListenerFeature)||void 0===e||e.onKeyDown(t)},e.prototype.onMouseEvent=function(t,e){var n;null===(n=this.cellMouseListenerFeature)||void 0===n||n.onMouseEvent(t,e)},e.prototype.getGui=function(){return this.eGui},e.prototype.refreshToolTip=function(){var t;null===(t=this.tooltipFeature)||void 0===t||t.refreshToolTip()},e.prototype.getColSpanningList=function(){return this.cellPositionFeature.getColSpanningList()},e.prototype.onLeftChanged=function(){var t;this.cellComp&&(null===(t=this.cellPositionFeature)||void 0===t||t.onLeftChanged())},e.prototype.onDisplayedColumnsChanged=function(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())},e.prototype.refreshFirstAndLastStyles=function(){var t=this,e=t.cellComp,n=t.column,o=t.beans;gu.refreshFirstAndLastStyles(e,n,o.columnModel)},e.prototype.refreshAriaColIndex=function(){var t=this.beans.columnModel.getAriaColumnIndex(this.column);un(this.getGui(),t)},e.prototype.isSuppressNavigable=function(){return this.column.isSuppressNavigable(this.rowNode)},e.prototype.onWidthChanged=function(){var t;return null===(t=this.cellPositionFeature)||void 0===t?void 0:t.onWidthChanged()},e.prototype.getColumn=function(){return this.column},e.prototype.getRowNode=function(){return this.rowNode},e.prototype.getBeans=function(){return this.beans},e.prototype.isPrintLayout=function(){return this.printLayout},e.prototype.appendChild=function(t){this.eGui.appendChild(t)},e.prototype.refreshHandle=function(){this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()},e.prototype.getCellPosition=function(){return this.cellPosition},e.prototype.isEditing=function(){return this.editing},e.prototype.startRowOrCellEdit=function(t,e){void 0===e&&(e=null),this.cellComp&&("fullRow"===this.beans.gridOptionsService.get("editType")?this.rowCtrl.startRowEditing(t,this):this.startEditing(t,!0,e))},e.prototype.getRowCtrl=function(){return this.rowCtrl},e.prototype.getRowPosition=function(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}},e.prototype.updateRangeBordersIfRangeCount=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()},e.prototype.onRangeSelectionChanged=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},e.prototype.isRangeSelectionEnabled=function(){return null!=this.cellRangeFeature},e.prototype.focusCell=function(t){void 0===t&&(t=!1),this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:t})},e.prototype.onRowIndexChanged=function(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},e.prototype.onFirstRightPinnedChanged=function(){if(this.cellComp){var t=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass("ag-cell-first-right-pinned",t)}},e.prototype.onLastLeftPinnedChanged=function(){if(this.cellComp){var t=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass("ag-cell-last-left-pinned",t)}},e.prototype.onCellFocused=function(t){if(!this.beans.gridOptionsService.get("suppressCellFocus")){var e=this.beans.focusService.isCellFocused(this.cellPosition);if(this.cellComp){if(this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass("ag-cell-focus",e),e&&t&&t.forceBrowserFocus)this.cellComp.getFocusableElement().focus({preventScroll:!!t.preventScrollOnBrowserFocus});var n="fullRow"===this.beans.gridOptionsService.get("editType");e||n||!this.editing||this.stopRowOrCellEdit()}else e&&(null===t||void 0===t?void 0:t.forceBrowserFocus)&&(this.focusEventToRestore=t)}},e.prototype.createCellPosition=function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:o(this.rowNode.rowPinned),column:this.column}},e.prototype.applyStaticCssClasses=function(){this.cellComp.addOrRemoveCssClass("ag-cell",!0),this.cellComp.addOrRemoveCssClass("ag-cell-not-inline-editing",!0);var t=1==this.column.isAutoHeight();this.cellComp.addOrRemoveCssClass("ag-cell-auto-height",t),this.cellComp.addOrRemoveCssClass("ag-cell-normal-height",!t)},e.prototype.onColumnHover=function(){if(this.cellComp&&this.beans.gridOptionsService.get("columnHoverHighlight")){var t=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass("ag-column-hover",t)}},e.prototype.onColDefChanged=function(){var t,e;this.cellComp&&(this.column.isAutoHeight()!==this.isAutoHeight&&(null===(t=this.rowCtrl)||void 0===t||t.refreshCell(this)),this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature(),null===(e=this.tooltipFeature)||void 0===e||e.setComp(this.eGui)):this.disableTooltipFeature(),this.setWrapText(),this.editing||this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0}))},e.prototype.setWrapText=function(){var t=1==this.column.getColDef().wrapText;this.cellComp.addOrRemoveCssClass("ag-cell-wrap-text",t)},e.prototype.dispatchCellContextMenuEvent=function(t){var e=this.column.getColDef(),n=this.createEvent(t,$t.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(n),e.onCellContextMenu&&window.setTimeout((function(){return e.onCellContextMenu(n)}),0)},e.prototype.getCellRenderer=function(){return this.cellComp?this.cellComp.getCellRenderer():null},e.prototype.getCellEditor=function(){return this.cellComp?this.cellComp.getCellEditor():null},e.prototype.destroy=function(){this.onCellCompAttachedFuncs=[],t.prototype.destroy.call(this)},e.prototype.createSelectionCheckbox=function(){var t=new Gs;return this.beans.context.createBean(t),t.init({rowNode:this.rowNode,column:this.column}),t},e.prototype.createDndSource=function(){var t=new pu(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(t),t},e.prototype.registerRowDragger=function(t,e,n){var o=this;if(this.customRowDragComp)this.customRowDragComp.setDragElement(t,e);else{var r=this.createRowDragComp(t,e,n);r&&(this.customRowDragComp=r,this.addDestroyFunc((function(){o.beans.context.destroyBean(r),o.customRowDragComp=null})))}},e.prototype.createRowDragComp=function(t,e,n){var o=this,r=this.beans.gridOptionsService.get("pagination"),i=this.beans.gridOptionsService.get("rowDragManaged"),s=this.beans.gridOptionsService.isRowModelType("clientSide");if(i){if(!s)return void L("managed row dragging is only allowed in the Client Side Row Model");if(r)return void L("managed row dragging is not possible when doing pagination")}var a=new Ks((function(){return o.value}),this.rowNode,this.column,t,e,n);return this.beans.context.createBean(a),a},e.DOM_DATA_KEY_CELL_CTRL="cellCtrl",e}(Ut),wu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),bu=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_u=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},Su=function(t,e,n){if(n||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))};!function(t){t.Normal="Normal",t.FullWidth="FullWidth",t.FullWidthLoading="FullWidthLoading",t.FullWidthGroup="FullWidthGroup",t.FullWidthDetail="FullWidthDetail"}(ql||(ql={}));var Eu,Ou,xu=0,Tu=function(t){function e(e,n,o,r,i){var s=t.call(this)||this;return s.allRowGuis=[],s.active=!0,s.centerCellCtrls={list:[],map:{}},s.leftCellCtrls={list:[],map:{}},s.rightCellCtrls={list:[],map:{}},s.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},s.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},s.rowDragComps=[],s.lastMouseDownOnDragger=!1,s.emptyStyle={},s.updateColumnListsPending=!1,s.rowId=null,s.businessKeySanitised=null,s.beans=n,s.gridOptionsService=n.gridOptionsService,s.rowNode=e,s.paginationPage=n.paginationProxy.getCurrentPage(),s.useAnimationFrameForCreate=r,s.printLayout=i,s.instanceId=e.id+"-"+xu++,s.rowId=se(e.id),s.initRowBusinessKey(),s.rowFocused=n.focusService.isRowFocused(s.rowNode.rowIndex,s.rowNode.rowPinned),s.rowLevel=n.rowCssClassCalculator.calculateRowLevel(s.rowNode),s.setRowType(),s.setAnimateFlags(o),s.rowStyles=s.processStylesFromGridOptions(),s.isFullWidth()&&!s.gridOptionsService.get("suppressCellFocus")&&(s.tabIndex=-1),s.addListeners(),s}return wu(e,t),e.prototype.initRowBusinessKey=function(){this.businessKeyForNodeFunc=this.gridOptionsService.get("getBusinessKeyForNode"),this.updateRowBusinessKey()},e.prototype.updateRowBusinessKey=function(){if("function"===typeof this.businessKeyForNodeFunc){var t=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=se(t)}},e.prototype.getRowId=function(){return this.rowId},e.prototype.getRowStyles=function(){return this.rowStyles},e.prototype.getTabIndex=function(){return this.tabIndex},e.prototype.isSticky=function(){return this.rowNode.sticky},e.prototype.getBeans=function(){return this.beans},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.setComp=function(t,e,n){var o={rowComp:t,element:e,containerType:n};this.allRowGuis.push(o),n===Ou.LEFT?this.leftGui=o:n===Ou.RIGHT?this.rightGui=o:n===Ou.FULL_WIDTH?this.fullWidthGui=o:this.centerGui=o,this.initialiseRowComp(o),"FullWidthLoading"===this.rowType||this.rowNode.rowPinned||this.beans.rowRenderer.dispatchFirstDataRenderedEvent()},e.prototype.unsetComp=function(t){switch(this.allRowGuis=this.allRowGuis.filter((function(e){return e.containerType!==t})),t){case Ou.LEFT:this.leftGui=void 0;break;case Ou.RIGHT:this.rightGui=void 0;break;case Ou.FULL_WIDTH:this.fullWidthGui=void 0;break;case Ou.CENTER:this.centerGui=void 0}},e.prototype.isCacheable=function(){return this.rowType===ql.FullWidthDetail&&this.gridOptionsService.get("keepDetailRows")},e.prototype.setCached=function(t){var e=t?"none":"";this.allRowGuis.forEach((function(t){return t.element.style.display=e}))},e.prototype.initialiseRowComp=function(t){var n=this,o=this.gridOptionsService;this.listenOnDomOrder(t),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights(),this.onRowHeightChanged(t),this.updateRowIndexes(t),this.setFocusedClasses(t),this.setStylesFromGridOptions(!1,t),o.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(t),this.updateColumnLists(!this.useAnimationFrameForCreate);var r=t.rowComp;this.getInitialRowClasses(t.containerType).forEach((function(t){return r.addOrRemoveCssClass(t,!0)})),this.executeSlideAndFadeAnimations(t),this.rowNode.group&&tn(t.element,1==this.rowNode.expanded),this.setRowCompRowId(r),this.setRowCompRowBusinessKey(r),o.setDomData(t.element,e.DOM_DATA_KEY_ROW_CTRL,this),this.addDestroyFunc((function(){return o.setDomData(t.element,e.DOM_DATA_KEY_ROW_CTRL,null)})),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,t.element),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(t.element),this.isFullWidth()&&this.setupFullWidth(t),o.get("rowDragEntireRow")&&this.addRowDraggerToRow(t),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask((function(){n.isAlive()&&t.rowComp.addOrRemoveCssClass("ag-after-created",!0)})),this.executeProcessRowPostCreateFunc()},e.prototype.setRowCompRowBusinessKey=function(t){null!=this.businessKeySanitised&&t.setRowBusinessKey(this.businessKeySanitised)},e.prototype.getBusinessKey=function(){return this.businessKeySanitised},e.prototype.setRowCompRowId=function(t){this.rowId=se(this.rowNode.id),null!=this.rowId&&t.setRowId(this.rowId)},e.prototype.executeSlideAndFadeAnimations=function(t){var e=this,n=t.containerType;this.slideInAnimation[n]&&(G((function(){e.onTopChanged()})),this.slideInAnimation[n]=!1),this.fadeInAnimation[n]&&(G((function(){t.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)})),this.fadeInAnimation[n]=!1)},e.prototype.addRowDraggerToRow=function(t){if(this.gridOptionsService.get("enableRangeSelection"))L("Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`");else{var e=this.beans.localeService.getLocaleTextFunc(),n=new Ks((function(){return"1 ".concat(e("rowDragRow","row"))}),this.rowNode,void 0,t.element,void 0,!0),o=this.createBean(n,this.beans.context);this.rowDragComps.push(o)}},e.prototype.setupFullWidth=function(t){var e=this.getPinnedForContainer(t.containerType),n=this.createFullWidthParams(t.element,e);if(this.rowType!=ql.FullWidthDetail||Z.__assertRegistered(z.MasterDetailModule,"cell renderer 'agDetailCellRenderer' (for master detail)",this.beans.context.getGridId())){var o;switch(this.rowType){case ql.FullWidthDetail:o=this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(n);break;case ql.FullWidthGroup:o=this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(n);break;case ql.FullWidthLoading:o=this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(n);break;default:o=this.beans.userComponentFactory.getFullWidthCellRendererDetails(n)}t.rowComp.showFullWidth(o)}},e.prototype.isPrintLayout=function(){return this.printLayout},e.prototype.getFullWidthCellRenderer=function(){var t,e;return null===(e=null===(t=this.fullWidthGui)||void 0===t?void 0:t.rowComp)||void 0===e?void 0:e.getFullWidthCellRenderer()},e.prototype.getCellElement=function(t){var e=this.getCellCtrl(t);return e?e.getGui():null},e.prototype.executeProcessRowPostCreateFunc=function(){var t=this.gridOptionsService.getCallback("processRowPostCreate");t&&this.areAllContainersReady()&&t({eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)})},e.prototype.areAllContainersReady=function(){var t=!!this.leftGui||!this.beans.columnModel.isPinningLeft(),e=!!this.centerGui,n=!!this.rightGui||!this.beans.columnModel.isPinningRight();return t&&e&&n},e.prototype.setRowType=function(){var t=this.rowNode.stub,e=this.rowNode.isFullWidthCell(),n=this.gridOptionsService.get("masterDetail")&&this.rowNode.detail,o=this.beans.columnModel.isPivotMode(),r=!!this.rowNode.group&&!this.rowNode.footer&&this.gridOptionsService.isGroupUseEntireRow(o);this.rowType=t?ql.FullWidthLoading:n?ql.FullWidthDetail:e?ql.FullWidth:r?ql.FullWidthGroup:ql.Normal},e.prototype.updateColumnLists=function(t,e){var n=this;(void 0===t&&(t=!1),void 0===e&&(e=!1),this.isFullWidth())||(t||this.gridOptionsService.get("suppressAnimationFrame")||this.printLayout?this.updateColumnListsImpl(e):this.updateColumnListsPending||(this.beans.animationFrameService.createTask((function(){n.active&&n.updateColumnListsImpl(!0)}),this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0))},e.prototype.createCellCtrls=function(t,e,n){var o=this;void 0===n&&(n=null);var r={list:[],map:{}},i=function(t,e){r.list.push(e),r.map[t]=e};return e.forEach((function(e){var n=e.getInstanceId(),r=t.map[n];r||(r=new Cu(e,o.rowNode,o.beans,o)),i(n,r)})),t.list.forEach((function(t){null!=r.map[t.getColumn().getInstanceId()]||(!o.isCellEligibleToBeRemoved(t,n)?i(t.getColumn().getInstanceId(),t):t.destroy())})),r},e.prototype.updateColumnListsImpl=function(t){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(t)},e.prototype.setCellCtrls=function(t){var e=this;this.allRowGuis.forEach((function(n){var o=e.getCellCtrlsForContainer(n.containerType);n.rowComp.setCellCtrls(o,t)}))},e.prototype.getCellCtrlsForContainer=function(t){switch(t){case Ou.LEFT:return this.leftCellCtrls.list;case Ou.RIGHT:return this.rightCellCtrls.list;case Ou.FULL_WIDTH:return[];case Ou.CENTER:return this.centerCellCtrls.list;default:throw new Error("Unhandled case: ".concat(t))}},e.prototype.createAllCellCtrls=function(){var t=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{var e=t.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,e);var n=t.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,n,"left");var o=t.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,o,"right")}},e.prototype.isCellEligibleToBeRemoved=function(t,e){var n=!0;if(t.getColumn().getPinned()!=e)return n;var o=t.isEditing(),r=this.beans.focusService.isCellFocused(t.getCellPosition());if(o||r){var i=t.getColumn();return!(this.beans.columnModel.getAllDisplayedColumns().indexOf(i)>=0)&&n}return n},e.prototype.getDomOrder=function(){return this.gridOptionsService.get("ensureDomOrder")||this.gridOptionsService.isDomLayout("print")},e.prototype.listenOnDomOrder=function(t){var e=this,n=function(){t.rowComp.setDomOrder(e.getDomOrder())};this.addManagedPropertyListener("domLayout",n),this.addManagedPropertyListener("ensureDomOrder",n)},e.prototype.setAnimateFlags=function(t){if(!this.isSticky()&&t){var e=r(this.rowNode.oldRowTop),n=this.beans.columnModel.isPinningLeft(),o=this.beans.columnModel.isPinningRight();if(e){if(this.isFullWidth()&&!this.gridOptionsService.get("embedFullWidthRows"))return void(this.slideInAnimation.fullWidth=!0);this.slideInAnimation.center=!0,this.slideInAnimation.left=n,this.slideInAnimation.right=o}else{if(this.isFullWidth()&&!this.gridOptionsService.get("embedFullWidthRows"))return void(this.fadeInAnimation.fullWidth=!0);this.fadeInAnimation.center=!0,this.fadeInAnimation.left=n,this.fadeInAnimation.right=o}}},e.prototype.isEditing=function(){return this.editingRow},e.prototype.stopRowEditing=function(t){this.stopEditing(t)},e.prototype.isFullWidth=function(){return this.rowType!==ql.Normal},e.prototype.getRowType=function(){return this.rowType},e.prototype.refreshFullWidth=function(){var t=this,e=function(e,n){if(!e)return!0;var o=e.rowComp.getFullWidthCellRenderer();if(!o)return!1;if(!o.refresh)return!1;var r=t.createFullWidthParams(e.element,n);return o.refresh(r)},n=e(this.fullWidthGui,null),o=e(this.centerGui,null),r=e(this.leftGui,"left"),i=e(this.rightGui,"right");return n&&o&&r&&i},e.prototype.addListeners=function(){var t=this;this.addManagedListener(this.rowNode,ks.EVENT_HEIGHT_CHANGED,(function(){return t.onRowHeightChanged()})),this.addManagedListener(this.rowNode,ks.EVENT_ROW_SELECTED,(function(){return t.onRowSelected()})),this.addManagedListener(this.rowNode,ks.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,ks.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,ks.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,ks.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.rowNode.detail&&this.addManagedListener(this.rowNode.parent,ks.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,ks.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,ks.EVENT_CELL_CHANGED,this.onRowNodeCellChanged.bind(this)),this.addManagedListener(this.rowNode,ks.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,ks.EVENT_DRAGGING_CHANGED,this.onRowNodeDraggingChanged.bind(this)),this.addManagedListener(this.rowNode,ks.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));var e=this.beans.eventService;this.addManagedListener(e,$t.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(e,$t.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(e,$t.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(e,$t.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(e,$t.EVENT_CELL_FOCUSED,this.onCellFocused.bind(this)),this.addManagedListener(e,$t.EVENT_CELL_FOCUS_CLEARED,this.onCellFocusCleared.bind(this)),this.addManagedListener(e,$t.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(e,$t.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(e,$t.EVENT_COLUMN_MOVED,this.onColumnMoved.bind(this)),this.addDestroyFunc((function(){t.destroyBeans(t.rowDragComps,t.beans.context)})),this.addManagedPropertyListeners(["rowDragEntireRow"],(function(){t.gridOptionsService.get("rowDragEntireRow")?t.allRowGuis.forEach((function(e){t.addRowDraggerToRow(e)})):(t.destroyBeans(t.rowDragComps,t.beans.context),t.rowDragComps=[])})),this.addListenersForCellComps()},e.prototype.onColumnMoved=function(){this.updateColumnLists()},e.prototype.addListenersForCellComps=function(){var t=this;this.addManagedListener(this.rowNode,ks.EVENT_ROW_INDEX_CHANGED,(function(){t.getAllCellCtrls().forEach((function(t){return t.onRowIndexChanged()}))})),this.addManagedListener(this.rowNode,ks.EVENT_CELL_CHANGED,(function(e){t.getAllCellCtrls().forEach((function(t){return t.onCellChanged(e)}))}))},e.prototype.onRowNodeDataChanged=function(t){var e=this;this.isFullWidth()!==!!this.rowNode.isFullWidthCell()?this.beans.rowRenderer.redrawRow(this.rowNode):this.isFullWidth()?this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode):(this.getAllCellCtrls().forEach((function(e){return e.refreshCell({suppressFlash:!t.update,newData:!t.update})})),this.allRowGuis.forEach((function(t){e.setRowCompRowId(t.rowComp),e.updateRowBusinessKey(),e.setRowCompRowBusinessKey(t.rowComp)})),this.onRowSelected(),this.postProcessCss())},e.prototype.onRowNodeCellChanged=function(){this.postProcessCss()},e.prototype.postProcessCss=function(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()},e.prototype.onRowNodeHighlightChanged=function(){var t=this.rowNode.highlighted;this.allRowGuis.forEach((function(e){var n=t===nl.Above,o=t===nl.Below;e.rowComp.addOrRemoveCssClass("ag-row-highlight-above",n),e.rowComp.addOrRemoveCssClass("ag-row-highlight-below",o)}))},e.prototype.onRowNodeDraggingChanged=function(){this.postProcessRowDragging()},e.prototype.postProcessRowDragging=function(){var t=this.rowNode.dragging;this.allRowGuis.forEach((function(e){return e.rowComp.addOrRemoveCssClass("ag-row-dragging",t)}))},e.prototype.updateExpandedCss=function(){var t=this.rowNode.isExpandable(),e=1==this.rowNode.expanded;this.allRowGuis.forEach((function(n){n.rowComp.addOrRemoveCssClass("ag-row-group",t),n.rowComp.addOrRemoveCssClass("ag-row-group-expanded",t&&e),n.rowComp.addOrRemoveCssClass("ag-row-group-contracted",t&&!e),tn(n.element,t&&e)}))},e.prototype.onDisplayedColumnsChanged=function(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()},e.prototype.onVirtualColumnsChanged=function(){this.updateColumnLists(!1,!0)},e.prototype.getRowPosition=function(){return{rowPinned:o(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}},e.prototype.onKeyboardNavigate=function(t){var e=this.allRowGuis.find((function(e){return e.element.contains(t.target)}));if((e?e.element:null)===t.target){var n=this.rowNode,o=this.beans.focusService.getFocusedCell(),r={rowIndex:n.rowIndex,rowPinned:n.rowPinned,column:o&&o.column};this.beans.navigationService.navigateToNextCell(t,t.key,r,!0),t.preventDefault()}},e.prototype.onTabKeyDown=function(t){if(!t.defaultPrevented&&!Ft(t)){var e=this.allRowGuis.find((function(e){return e.element.contains(t.target)})),n=e?e.element:null,o=n===t.target,r=null;o||(r=this.beans.focusService.findNextFocusableElement(n,!1,t.shiftKey)),(this.isFullWidth()&&o||!r)&&this.beans.navigationService.onTabKeyDown(this,t)}},e.prototype.onFullWidthRowFocused=function(t){var e,n=this.rowNode,o=!!t&&(this.isFullWidth()&&t.rowIndex===n.rowIndex&&t.rowPinned==n.rowPinned),r=this.fullWidthGui?this.fullWidthGui.element:null===(e=this.centerGui)||void 0===e?void 0:e.element;r&&(r.classList.toggle("ag-full-width-focus",o),o&&r.focus({preventScroll:!0}))},e.prototype.refreshCell=function(t){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,t),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,t),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,t),this.updateColumnLists()},e.prototype.removeCellCtrl=function(t,e){var n={list:[],map:{}};return t.list.forEach((function(t){t!==e&&(n.list.push(t),n.map[t.getInstanceId()]=t)})),n},e.prototype.onMouseEvent=function(t,e){switch(t){case"dblclick":this.onRowDblClick(e);break;case"click":this.onRowClick(e);break;case"touchstart":case"mousedown":this.onRowMouseDown(e)}},e.prototype.createRowEvent=function(t,e){return{type:t,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,context:this.gridOptionsService.context,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,event:e}},e.prototype.createRowEventWithSource=function(t,e){var n=this.createRowEvent(t,e);return n.source=this,n},e.prototype.onRowDblClick=function(t){if(!Ft(t)){var e=this.createRowEventWithSource($t.EVENT_ROW_DOUBLE_CLICKED,t);this.beans.eventService.dispatchEvent(e)}},e.prototype.onRowMouseDown=function(t){if(this.lastMouseDownOnDragger=so(t.target,"ag-row-drag",3),this.isFullWidth()){var e=this.rowNode,n=this.beans.columnModel;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges(),this.beans.focusService.setFocusedCell({rowIndex:e.rowIndex,column:n.getAllDisplayedColumns()[0],rowPinned:e.rowPinned,forceBrowserFocus:!0})}},e.prototype.onRowClick=function(t){if(!(Ft(t)||this.lastMouseDownOnDragger)){var e=this.createRowEventWithSource($t.EVENT_ROW_CLICKED,t);this.beans.eventService.dispatchEvent(e);var n=t.ctrlKey||t.metaKey,o=t.shiftKey;if(!(this.gridOptionsService.get("groupSelectsChildren")&&this.rowNode.group||!this.rowNode.selectable||this.rowNode.rowPinned||!this.gridOptionsService.isRowSelection()||this.gridOptionsService.get("suppressRowClickSelection"))){var r=this.gridOptionsService.get("rowMultiSelectWithClick"),i=!this.gridOptionsService.get("suppressRowDeselection"),s="rowClicked";if(this.rowNode.isSelected())r?this.rowNode.setSelectedParams({newValue:!1,event:t,source:s}):n?i&&this.rowNode.setSelectedParams({newValue:!1,event:t,source:s}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!o,rangeSelect:o,event:t,source:s});else{var a=!r&&!n;this.rowNode.setSelectedParams({newValue:!0,clearSelection:a,rangeSelect:o,event:t,source:s})}}}},e.prototype.setupDetailRowAutoHeight=function(t){var e=this;if(this.rowType===ql.FullWidthDetail&&this.gridOptionsService.get("detailRowAutoHeight")){var n=function(){var n=t.clientHeight;if(null!=n&&n>0){e.beans.frameworkOverrides.setTimeout((function(){e.rowNode.setRowHeight(n),e.beans.clientSideRowModel?e.beans.clientSideRowModel.onRowHeightChanged():e.beans.serverSideRowModel&&e.beans.serverSideRowModel.onRowHeightChanged()}),0)}},o=this.beans.resizeObserverService.observeResize(t,n);this.addDestroyFunc(o),n()}},e.prototype.createFullWidthParams=function(t,e){var n=this;return{fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,eGridCell:t,eParentOfValue:t,pinned:e,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:function(t,e,o,r){return n.addFullWidthRowDragging(t,e,o,r)}}},e.prototype.addFullWidthRowDragging=function(t,e,n,o){if(void 0===n&&(n=""),this.isFullWidth()){var r=new Ks((function(){return n}),this.rowNode,void 0,t,e,o);this.createManagedBean(r,this.beans.context)}},e.prototype.onUiLevelChanged=function(){var t=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=t){var e="ag-row-level-"+t,n="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach((function(t){t.rowComp.addOrRemoveCssClass(e,!0),t.rowComp.addOrRemoveCssClass(n,!1)}))}this.rowLevel=t},e.prototype.isFirstRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()},e.prototype.isLastRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()},e.prototype.onModelUpdated=function(){this.refreshFirstAndLastRowStyles()},e.prototype.refreshFirstAndLastRowStyles=function(){var t=this.isFirstRowOnPage(),e=this.isLastRowOnPage();this.firstRowOnPage!==t&&(this.firstRowOnPage=t,this.allRowGuis.forEach((function(e){return e.rowComp.addOrRemoveCssClass("ag-row-first",t)}))),this.lastRowOnPage!==e&&(this.lastRowOnPage=e,this.allRowGuis.forEach((function(t){return t.rowComp.addOrRemoveCssClass("ag-row-last",e)})))},e.prototype.stopEditing=function(t){var e,n;if(void 0===t&&(t=!1),!this.stoppingRowEdit){var o=this.getAllCellCtrls(),r=this.editingRow;this.stoppingRowEdit=!0;var i=!1;try{for(var s=bu(o),a=s.next();!a.done;a=s.next()){var l=a.value.stopEditing(t);r&&!t&&!i&&l&&(i=!0)}}catch(c){e={error:c}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}if(i){var u=this.createRowEvent($t.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(u)}r&&this.setEditingRow(!1),this.stoppingRowEdit=!1}},e.prototype.setInlineEditingCss=function(t){this.allRowGuis.forEach((function(e){e.rowComp.addOrRemoveCssClass("ag-row-inline-editing",t),e.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!t)}))},e.prototype.setEditingRow=function(t){this.editingRow=t,this.allRowGuis.forEach((function(e){return e.rowComp.addOrRemoveCssClass("ag-row-editing",t)}));var e=t?this.createRowEvent($t.EVENT_ROW_EDITING_STARTED):this.createRowEvent($t.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(e)},e.prototype.startRowEditing=function(t,e,n){(void 0===t&&(t=null),void 0===e&&(e=null),void 0===n&&(n=null),this.editingRow)||this.getAllCellCtrls().reduce((function(o,r){var i=r===e;return i?r.startEditing(t,i,n):r.startEditing(null,i,n),!!o||r.isEditing()}),!1)&&this.setEditingRow(!0)},e.prototype.getAllCellCtrls=function(){return 0===this.leftCellCtrls.list.length&&0===this.rightCellCtrls.list.length?this.centerCellCtrls.list:Su(Su(Su([],_u(this.centerCellCtrls.list),!1),_u(this.leftCellCtrls.list),!1),_u(this.rightCellCtrls.list),!1)},e.prototype.postProcessClassesFromGridOptions=function(){var t=this,e=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);e&&e.length&&e.forEach((function(e){t.allRowGuis.forEach((function(t){return t.rowComp.addOrRemoveCssClass(e,!0)}))}))},e.prototype.postProcessRowClassRules=function(){var t=this;this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,(function(e){t.allRowGuis.forEach((function(t){return t.rowComp.addOrRemoveCssClass(e,!0)}))}),(function(e){t.allRowGuis.forEach((function(t){return t.rowComp.addOrRemoveCssClass(e,!1)}))}))},e.prototype.setStylesFromGridOptions=function(t,e){var n=this;t&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(e,(function(t){return t.rowComp.setUserStyles(n.rowStyles)}))},e.prototype.getPinnedForContainer=function(t){return t===Ou.LEFT?"left":t===Ou.RIGHT?"right":null},e.prototype.getInitialRowClasses=function(t){var e=this.getPinnedForContainer(t),n={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[t],rowIsEven:this.rowNode.rowIndex%2===0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:e};return this.beans.rowCssClassCalculator.getInitialRowClasses(n)},e.prototype.processStylesFromGridOptions=function(){var t=this.gridOptionsService.get("rowStyle");if(!t||"function"!==typeof t){var e,n=this.gridOptionsService.getCallback("getRowStyle");if(n)e=n({data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex});return e||t?Object.assign({},t,e):this.emptyStyle}console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead")},e.prototype.onRowSelected=function(t){var e=this,n=!!this.rowNode.isSelected();this.forEachGui(t,(function(t){t.rowComp.addOrRemoveCssClass("ag-row-selected",n),hn(t.element,!!n||void 0);var o=e.createAriaLabel();Ye(t.element,null==o?"":o)}))},e.prototype.createAriaLabel=function(){var t=this.rowNode.isSelected();if(!t||!this.gridOptionsService.get("suppressRowDeselection"))return this.beans.localeService.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect","Press SPACE to ".concat(t?"deselect":"select"," this row."))},e.prototype.isUseAnimationFrameForCreate=function(){return this.useAnimationFrameForCreate},e.prototype.addHoverFunctionality=function(t){var e=this;this.active&&(this.addManagedListener(t,"mouseenter",(function(){return e.rowNode.onMouseEnter()})),this.addManagedListener(t,"mouseleave",(function(){return e.rowNode.onMouseLeave()})),this.addManagedListener(this.rowNode,ks.EVENT_MOUSE_ENTER,(function(){e.beans.dragService.isDragging()||e.gridOptionsService.get("suppressRowHoverHighlight")||(t.classList.add("ag-row-hover"),e.rowNode.setHovered(!0))})),this.addManagedListener(this.rowNode,ks.EVENT_MOUSE_LEAVE,(function(){t.classList.remove("ag-row-hover"),e.rowNode.setHovered(!1)})))},e.prototype.roundRowTopToBounds=function(t){var e=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),n=this.applyPaginationOffset(e.top,!0)-100,o=this.applyPaginationOffset(e.bottom,!0)+100;return Math.min(Math.max(n,t),o)},e.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},e.prototype.forEachGui=function(t,e){t?e(t):this.allRowGuis.forEach(e)},e.prototype.onRowHeightChanged=function(t){if(null!=this.rowNode.rowHeight){var e=this.rowNode.rowHeight,n=this.beans.environment.getDefaultRowHeight(),o=this.gridOptionsService.isGetRowHeightFunction()?this.gridOptionsService.getRowHeightForNode(this.rowNode).height:void 0,r=o?"".concat(Math.min(n,o)-2,"px"):void 0;this.forEachGui(t,(function(t){t.element.style.height="".concat(e,"px"),r&&t.element.style.setProperty("--ag-line-height",r)}))}},e.prototype.addEventListener=function(e,n){t.prototype.addEventListener.call(this,e,n)},e.prototype.removeEventListener=function(e,n){t.prototype.removeEventListener.call(this,e,n)},e.prototype.destroyFirstPass=function(){this.active=!1,this.gridOptionsService.isAnimateRows()&&this.setupRemoveAnimation(),this.rowNode.setHovered(!1);var e=this.createRowEvent($t.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(e),this.beans.eventService.dispatchEvent(e),t.prototype.destroy.call(this)},e.prototype.setupRemoveAnimation=function(){if(!this.isSticky())if(null!=this.rowNode.rowTop){var t=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(t)}else this.allRowGuis.forEach((function(t){return t.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0)}))},e.prototype.destroySecondPass=function(){this.allRowGuis.length=0,this.stopEditing();var t=function(t){return t.list.forEach((function(t){return t.destroy()})),{list:[],map:{}}};this.centerCellCtrls=t(this.centerCellCtrls),this.leftCellCtrls=t(this.leftCellCtrls),this.rightCellCtrls=t(this.rightCellCtrls)},e.prototype.setFocusedClasses=function(t){var e=this;this.forEachGui(t,(function(t){t.rowComp.addOrRemoveCssClass("ag-row-focus",e.rowFocused),t.rowComp.addOrRemoveCssClass("ag-row-no-focus",!e.rowFocused)}))},e.prototype.onCellFocused=function(){this.onCellFocusChanged()},e.prototype.onCellFocusCleared=function(){this.onCellFocusChanged()},e.prototype.onCellFocusChanged=function(){var t=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses()),!t&&this.editingRow&&this.stopEditing(!1)},e.prototype.onPaginationChanged=function(){var t=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==t&&(this.paginationPage=t,this.onTopChanged()),this.refreshFirstAndLastRowStyles()},e.prototype.onTopChanged=function(){this.setRowTop(this.rowNode.rowTop)},e.prototype.onPaginationPixelOffsetChanged=function(){this.onTopChanged()},e.prototype.applyPaginationOffset=function(t,e){return void 0===e&&(e=!1),this.rowNode.isRowPinned()||this.rowNode.sticky?t:t+this.beans.paginationProxy.getPixelOffset()*(e?1:-1)},e.prototype.setRowTop=function(t){if(!this.printLayout&&r(t)){var e=this.applyPaginationOffset(t),n=this.rowNode.isRowPinned()||this.rowNode.sticky?e:this.beans.rowContainerHeightService.getRealPixelPosition(e),o="".concat(n,"px");this.setRowTopStyle(o)}},e.prototype.getInitialRowTop=function(t){return this.gridOptionsService.get("suppressRowTransform")?this.getInitialRowTopShared(t):void 0},e.prototype.getInitialTransform=function(t){return this.gridOptionsService.get("suppressRowTransform")?void 0:"translateY(".concat(this.getInitialRowTopShared(t),")")},e.prototype.getInitialRowTopShared=function(t){if(this.printLayout)return"";var e;if(this.isSticky())e=this.rowNode.stickyRowTop;else{var n=this.slideInAnimation[t]?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,o=this.applyPaginationOffset(n);e=this.rowNode.isRowPinned()?o:this.beans.rowContainerHeightService.getRealPixelPosition(o)}return e+"px"},e.prototype.setRowTopStyle=function(t){var e=this.gridOptionsService.get("suppressRowTransform");this.allRowGuis.forEach((function(n){return e?n.rowComp.setTop(t):n.rowComp.setTransform("translateY(".concat(t,")"))}))},e.prototype.getRowNode=function(){return this.rowNode},e.prototype.getCellCtrl=function(t){var e=null;return this.getAllCellCtrls().forEach((function(n){n.getColumn()==t&&(e=n)})),null!=e||this.getAllCellCtrls().forEach((function(n){n.getColSpanningList().indexOf(t)>=0&&(e=n)})),e},e.prototype.onRowIndexChanged=function(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())},e.prototype.getRowIndex=function(){return this.rowNode.getRowIndexString()},e.prototype.updateRowIndexes=function(t){var e=this.rowNode.getRowIndexString(),n=this.beans.headerNavigationService.getHeaderRowCount()+this.beans.filterManager.getHeaderRowCount(),o=this.rowNode.rowIndex%2===0,r=n+this.rowNode.rowIndex+1;this.forEachGui(t,(function(t){t.rowComp.setRowIndex(e),t.rowComp.addOrRemoveCssClass("ag-row-even",o),t.rowComp.addOrRemoveCssClass("ag-row-odd",!o),an(t.element,r)}))},e.prototype.getPinnedLeftRowElement=function(){return this.leftGui?this.leftGui.element:void 0},e.prototype.getPinnedRightRowElement=function(){return this.rightGui?this.rightGui.element:void 0},e.prototype.getBodyRowElement=function(){return this.centerGui?this.centerGui.element:void 0},e.prototype.getFullWidthRowElement=function(){return this.fullWidthGui?this.fullWidthGui.element:void 0},e.DOM_DATA_KEY_ROW_CTRL="renderedRow",e}(Ut),Ru=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Du=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Pu=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},Lu=function(t){function e(e){var n=t.call(this)||this;return n.element=e,n}return Ru(e,t),e.prototype.postConstruct=function(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()},e.prototype.addKeyboardListeners=function(){var t="keydown",e=this.processKeyboardEvent.bind(this,t);this.addManagedListener(this.element,t,e)},e.prototype.addMouseListeners=function(){var t=this;["dblclick","contextmenu","mouseover","mouseout","click",It("touchstart")?"touchstart":"mousedown"].forEach((function(e){var n=t.processMouseEvent.bind(t,e);t.addManagedListener(t.element,e,n)}))},e.prototype.processMouseEvent=function(t,e){if(this.mouseEventService.isEventFromThisGrid(e)&&!Ft(e)){var n=this.getRowForEvent(e),o=this.mouseEventService.getRenderedCellForEvent(e);"contextmenu"===t?this.handleContextMenuMouseEvent(e,null,n,o):(o&&o.onMouseEvent(t,e),n&&n.onMouseEvent(t,e))}},e.prototype.mockContextMenuForIPad=function(){var t=this;if(Pn()){var e=new os(this.element);this.addManagedListener(e,os.EVENT_LONG_TAP,(function(e){var n=t.getRowForEvent(e.touchEvent),o=t.mouseEventService.getRenderedCellForEvent(e.touchEvent);t.handleContextMenuMouseEvent(null,e.touchEvent,n,o)})),this.addDestroyFunc((function(){return e.destroy()}))}},e.prototype.getRowForEvent=function(t){for(var e=t.target;e;){var n=this.gridOptionsService.getDomData(e,Tu.DOM_DATA_KEY_ROW_CTRL);if(n)return n;e=e.parentElement}return null},e.prototype.handleContextMenuMouseEvent=function(t,e,n,o){var r=n?n.getRowNode():null,i=o?o.getColumn():null,s=null;if(i){var a=t||e;o.dispatchCellContextMenuEvent(a),s=this.valueService.getValue(i,r)}var l=this.ctrlsService.getGridBodyCtrl(),u=o?o.getGui():l.getGridBodyElement();this.contextMenuFactory&&this.contextMenuFactory.onContextMenu(t,e,r,i,s,u)},e.prototype.getControlsForEventTarget=function(t){return{cellCtrl:Gt(this.gridOptionsService,t,Cu.DOM_DATA_KEY_CELL_CTRL),rowCtrl:Gt(this.gridOptionsService,t,Tu.DOM_DATA_KEY_ROW_CTRL)}},e.prototype.processKeyboardEvent=function(t,e){var n=this.getControlsForEventTarget(e.target),o=n.cellCtrl,r=n.rowCtrl;e.defaultPrevented||(o?this.processCellKeyboardEvent(o,t,e):r&&r.isFullWidth()&&this.processFullWidthRowKeyboardEvent(r,t,e))},e.prototype.processCellKeyboardEvent=function(t,e,n){var o=t.getRowNode(),r=t.getColumn(),i=t.isEditing();Xo(this.gridOptionsService,n,o,r,i)||"keydown"===e&&(!i&&this.navigationService.handlePageScrollingKey(n)||t.onKeyDown(n),this.doGridOperations(n,t.isEditing()),Qo(n)&&t.processCharacter(n));if("keydown"===e){var s=t.createEvent(n,$t.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(s)}},e.prototype.processFullWidthRowKeyboardEvent=function(t,e,n){var o=t.getRowNode(),r=this.focusService.getFocusedCell(),i=r&&r.column;if(!Xo(this.gridOptionsService,n,o,i,!1)){var s=n.key;if("keydown"===e)switch(s){case qo.PAGE_HOME:case qo.PAGE_END:case qo.PAGE_UP:case qo.PAGE_DOWN:this.navigationService.handlePageScrollingKey(n,!0);break;case qo.UP:case qo.DOWN:t.onKeyboardNavigate(n);break;case qo.TAB:t.onTabKeyDown(n)}}if("keydown"===e){var a=t.createRowEvent($t.EVENT_CELL_KEY_DOWN,n);this.eventService.dispatchEvent(a)}},e.prototype.doGridOperations=function(t,e){if((t.ctrlKey||t.metaKey)&&!e&&this.mouseEventService.isEventFromThisGrid(t)){var n=Jo(t);return n===qo.A?this.onCtrlAndA(t):n===qo.C?this.onCtrlAndC(t):n===qo.D?this.onCtrlAndD(t):n===qo.V?this.onCtrlAndV(t):n===qo.X?this.onCtrlAndX(t):n===qo.Y?this.onCtrlAndY():n===qo.Z?this.onCtrlAndZ(t):void 0}},e.prototype.onCtrlAndA=function(t){var e=this,n=e.pinnedRowModel,o=e.paginationProxy,r=e.rangeService;if(r&&o.isRowsToRender()){var i=Pu([n.isEmpty("top"),n.isEmpty("bottom")],2),a=i[0]?null:"top",l=void 0,u=void 0;i[1]?(l=null,u=this.paginationProxy.getRowCount()-1):(l="bottom",u=n.getPinnedBottomRowData().length-1);var c=this.columnModel.getAllDisplayedColumns();if(s(c))return;r.setCellRange({rowStartIndex:0,rowStartPinned:a,rowEndIndex:u,rowEndPinned:l,columnStart:c[0],columnEnd:Ct(c)})}t.preventDefault()},e.prototype.onCtrlAndC=function(t){if(this.clipboardService&&!this.gridOptionsService.get("enableCellTextSelection")){var e=this.getControlsForEventTarget(t.target),n=e.cellCtrl,o=e.rowCtrl;(null===n||void 0===n?void 0:n.isEditing())||(null===o||void 0===o?void 0:o.isEditing())||(t.preventDefault(),this.clipboardService.copyToClipboard())}},e.prototype.onCtrlAndX=function(t){if(this.clipboardService&&!this.gridOptionsService.get("enableCellTextSelection")&&!this.gridOptionsService.get("suppressCutToClipboard")){var e=this.getControlsForEventTarget(t.target),n=e.cellCtrl,o=e.rowCtrl;(null===n||void 0===n?void 0:n.isEditing())||(null===o||void 0===o?void 0:o.isEditing())||(t.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}},e.prototype.onCtrlAndV=function(t){var e=this.getControlsForEventTarget(t.target),n=e.cellCtrl,o=e.rowCtrl;(null===n||void 0===n?void 0:n.isEditing())||(null===o||void 0===o?void 0:o.isEditing())||this.clipboardService&&!this.gridOptionsService.get("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()},e.prototype.onCtrlAndD=function(t){this.clipboardService&&!this.gridOptionsService.get("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),t.preventDefault()},e.prototype.onCtrlAndZ=function(t){this.gridOptionsService.get("undoRedoCellEditing")&&(t.preventDefault(),t.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))},e.prototype.onCtrlAndY=function(){this.undoRedoService.redo("ui")},Du([nt("mouseEventService")],e.prototype,"mouseEventService",void 0),Du([nt("valueService")],e.prototype,"valueService",void 0),Du([ot("contextMenuFactory")],e.prototype,"contextMenuFactory",void 0),Du([nt("ctrlsService")],e.prototype,"ctrlsService",void 0),Du([nt("navigationService")],e.prototype,"navigationService",void 0),Du([nt("focusService")],e.prototype,"focusService",void 0),Du([nt("undoRedoService")],e.prototype,"undoRedoService",void 0),Du([nt("columnModel")],e.prototype,"columnModel",void 0),Du([nt("paginationProxy")],e.prototype,"paginationProxy",void 0),Du([nt("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Du([ot("rangeService")],e.prototype,"rangeService",void 0),Du([ot("clipboardService")],e.prototype,"clipboardService",void 0),Du([J],e.prototype,"postConstruct",null),e}(Ut),Mu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Au=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ku=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},Nu=function(t,e,n){if(n||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},Fu=function(t){function e(e){var n=t.call(this)||this;return n.centerContainerCtrl=e,n}return Mu(e,t),e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady((function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl(),t.listenForResize()})),this.addManagedListener(this.eventService,$t.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this)),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],(function(){t.checkViewportAndScrolls()}))},e.prototype.listenForResize=function(){var t=this,e=function(){return t.onCenterViewportResized()};this.centerContainerCtrl.registerViewportResizeListener(e),this.gridBodyCtrl.registerBodyViewportResizeListener(e)},e.prototype.onScrollbarWidthChanged=function(){this.checkViewportAndScrolls()},e.prototype.onCenterViewportResized=function(){if(this.centerContainerCtrl.isViewportVisible()){this.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();var t=this.centerContainerCtrl.getCenterWidth();t!==this.centerWidth&&(this.centerWidth=t,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0},e.prototype.keepPinnedColumnsNarrowerThanViewport=function(){var t=uo(this.gridBodyCtrl.getBodyViewportElement());if(!(isNaN(t)||t<=50)){var e=this.getPinnedColumnsOverflowingViewport(t-50),n=this.gridOptionsService.getCallback("processUnpinnedColumns");if(e.length){if(n)e=n({columns:e,viewportWidth:t});this.columnModel.setColumnsPinned(e,null,"viewportSizeFeature")}}},e.prototype.getPinnedColumnsOverflowingViewport=function(t){var e=this.pinnedWidthService.getPinnedRightWidth()+this.pinnedWidthService.getPinnedLeftWidth();if(e<t)return[];for(var n=Nu([],ku(this.columnModel.getDisplayedLeftColumns()),!1),o=Nu([],ku(this.columnModel.getDisplayedRightColumns()),!1),r=0,i=0,s=[],a=e-0-t;(i<n.length||r<o.length)&&a>0;){var l;if(r<o.length)a-=(l=o[r++]).getActualWidth(),s.push(l);if(i<n.length&&a>0)a-=(l=n[i++]).getActualWidth(),s.push(l)}return s},e.prototype.checkViewportAndScrolls=function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()},e.prototype.getBodyHeight=function(){return this.bodyHeight},e.prototype.checkBodyHeight=function(){var t=lo(this.gridBodyCtrl.getBodyViewportElement());if(this.bodyHeight!==t){this.bodyHeight=t;var e={type:$t.EVENT_BODY_HEIGHT_CHANGED};this.eventService.dispatchEvent(e)}},e.prototype.updateScrollVisibleService=function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)},e.prototype.updateScrollVisibleServiceImpl=function(){var t={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(t)},e.prototype.isHorizontalScrollShowing=function(){return this.centerContainerCtrl.isHorizontalScrollShowing()},e.prototype.onHorizontalViewportChanged=function(){var t=this.centerContainerCtrl.getCenterWidth(),e=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(t,e)},Au([nt("ctrlsService")],e.prototype,"ctrlsService",void 0),Au([nt("pinnedWidthService")],e.prototype,"pinnedWidthService",void 0),Au([nt("columnModel")],e.prototype,"columnModel",void 0),Au([nt("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),Au([J],e.prototype,"postConstruct",null),e}(Ut),Iu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Gu=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Hu=function(t){function e(e){var n=t.call(this)||this;return n.element=e,n}return Iu(e,t),e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,$t.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))},e.prototype.onPinnedLeftWidthChanged=function(){var t=this.pinnedWidthService.getPinnedLeftWidth(),e=t>0;oo(this.element,e),Po(this.element,t)},e.prototype.getWidth=function(){return this.pinnedWidthService.getPinnedLeftWidth()},Gu([nt("pinnedWidthService")],e.prototype,"pinnedWidthService",void 0),Gu([J],e.prototype,"postConstruct",null),e}(Ut),Vu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ju=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Bu=function(t){function e(e){var n=t.call(this)||this;return n.element=e,n}return Vu(e,t),e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,$t.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))},e.prototype.onPinnedRightWidthChanged=function(){var t=this.pinnedWidthService.getPinnedRightWidth(),e=t>0;oo(this.element,e),Po(this.element,t)},e.prototype.getWidth=function(){return this.pinnedWidthService.getPinnedRightWidth()},ju([nt("pinnedWidthService")],e.prototype,"pinnedWidthService",void 0),ju([J],e.prototype,"postConstruct",null),e}(Ut),Wu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),zu=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Uu=function(t){function e(e,n){var o=t.call(this)||this;return o.eContainer=e,o.eViewport=n,o}return Wu(e,t),e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,$t.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))},e.prototype.onHeightChanged=function(){var t=this.maxDivHeightScaler.getUiContainerHeight(),e=null!=t?"".concat(t,"px"):"";this.eContainer.style.height=e,this.eViewport&&(this.eViewport.style.height=e)},zu([nt("rowContainerHeightService")],e.prototype,"maxDivHeightScaler",void 0),zu([J],e.prototype,"postConstruct",null),e}(Ut),Yu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ku=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Zu=function(t){function e(e){var n=t.call(this)||this;return n.eContainer=e,n}return Yu(e,t),e.prototype.postConstruct=function(){var t=this;i(this.rangeService)||(this.params={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)},this.addManagedPropertyListener("enableRangeSelection",(function(e){e.currentValue?t.enableFeature():t.disableFeature()})),this.addDestroyFunc((function(){return t.disableFeature()})),this.gridOptionsService.get("enableRangeSelection")&&this.enableFeature())},e.prototype.enableFeature=function(){this.dragService.addDragSource(this.params)},e.prototype.disableFeature=function(){this.dragService.removeDragSource(this.params)},Ku([ot("rangeService")],e.prototype,"rangeService",void 0),Ku([nt("dragService")],e.prototype,"dragService",void 0),Ku([J],e.prototype,"postConstruct",null),e}(Ut),qu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Qu=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Xu=function(t){function e(e,n){void 0===n&&(n=!1);var o=t.call(this)||this;return o.callback=e,o.addSpacer=n,o}return qu(e,t),e.prototype.postConstruct=function(){var t=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",t),this.addManagedListener(this.eventService,$t.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,$t.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,t),this.addManagedListener(this.eventService,$t.EVENT_LEFT_PINNED_WIDTH_CHANGED,t),this.addSpacer&&(this.addManagedListener(this.eventService,$t.EVENT_RIGHT_PINNED_WIDTH_CHANGED,t),this.addManagedListener(this.eventService,$t.EVENT_SCROLL_VISIBILITY_CHANGED,t),this.addManagedListener(this.eventService,$t.EVENT_SCROLLBAR_WIDTH_CHANGED,t)),this.setWidth()},e.prototype.setWidth=function(){var t,e=this.columnModel,n=this.gridOptionsService.isDomLayout("print"),o=e.getBodyContainerWidth(),r=e.getDisplayedColumnsLeftWidth(),i=e.getDisplayedColumnsRightWidth();n?t=o+r+i:(t=o,this.addSpacer&&0===(this.gridOptionsService.get("enableRtl")?r:i)&&this.scrollVisibleService.isVerticalScrollShowing()&&(t+=this.gridOptionsService.getScrollbarWidth()));this.callback(t)},Qu([nt("columnModel")],e.prototype,"columnModel",void 0),Qu([nt("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),Qu([J],e.prototype,"postConstruct",null),e}(Ut),$u=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ju=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},tc=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},ec=function(t,e,n){if(n||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))};function nc(t){switch(t){case Eu.CENTER:case Eu.TOP_CENTER:case Eu.STICKY_TOP_CENTER:case Eu.BOTTOM_CENTER:return Ou.CENTER;case Eu.LEFT:case Eu.TOP_LEFT:case Eu.STICKY_TOP_LEFT:case Eu.BOTTOM_LEFT:return Ou.LEFT;case Eu.RIGHT:case Eu.TOP_RIGHT:case Eu.STICKY_TOP_RIGHT:case Eu.BOTTOM_RIGHT:return Ou.RIGHT;case Eu.FULL_WIDTH:case Eu.TOP_FULL_WIDTH:case Eu.STICKY_TOP_FULL_WIDTH:case Eu.BOTTOM_FULL_WIDTH:return Ou.FULL_WIDTH;default:throw Error("Invalid Row Container Type")}}!function(t){t.LEFT="left",t.RIGHT="right",t.CENTER="center",t.FULL_WIDTH="fullWidth",t.TOP_LEFT="topLeft",t.TOP_RIGHT="topRight",t.TOP_CENTER="topCenter",t.TOP_FULL_WIDTH="topFullWidth",t.STICKY_TOP_LEFT="stickyTopLeft",t.STICKY_TOP_RIGHT="stickyTopRight",t.STICKY_TOP_CENTER="stickyTopCenter",t.STICKY_TOP_FULL_WIDTH="stickyTopFullWidth",t.BOTTOM_LEFT="bottomLeft",t.BOTTOM_RIGHT="bottomRight",t.BOTTOM_CENTER="bottomCenter",t.BOTTOM_FULL_WIDTH="bottomFullWidth"}(Eu||(Eu={})),function(t){t.LEFT="left",t.RIGHT="right",t.CENTER="center",t.FULL_WIDTH="fullWidth"}(Ou||(Ou={}));var oc=ce([[Eu.CENTER,"ag-center-cols-container"],[Eu.LEFT,"ag-pinned-left-cols-container"],[Eu.RIGHT,"ag-pinned-right-cols-container"],[Eu.FULL_WIDTH,"ag-full-width-container"],[Eu.TOP_CENTER,"ag-floating-top-container"],[Eu.TOP_LEFT,"ag-pinned-left-floating-top"],[Eu.TOP_RIGHT,"ag-pinned-right-floating-top"],[Eu.TOP_FULL_WIDTH,"ag-floating-top-full-width-container"],[Eu.STICKY_TOP_CENTER,"ag-sticky-top-container"],[Eu.STICKY_TOP_LEFT,"ag-pinned-left-sticky-top"],[Eu.STICKY_TOP_RIGHT,"ag-pinned-right-sticky-top"],[Eu.STICKY_TOP_FULL_WIDTH,"ag-sticky-top-full-width-container"],[Eu.BOTTOM_CENTER,"ag-floating-bottom-container"],[Eu.BOTTOM_LEFT,"ag-pinned-left-floating-bottom"],[Eu.BOTTOM_RIGHT,"ag-pinned-right-floating-bottom"],[Eu.BOTTOM_FULL_WIDTH,"ag-floating-bottom-full-width-container"]]),rc=ce([[Eu.CENTER,"ag-center-cols-viewport"],[Eu.TOP_CENTER,"ag-floating-top-viewport"],[Eu.STICKY_TOP_CENTER,"ag-sticky-top-viewport"],[Eu.BOTTOM_CENTER,"ag-floating-bottom-viewport"]]),ic=function(t){function e(e){var n=t.call(this)||this;return n.visible=!0,n.EMPTY_CTRLS=[],n.name=e,n.isFullWithContainer=n.name===Eu.TOP_FULL_WIDTH||n.name===Eu.STICKY_TOP_FULL_WIDTH||n.name===Eu.BOTTOM_FULL_WIDTH||n.name===Eu.FULL_WIDTH,n}return $u(e,t),e.getRowContainerCssClasses=function(t){return{container:oc.get(t),viewport:rc.get(t)}},e.getPinned=function(t){switch(t){case Eu.BOTTOM_LEFT:case Eu.TOP_LEFT:case Eu.STICKY_TOP_LEFT:case Eu.LEFT:return"left";case Eu.BOTTOM_RIGHT:case Eu.TOP_RIGHT:case Eu.STICKY_TOP_RIGHT:case Eu.RIGHT:return"right";default:return null}},e.prototype.postConstruct=function(){var t=this;this.enableRtl=this.gridOptionsService.get("enableRtl"),this.forContainers([Eu.CENTER],(function(){return t.viewportSizeFeature=t.createManagedBean(new Fu(t))}))},e.prototype.registerWithCtrlsService=function(){switch(this.name){case Eu.CENTER:this.ctrlsService.registerCenterRowContainerCtrl(this);break;case Eu.LEFT:this.ctrlsService.registerLeftRowContainerCtrl(this);break;case Eu.RIGHT:this.ctrlsService.registerRightRowContainerCtrl(this);break;case Eu.TOP_CENTER:this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case Eu.TOP_LEFT:this.ctrlsService.registerTopLeftRowContainerCon(this);break;case Eu.TOP_RIGHT:this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case Eu.STICKY_TOP_CENTER:this.ctrlsService.registerStickyTopCenterRowContainerCtrl(this);break;case Eu.STICKY_TOP_LEFT:this.ctrlsService.registerStickyTopLeftRowContainerCon(this);break;case Eu.STICKY_TOP_RIGHT:this.ctrlsService.registerStickyTopRightRowContainerCtrl(this);break;case Eu.BOTTOM_CENTER:this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case Eu.BOTTOM_LEFT:this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case Eu.BOTTOM_RIGHT:this.ctrlsService.registerBottomRightRowContainerCtrl(this)}},e.prototype.forContainers=function(t,e){t.indexOf(this.name)>=0&&e()},e.prototype.getContainerElement=function(){return this.eContainer},e.prototype.getViewportSizeFeature=function(){return this.viewportSizeFeature},e.prototype.setComp=function(t,e,n){var o=this;this.comp=t,this.eContainer=e,this.eViewport=n,this.createManagedBean(new Lu(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();var r=[Eu.TOP_CENTER,Eu.TOP_LEFT,Eu.TOP_RIGHT],i=[Eu.STICKY_TOP_CENTER,Eu.STICKY_TOP_LEFT,Eu.STICKY_TOP_RIGHT],s=[Eu.BOTTOM_CENTER,Eu.BOTTOM_LEFT,Eu.BOTTOM_RIGHT],a=[Eu.CENTER,Eu.LEFT,Eu.RIGHT],l=ec(ec(ec(ec([],tc(r),!1),tc(s),!1),tc(a),!1),tc(i),!1),u=[Eu.CENTER,Eu.LEFT,Eu.RIGHT,Eu.FULL_WIDTH],c=[Eu.CENTER,Eu.TOP_CENTER,Eu.STICKY_TOP_CENTER,Eu.BOTTOM_CENTER],d=[Eu.LEFT,Eu.BOTTOM_LEFT,Eu.TOP_LEFT,Eu.STICKY_TOP_LEFT],p=[Eu.RIGHT,Eu.BOTTOM_RIGHT,Eu.TOP_RIGHT,Eu.STICKY_TOP_RIGHT];this.forContainers(d,(function(){o.pinnedWidthFeature=o.createManagedBean(new Hu(o.eContainer)),o.addManagedListener(o.eventService,$t.EVENT_LEFT_PINNED_WIDTH_CHANGED,(function(){return o.onPinnedWidthChanged()}))})),this.forContainers(p,(function(){o.pinnedWidthFeature=o.createManagedBean(new Bu(o.eContainer)),o.addManagedListener(o.eventService,$t.EVENT_RIGHT_PINNED_WIDTH_CHANGED,(function(){return o.onPinnedWidthChanged()}))})),this.forContainers(u,(function(){return o.createManagedBean(new Uu(o.eContainer,o.name===Eu.CENTER?n:void 0))})),this.forContainers(l,(function(){return o.createManagedBean(new Zu(o.eContainer))})),this.forContainers(c,(function(){return o.createManagedBean(new Xu((function(t){return o.comp.setContainerWidth("".concat(t,"px"))})))})),this.addListeners(),this.registerWithCtrlsService()},e.prototype.addListeners=function(){var t=this;this.addManagedListener(this.eventService,$t.EVENT_DISPLAYED_COLUMNS_CHANGED,(function(){return t.onDisplayedColumnsChanged()})),this.addManagedListener(this.eventService,$t.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,(function(){return t.onDisplayedColumnsWidthChanged()})),this.addManagedListener(this.eventService,$t.EVENT_DISPLAYED_ROWS_CHANGED,(function(e){return t.onDisplayedRowsChanged(e.afterScroll)})),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()},e.prototype.listenOnDomOrder=function(){var t=this;if([Eu.STICKY_TOP_CENTER,Eu.STICKY_TOP_LEFT,Eu.STICKY_TOP_RIGHT,Eu.STICKY_TOP_FULL_WIDTH].indexOf(this.name)>=0)this.comp.setDomOrder(!0);else{var e=function(){var e=t.gridOptionsService.get("ensureDomOrder"),n=t.gridOptionsService.isDomLayout("print");t.comp.setDomOrder(e||n)};this.addManagedPropertyListener("domLayout",e),e()}},e.prototype.stopHScrollOnPinnedRows=function(){var t=this;this.forContainers([Eu.TOP_CENTER,Eu.STICKY_TOP_CENTER,Eu.BOTTOM_CENTER],(function(){t.addManagedListener(t.eViewport,"scroll",(function(){return t.eViewport.scrollLeft=0}))}))},e.prototype.onDisplayedColumnsChanged=function(){var t=this;this.forContainers([Eu.CENTER],(function(){return t.onHorizontalViewportChanged()}))},e.prototype.onDisplayedColumnsWidthChanged=function(){var t=this;this.forContainers([Eu.CENTER],(function(){return t.onHorizontalViewportChanged()}))},e.prototype.addPreventScrollWhileDragging=function(){var t=this,e=function(e){t.dragService.isDragging()&&e.cancelable&&e.preventDefault()};this.eContainer.addEventListener("touchmove",e,{passive:!1}),this.addDestroyFunc((function(){return t.eContainer.removeEventListener("touchmove",e)}))},e.prototype.onHorizontalViewportChanged=function(t){void 0===t&&(t=!1);var e=this.getCenterWidth(),n=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(e,n,t)},e.prototype.getCenterWidth=function(){return uo(this.eViewport)},e.prototype.getCenterViewportScrollLeft=function(){return go(this.eViewport,this.enableRtl)},e.prototype.registerViewportResizeListener=function(t){var e=this.resizeObserverService.observeResize(this.eViewport,t);this.addDestroyFunc((function(){return e()}))},e.prototype.isViewportVisible=function(){return Co(this.eViewport)},e.prototype.getViewportScrollLeft=function(){return go(this.eViewport,this.enableRtl)},e.prototype.isHorizontalScrollShowing=function(){return this.gridOptionsService.get("alwaysShowHorizontalScroll")||To(this.eViewport)},e.prototype.getViewportElement=function(){return this.eViewport},e.prototype.setContainerTranslateX=function(t){this.eContainer.style.transform="translateX(".concat(t,"px)")},e.prototype.getHScrollPosition=function(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}},e.prototype.setCenterViewportScrollLeft=function(t){vo(this.eViewport,t,this.enableRtl)},e.prototype.isContainerVisible=function(){return!e.getPinned(this.name)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0},e.prototype.onPinnedWidthChanged=function(){var t=this.isContainerVisible();this.visible!=t&&(this.visible=t,this.onDisplayedRowsChanged())},e.prototype.onDisplayedRowsChanged=function(t){var e=this;if(void 0===t&&(t=!1),this.visible){var n=this.gridOptionsService.isDomLayout("print"),o=this.gridOptionsService.get("embedFullWidthRows")||n,r=this.getRowCtrls().filter((function(t){var n=t.isFullWidth();return e.isFullWithContainer?!o&&n:o||!n}));this.comp.setRowCtrls(r,t)}else this.comp.setRowCtrls(this.EMPTY_CTRLS,!1)},e.prototype.getRowCtrls=function(){switch(this.name){case Eu.TOP_CENTER:case Eu.TOP_LEFT:case Eu.TOP_RIGHT:case Eu.TOP_FULL_WIDTH:return this.rowRenderer.getTopRowCtrls();case Eu.STICKY_TOP_CENTER:case Eu.STICKY_TOP_LEFT:case Eu.STICKY_TOP_RIGHT:case Eu.STICKY_TOP_FULL_WIDTH:return this.rowRenderer.getStickyTopRowCtrls();case Eu.BOTTOM_CENTER:case Eu.BOTTOM_LEFT:case Eu.BOTTOM_RIGHT:case Eu.BOTTOM_FULL_WIDTH:return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getCentreRowCtrls()}},Ju([nt("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),Ju([nt("dragService")],e.prototype,"dragService",void 0),Ju([nt("ctrlsService")],e.prototype,"ctrlsService",void 0),Ju([nt("columnModel")],e.prototype,"columnModel",void 0),Ju([nt("resizeObserverService")],e.prototype,"resizeObserverService",void 0),Ju([nt("animationFrameService")],e.prototype,"animationFrameService",void 0),Ju([nt("rowRenderer")],e.prototype,"rowRenderer",void 0),Ju([J],e.prototype,"postConstruct",null),e}(Ut),sc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ac=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},lc='<div class="ag-root ag-unselectable" role="treegrid">\n        <ag-header-root ref="gridHeader"></ag-header-root>\n        <div class="ag-floating-top" ref="eTop" role="presentation">\n            <ag-row-container ref="topLeftContainer" name="'.concat(Eu.TOP_LEFT,'"></ag-row-container>\n            <ag-row-container ref="topCenterContainer" name="').concat(Eu.TOP_CENTER,'"></ag-row-container>\n            <ag-row-container ref="topRightContainer" name="').concat(Eu.TOP_RIGHT,'"></ag-row-container>\n            <ag-row-container ref="topFullWidthContainer" name="').concat(Eu.TOP_FULL_WIDTH,'"></ag-row-container>\n        </div>\n        <div class="ag-body" ref="eBody" role="presentation">\n            <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">\n                <ag-row-container ref="leftContainer" name="').concat(Eu.LEFT,'"></ag-row-container>\n                <ag-row-container ref="centerContainer" name="').concat(Eu.CENTER,'"></ag-row-container>\n                <ag-row-container ref="rightContainer" name="').concat(Eu.RIGHT,'"></ag-row-container>\n                <ag-row-container ref="fullWidthContainer" name="').concat(Eu.FULL_WIDTH,'"></ag-row-container>\n            </div>\n            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>\n        </div>\n        <div class="ag-sticky-top" ref="eStickyTop" role="presentation">\n            <ag-row-container ref="stickyTopLeftContainer" name="').concat(Eu.STICKY_TOP_LEFT,'"></ag-row-container>\n            <ag-row-container ref="stickyTopCenterContainer" name="').concat(Eu.STICKY_TOP_CENTER,'"></ag-row-container>\n            <ag-row-container ref="stickyTopRightContainer" name="').concat(Eu.STICKY_TOP_RIGHT,'"></ag-row-container>\n            <ag-row-container ref="stickyTopFullWidthContainer" name="').concat(Eu.STICKY_TOP_FULL_WIDTH,'"></ag-row-container>\n        </div>\n        <div class="ag-floating-bottom" ref="eBottom" role="presentation">\n            <ag-row-container ref="bottomLeftContainer" name="').concat(Eu.BOTTOM_LEFT,'"></ag-row-container>\n            <ag-row-container ref="bottomCenterContainer" name="').concat(Eu.BOTTOM_CENTER,'"></ag-row-container>\n            <ag-row-container ref="bottomRightContainer" name="').concat(Eu.BOTTOM_RIGHT,'"></ag-row-container>\n            <ag-row-container ref="bottomFullWidthContainer" name="').concat(Eu.BOTTOM_FULL_WIDTH,'"></ag-row-container>\n        </div>\n        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>\n        <ag-overlay-wrapper></ag-overlay-wrapper>\n    </div>'),uc=function(t){function e(){return t.call(this,lc)||this}return sc(e,t),e.prototype.init=function(){var t=this,e=function(t,e){var n="".concat(t,"px");e.style.minHeight=n,e.style.height=n},n={setRowAnimationCssOnBodyViewport:function(e,n){return t.setRowAnimationCssOnBodyViewport(e,n)},setColumnCount:function(e){return ln(t.getGui(),e)},setRowCount:function(e){return sn(t.getGui(),e)},setTopHeight:function(n){return e(n,t.eTop)},setBottomHeight:function(n){return e(n,t.eBottom)},setTopDisplay:function(e){return t.eTop.style.display=e},setBottomDisplay:function(e){return t.eBottom.style.display=e},setStickyTopHeight:function(e){return t.eStickyTop.style.height=e},setStickyTopTop:function(e){return t.eStickyTop.style.top=e},setStickyTopWidth:function(e){return t.eStickyTop.style.width=e},setColumnMovingCss:function(e,n){return t.addOrRemoveCssClass(e,n)},updateLayoutClasses:function(e,n){[t.eBodyViewport.classList,t.eBody.classList].forEach((function(t){t.toggle(hl.AUTO_HEIGHT,n.autoHeight),t.toggle(hl.NORMAL,n.normal),t.toggle(hl.PRINT,n.print)})),t.addOrRemoveCssClass(hl.AUTO_HEIGHT,n.autoHeight),t.addOrRemoveCssClass(hl.NORMAL,n.normal),t.addOrRemoveCssClass(hl.PRINT,n.print)},setAlwaysVerticalScrollClass:function(e,n){return t.eBodyViewport.classList.toggle(Kl,n)},registerBodyViewportResizeListener:function(e){var n=t.resizeObserverService.observeResize(t.eBodyViewport,e);t.addDestroyFunc((function(){return n()}))},setPinnedTopBottomOverflowY:function(e){return t.eTop.style.overflowY=t.eBottom.style.overflowY=e},setCellSelectableCss:function(e,n){[t.eTop,t.eBodyViewport,t.eBottom].forEach((function(t){return t.classList.toggle(e,n)}))},setBodyViewportWidth:function(e){return t.eBodyViewport.style.width=e}};this.ctrl=this.createManagedBean(new Zl),this.ctrl.setComp(n,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop),(this.rangeService&&this.gridOptionsService.get("enableRangeSelection")||"multiple"===this.gridOptionsService.get("rowSelection"))&&rn(this.getGui(),!0)},e.prototype.setRowAnimationCssOnBodyViewport=function(t,e){var n=this.eBodyViewport.classList;n.toggle(Nl.ANIMATION_ON,e),n.toggle(Nl.ANIMATION_OFF,!e)},e.prototype.getFloatingTopBottom=function(){return[this.eTop,this.eBottom]},ac([nt("resizeObserverService")],e.prototype,"resizeObserverService",void 0),ac([ot("rangeService")],e.prototype,"rangeService",void 0),ac([Or("eBodyViewport")],e.prototype,"eBodyViewport",void 0),ac([Or("eStickyTop")],e.prototype,"eStickyTop",void 0),ac([Or("eTop")],e.prototype,"eTop",void 0),ac([Or("eBottom")],e.prototype,"eBottom",void 0),ac([Or("gridHeader")],e.prototype,"headerRootComp",void 0),ac([Or("eBody")],e.prototype,"eBody",void 0),ac([J],e.prototype,"init",null),e}(Sr),cc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),dc=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},pc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return cc(e,t),e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,$t.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,$t.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))},e.prototype.onDisplayedColumnsChanged=function(){this.update()},e.prototype.onDisplayedColumnsWidthChanged=function(){this.update()},e.prototype.update=function(){this.updateImpl(),setTimeout(this.updateImpl.bind(this),500)},e.prototype.updateImpl=function(){var t=this.ctrlsService.getCenterRowContainerCtrl();if(t){var e={horizontalScrollShowing:t.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(e)}},e.prototype.setScrollsVisible=function(t){if(this.horizontalScrollShowing!==t.horizontalScrollShowing||this.verticalScrollShowing!==t.verticalScrollShowing){this.horizontalScrollShowing=t.horizontalScrollShowing,this.verticalScrollShowing=t.verticalScrollShowing;var e={type:$t.EVENT_SCROLL_VISIBILITY_CHANGED};this.eventService.dispatchEvent(e)}},e.prototype.isHorizontalScrollShowing=function(){return this.horizontalScrollShowing},e.prototype.isVerticalScrollShowing=function(){return this.verticalScrollShowing},dc([nt("ctrlsService")],e.prototype,"ctrlsService",void 0),dc([J],e.prototype,"postConstruct",null),e=dc([et("scrollVisibleService")],e)}(Ut),hc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),fc=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},gc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gridInstanceId=n.gridInstanceSequence.next(),e}var n;return hc(e,t),n=e,e.prototype.stampTopLevelGridCompWithGridInstance=function(t){t[n.GRID_DOM_KEY]=this.gridInstanceId},e.prototype.getRenderedCellForEvent=function(t){return Gt(this.gridOptionsService,t.target,Cu.DOM_DATA_KEY_CELL_CTRL)},e.prototype.isEventFromThisGrid=function(t){return this.isElementInThisGrid(t.target)},e.prototype.isElementInThisGrid=function(t){for(var e=t;e;){var o=e[n.GRID_DOM_KEY];if(r(o))return o===this.gridInstanceId;e=e.parentElement}return!1},e.prototype.getCellPositionForEvent=function(t){var e=this.getRenderedCellForEvent(t);return e?e.getCellPosition():null},e.prototype.getNormalisedPosition=function(t){var e,n,o=this.gridOptionsService.isDomLayout("normal"),r=t;if(null!=r.clientX||null!=r.clientY?(e=r.clientX,n=r.clientY):(e=r.x,n=r.y),o){var i=this.ctrlsService.getGridBodyCtrl(),s=i.getScrollFeature().getVScrollPosition();e+=i.getScrollFeature().getHScrollPosition().left,n+=s.top}return{x:e,y:n}},e.gridInstanceSequence=new cr,e.GRID_DOM_KEY="__ag_grid_instance",fc([nt("ctrlsService")],e.prototype,"ctrlsService",void 0),e=n=fc([et("mouseEventService")],e)}(Ut),vc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),mc=function(){return mc=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},mc.apply(this,arguments)},yc=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Cc=function(t){function e(){var e=t.call(this)||this;return e.onPageDown=j(e.onPageDown,100),e.onPageUp=j(e.onPageUp,100),e}return vc(e,t),e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady((function(e){t.gridBodyCon=e.gridBodyCtrl}))},e.prototype.handlePageScrollingKey=function(t,e){void 0===e&&(e=!1);var n=t.key,o=t.altKey,r=t.ctrlKey||t.metaKey,i=!!this.rangeService&&t.shiftKey,s=this.mouseEventService.getCellPositionForEvent(t),a=!1;switch(n){case qo.PAGE_HOME:case qo.PAGE_END:r||o||(this.onHomeOrEndKey(n),a=!0);break;case qo.LEFT:case qo.RIGHT:case qo.UP:case qo.DOWN:if(!s)return!1;!r||o||i||(this.onCtrlUpDownLeftRight(n,s),a=!0);break;case qo.PAGE_DOWN:case qo.PAGE_UP:r||o||(a=this.handlePageUpDown(n,s,e))}return a&&t.preventDefault(),a},e.prototype.handlePageUpDown=function(t,e,n){return n&&(e=this.focusService.getFocusedCell()),!!e&&(t===qo.PAGE_UP?this.onPageUp(e):this.onPageDown(e),!0)},e.prototype.navigateTo=function(t){var e=t.scrollIndex,n=t.scrollType,o=t.scrollColumn,i=t.focusIndex,s=t.focusColumn;if(r(o)&&!o.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(o),r(e)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e,n),t.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(i),this.focusService.setFocusedCell({rowIndex:i,column:s,rowPinned:null,forceBrowserFocus:!0}),this.rangeService){var a={rowIndex:i,rowPinned:null,column:s};this.rangeService.setRangeToCell(a)}},e.prototype.onPageDown=function(t){var e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),n=this.getViewportHeight(),o=this.paginationProxy.getPixelOffset(),r=e.top+n,i=this.paginationProxy.getRowIndexAtPixel(r+o);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(t,i):this.navigateToNextPage(t,i)},e.prototype.onPageUp=function(t){var e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),n=this.paginationProxy.getPixelOffset(),o=e.top,r=this.paginationProxy.getRowIndexAtPixel(o+n);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(t,r,!0):this.navigateToNextPage(t,r,!0)},e.prototype.navigateToNextPage=function(t,e,n){void 0===n&&(n=!1);var o,r=this.getViewportHeight(),i=this.paginationProxy.getPageFirstRow(),s=this.paginationProxy.getPageLastRow(),a=this.paginationProxy.getPixelOffset(),l=this.paginationProxy.getRow(t.rowIndex),u=n?(null===l||void 0===l?void 0:l.rowHeight)-r-a:r-a,c=(null===l||void 0===l?void 0:l.rowTop)+u,d=this.paginationProxy.getRowIndexAtPixel(c+a);if(d===t.rowIndex){var p=n?-1:1;e=d=t.rowIndex+p}n?(o="bottom",d<i&&(d=i),e<i&&(e=i)):(o="top",d>s&&(d=s),e>s&&(e=s)),this.isRowTallerThanView(d)&&(e=d,o="top"),this.navigateTo({scrollIndex:e,scrollType:o,scrollColumn:null,focusIndex:d,focusColumn:t.column})},e.prototype.navigateToNextPageWithAutoHeight=function(t,e,n){var o=this;void 0===n&&(n=!1),this.navigateTo({scrollIndex:e,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:e,focusColumn:t.column}),setTimeout((function(){var r=o.getNextFocusIndexForAutoHeight(t,n);o.navigateTo({scrollIndex:e,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:r,focusColumn:t.column,isAsync:!0})}),50)},e.prototype.getNextFocusIndexForAutoHeight=function(t,e){var n;void 0===e&&(e=!1);for(var o=e?-1:1,r=this.getViewportHeight(),i=this.paginationProxy.getPageLastRow(),s=0,a=t.rowIndex;a>=0&&a<=i;){var l=this.paginationProxy.getRow(a);if(l){var u=null!==(n=l.rowHeight)&&void 0!==n?n:0;if(s+u>r)break;s+=u}a+=o}return Math.max(0,Math.min(a,i))},e.prototype.getViewportHeight=function(){var t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),e=this.gridOptionsService.getScrollbarWidth(),n=t.bottom-t.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(n-=e),n},e.prototype.isRowTallerThanView=function(t){var e=this.paginationProxy.getRow(t);if(!e)return!1;var n=e.rowHeight;return"number"===typeof n&&n>this.getViewportHeight()},e.prototype.onCtrlUpDownLeftRight=function(t,e){var n=this.cellNavigationService.getNextCellToFocus(t,e,!0),o=n.rowIndex,r=n.column;this.navigateTo({scrollIndex:o,scrollType:null,scrollColumn:r,focusIndex:o,focusColumn:r})},e.prototype.onHomeOrEndKey=function(t){var e=t===qo.PAGE_HOME,n=this.columnModel.getAllDisplayedColumns(),o=e?n[0]:Ct(n),r=e?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:r,scrollType:null,scrollColumn:o,focusIndex:r,focusColumn:o})},e.prototype.onTabKeyDown=function(t,e){var n=e.shiftKey;if(this.tabToNextCellCommon(t,n,e))e.preventDefault();else if(n){var o=t.getRowPosition(),r=o.rowIndex;(o.rowPinned?0===r:r===this.paginationProxy.getPageFirstRow())&&(0===this.gridOptionsService.get("headerHeight")?this.focusService.focusNextGridCoreContainer(!0,!0):(e.preventDefault(),this.focusService.focusPreviousFromFirstCell(e)))}else t instanceof Cu&&t.focusCell(!0),this.focusService.focusNextGridCoreContainer(n)&&e.preventDefault()},e.prototype.tabToNextCell=function(t,e){var n=this.focusService.getFocusedCell();if(!n)return!1;var o=this.getCellByPosition(n);return!!(o||(o=this.rowRenderer.getRowByPosition(n))&&o.isFullWidth())&&this.tabToNextCellCommon(o,t,e)},e.prototype.tabToNextCellCommon=function(t,e,n){var o=t.isEditing();if(!o&&t instanceof Cu){var r=t.getRowCtrl();r&&(o=r.isEditing())}return(o?"fullRow"===this.gridOptionsService.get("editType")?this.moveToNextEditingRow(t,e,n):this.moveToNextEditingCell(t,e,n):this.moveToNextCellNotEditing(t,e))||!!this.focusService.getFocusedHeader()},e.prototype.moveToNextEditingCell=function(t,e,n){void 0===n&&(n=null);var o=t.getCellPosition();t.getGui().focus(),t.stopEditing();var r=this.findNextCellToFocusOn(o,e,!0);return null!=r&&(r.startEditing(null,!0,n),r.focusCell(!1),!0)},e.prototype.moveToNextEditingRow=function(t,e,n){void 0===n&&(n=null);var o=t.getCellPosition(),r=this.findNextCellToFocusOn(o,e,!0);if(null==r)return!1;var i=r.getCellPosition(),s=this.isCellEditable(o),a=this.isCellEditable(i),l=i&&o.rowIndex===i.rowIndex&&o.rowPinned===i.rowPinned;(s&&t.setFocusOutOnEditor(),l)||(t.getRowCtrl().stopEditing(),r.getRowCtrl().startRowEditing(void 0,void 0,n));return a?(r.setFocusInOnEditor(),r.focusCell()):r.focusCell(!0),!0},e.prototype.moveToNextCellNotEditing=function(t,e){var n,o=this.columnModel.getAllDisplayedColumns();n=t instanceof Tu?mc(mc({},t.getRowPosition()),{column:e?o[0]:Ct(o)}):t.getCellPosition();var i=this.findNextCellToFocusOn(n,e,!1);if(i instanceof Cu)i.focusCell(!0);else if(i)return this.tryToFocusFullWidthRow(i.getRowPosition(),e);return r(i)},e.prototype.findNextCellToFocusOn=function(t,e,n){for(var o=t;;){t!==o&&(t=o),e||(o=this.getLastCellOfColSpan(o)),o=this.cellNavigationService.getNextTabbedCell(o,e);var i=this.gridOptionsService.getCallback("tabToNextCell");if(r(i)){var s=i({backwards:e,editing:n,previousCellPosition:t,nextCellPosition:o||null});r(s)?(s.floating&&(L("tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?"),s.rowPinned=s.floating),o={rowIndex:s.rowIndex,column:s.column,rowPinned:s.rowPinned}):o=null}if(!o)return null;if(o.rowIndex<0){var a=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a+o.rowIndex,column:o.column},fromCell:!0}),null}var l="fullRow"===this.gridOptionsService.get("editType");if(n&&!l)if(!this.isCellEditable(o))continue;this.ensureCellVisible(o);var u=this.getCellByPosition(o);if(!u){var c=this.rowRenderer.getRowByPosition(o);if(!c||!c.isFullWidth()||n)continue;return c}if(!u.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(o),u}},e.prototype.isCellEditable=function(t){var e=this.lookupRowNodeForCell(t);return!!e&&t.column.isCellEditable(e)},e.prototype.getCellByPosition=function(t){var e=this.rowRenderer.getRowByPosition(t);return e?e.getCellCtrl(t.column):null},e.prototype.lookupRowNodeForCell=function(t){return"top"===t.rowPinned?this.pinnedRowModel.getPinnedTopRow(t.rowIndex):"bottom"===t.rowPinned?this.pinnedRowModel.getPinnedBottomRow(t.rowIndex):this.paginationProxy.getRow(t.rowIndex)},e.prototype.navigateToNextCell=function(t,e,n,o){for(var s=n,a=!1;s&&(s===n||!this.isValidNavigateCell(s));)this.gridOptionsService.get("enableRtl")?e===qo.LEFT&&(s=this.getLastCellOfColSpan(s)):e===qo.RIGHT&&(s=this.getLastCellOfColSpan(s)),a=i(s=this.cellNavigationService.getNextCellToFocus(e,s));if(a&&t&&t.key===qo.UP&&(s={rowIndex:-1,rowPinned:null,column:n.column}),o){var l=this.gridOptionsService.getCallback("navigateToNextCell");if(r(l)){var u=l({key:e,previousCellPosition:n,nextCellPosition:s||null,event:t});r(u)?(u.floating&&(L("tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?"),u.rowPinned=u.floating),s={rowPinned:u.rowPinned,rowIndex:u.rowIndex,column:u.column}):s=null}}if(s)if(s.rowIndex<0){var c=this.headerNavigationService.getHeaderRowCount();this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:c+s.rowIndex,column:n.column},event:t||void 0,fromCell:!0})}else{var d=this.getNormalisedPosition(s);d?this.focusPosition(d):this.tryToFocusFullWidthRow(s)}},e.prototype.getNormalisedPosition=function(t){this.ensureCellVisible(t);var e=this.getCellByPosition(t);return e?(t=e.getCellPosition(),this.ensureCellVisible(t),t):null},e.prototype.tryToFocusFullWidthRow=function(t,e){void 0===e&&(e=!1);var n=this.columnModel.getAllDisplayedColumns(),o=this.rowRenderer.getRowByPosition(t);if(!o||!o.isFullWidth())return!1;var r=this.focusService.getFocusedCell(),i={rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:t.column||(e?Ct(n):n[0])};this.focusPosition(i);var s=null!=r&&this.rowPositionUtils.before(i,r),a={type:$t.EVENT_FULL_WIDTH_ROW_FOCUSED,rowIndex:i.rowIndex,rowPinned:i.rowPinned,column:i.column,isFullWidthCell:!0,floating:i.rowPinned,fromBelow:s};return this.eventService.dispatchEvent(a),!0},e.prototype.focusPosition=function(t){this.focusService.setFocusedCell({rowIndex:t.rowIndex,column:t.column,rowPinned:t.rowPinned,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell(t)},e.prototype.isValidNavigateCell=function(t){return!!this.rowPositionUtils.getRowNode(t)},e.prototype.getLastCellOfColSpan=function(t){var e=this.getCellByPosition(t);if(!e)return t;var n=e.getColSpanningList();return 1===n.length?t:{rowIndex:t.rowIndex,column:Ct(n),rowPinned:t.rowPinned}},e.prototype.ensureCellVisible=function(t){var e=this.gridOptionsService.isGroupRowsSticky(),n=this.rowModel.getRow(t.rowIndex);!(e&&(null===n||void 0===n?void 0:n.sticky))&&i(t.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(t.rowIndex),t.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(t.column)},yc([nt("mouseEventService")],e.prototype,"mouseEventService",void 0),yc([nt("paginationProxy")],e.prototype,"paginationProxy",void 0),yc([nt("focusService")],e.prototype,"focusService",void 0),yc([ot("rangeService")],e.prototype,"rangeService",void 0),yc([nt("columnModel")],e.prototype,"columnModel",void 0),yc([nt("rowModel")],e.prototype,"rowModel",void 0),yc([nt("ctrlsService")],e.prototype,"ctrlsService",void 0),yc([nt("rowRenderer")],e.prototype,"rowRenderer",void 0),yc([nt("headerNavigationService")],e.prototype,"headerNavigationService",void 0),yc([nt("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),yc([nt("cellNavigationService")],e.prototype,"cellNavigationService",void 0),yc([nt("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),yc([J],e.prototype,"postConstruct",null),e=yc([et("navigationService")],e)}(Ut),wc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),bc=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},_c=function(t){function e(e){var n=t.call(this,'<div class="ag-popup-editor" tabindex="-1"/>')||this;return n.params=e,n}return wc(e,t),e.prototype.postConstruct=function(){this.gridOptionsService.setDomData(this.getGui(),e.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()},e.prototype.addKeyDownListener=function(){var t=this,e=this.getGui(),n=this.params;this.addManagedListener(e,"keydown",(function(e){Xo(t.gridOptionsService,e,n.node,n.column,!0)||n.onKeyDown(e)}))},e.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",bc([J],e.prototype,"postConstruct",null),e}(fs),Sc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ec=function(t){function e(e,n,o,r,i){var s=t.call(this)||this;s.rendererVersion=0,s.editorVersion=0,s.beans=e,s.column=n.getColumn(),s.rowNode=n.getRowNode(),s.rowCtrl=n.getRowCtrl(),s.eRow=r,s.cellCtrl=n,s.setTemplate('<div comp-id="'.concat(s.getCompId(),'"/>'));var a=s.getGui();s.forceWrapper=n.isForceWrapper(),s.refreshWrapper(!1);var l=function(t,e){null!=e&&""!=e?a.setAttribute(t,e):a.removeAttribute(t)};je(a,n.getCellAriaRole()),l("col-id",n.getColumnIdSanitised());var u=n.getTabIndex();void 0!==u&&l("tabindex",u.toString());var c={addOrRemoveCssClass:function(t,e){return s.addOrRemoveCssClass(t,e)},setUserStyles:function(t){return xo(a,t)},getFocusableElement:function(){return s.getFocusableElement()},setIncludeSelection:function(t){return s.includeSelection=t},setIncludeRowDrag:function(t){return s.includeRowDrag=t},setIncludeDndSource:function(t){return s.includeDndSource=t},setRenderDetails:function(t,e,n){return s.setRenderDetails(t,e,n)},setEditDetails:function(t,e,n){return s.setEditDetails(t,e,n)},getCellEditor:function(){return s.cellEditor||null},getCellRenderer:function(){return s.cellRenderer||null},getParentOfValue:function(){return s.getParentOfValue()}};return n.setComp(c,s.getGui(),s.eCellWrapper,o,i),s}return Sc(e,t),e.prototype.getParentOfValue=function(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()},e.prototype.setRenderDetails=function(t,e,n){if(!(this.cellEditor&&!this.cellEditorPopupWrapper)){this.firstRender=null==this.firstRender;var o=this.refreshWrapper(!1);if(this.refreshEditStyles(!1),t)!(n||o)&&this.refreshCellRenderer(t)||(this.destroyRenderer(),this.createCellRendererInstance(t));else this.destroyRenderer(),this.insertValueWithoutCellRenderer(e)}},e.prototype.setEditDetails=function(t,e,n){t?this.createCellEditorInstance(t,e,n):this.destroyEditor()},e.prototype.removeControls=function(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)},e.prototype.refreshWrapper=function(t){var e=this.includeRowDrag||this.includeDndSource||this.includeSelection,n=e||this.forceWrapper,o=n&&null==this.eCellWrapper;o&&(this.eCellWrapper=wo('<div class="ag-cell-wrapper" role="presentation"></div>'),this.getGui().appendChild(this.eCellWrapper));var r=!n&&null!=this.eCellWrapper;r&&(yo(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!n);var i=!t&&n,s=i&&null==this.eCellValue;s&&(this.eCellValue=wo('<span class="ag-cell-value" role="presentation"></span>'),this.eCellWrapper.appendChild(this.eCellValue));var a=!i&&null!=this.eCellValue;a&&(yo(this.eCellValue),this.eCellValue=void 0);var l=o||r||s||a;return l&&this.removeControls(),t||e&&this.addControls(),l},e.prototype.addControls=function(){this.includeRowDrag&&null==this.rowDraggingComp&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&null==this.dndSourceComp&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&null==this.checkboxSelectionComp&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))},e.prototype.createCellEditorInstance=function(t,e,n){var o=this,r=this.editorVersion,s=t.newAgStackInstance();if(s){var a=t.params;s.then((function(t){return o.afterCellEditorCreated(r,t,a,e,n)})),i(this.cellEditor)&&a.cellStartedEdit&&this.cellCtrl.focusCell(!0)}},e.prototype.insertValueWithoutCellRenderer=function(t){var e=this.getParentOfValue();mo(e);var n=null!=t?se(t):null;null!=n&&(e.innerHTML=n)},e.prototype.destroyEditorAndRenderer=function(){this.destroyRenderer(),this.destroyEditor()},e.prototype.destroyRenderer=function(){var t=this.beans.context;this.cellRenderer=t.destroyBean(this.cellRenderer),yo(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++},e.prototype.destroyEditor=function(){var t=this.beans.context;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=t.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=t.destroyBean(this.cellEditorPopupWrapper),yo(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++},e.prototype.refreshCellRenderer=function(t){if(null==this.cellRenderer||null==this.cellRenderer.refresh)return!1;if(this.cellRendererClass!==t.componentClass)return!1;var e=this.cellRenderer.refresh(t.params);return!0===e||void 0===e},e.prototype.createCellRendererInstance=function(t){var e=this,n=!this.beans.gridOptionsService.get("suppressAnimationFrame"),o=this.rendererVersion,r=t.componentClass,i=function(){if(!(e.rendererVersion!==o||!e.isAlive())){var n=t.newAgStackInstance(),i=e.afterCellRendererCreated.bind(e,o,r);n&&n.then(i)}};n&&this.firstRender?this.beans.animationFrameService.createTask(i,this.rowNode.rowIndex,"createTasksP2"):i()},e.prototype.getCtrl=function(){return this.cellCtrl},e.prototype.getRowCtrl=function(){return this.rowCtrl},e.prototype.getCellRenderer=function(){return this.cellRenderer},e.prototype.getCellEditor=function(){return this.cellEditor},e.prototype.afterCellRendererCreated=function(t,e,n){if(!this.isAlive()||t!==this.rendererVersion)this.beans.context.destroyBean(n);else if(this.cellRenderer=n,this.cellRendererClass=e,this.cellRendererGui=this.cellRenderer.getGui(),null!=this.cellRendererGui){var o=this.getParentOfValue();mo(o),o.appendChild(this.cellRendererGui)}},e.prototype.afterCellEditorCreated=function(t,e,n,o,r){if(t!==this.editorVersion)this.beans.context.destroyBean(e);else{if(e.isCancelBeforeStart&&e.isCancelBeforeStart())return this.beans.context.destroyBean(e),void this.cellCtrl.stopEditing(!0);if(!e.getGui)return console.warn("AG Grid: cellEditor for column ".concat(this.column.getId()," is missing getGui() method")),void this.beans.context.destroyBean(e);this.cellEditor=e,this.cellEditorGui=e.getGui();var i=o||void 0!==e.isPopup&&e.isPopup();i?this.addPopupCellEditor(n,r):this.addInCellEditor(),this.refreshEditStyles(!0,i),e.afterGuiAttached&&e.afterGuiAttached()}},e.prototype.refreshEditStyles=function(t,e){var n;this.addOrRemoveCssClass("ag-cell-inline-editing",t&&!e),this.addOrRemoveCssClass("ag-cell-popup-editing",t&&!!e),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!t||!!e),null===(n=this.rowCtrl)||void 0===n||n.setInlineEditingCss(t)},e.prototype.addInCellEditor=function(){var t=this.getGui(),e=this.beans.gridOptionsService.getDocument();(t.contains(e.activeElement)&&t.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui)&&this.getParentOfValue().appendChild(this.cellEditorGui)},e.prototype.addPopupCellEditor=function(t,e){var n=this;"fullRow"===this.beans.gridOptionsService.get("editType")&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");var o=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new _c(t));var r=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&r.appendChild(this.cellEditorGui);var i=this.beans.popupService,s=this.beans.gridOptionsService.get("stopEditingWhenCellsLoseFocus"),a=null!=e?e:o.getPopupPosition?o.getPopupPosition():"over",l=this.beans.gridOptionsService.get("enableRtl"),u={ePopup:r,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:a,alignSide:l?"right":"left",keepWithinBounds:!0},c=i.positionPopupByComponent.bind(i,u),d=this.beans.localeService.getLocaleTextFunc(),p=i.addPopup({modal:s,eChild:r,closeOnEsc:!0,closedCallback:function(){n.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:c,ariaLabel:d("ariaLabelCellEditor","Cell Editor")});p&&(this.hideEditorPopup=p.hideFunc)},e.prototype.detach=function(){this.eRow.removeChild(this.getGui())},e.prototype.destroy=function(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),t.prototype.destroy.call(this)},e.prototype.clearParentOfValue=function(){var t=this.getGui(),e=this.beans.gridOptionsService.getDocument();t.contains(e.activeElement)&&Ln()&&t.focus({preventScroll:!0}),mo(this.getParentOfValue())},e}(Sr),Oc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),xc=function(t){function e(e,n,o){var r=t.call(this)||this;r.cellComps={},r.beans=n,r.rowCtrl=e,r.setTemplate('<div comp-id="'.concat(r.getCompId(),'" style="').concat(r.getInitialStyle(o),'"/>'));var i=r.getGui(),s=i.style;r.domOrder=r.rowCtrl.getDomOrder(),je(i,"row");var a=r.rowCtrl.getTabIndex();null!=a&&i.setAttribute("tabindex",a.toString());var l={setDomOrder:function(t){return r.domOrder=t},setCellCtrls:function(t){return r.setCellCtrls(t)},showFullWidth:function(t){return r.showFullWidth(t)},getFullWidthCellRenderer:function(){return r.getFullWidthCellRenderer()},addOrRemoveCssClass:function(t,e){return r.addOrRemoveCssClass(t,e)},setUserStyles:function(t){return xo(i,t)},setTop:function(t){return s.top=t},setTransform:function(t){return s.transform=t},setRowIndex:function(t){return i.setAttribute("row-index",t)},setRowId:function(t){return i.setAttribute("row-id",t)},setRowBusinessKey:function(t){return i.setAttribute("row-business-key",t)}};return e.setComp(l,r.getGui(),o),r.addDestroyFunc((function(){e.unsetComp(o)})),r}return Oc(e,t),e.prototype.getInitialStyle=function(t){var e=this.rowCtrl.getInitialTransform(t),n=this.rowCtrl.getInitialRowTop(t);return e?"transform: ".concat(e):"top: ".concat(n)},e.prototype.showFullWidth=function(t){var e=this,n=t.newAgStackInstance();n&&n.then((function(t){if(e.isAlive()){var n=t.getGui();e.getGui().appendChild(n),e.rowCtrl.setupDetailRowAutoHeight(n),e.setFullWidthRowComp(t)}else e.beans.context.destroyBean(t)}))},e.prototype.setCellCtrls=function(t){var e=this,n=Object.assign({},this.cellComps);t.forEach((function(t){var o=t.getInstanceId();null==e.cellComps[o]?e.newCellComp(t):n[o]=null}));var o=S(n).filter((function(t){return null!=t}));this.destroyCells(o),this.ensureDomOrder(t)},e.prototype.ensureDomOrder=function(t){var e=this;if(this.domOrder){var n=[];t.forEach((function(t){var o=e.cellComps[t.getInstanceId()];o&&n.push(o.getGui())})),Eo(this.getGui(),n)}},e.prototype.newCellComp=function(t){var e=new Ec(this.beans,t,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[t.getInstanceId()]=e,this.getGui().appendChild(e.getGui())},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.destroyAllCells()},e.prototype.destroyAllCells=function(){var t=S(this.cellComps).filter((function(t){return null!=t}));this.destroyCells(t)},e.prototype.setFullWidthRowComp=function(t){var e=this;this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=t,this.addDestroyFunc((function(){e.fullWidthCellRenderer=e.beans.context.destroyBean(e.fullWidthCellRenderer)}))},e.prototype.getFullWidthCellRenderer=function(){return this.fullWidthCellRenderer},e.prototype.destroyCells=function(t){var e=this;t.forEach((function(t){if(t){var n=t.getCtrl().getInstanceId();e.cellComps[n]===t&&(t.detach(),t.destroy(),e.cellComps[n]=null)}}))},e}(Sr),Tc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Rc=function(){return Rc=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},Rc.apply(this,arguments)},Dc=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};var Pc,Lc=function(t){function e(){var e=t.call(this,function(){var t=Sr.elementGettingCreated.getAttribute("name"),e=ic.getRowContainerCssClasses(t);return t===Eu.CENTER||t===Eu.TOP_CENTER||t===Eu.STICKY_TOP_CENTER||t===Eu.BOTTOM_CENTER?'<div class="'.concat(e.viewport,'" ref="eViewport" role="presentation">\n                <div class="').concat(e.container,'" ref="eContainer"></div>\n            </div>'):'<div class="'.concat(e.container,'" ref="eContainer"></div>')}())||this;return e.rowComps={},e.name=Sr.elementGettingCreated.getAttribute("name"),e.type=nc(e.name),e}return Tc(e,t),e.prototype.postConstruct=function(){var t=this,e={setViewportHeight:function(e){return t.eViewport.style.height=e},setRowCtrls:function(e){return t.setRowCtrls(e)},setDomOrder:function(e){t.domOrder=e},setContainerWidth:function(e){return t.eContainer.style.width=e}};this.createManagedBean(new ic(this.name)).setComp(e,this.eContainer,this.eViewport)},e.prototype.preDestroy=function(){this.setRowCtrls([])},e.prototype.setRowCtrls=function(t){var e=this,n=Rc({},this.rowComps);this.rowComps={},this.lastPlacedElement=null;t.forEach((function(t){var o=t.getInstanceId(),r=n[o];if(r)e.rowComps[o]=r,delete n[o],e.ensureDomOrder(r.getGui());else{if(!t.getRowNode().displayed)return;var i=new xc(t,e.beans,e.type);e.rowComps[o]=i,e.appendRow(i.getGui())}})),S(n).forEach((function(t){e.eContainer.removeChild(t.getGui()),t.destroy()})),je(this.eContainer,t.length?"rowgroup":"presentation")},e.prototype.appendRow=function(t){this.domOrder?Oo(this.eContainer,t,this.lastPlacedElement):this.eContainer.appendChild(t),this.lastPlacedElement=t},e.prototype.ensureDomOrder=function(t){this.domOrder&&(So(this.eContainer,t,this.lastPlacedElement),this.lastPlacedElement=t)},Dc([nt("beans")],e.prototype,"beans",void 0),Dc([Or("eViewport")],e.prototype,"eViewport",void 0),Dc([Or("eContainer")],e.prototype,"eContainer",void 0),Dc([J],e.prototype,"postConstruct",null),Dc([tt],e.prototype,"preDestroy",null),e}(Sr),Mc=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ac=function(){function t(t){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=t}return t.prototype.onDragEnter=function(t){var e=this;if(this.clearColumnsList(),!this.gridOptionsService.get("functionsReadOnly")){var n=t.dragItem.columns;n&&n.forEach((function(t){t.isPrimary()&&(t.isAnyFunctionActive()||(t.isAllowValue()?e.columnsToAggregate.push(t):t.isAllowRowGroup()?e.columnsToGroup.push(t):t.isAllowPivot()&&e.columnsToPivot.push(t)))}))}},t.prototype.getIconName=function(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?zs.ICON_PINNED:zs.ICON_MOVE:null},t.prototype.onDragLeave=function(t){this.clearColumnsList()},t.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},t.prototype.onDragging=function(t){},t.prototype.onDragStop=function(t){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")},Mc([nt("columnModel")],t.prototype,"columnModel",void 0),Mc([nt("gridOptionsService")],t.prototype,"gridOptionsService",void 0),t}(),kc=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},Nc=function(){function t(){}return t.attemptMoveColumns=function(t){var e=t.isFromHeader,n=t.hDirection,o=t.xPosition,r=t.fromEnter,i=t.fakeEvent,s=t.pinned,a=t.gridOptionsService,l=t.columnModel,u=n===Bi.Left,c=n===Bi.Right,d=t.allMovingColumns;if(e){var p=[];d.forEach((function(t){for(var e,n=null,o=t.getParent();null!=o&&1===o.getDisplayedLeafColumns().length;)n=o,o=o.getParent();null!=n?(!!(null===(e=n.getColGroupDef())||void 0===e?void 0:e.marryChildren)?n.getProvidedColumnGroup().getLeafColumns():n.getLeafColumns()).forEach((function(t){p.includes(t)||p.push(t)})):p.includes(t)||p.push(t)})),d=p}var h=d.slice();l.sortColumnsLikeGridColumns(h);var f=this.calculateValidMoves({movingCols:h,draggingRight:c,xPosition:o,pinned:s,gridOptionsService:a,columnModel:l}),g=this.calculateOldIndex(h,l);if(0!==f.length){var v=f[0],m=null!==g&&!r;if(e&&(m=null!==g),m&&!i){if(u&&v>=g)return;if(c&&v<=g)return}for(var y=l.getAllDisplayedColumns(),C=[],w=null,b=0;b<f.length;b++){var _=f[b],S=l.getProposedColumnOrder(h,_);if(l.doesOrderPassRules(S)){var E=S.filter((function(t){return y.includes(t)}));if(null===w)w=E;else if(!wt(E,w))break;var O=this.groupFragCount(S);C.push({move:_,fragCount:O})}}if(0!==C.length)return C.sort((function(t,e){return t.fragCount-e.fragCount})),this.moveColumns(d,C[0].move,"uiColumnMoved",!1,l)}},t.moveColumns=function(t,e,n,o,r){return r.moveColumns(t,e,n,o),o?null:{columns:t,toIndex:e}},t.calculateOldIndex=function(t,e){var n=e.getAllGridColumns(),o=bt(t.map((function(t){return n.indexOf(t)}))),r=o[0];return Ct(o)-r!==o.length-1?null:r},t.groupFragCount=function(t){function e(t){for(var e=[],n=t.getOriginalParent();null!=n;)e.push(n),n=n.getOriginalParent();return e}for(var n=0,o=function(o){var r,i=e(t[o]),s=e(t[o+1]);i=(r=kc(i.length>s.length?[i,s]:[s,i],2))[0],s=r[1],i.forEach((function(t){-1===s.indexOf(t)&&n++}))},r=0;r<t.length-1;r++)o(r);return n},t.calculateValidMoves=function(t){var e=t.movingCols,n=t.draggingRight,o=t.xPosition,r=t.pinned,i=t.gridOptionsService,s=t.columnModel,a=i.get("suppressMovableColumns")||e.some((function(t){return t.getColDef().suppressMovable}));if(a)return[];var l,u=s.getDisplayedColumns(r),c=s.getAllGridColumns(),d=u.filter((function(t){return Rt(e,t)})),p=u.filter((function(t){return!Rt(e,t)})),h=c.filter((function(t){return!Rt(e,t)})),f=0,g=o;if(n){var v=0;d.forEach((function(t){return v+=t.getActualWidth()})),g-=v}if(g>0){for(var m=0;m<p.length;m++){if((g-=p[m].getActualWidth())<0)break;f++}n&&f++}if(f>0){var y=p[f-1];l=h.indexOf(y)+1}else-1===(l=h.indexOf(p[0]))&&(l=0);var C=[l],w=function(t,e){return t-e};if(n){for(var b=l+1,_=c.length-1;b<=_;)C.push(b),b++;C.sort(w)}else{b=l,_=c.length-1;for(var S=c[b];b<=_&&u.indexOf(S)<0;)b++,C.push(b),S=c[b];b=l-1;for(;b>=0;)C.push(b),b--;C.sort(w).reverse()}return C},t.normaliseX=function(t,e,n,o,r){var i=r.getHeaderRowContainerCtrl(e).getViewport();(n&&(t-=i.getBoundingClientRect().left),o.get("enableRtl"))&&(t=i.clientWidth-t);return null==e&&(t+=r.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),t},t}(),Fc=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ic=function(){function t(t,e){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=t,this.eContainer=e,this.centerContainer=!r(t)}return t.prototype.init=function(){var t=this;this.ctrlsService.whenReady((function(){t.gridBodyCon=t.ctrlsService.getGridBodyCtrl()}))},t.prototype.getIconName=function(){return this.pinned?zs.ICON_PINNED:zs.ICON_MOVE},t.prototype.onDragEnter=function(t){var e=t.dragItem.columns;if(t.dragSource.type===Hs.ToolPanel)this.setColumnsVisible(e,!0,"uiColumnDragged");else{var n=t.dragItem.visibleState,o=(e||[]).filter((function(t){return n[t.getId()]}));this.setColumnsVisible(o,!0,"uiColumnDragged")}this.setColumnsPinned(e,this.pinned,"uiColumnDragged"),this.onDragging(t,!0,!0)},t.prototype.onDragLeave=function(){this.ensureIntervalCleared(),this.lastMovedInfo=null},t.prototype.setColumnsVisible=function(t,e,n){if(void 0===n&&(n="api"),t){var o=t.filter((function(t){return!t.getColDef().lockVisible}));this.columnModel.setColumnsVisible(o,e,n)}},t.prototype.setColumnsPinned=function(t,e,n){if(void 0===n&&(n="api"),t){var o=t.filter((function(t){return!t.getColDef().lockPinned}));this.columnModel.setColumnsPinned(o,e,n)}},t.prototype.onDragStop=function(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null},t.prototype.checkCenterForScrolling=function(t){if(this.centerContainer){var e=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),n=e+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsService.get("enableRtl")?(this.needToMoveRight=t<e+50,this.needToMoveLeft=t>n-50):(this.needToMoveLeft=t<e+50,this.needToMoveRight=t>n-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},t.prototype.onDragging=function(t,e,n,o){var r,s=this;if(void 0===t&&(t=this.lastDraggingEvent),void 0===e&&(e=!1),void 0===n&&(n=!1),void 0===o&&(o=!1),o){if(this.lastMovedInfo){var a=this.lastMovedInfo,l=a.columns,u=a.toIndex;Nc.moveColumns(l,u,"uiColumnMoved",!0,this.columnModel)}}else if(this.lastDraggingEvent=t,!i(t.hDirection)){var c=Nc.normaliseX(t.x,this.pinned,!1,this.gridOptionsService,this.ctrlsService);e||this.checkCenterForScrolling(c);var d=this.normaliseDirection(t.hDirection),p=t.dragSource.type,h=(null===(r=t.dragSource.getDragItem().columns)||void 0===r?void 0:r.filter((function(t){return!t.getColDef().lockPinned||t.getPinned()==s.pinned})))||[],f=Nc.attemptMoveColumns({allMovingColumns:h,isFromHeader:p===Hs.HeaderCell,hDirection:d,xPosition:c,pinned:this.pinned,fromEnter:e,fakeEvent:n,gridOptionsService:this.gridOptionsService,columnModel:this.columnModel});f&&(this.lastMovedInfo=f)}},t.prototype.normaliseDirection=function(t){if(!this.gridOptionsService.get("enableRtl"))return t;switch(t){case Bi.Left:return Bi.Right;case Bi.Right:return Bi.Left;default:console.error("AG Grid: Unknown direction ".concat(t))}},t.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.needToMoveLeft?this.dragAndDropService.setGhostIcon(zs.ICON_LEFT,!0):this.dragAndDropService.setGhostIcon(zs.ICON_RIGHT,!0))},t.prototype.ensureIntervalCleared=function(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(zs.ICON_MOVE))},t.prototype.moveInterval=function(){var t;this.intervalCount++,(t=10+5*this.intervalCount)>100&&(t=100);var e=null,n=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?e=n.scrollHorizontally(-t):this.needToMoveRight&&(e=n.scrollHorizontally(t)),0!==e)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var o=this.lastDraggingEvent.dragItem.columns.filter((function(t){return!t.getColDef().lockPinned}));if(o.length>0&&(this.dragAndDropService.setGhostIcon(zs.ICON_PINNED),this.failedMoveAttempts>7)){var r=this.needToMoveLeft?"left":"right";this.setColumnsPinned(o,r,"uiColumnDragged"),this.dragAndDropService.nudge()}}},Fc([nt("columnModel")],t.prototype,"columnModel",void 0),Fc([nt("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Fc([nt("gridOptionsService")],t.prototype,"gridOptionsService",void 0),Fc([nt("ctrlsService")],t.prototype,"ctrlsService",void 0),Fc([J],t.prototype,"init",null),t}(),Gc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Hc=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Vc=function(t){function e(e,n){var o=t.call(this)||this;return o.pinned=e,o.eContainer=n,o}return Gc(e,t),e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady((function(e){switch(t.pinned){case"left":t.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.leftRowContainerCtrl.getContainerElement()],[e.bottomLeftRowContainerCtrl.getContainerElement()],[e.topLeftRowContainerCtrl.getContainerElement()]];break;case"right":t.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.rightRowContainerCtrl.getContainerElement()],[e.bottomRightRowContainerCtrl.getContainerElement()],[e.topRightRowContainerCtrl.getContainerElement()]];break;default:t.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.centerRowContainerCtrl.getViewportElement()],[e.bottomCenterRowContainerCtrl.getViewportElement()],[e.topCenterRowContainerCtrl.getViewportElement()]]}}))},e.prototype.isInterestedIn=function(t){return t===Hs.HeaderCell||t===Hs.ToolPanel&&this.gridOptionsService.get("allowDragFromColumnsToolPanel")},e.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},e.prototype.getContainer=function(){return this.eContainer},e.prototype.init=function(){this.moveColumnFeature=this.createManagedBean(new Ic(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new Ac(this.pinned)),this.dragAndDropService.addDropTarget(this)},e.prototype.getIconName=function(){return this.currentDropListener.getIconName()},e.prototype.isDropColumnInPivotMode=function(t){return this.columnModel.isPivotMode()&&t.dragSource.type===Hs.ToolPanel},e.prototype.onDragEnter=function(t){this.currentDropListener=this.isDropColumnInPivotMode(t)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(t)},e.prototype.onDragLeave=function(t){this.currentDropListener.onDragLeave(t)},e.prototype.onDragging=function(t){this.currentDropListener.onDragging(t)},e.prototype.onDragStop=function(t){this.currentDropListener.onDragStop(t)},Hc([nt("dragAndDropService")],e.prototype,"dragAndDropService",void 0),Hc([nt("columnModel")],e.prototype,"columnModel",void 0),Hc([nt("ctrlsService")],e.prototype,"ctrlsService",void 0),Hc([J],e.prototype,"postConstruct",null),Hc([J],e.prototype,"init",null),e}(Ut),jc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Bc=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Wc=function(t){function e(n){var o=t.call(this,e.TEMPLATE,n)||this;return o.headerCompVersion=0,o.column=n.getColumnGroupChild(),o.pinned=n.getPinned(),o}return jc(e,t),e.prototype.postConstruct=function(){var t,e,n=this,o=this.getGui();t="col-id",null!=(e=this.column.getColId())&&""!=e?o.setAttribute(t,e):o.removeAttribute(t);var r={setWidth:function(t){return o.style.width=t},addOrRemoveCssClass:function(t,e){return n.addOrRemoveCssClass(t,e)},setAriaDescription:function(t){return Ze(o,t)},setAriaSort:function(t){return t?dn(o,t):pn(o)},setUserCompDetails:function(t){return n.setUserCompDetails(t)},getUserCompInstance:function(){return n.headerComp}};this.ctrl.setComp(r,this.getGui(),this.eResize,this.eHeaderCompWrapper);var i=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",i)},e.prototype.destroyHeaderComp=function(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)},e.prototype.setUserCompDetails=function(t){var e=this;this.headerCompVersion++;var n=this.headerCompVersion;t.newAgStackInstance().then((function(t){return e.afterCompCreated(n,t)}))},e.prototype.afterCompCreated=function(t,e){t==this.headerCompVersion&&this.isAlive()?(this.destroyHeaderComp(),this.headerComp=e,this.headerCompGui=e.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())):this.destroyBean(e)},e.TEMPLATE='<div class="ag-header-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n            <div ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>\n        </div>',Bc([Or("eResize")],e.prototype,"eResize",void 0),Bc([Or("eHeaderCompWrapper")],e.prototype,"eHeaderCompWrapper",void 0),Bc([J],e.prototype,"postConstruct",null),Bc([tt],e.prototype,"destroyHeaderComp",null),e}(Sl),zc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Uc=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Yc=function(t){function e(n){return t.call(this,e.TEMPLATE,n)||this}return zc(e,t),e.prototype.postConstruct=function(){var t=this,e=this.getGui();e.setAttribute("col-id",this.ctrl.getColId());var n={addOrRemoveCssClass:function(e,n){return t.addOrRemoveCssClass(e,n)},setResizableDisplayed:function(e){return oo(t.eResize,e)},setWidth:function(t){return e.style.width=t},setAriaExpanded:function(t){return n="aria-expanded",void 0!=(o=t)?e.setAttribute(n,o):e.removeAttribute(n);var n,o},setUserCompDetails:function(e){return t.setUserCompDetails(e)},getUserCompInstance:function(){return t.headerGroupComp}};this.ctrl.setComp(n,e,this.eResize)},e.prototype.setUserCompDetails=function(t){var e=this;t.newAgStackInstance().then((function(t){return e.afterHeaderCompCreated(t)}))},e.prototype.afterHeaderCompCreated=function(t){var e=this,n=function(){return e.destroyBean(t)};if(this.isAlive()){var o=this.getGui(),r=t.getGui();o.appendChild(r),this.addDestroyFunc(n),this.headerGroupComp=t,this.ctrl.setDragSource(o)}else n()},e.TEMPLATE='<div class="ag-header-group-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',Uc([nt("userComponentFactory")],e.prototype,"userComponentFactory",void 0),Uc([Or("eResize")],e.prototype,"eResize",void 0),Uc([J],e.prototype,"postConstruct",null),e}(Sl),Kc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Zc=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t.COLUMN_GROUP="group",t.COLUMN="column",t.FLOATING_FILTER="filter"}(Pc||(Pc={}));var qc,Qc=function(t){function e(e){var n=t.call(this)||this;return n.headerComps={},n.ctrl=e,n.setTemplate('<div class="'.concat(n.ctrl.getHeaderRowClass(),'" role="row"></div>')),n}return Kc(e,t),e.prototype.init=function(){var t=this;this.getGui().style.transform=this.ctrl.getTransform(),an(this.getGui(),this.ctrl.getAriaRowIndex());var e={setHeight:function(e){return t.getGui().style.height=e},setTop:function(e){return t.getGui().style.top=e},setHeaderCtrls:function(e,n){return t.setHeaderCtrls(e,n)},setWidth:function(e){return t.getGui().style.width=e}};this.ctrl.setComp(e)},e.prototype.destroyHeaderCtrls=function(){this.setHeaderCtrls([],!1)},e.prototype.setHeaderCtrls=function(t,e){var n=this;if(this.isAlive()){var o=this.headerComps;if(this.headerComps={},t.forEach((function(t){var e=t.getInstanceId(),r=o[e];delete o[e],null==r&&(r=n.createHeaderComp(t),n.getGui().appendChild(r.getGui())),n.headerComps[e]=r})),v(o,(function(t,e){n.getGui().removeChild(e.getGui()),n.destroyBean(e)})),e){var r=S(this.headerComps);r.sort((function(t,e){return t.getCtrl().getColumnGroupChild().getLeft()-e.getCtrl().getColumnGroupChild().getLeft()}));var i=r.map((function(t){return t.getGui()}));Eo(this.getGui(),i)}}},e.prototype.createHeaderComp=function(t){var e;switch(this.ctrl.getType()){case Pc.COLUMN_GROUP:e=new Yc(t);break;case Pc.FLOATING_FILTER:e=new xl(t);break;default:e=new Wc(t)}return this.createBean(e),e.setParentComponent(this),e},Zc([J],e.prototype,"init",null),Zc([tt],e.prototype,"destroyHeaderCtrls",null),e}(Sr),Xc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),$c=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Jc=0,td=function(t){function e(e,n){var o=t.call(this)||this;return o.resizeToggleTimeout=0,o.resizeMultiplier=1,o.resizeFeature=null,o.lastFocusEvent=null,o.dragSource=null,o.columnGroupChild=e,o.parentRowCtrl=n,o.instanceId=e.getUniqueId()+"-"+Jc++,o}return Xc(e,t),e.prototype.shouldStopEventPropagation=function(t){var e=this.focusService.getFocusedHeader(),n=e.headerRowIndex,o=e.column;return $o(this.gridOptionsService,t,n,o)},e.prototype.getWrapperHasFocus=function(){return this.gridOptionsService.getDocument().activeElement===this.eGui},e.prototype.setGui=function(t){this.eGui=t,this.addDomData(),this.addManagedListener(this.beans.eventService,$t.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onDisplayedColumnsChanged()},e.prototype.onDisplayedColumnsChanged=function(){this.comp&&this.column&&(this.refreshFirstAndLastStyles(),this.refreshAriaColIndex())},e.prototype.refreshFirstAndLastStyles=function(){var t=this,e=t.comp,n=t.column,o=t.beans;gu.refreshFirstAndLastStyles(e,n,o.columnModel)},e.prototype.refreshAriaColIndex=function(){var t=this.beans,e=this.column,n=t.columnModel.getAriaColumnIndex(e);un(this.eGui,n)},e.prototype.addResizeAndMoveKeyboardListeners=function(){this.resizeFeature&&(this.addManagedListener(this.eGui,"keydown",this.onGuiKeyDown.bind(this)),this.addManagedListener(this.eGui,"keyup",this.onGuiKeyUp.bind(this)))},e.prototype.onGuiKeyDown=function(t){var e,n=this.gridOptionsService.getDocument().activeElement,o=t.key===qo.LEFT||t.key===qo.RIGHT;if(this.isResizing&&(t.preventDefault(),t.stopImmediatePropagation()),n===this.eGui&&(t.shiftKey||t.altKey)&&((this.isResizing||o)&&(t.preventDefault(),t.stopImmediatePropagation()),o)){var r=t.key===qo.LEFT!==this.gridOptionsService.get("enableRtl"),i=Bi[r?"Left":"Right"];t.altKey?(this.isResizing=!0,this.resizeMultiplier+=1,this.resizeHeader(i,t.shiftKey),null===(e=this.resizeFeature)||void 0===e||e.toggleColumnResizing(!0)):this.moveHeader(i)}},e.prototype.onGuiKeyUp=function(){var t=this;this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=setTimeout((function(){var e;null===(e=t.resizeFeature)||void 0===e||e.toggleColumnResizing(!1)}),150))},e.prototype.handleKeyDown=function(t){var e=this.getWrapperHasFocus();switch(t.key){case qo.PAGE_DOWN:case qo.PAGE_UP:case qo.PAGE_HOME:case qo.PAGE_END:e&&t.preventDefault()}},e.prototype.addDomData=function(){var t=this,n=e.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsService.setDomData(this.eGui,n,this),this.addDestroyFunc((function(){return t.gridOptionsService.setDomData(t.eGui,n,null)}))},e.prototype.getGui=function(){return this.eGui},e.prototype.focus=function(t){return!!this.eGui&&(this.lastFocusEvent=t||null,this.eGui.focus(),!0)},e.prototype.getRowIndex=function(){return this.parentRowCtrl.getRowIndex()},e.prototype.getParentRowCtrl=function(){return this.parentRowCtrl},e.prototype.getPinned=function(){return this.parentRowCtrl.getPinned()},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.getColumnGroupChild=function(){return this.columnGroupChild},e.prototype.removeDragSource=function(){this.dragSource&&(this.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.removeDragSource(),this.comp=null,this.column=null,this.resizeFeature=null,this.lastFocusEvent=null,this.columnGroupChild=null,this.parentRowCtrl=null,this.eGui=null},e.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",$c([nt("focusService")],e.prototype,"focusService",void 0),$c([nt("beans")],e.prototype,"beans",void 0),$c([nt("userComponentFactory")],e.prototype,"userComponentFactory",void 0),$c([nt("ctrlsService")],e.prototype,"ctrlsService",void 0),$c([nt("dragAndDropService")],e.prototype,"dragAndDropService",void 0),e}(Ut),ed=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),nd=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},od=function(t){function e(e,n,o,r){var i=t.call(this)||this;return i.columnOrGroup=e,i.eCell=n,i.ariaEl=i.eCell.querySelector("[role=columnheader]")||i.eCell,i.colsSpanning=r,i.beans=o,i}return ed(e,t),e.prototype.setColsSpanning=function(t){this.colsSpanning=t,this.onLeftChanged()},e.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsService.get("enableRtl")&&this.colsSpanning?Ct(this.colsSpanning):this.columnOrGroup},e.prototype.postConstruct=function(){this.addManagedListener(this.columnOrGroup,ft.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,$t.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onLeftChanged.bind(this))},e.prototype.setLeftFirstTime=function(){var t=this.beans.gridOptionsService.get("suppressColumnMoveAnimation"),e=r(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&e&&!t?this.animateInLeft():this.onLeftChanged()},e.prototype.animateInLeft=function(){var t=this,e=this.getColumnOrGroup(),n=e.getLeft(),o=e.getOldLeft(),r=this.modifyLeftForPrintLayout(e,o),i=this.modifyLeftForPrintLayout(e,n);this.setLeft(r),this.actualLeft=i,this.beans.columnAnimationService.executeNextVMTurn((function(){t.actualLeft===i&&t.setLeft(i)}))},e.prototype.onLeftChanged=function(){var t=this.getColumnOrGroup(),e=t.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(t,e),this.setLeft(this.actualLeft)},e.prototype.modifyLeftForPrintLayout=function(t,e){if(!this.beans.gridOptionsService.isDomLayout("print"))return e;if("left"===t.getPinned())return e;var n=this.beans.columnModel.getDisplayedColumnsLeftWidth();return"right"===t.getPinned()?n+this.beans.columnModel.getBodyContainerWidth()+e:n+e},e.prototype.setLeft=function(t){if(r(t)&&(this.eCell.style.left="".concat(t,"px")),this.columnOrGroup instanceof ft)this.columnOrGroup;else{var e=this.columnOrGroup.getLeafColumns();if(!e.length)return;e.length>1&&cn(this.ariaEl,e.length),e[0]}},nd([J],e.prototype,"postConstruct",null),e}(Ut),rd=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),id=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},sd=function(t){function e(e,n){var o=t.call(this)||this;return o.columns=e,o.element=n,o}return rd(e,t),e.prototype.postConstruct=function(){this.gridOptionsService.get("columnHoverHighlight")&&this.addMouseHoverListeners()},e.prototype.addMouseHoverListeners=function(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))},e.prototype.onMouseOut=function(){this.columnHoverService.clearMouseOver()},e.prototype.onMouseOver=function(){this.columnHoverService.setMouseOver(this.columns)},id([nt("columnHoverService")],e.prototype,"columnHoverService",void 0),id([J],e.prototype,"postConstruct",null),e}(Ut),ad=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ld=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ud=function(t){function e(e,n){var o=t.call(this,e,n)||this;return o.iconCreated=!1,o.column=e,o}return ad(e,t),e.prototype.setComp=function(t,e,n,o){this.comp=t,this.eButtonShowMainFilter=n,this.eFloatingFilterBody=o,this.setGui(e),this.setupActive(),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this)),this.setupFilterChangedListener(),this.addManagedListener(this.column,ft.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this))},e.prototype.resizeHeader=function(){},e.prototype.moveHeader=function(){},e.prototype.setupActive=function(){var t=this.column.getColDef(),e=!!t.filter,n=!!t.floatingFilter;this.active=e&&n},e.prototype.setupUi=function(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),this.active&&!this.iconCreated){var t=Ko("filter",this.gridOptionsService,this.column);t&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(t))}},e.prototype.setupFocus=function(){this.createManagedBean(new Fr(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},e.prototype.setupAria=function(){var t=this.localeService.getLocaleTextFunc();Ye(this.eButtonShowMainFilter,t("ariaFilterMenuOpen","Open Filter Menu"))},e.prototype.onTabKeyDown=function(t){if(!(this.gridOptionsService.getDocument().activeElement===this.eGui)){var e=this.focusService.findNextFocusableElement(this.eGui,null,t.shiftKey);if(e)return this.beans.headerNavigationService.scrollToColumn(this.column),t.preventDefault(),void e.focus();var n=this.findNextColumnWithFloatingFilter(t.shiftKey);n&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:n},event:t})&&t.preventDefault()}},e.prototype.findNextColumnWithFloatingFilter=function(t){var e=this.beans.columnModel,n=this.column;do{if(!(n=t?e.getDisplayedColBefore(n):e.getDisplayedColAfter(n)))break}while(!n.getColDef().filter||!n.getColDef().floatingFilter);return n},e.prototype.handleKeyDown=function(e){t.prototype.handleKeyDown.call(this,e);var n=this.getWrapperHasFocus();switch(e.key){case qo.UP:case qo.DOWN:n||e.preventDefault();case qo.LEFT:case qo.RIGHT:if(n)return;e.stopPropagation();case qo.ENTER:n&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case qo.ESCAPE:n||this.eGui.focus()}},e.prototype.onFocusIn=function(t){if(!this.eGui.contains(t.relatedTarget)){var e=!!t.relatedTarget&&!t.relatedTarget.classList.contains("ag-floating-filter"),n=!!t.relatedTarget&&so(t.relatedTarget,"ag-floating-filter");if(e&&n&&t.target===this.eGui){var o=this.lastFocusEvent,r=!(!o||o.key!==qo.TAB);if(o&&r){var i=o.shiftKey;this.focusService.focusInto(this.eGui,i)}}var s=this.getRowIndex();this.beans.focusService.setFocusedHeader(s,this.column)}},e.prototype.setupHover=function(){var t=this;this.createManagedBean(new sd([this.column],this.eGui));var e=function(){if(t.gridOptionsService.get("columnHoverHighlight")){var e=t.columnHoverService.isHovered(t.column);t.comp.addOrRemoveCssClass("ag-column-hover",e)}};this.addManagedListener(this.eventService,$t.EVENT_COLUMN_HOVER_CHANGED,e),e()},e.prototype.setupLeft=function(){var t=new od(this.column,this.eGui,this.beans);this.createManagedBean(t)},e.prototype.setupFilterButton=function(){var t=this.column.getColDef();this.suppressFilterButton=!!t.floatingFilterComponentParams&&!!t.floatingFilterComponentParams.suppressFilterButton},e.prototype.setupUserComp=function(){var t=this;if(this.active){var e=this.filterManager.getFloatingFilterCompDetails(this.column,(function(){return t.showParentFilter()}));e&&this.setCompDetails(e)}},e.prototype.setCompDetails=function(t){this.userCompDetails=t,this.comp.setCompDetails(t)},e.prototype.showParentFilter=function(){var t=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuFactory.showMenuAfterButtonClick(this.column,t,"floatingFilter","filterMenuTab",["filterMenuTab"])},e.prototype.setupSyncWithFilter=function(){var t=this;if(this.active){var e=function(e){var n=t.comp.getFloatingFilterComp();n&&n.then((function(n){if(n){var o=t.filterManager.getCurrentFloatingFilterParentModel(t.column);n.onParentModelChanged(o,e)}}))};this.destroySyncListener=this.addManagedListener(this.column,ft.EVENT_FILTER_CHANGED,e),this.filterManager.isFilterActive(this.column)&&e(null)}},e.prototype.setupWidth=function(){var t=this,e=function(){var e="".concat(t.column.getActualWidth(),"px");t.comp.setWidth(e)};this.addManagedListener(this.column,ft.EVENT_WIDTH_CHANGED,e),e()},e.prototype.setupFilterChangedListener=function(){this.active&&(this.destroyFilterChangedListener=this.addManagedListener(this.column,ft.EVENT_FILTER_CHANGED,this.updateFilterButton.bind(this)))},e.prototype.updateFilterButton=function(){!this.suppressFilterButton&&this.comp&&this.comp.setButtonWrapperDisplayed(this.filterManager.isFilterAllowed(this.column))},e.prototype.onColDefChanged=function(){var t,e,n=this,o=this.active;this.setupActive();var r=!o&&this.active;o&&!this.active&&(null===(t=this.destroySyncListener)||void 0===t||t.call(this),null===(e=this.destroyFilterChangedListener)||void 0===e||e.call(this));var i=this.active?this.filterManager.getFloatingFilterCompDetails(this.column,(function(){return n.showParentFilter()})):null,s=this.comp.getFloatingFilterComp();s&&i?s.then((function(t){var e;!t||n.filterManager.areFilterCompsDifferent(null!==(e=n.userCompDetails)&&void 0!==e?e:null,i)?n.updateCompDetails(i,r):n.updateFloatingFilterParams(i)})):this.updateCompDetails(i,r)},e.prototype.updateCompDetails=function(t,e){this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),e&&(this.setupSyncWithFilter(),this.setupFilterChangedListener())},e.prototype.updateFloatingFilterParams=function(t){var e;if(t){var n=t.params;null===(e=this.comp.getFloatingFilterComp())||void 0===e||e.then((function(t){(null===t||void 0===t?void 0:t.onParamsUpdated)&&"function"===typeof t.onParamsUpdated&&t.onParamsUpdated(n)}))}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.destroySyncListener=null,this.destroyFilterChangedListener=null},ld([nt("filterManager")],e.prototype,"filterManager",void 0),ld([nt("columnHoverService")],e.prototype,"columnHoverService",void 0),ld([nt("menuFactory")],e.prototype,"menuFactory",void 0),e}(td),cd=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),dd=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},pd=function(t){function e(e,n,o,r,i){var s=t.call(this)||this;return s.pinned=e,s.column=n,s.eResize=o,s.comp=r,s.ctrl=i,s}return cd(e,t),e.prototype.postConstruct=function(){var t,e,n=this,o=[],r=function(){o.forEach((function(t){return t()})),o.length=0},i=function(){var i=n.column.isResizable(),s=!n.gridOptionsService.get("suppressAutoSize")&&!n.column.getColDef().suppressAutoSize;(i!==t||s!==e)&&(t=i,e=s,r(),function(){if(oo(n.eResize,t),t){var r=n.horizontalResizeService.addResizeBar({eResizeBar:n.eResize,onResizeStart:n.onResizeStart.bind(n),onResizing:n.onResizing.bind(n,!1),onResizeEnd:n.onResizing.bind(n,!0)});if(o.push(r),e){var i=n.gridOptionsService.get("skipHeaderOnAutoSize"),s=function(){n.columnModel.autoSizeColumn(n.column,i,"uiColumnResized")};n.eResize.addEventListener("dblclick",s);var a=new os(n.eResize);a.addEventListener(os.EVENT_DOUBLE_TAP,s),o.push((function(){n.eResize.removeEventListener("dblclick",s),a.removeEventListener(os.EVENT_DOUBLE_TAP,s),a.destroy()}))}}}())};i(),this.addDestroyFunc(r),this.ctrl.addRefreshFunction(i)},e.prototype.onResizing=function(t,e){var n=this,o=n.column,r=n.lastResizeAmount,i=n.resizeStartWidth,s=this.normaliseResizeAmount(e),a=[{key:o,newWidth:i+s}];if(this.column.getPinned()&&this.pinnedWidthService.getPinnedLeftWidth()+this.pinnedWidthService.getPinnedRightWidth()+(s-r)>uo(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50)return;this.lastResizeAmount=s,this.columnModel.setColumnWidths(a,this.resizeWithShiftKey,t,"uiColumnResized"),t&&this.toggleColumnResizing(!1)},e.prototype.onResizeStart=function(t){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=t,this.toggleColumnResizing(!0)},e.prototype.toggleColumnResizing=function(t){this.comp.addOrRemoveCssClass("ag-column-resizing",t)},e.prototype.normaliseResizeAmount=function(t){var e=t,n="left"!==this.pinned,o="right"===this.pinned;return this.gridOptionsService.get("enableRtl")?n&&(e*=-1):o&&(e*=-1),e},dd([nt("horizontalResizeService")],e.prototype,"horizontalResizeService",void 0),dd([nt("pinnedWidthService")],e.prototype,"pinnedWidthService",void 0),dd([nt("ctrlsService")],e.prototype,"ctrlsService",void 0),dd([nt("columnModel")],e.prototype,"columnModel",void 0),dd([J],e.prototype,"postConstruct",null),e}(Ut),hd=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),fd=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},gd=function(t){function e(e){var n=t.call(this)||this;return n.cbSelectAllVisible=!1,n.processingEventFromCheckbox=!1,n.column=e,n}return hd(e,t),e.prototype.onSpaceKeyDown=function(t){var e=this.cbSelectAll,n=this.gridOptionsService.getDocument();e.isDisplayed()&&!e.getGui().contains(n.activeElement)&&(t.preventDefault(),e.setValue(!e.getValue()))},e.prototype.getCheckboxGui=function(){return this.cbSelectAll.getGui()},e.prototype.setComp=function(t){this.headerCellCtrl=t,this.cbSelectAll=this.createManagedBean(new ui),this.cbSelectAll.addCssClass("ag-header-select-all"),je(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,$t.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addManagedListener(this.eventService,$t.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,$t.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,$t.EVENT_PAGINATION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,$t.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,$t.EVENT_FIELD_VALUE_CHANGED,this.onCbSelectAll.bind(this)),$e(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()},e.prototype.onNewColumnsLoaded=function(){this.showOrHideSelectAll()},e.prototype.onDisplayedColumnsChanged=function(){this.isAlive()&&this.showOrHideSelectAll()},e.prototype.showOrHideSelectAll=function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible,{skipAriaHidden:!0}),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()},e.prototype.onModelChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},e.prototype.onSelectionChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},e.prototype.updateStateOfCheckbox=function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var t=this.selectionService.getSelectAllState(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setValue(t),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}},e.prototype.refreshSelectAllLabel=function(){var t=this.localeService.getLocaleTextFunc(),e=this.cbSelectAll.getValue()?t("ariaChecked","checked"):t("ariaUnchecked","unchecked"),n=t("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAllVisible?this.headerCellCtrl.setAriaDescriptionProperty("selectAll","".concat(n," (").concat(e,")")):this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel("".concat(n," (").concat(e,")")),this.headerCellCtrl.refreshAriaDescription()},e.prototype.checkSelectionType=function(t){return!("multiple"!==this.gridOptionsService.get("rowSelection"))||(console.warn("AG Grid: ".concat(t," is only available if using 'multiple' rowSelection.")),!1)},e.prototype.checkRightRowModelType=function(t){var e=this.rowModel.getType();return!("clientSide"!==e&&"serverSide"!==e)||(console.warn("AG Grid: ".concat(t," is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ").concat(e,".")),!1)},e.prototype.onCbSelectAll=function(){if(!this.processingEventFromCheckbox&&this.cbSelectAllVisible){var t=this.cbSelectAll.getValue(),e=this.isFilteredOnly(),n=this.isCurrentPageOnly(),o="uiSelectAll";n?o="uiSelectAllCurrentPage":e&&(o="uiSelectAllFiltered");var r={source:o,justFiltered:e,justCurrentPage:n};t?this.selectionService.selectAllRowNodes(r):this.selectionService.deselectAllRowNodes(r)}},e.prototype.isCheckboxSelection=function(){var t=this.column.getColDef().headerCheckboxSelection;"function"===typeof t&&(t=t({column:this.column,colDef:this.column.getColDef(),columnApi:this.gridOptionsService.columnApi,api:this.gridOptionsService.api,context:this.gridOptionsService.context}));return!!t&&(this.checkRightRowModelType("headerCheckboxSelection")&&this.checkSelectionType("headerCheckboxSelection"))},e.prototype.isFilteredOnly=function(){return!!this.column.getColDef().headerCheckboxSelectionFilteredOnly},e.prototype.isCurrentPageOnly=function(){return!!this.column.getColDef().headerCheckboxSelectionCurrentPageOnly},fd([nt("rowModel")],e.prototype,"rowModel",void 0),fd([nt("selectionService")],e.prototype,"selectionService",void 0),e}(Ut),vd=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),md=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},yd=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Cd=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},wd=function(t){function e(e,n){var o=t.call(this,e,n)||this;return o.refreshFunctions=[],o.userHeaderClasses=new Set,o.ariaDescriptionProperties=new Map,o.column=e,o}return vd(e,t),e.prototype.setComp=function(t,e,n,o){var r=this;this.comp=t,this.setGui(e),this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight(o),this.addColumnHoverListener(),this.setupFilterClass(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.resizeFeature=this.createManagedBean(new pd(this.getPinned(),this.column,n,t,this)),this.createManagedBean(new sd([this.column],e)),this.createManagedBean(new od(this.column,e,this.beans)),this.createManagedBean(new Fr(e,{shouldStopEventPropagation:function(t){return r.shouldStopEventPropagation(t)},onTabKeyDown:function(){return null},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(),this.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader"],this.refresh.bind(this)),this.addManagedListener(this.column,ft.EVENT_COL_DEF_CHANGED,this.refresh.bind(this)),this.addManagedListener(this.eventService,$t.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,$t.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,$t.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this)),this.addManagedListener(this.eventService,$t.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))},e.prototype.resizeHeader=function(t,e){var n,o;if(this.column.isResizable()){var r=this.column.getPinned(),i=this.gridOptionsService.get("enableRtl"),s=this.column.getActualWidth(),a=null!==(n=this.column.getMinWidth())&&void 0!==n?n:0,l=null!==(o=this.column.getMaxWidth())&&void 0!==o?o:Number.MAX_SAFE_INTEGER,u=t===Bi.Left;r&&i!==("right"===r)&&(u=!u);var c=(u?-1:1)*this.resizeMultiplier,d=Math.min(Math.max(s+c,a),l);if(r)if(this.pinnedWidthService.getPinnedLeftWidth()+this.pinnedWidthService.getPinnedRightWidth()+c>uo(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50)return;this.columnModel.setColumnWidths([{key:this.column,newWidth:d}],e,!0)}},e.prototype.moveHeader=function(t){var e=this,n=e.eGui,o=e.column,r=e.columnModel,i=e.gridOptionsService,s=e.ctrlsService,a=this.getPinned(),l=n.getBoundingClientRect().left,u=o.getActualWidth(),c=i.get("enableRtl"),d=t===Bi.Left!==c,p=Nc.normaliseX(d?l-20:l+u+20,a,!0,i,s);Nc.attemptMoveColumns({allMovingColumns:[o],isFromHeader:!0,hDirection:t,xPosition:p,pinned:a,fromEnter:!1,fakeEvent:!1,gridOptionsService:i,columnModel:r}),s.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(o,"auto")},e.prototype.setupUserComp=function(){var t=this.lookupUserCompDetails();this.setCompDetails(t)},e.prototype.setCompDetails=function(t){this.userCompDetails=t,this.comp.setUserCompDetails(t)},e.prototype.lookupUserCompDetails=function(){var t=this.createParams(),e=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(e,t)},e.prototype.createParams=function(){var t=this;return{column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,showColumnMenu:function(e){t.gridApi.showColumnMenuAfterButtonClick(t.column,e)},progressSort:function(e){t.sortController.progressSort(t.column,!!e,"uiColumnSorted")},setSort:function(e,n){t.sortController.setSortForColumn(t.column,e,!!n,"uiColumnSorted")},api:this.gridApi,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,eGridHeader:this.getGui()}},e.prototype.setupSelectAll=function(){this.selectAllFeature=this.createManagedBean(new gd(this.column)),this.selectAllFeature.setComp(this)},e.prototype.getSelectAllGui=function(){return this.selectAllFeature.getCheckboxGui()},e.prototype.handleKeyDown=function(e){t.prototype.handleKeyDown.call(this,e),e.key===qo.SPACE&&this.selectAllFeature.onSpaceKeyDown(e),e.key===qo.ENTER&&this.onEnterKeyDown(e)},e.prototype.onEnterKeyDown=function(t){var e=this.comp.getUserCompInstance();if(e)if(t.ctrlKey||t.metaKey)this.menuEnabled&&e.showMenu&&(t.preventDefault(),e.showMenu());else if(this.sortable){var n=t.shiftKey;this.sortController.progressSort(this.column,n,"uiColumnSorted")}},e.prototype.isMenuEnabled=function(){return this.menuEnabled},e.prototype.onFocusIn=function(t){if(!this.getGui().contains(t.relatedTarget)){var e=this.getRowIndex();this.focusService.setFocusedHeader(e,this.column)}this.setActiveHeader(!0)},e.prototype.onFocusOut=function(t){this.getGui().contains(t.relatedTarget)||this.setActiveHeader(!1)},e.prototype.setupTooltip=function(){var t=this,e={getColumn:function(){return t.column},getColDef:function(){return t.column.getColDef()},getGui:function(){return t.eGui},getLocation:function(){return"header"},getTooltipValue:function(){return t.column.getColDef().headerTooltip}},n=this.createManagedBean(new ou(e,this.beans));n.setComp(this.eGui),this.refreshFunctions.push((function(){return n.refreshToolTip()}))},e.prototype.setupClassesFromColDef=function(){var t=this,e=function(){var e=t.column.getColDef(),n=gu.getHeaderClassesFromColDef(e,t.gridOptionsService,t.column,null),o=t.userHeaderClasses;t.userHeaderClasses=new Set(n),n.forEach((function(e){o.has(e)?o.delete(e):t.comp.addOrRemoveCssClass(e,!0)})),o.forEach((function(e){return t.comp.addOrRemoveCssClass(e,!1)}))};this.refreshFunctions.push(e),e()},e.prototype.setDragSource=function(t){var e=this;if(this.dragSourceElement=t,this.removeDragSource(),t&&this.draggable){var n=this,o=n.column,r=n.columnModel,i=n.displayName,s=n.dragAndDropService,a=n.gridOptionsService,l=!this.gridOptionsService.get("suppressDragLeaveHidesColumns"),u=this.dragSource={type:Hs.HeaderCell,eElement:t,getDefaultIconName:function(){return l?zs.ICON_HIDE:zs.ICON_NOT_ALLOWED},getDragItem:function(){return e.createDragItem(o)},dragItemName:i,onDragStarted:function(){l=!a.get("suppressDragLeaveHidesColumns"),o.setMoving(!0,"uiColumnMoved")},onDragStopped:function(){return o.setMoving(!1,"uiColumnMoved")},onGridEnter:function(t){var e;if(l){var n=(null===(e=null===t||void 0===t?void 0:t.columns)||void 0===e?void 0:e.filter((function(t){return!t.getColDef().lockVisible})))||[];r.setColumnsVisible(n,!0,"uiColumnMoved")}},onGridExit:function(t){var e;if(l){var n=(null===(e=null===t||void 0===t?void 0:t.columns)||void 0===e?void 0:e.filter((function(t){return!t.getColDef().lockVisible})))||[];r.setColumnsVisible(n,!1,"uiColumnMoved")}}};s.addDragSource(u,!0)}},e.prototype.createDragItem=function(t){var e={};return e[t.getId()]=t.isVisible(),{columns:[t],visibleState:e}},e.prototype.updateState=function(){var t=this.column.getColDef();this.menuEnabled=this.menuFactory.isMenuEnabled(this.column)&&!t.suppressMenu,this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()},e.prototype.addRefreshFunction=function(t){this.refreshFunctions.push(t)},e.prototype.refresh=function(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach((function(t){return t()}))},e.prototype.refreshHeaderComp=function(){var t=this.lookupUserCompDetails();!!(null!=this.comp.getUserCompInstance()&&this.userCompDetails.componentClass==t.componentClass)&&this.attemptHeaderCompRefresh(t.params)?this.setDragSource(this.dragSourceElement):this.setCompDetails(t)},e.prototype.attemptHeaderCompRefresh=function(t){var e=this.comp.getUserCompInstance();return!!e&&(!!e.refresh&&e.refresh(t))},e.prototype.calculateDisplayName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"header",!0)},e.prototype.checkDisplayName=function(){this.displayName!==this.calculateDisplayName()&&this.refresh()},e.prototype.workOutDraggable=function(){var t=this.column.getColDef();return!!(!this.gridOptionsService.get("suppressMovableColumns")&&!t.suppressMovable&&!t.lockPosition)||!!t.enableRowGroup||!!t.enablePivot},e.prototype.onColumnRowGroupChanged=function(){this.checkDisplayName()},e.prototype.onColumnPivotChanged=function(){this.checkDisplayName()},e.prototype.onColumnValueChanged=function(){this.checkDisplayName()},e.prototype.setupWidth=function(){var t=this,e=function(){var e=t.column.getActualWidth();t.comp.setWidth("".concat(e,"px"))};this.addManagedListener(this.column,ft.EVENT_WIDTH_CHANGED,e),e()},e.prototype.setupMovingCss=function(){var t=this,e=function(){t.comp.addOrRemoveCssClass("ag-header-cell-moving",t.column.isMoving())};this.addManagedListener(this.column,ft.EVENT_MOVING_CHANGED,e),e()},e.prototype.setupMenuClass=function(){var t=this,e=function(){t.comp.addOrRemoveCssClass("ag-column-menu-visible",t.column.isMenuVisible())};this.addManagedListener(this.column,ft.EVENT_MENU_VISIBLE_CHANGED,e),e()},e.prototype.setupSortableClass=function(){var t=this,e=function(){t.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!t.sortable)};e(),this.addRefreshFunction(e),this.addManagedListener(this.eventService,ft.EVENT_SORT_CHANGED,this.refreshAriaSort.bind(this))},e.prototype.setupFilterClass=function(){var t=this,e=function(){var e=t.column.isFilterActive();t.comp.addOrRemoveCssClass("ag-header-cell-filtered",e),t.refreshAria()};this.addManagedListener(this.column,ft.EVENT_FILTER_ACTIVE_CHANGED,e),e()},e.prototype.setupWrapTextClass=function(){var t=this,e=function(){var e=!!t.column.getColDef().wrapHeaderText;t.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",e)};e(),this.addRefreshFunction(e)},e.prototype.onDisplayedColumnsChanged=function(){t.prototype.onDisplayedColumnsChanged.call(this),this.isAlive()&&this.onHeaderHeightChanged()},e.prototype.onHeaderHeightChanged=function(){this.refreshSpanHeaderHeight()},e.prototype.refreshSpanHeaderHeight=function(){var t=this,e=t.eGui,n=t.column,o=t.comp,r=t.columnModel;if(t.gridOptionsService,!n.isSpanHeaderHeight())return e.style.removeProperty("top"),e.style.removeProperty("height"),o.addOrRemoveCssClass("ag-header-span-height",!1),void o.addOrRemoveCssClass("ag-header-span-total",!1);var i=this.getColumnGroupPaddingInfo(),s=i.numberOfParents,a=i.isSpanningTotal;o.addOrRemoveCssClass("ag-header-span-height",s>0);var l=r.getColumnHeaderRowHeight();if(0===s)return o.addOrRemoveCssClass("ag-header-span-total",!1),e.style.setProperty("top","0px"),void e.style.setProperty("height","".concat(l,"px"));o.addOrRemoveCssClass("ag-header-span-total",a);var u=s*(r.isPivotMode()?r.getPivotGroupHeaderHeight():r.getGroupHeaderHeight());e.style.setProperty("top","".concat(-u,"px")),e.style.setProperty("height","".concat(l+u,"px"))},e.prototype.getColumnGroupPaddingInfo=function(){var t=this.column.getParent();if(!t||!t.isPadding())return{numberOfParents:0,isSpanningTotal:!1};for(var e=t.getPaddingLevel()+1,n=!0;t;){if(!t.isPadding()){n=!1;break}t=t.getParent()}return{numberOfParents:e,isSpanningTotal:n}},e.prototype.setupAutoHeight=function(t){var e,n=this,o=function(e){if(n.isAlive()){var r=ao(n.getGui()),i=r.paddingTop+r.paddingBottom+r.borderBottomWidth+r.borderTopWidth,s=t.offsetHeight+i;if(e<5){var a=n.beans.gridOptionsService.getDocument();if(!a||!a.contains(t)||0==s)return void n.beans.frameworkOverrides.setTimeout((function(){return o(e+1)}),0)}n.columnModel.setColumnHeaderHeight(n.column,s)}},r=!1,i=function(){var t=n.column.isAutoHeaderHeight();t&&!r&&s(),!t&&r&&a()},s=function(){r=!0,o(0),n.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),e=n.resizeObserverService.observeResize(t,(function(){return o(0)}))},a=function(){r=!1,e&&e(),n.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),e=void 0};i(),this.addDestroyFunc((function(){return a()})),this.addManagedListener(this.column,ft.EVENT_WIDTH_CHANGED,(function(){return r&&o(0)})),this.addManagedListener(this.eventService,ft.EVENT_SORT_CHANGED,(function(){r&&n.beans.frameworkOverrides.setTimeout((function(){return o(0)}))})),this.addRefreshFunction(i)},e.prototype.refreshAriaSort=function(){if(this.sortable){var t=this.localeService.getLocaleTextFunc(),e=this.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(Be(e)),this.setAriaDescriptionProperty("sort",t("ariaSortableColumn","Press ENTER to sort."))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)},e.prototype.refreshAriaMenu=function(){if(this.menuEnabled){var t=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",t("ariaMenuColumn","Press CTRL ENTER to open column menu."))}else this.setAriaDescriptionProperty("menu",null)},e.prototype.refreshAriaFiltered=function(){var t=this.localeService.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",t("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)},e.prototype.setAriaDescriptionProperty=function(t,e){null!=e?this.ariaDescriptionProperties.set(t,e):this.ariaDescriptionProperties.delete(t)},e.prototype.refreshAriaDescription=function(){var t,e,n=null;try{for(var o=yd(this.ariaDescriptionProperties),r=o.next();!r.done;r=o.next()){var i=Cd(r.value,2),s=i[0],a=i[1];n="filter"===s?"".concat(a," ").concat(n||""):"".concat(n||""," ").concat(a)}}catch(l){t={error:l}}finally{try{r&&!r.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}this.comp.setAriaDescription(null!==n&&void 0!==n?n:void 0)},e.prototype.refreshAria=function(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFiltered(),this.refreshAriaDescription()},e.prototype.addColumnHoverListener=function(){var t=this,e=function(){if(t.gridOptionsService.get("columnHoverHighlight")){var e=t.columnHoverService.isHovered(t.column);t.comp.addOrRemoveCssClass("ag-column-hover",e)}};this.addManagedListener(this.eventService,$t.EVENT_COLUMN_HOVER_CHANGED,e),e()},e.prototype.getColId=function(){return this.column.getColId()},e.prototype.addActiveHeaderMouseListeners=function(){var t=this,e=function(e){return t.setActiveHeader("mouseenter"===e.type)};this.addManagedListener(this.getGui(),"mouseenter",e),this.addManagedListener(this.getGui(),"mouseleave",e)},e.prototype.setActiveHeader=function(t){this.comp.addOrRemoveCssClass("ag-header-active",t)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.refreshFunctions=null,this.selectAllFeature=null,this.dragSourceElement=null,this.userCompDetails=null,this.userHeaderClasses=null,this.ariaDescriptionProperties=null},md([nt("columnModel")],e.prototype,"columnModel",void 0),md([nt("pinnedWidthService")],e.prototype,"pinnedWidthService",void 0),md([nt("columnHoverService")],e.prototype,"columnHoverService",void 0),md([nt("sortController")],e.prototype,"sortController",void 0),md([nt("menuFactory")],e.prototype,"menuFactory",void 0),md([nt("resizeObserverService")],e.prototype,"resizeObserverService",void 0),md([nt("gridApi")],e.prototype,"gridApi",void 0),e}(td),bd=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),_d=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Sd=function(t){function e(e,n,o,r){var i=t.call(this)||this;return i.eResize=n,i.comp=e,i.pinned=o,i.columnGroup=r,i}return bd(e,t),e.prototype.postConstruct=function(){var t=this;if(this.columnGroup.isResizable()){var e=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(e),!this.gridOptionsService.get("suppressAutoSize")){var n=this.gridOptionsService.get("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",(function(){var e=[];t.columnGroup.getDisplayedLeafColumns().forEach((function(t){t.getColDef().suppressAutoSize||e.push(t.getColId())})),e.length>0&&t.columnModel.autoSizeColumns({columns:e,skipHeader:n,stopAtGroup:t.columnGroup,source:"uiColumnResized"}),t.resizeLeafColumnsToFit("uiColumnResized")}))}}else this.comp.setResizableDisplayed(!1)},e.prototype.onResizeStart=function(t){var e=this.getInitialValues(t);this.storeLocalValues(e),this.toggleColumnResizing(!0)},e.prototype.onResizing=function(t,e,n){void 0===n&&(n="uiColumnResized");var o=this.normaliseDragChange(e),r=this.resizeStartWidth+o;this.resizeColumnsFromLocalValues(r,n,t)},e.prototype.getInitialValues=function(t){var e=this.getColumnsToResize(),n=this.getInitialSizeOfColumns(e),o={columnsToResize:e,resizeStartWidth:n,resizeRatios:this.getSizeRatiosOfColumns(e,n)},r=null;if(t&&(r=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),r){var i=r.getDisplayedLeafColumns(),s=o.groupAfterColumns=i.filter((function(t){return t.isResizable()})),a=o.groupAfterStartWidth=this.getInitialSizeOfColumns(s);o.groupAfterRatios=this.getSizeRatiosOfColumns(s,a)}else o.groupAfterColumns=void 0,o.groupAfterStartWidth=void 0,o.groupAfterRatios=void 0;return o},e.prototype.storeLocalValues=function(t){var e=t.columnsToResize,n=t.resizeStartWidth,o=t.resizeRatios,r=t.groupAfterColumns,i=t.groupAfterStartWidth,s=t.groupAfterRatios;this.resizeCols=e,this.resizeStartWidth=n,this.resizeRatios=o,this.resizeTakeFromCols=r,this.resizeTakeFromStartWidth=i,this.resizeTakeFromRatios=s},e.prototype.clearLocalValues=function(){this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0},e.prototype.resizeLeafColumnsToFit=function(t){var e=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup),n=this.getInitialValues();e>n.resizeStartWidth&&this.resizeColumns(n,e,t,!0)},e.prototype.resizeColumnsFromLocalValues=function(t,e,n){var o,r,i;if(void 0===n&&(n=!0),this.resizeCols&&this.resizeRatios){var s={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:null!==(o=this.resizeTakeFromCols)&&void 0!==o?o:void 0,groupAfterStartWidth:null!==(r=this.resizeTakeFromStartWidth)&&void 0!==r?r:void 0,groupAfterRatios:null!==(i=this.resizeTakeFromRatios)&&void 0!==i?i:void 0};this.resizeColumns(s,t,e,n)}},e.prototype.resizeColumns=function(t,e,n,o){void 0===o&&(o=!0);var r=t.columnsToResize,i=t.resizeStartWidth,s=t.resizeRatios,a=t.groupAfterColumns,l=t.groupAfterStartWidth,u=t.groupAfterRatios,c=[];if(c.push({columns:r,ratios:s,width:e}),a){var d=e-i;c.push({columns:a,ratios:u,width:l-d})}this.columnModel.resizeColumnSets({resizeSets:c,finished:o,source:n}),o&&this.toggleColumnResizing(!1)},e.prototype.toggleColumnResizing=function(t){this.comp.addOrRemoveCssClass("ag-column-resizing",t)},e.prototype.getColumnsToResize=function(){return this.columnGroup.getDisplayedLeafColumns().filter((function(t){return t.isResizable()}))},e.prototype.getInitialSizeOfColumns=function(t){return t.reduce((function(t,e){return t+e.getActualWidth()}),0)},e.prototype.getSizeRatiosOfColumns=function(t,e){return t.map((function(t){return t.getActualWidth()/e}))},e.prototype.normaliseDragChange=function(t){var e=t;return this.gridOptionsService.get("enableRtl")?"left"!==this.pinned&&(e*=-1):"right"===this.pinned&&(e*=-1),e},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.clearLocalValues()},_d([nt("horizontalResizeService")],e.prototype,"horizontalResizeService",void 0),_d([nt("autoWidthCalculator")],e.prototype,"autoWidthCalculator",void 0),_d([nt("columnModel")],e.prototype,"columnModel",void 0),_d([J],e.prototype,"postConstruct",null),e}(Ut),Ed=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Od=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},xd=function(t){function e(e,n){var o=t.call(this)||this;return o.removeChildListenersFuncs=[],o.columnGroup=n,o.comp=e,o}return Ed(e,t),e.prototype.postConstruct=function(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,Xt.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))},e.prototype.addListenersToChildrenColumns=function(){var t=this;this.removeListenersOnChildrenColumns();var e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach((function(n){n.addEventListener("widthChanged",e),n.addEventListener("visibleChanged",e),t.removeChildListenersFuncs.push((function(){n.removeEventListener("widthChanged",e),n.removeEventListener("visibleChanged",e)}))}))},e.prototype.removeListenersOnChildrenColumns=function(){this.removeChildListenersFuncs.forEach((function(t){return t()})),this.removeChildListenersFuncs=[]},e.prototype.onDisplayedChildrenChanged=function(){this.addListenersToChildrenColumns(),this.onWidthChanged()},e.prototype.onWidthChanged=function(){var t=this.columnGroup.getActualWidth();this.comp.setWidth("".concat(t,"px")),this.comp.addOrRemoveCssClass("ag-hidden",0===t)},Od([J],e.prototype,"postConstruct",null),e}(Ut),Td=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Rd=function(){return Rd=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},Rd.apply(this,arguments)},Dd=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Pd=function(t){function e(e,n){var o=t.call(this,e,n)||this;return o.onSuppressColMoveChange=function(){if(o.isSuppressMoving())o.removeDragSource();else if(!o.dragSource){var t=o.getGui();o.setDragSource(t)}},o.column=e,o}return Td(e,t),e.prototype.setComp=function(t,e,n){this.comp=t,this.setGui(e),this.displayName=this.columnModel.getDisplayNameForColumnGroup(this.column,"header"),this.addClasses(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.setupUserComp();var o=this.getParentRowCtrl().getPinned(),r=this.column.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new sd(r,e)),this.createManagedBean(new od(this.column,e,this.beans)),this.createManagedBean(new xd(t,this.column)),this.resizeFeature=this.createManagedBean(new Sd(t,n,o,this.column)),this.createManagedBean(new Fr(e,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:function(){},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addManagedPropertyListener($t.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED,this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners()},e.prototype.resizeHeader=function(t,e){if(this.resizeFeature){var n=(t===Bi.Left?-1:1)*this.resizeMultiplier,o=this.resizeFeature.getInitialValues(e);this.resizeFeature.resizeColumns(o,o.resizeStartWidth+n,"uiColumnResized",!0)}},e.prototype.moveHeader=function(t){var e=this,n=e.eGui,o=e.column,r=e.columnModel,i=e.gridOptionsService,s=e.ctrlsService,a=i.get("enableRtl"),l=t===Bi.Left,u=this.getPinned(),c=n.getBoundingClientRect(),d=c.left,p=c.width,h=Nc.normaliseX(l!==a?d-20:d+p+20,u,!0,i,s),f=o.getGroupId(),g=this.focusService.getFocusedHeader();Nc.attemptMoveColumns({allMovingColumns:this.column.getLeafColumns(),isFromHeader:!0,hDirection:t,xPosition:h,pinned:u,fromEnter:!1,fakeEvent:!1,gridOptionsService:i,columnModel:r});var v=o.getDisplayedLeafColumns(),m=l?v[0]:Ct(v);this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(m,"auto"),!this.isAlive()&&g&&this.restoreFocus(f,o,g)},e.prototype.restoreFocus=function(t,e,n){var o=e.getLeafColumns();if(o.length){var r=o[0].getParent();if(r){var i=this.findGroupWidthId(r,t);i&&this.focusService.focusHeaderPosition({headerPosition:Rd(Rd({},n),{column:i})})}}},e.prototype.findGroupWidthId=function(t,e){for(;t;){if(t.getGroupId()===e)return t;t=t.getParent()}return null},e.prototype.resizeLeafColumnsToFit=function(t){this.resizeFeature&&this.resizeFeature.resizeLeafColumnsToFit(t)},e.prototype.setupUserComp=function(){var t=this,e={displayName:this.displayName,columnGroup:this.column,setExpanded:function(e){t.columnModel.setColumnGroupOpened(t.column.getProvidedColumnGroup(),e,"gridInitializing")},api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context},n=this.userComponentFactory.getHeaderGroupCompDetails(e);this.comp.setUserCompDetails(n)},e.prototype.setupTooltip=function(){var t=this,e=this.column.getColGroupDef(),n={getColumn:function(){return t.column},getGui:function(){return t.eGui},getLocation:function(){return"headerGroup"},getTooltipValue:function(){return e&&e.headerTooltip}};e&&(n.getColDef=function(){return e}),this.createManagedBean(new ou(n,this.beans)).setComp(this.eGui)},e.prototype.setupExpandable=function(){var t=this.column.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(t,vt.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(t,vt.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))},e.prototype.refreshExpanded=function(){var t=this.column;this.expandable=t.isExpandable();var e=t.isExpanded();this.expandable?this.comp.setAriaExpanded(e?"true":"false"):this.comp.setAriaExpanded(void 0)},e.prototype.getColId=function(){return this.column.getUniqueId()},e.prototype.addClasses=function(){var t=this,e=this.column.getColGroupDef(),n=gu.getHeaderClassesFromColDef(e,this.gridOptionsService,null,this.column);this.column.isPadding()?(n.push("ag-header-group-cell-no-group"),this.column.getLeafColumns().every((function(t){return t.isSpanHeaderHeight()}))&&n.push("ag-header-span-height")):n.push("ag-header-group-cell-with-group");n.forEach((function(e){return t.comp.addOrRemoveCssClass(e,!0)}))},e.prototype.setupMovingCss=function(){var t=this,e=this.column.getProvidedColumnGroup().getLeafColumns(),n=function(){return t.comp.addOrRemoveCssClass("ag-header-cell-moving",t.column.isMoving())};e.forEach((function(e){t.addManagedListener(e,ft.EVENT_MOVING_CHANGED,n)})),n()},e.prototype.onFocusIn=function(t){if(!this.eGui.contains(t.relatedTarget)){var e=this.getRowIndex();this.beans.focusService.setFocusedHeader(e,this.column)}},e.prototype.handleKeyDown=function(e){t.prototype.handleKeyDown.call(this,e);var n=this.getWrapperHasFocus();if(this.expandable&&n&&e.key===qo.ENTER){var o=this.column,r=!o.isExpanded();this.columnModel.setColumnGroupOpened(o.getProvidedColumnGroup(),r,"uiColumnExpanded")}},e.prototype.setDragSource=function(t){var e=this;if(!this.isSuppressMoving()&&(this.removeDragSource(),t)){var n=this,o=n.column,r=n.columnModel,i=n.displayName,s=n.gridOptionsService,a=n.dragAndDropService,l=o.getProvidedColumnGroup().getLeafColumns(),u=!s.get("suppressDragLeaveHidesColumns"),c=this.dragSource={type:Hs.HeaderCell,eElement:t,getDefaultIconName:function(){return u?zs.ICON_HIDE:zs.ICON_NOT_ALLOWED},dragItemName:i,getDragItem:function(){return e.getDragItemForGroup(o)},onDragStarted:function(){u=!s.get("suppressDragLeaveHidesColumns"),l.forEach((function(t){return t.setMoving(!0,"uiColumnDragged")}))},onDragStopped:function(){return l.forEach((function(t){return t.setMoving(!1,"uiColumnDragged")}))},onGridEnter:function(t){var e;if(u){var n=(null===(e=null===t||void 0===t?void 0:t.columns)||void 0===e?void 0:e.filter((function(t){return!t.getColDef().lockVisible})))||[];r.setColumnsVisible(n,!0,"uiColumnMoved")}},onGridExit:function(t){var e;if(u){var n=(null===(e=null===t||void 0===t?void 0:t.columns)||void 0===e?void 0:e.filter((function(t){return!t.getColDef().lockVisible})))||[];r.setColumnsVisible(n,!1,"uiColumnMoved")}}};a.addDragSource(c,!0)}},e.prototype.getDragItemForGroup=function(t){var e=t.getProvidedColumnGroup().getLeafColumns(),n={};e.forEach((function(t){return n[t.getId()]=t.isVisible()}));var o=[];return this.columnModel.getAllDisplayedColumns().forEach((function(t){e.indexOf(t)>=0&&(o.push(t),St(e,t))})),e.forEach((function(t){return o.push(t)})),{columns:o,visibleState:n}},e.prototype.isSuppressMoving=function(){var t=!1;return this.column.getLeafColumns().forEach((function(e){(e.getColDef().suppressMovable||e.getColDef().lockPosition)&&(t=!0)})),t||this.gridOptionsService.get("suppressMovableColumns")},Dd([nt("columnModel")],e.prototype,"columnModel",void 0),e}(td),Ld=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Md=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ad=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},kd=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},Nd=0,Fd=function(t){function e(e,n,o){var r=t.call(this)||this;r.instanceId=Nd++,r.rowIndex=e,r.pinned=n,r.type=o;var i=o==Pc.COLUMN_GROUP?"ag-header-row-column-group":o==Pc.FLOATING_FILTER?"ag-header-row-column-filter":"ag-header-row-column";return r.headerRowClass="ag-header-row ".concat(i),r}return Ld(e,t),e.prototype.postConstruct=function(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.isEnsureDomOrder=this.gridOptionsService.get("ensureDomOrder")},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.setComp=function(t,e){void 0===e&&(e=!0),this.comp=t,e&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners()},e.prototype.getHeaderRowClass=function(){return this.headerRowClass},e.prototype.getAriaRowIndex=function(){return this.rowIndex+1},e.prototype.getTransform=function(){if(On())return"translateZ(0)"},e.prototype.addEventListeners=function(){var t=this;this.addManagedListener(this.eventService,$t.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.eventService,$t.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,$t.EVENT_VIRTUAL_COLUMNS_CHANGED,(function(e){return t.onVirtualColumnsChanged(e.afterScroll)})),this.addManagedListener(this.eventService,$t.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,$t.EVENT_GRID_STYLES_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,$t.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),this.addManagedPropertyListener("ensureDomOrder",(function(e){return t.isEnsureDomOrder=e.currentValue})),this.addManagedPropertyListener("headerHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("groupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotGroupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("floatingFiltersHeight",this.onRowHeightChanged.bind(this))},e.prototype.getHeaderCellCtrl=function(t){if(this.headerCellCtrls)return d(this.headerCellCtrls).find((function(e){return e.getColumnGroupChild()===t}))},e.prototype.onDisplayedColumnsChanged=function(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()},e.prototype.getType=function(){return this.type},e.prototype.onColumnResized=function(){this.setWidth()},e.prototype.setWidth=function(){var t=this.getWidthForRow();this.comp.setWidth("".concat(t,"px"))},e.prototype.getWidthForRow=function(){return this.isPrintLayout?null!=this.pinned?0:this.columnModel.getContainerWidth("right")+this.columnModel.getContainerWidth("left")+this.columnModel.getContainerWidth(null):this.columnModel.getContainerWidth(this.pinned)},e.prototype.onRowHeightChanged=function(){var t=this.getTopAndHeight(),e=t.topOffset,n=t.rowHeight;this.comp.setTop(e+"px"),this.comp.setHeight(n+"px")},e.prototype.getTopAndHeight=function(){var t=this.columnModel.getHeaderRowCount(),e=[],n=0;this.filterManager.hasFloatingFilters()&&(t++,n=1);for(var o=this.columnModel.getColumnGroupHeaderRowHeight(),r=this.columnModel.getColumnHeaderRowHeight(),i=t-(1+n),s=0;s<i;s++)e.push(o);e.push(r);for(s=0;s<n;s++)e.push(this.columnModel.getFloatingFiltersHeight());var a=0;for(s=0;s<this.rowIndex;s++)a+=e[s];return{topOffset:a,rowHeight:e[this.rowIndex]}},e.prototype.getPinned=function(){return this.pinned},e.prototype.getRowIndex=function(){return this.rowIndex},e.prototype.onVirtualColumnsChanged=function(t){void 0===t&&(t=!1);var e=this.getHeaderCtrls(),n=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(e,n,t)},e.prototype.getHeaderCtrls=function(){var t,e,n,o,r=this,i=this.headerCellCtrls;this.headerCellCtrls=new Map;var s=this.getColumnsInViewport();try{for(var a=Ad(s),l=a.next();!l.done;l=a.next()){var u=l.value;this.recycleAndCreateHeaderCtrls(u,i)}}catch(v){t={error:v}}finally{try{l&&!l.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}var c;if(i)try{for(var d=Ad(i),p=d.next();!p.done;p=d.next()){var h=kd(p.value,2),f=h[0],g=h[1];(c=g,!!r.focusService.isHeaderWrapperFocused(c)&&r.columnModel.isDisplayed(c.getColumnGroupChild()))?this.headerCellCtrls.set(f,g):this.destroyBean(g)}}catch(m){n={error:m}}finally{try{p&&!p.done&&(o=d.return)&&o.call(d)}finally{if(n)throw n.error}}return Array.from(this.headerCellCtrls.values())},e.prototype.recycleAndCreateHeaderCtrls=function(t,e){if(this.headerCellCtrls&&!t.isEmptyGroup()){var n,o=t.getUniqueId();if(e&&(n=e.get(o),e.delete(o)),n&&n.getColumnGroupChild()!=t&&(this.destroyBean(n),n=void 0),null==n)switch(this.type){case Pc.FLOATING_FILTER:n=this.createBean(new ud(t,this));break;case Pc.COLUMN_GROUP:n=this.createBean(new Pd(t,this));break;default:n=this.createBean(new wd(t,this))}this.headerCellCtrls.set(o,n)}},e.prototype.getColumnsInViewport=function(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()},e.prototype.getColumnsInViewportPrintLayout=function(){var t=this;if(null!=this.pinned)return[];var e=[],n=this.getActualDepth();return["left",null,"right"].forEach((function(o){var r=t.columnModel.getVirtualHeaderGroupRow(o,n);e=e.concat(r)})),e},e.prototype.getActualDepth=function(){return this.type==Pc.FLOATING_FILTER?this.rowIndex-1:this.rowIndex},e.prototype.getColumnsInViewportNormalLayout=function(){return this.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())},e.prototype.focusHeader=function(t,e){if(!this.headerCellCtrls)return!1;var n=Array.from(this.headerCellCtrls.values()).find((function(e){return e.getColumnGroupChild()==t}));return!!n&&n.focus(e)},e.prototype.destroy=function(){var e=this;this.headerCellCtrls&&this.headerCellCtrls.forEach((function(t){e.destroyBean(t)})),this.headerCellCtrls=void 0,t.prototype.destroy.call(this)},Md([nt("columnModel")],e.prototype,"columnModel",void 0),Md([nt("focusService")],e.prototype,"focusService",void 0),Md([nt("filterManager")],e.prototype,"filterManager",void 0),Md([J],e.prototype,"postConstruct",null),e}(Ut),Id=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Gd=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Hd=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},Vd=function(t,e,n){if(n||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},jd=function(t){function e(e){var n=t.call(this)||this;return n.hidden=!1,n.includeFloatingFilter=!1,n.groupsRowCtrls=[],n.pinned=e,n}return Id(e,t),e.prototype.setComp=function(t,e){this.comp=t,this.eViewport=e,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport),this.addManagedListener(this.eventService,$t.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,$t.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,$t.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()},e.prototype.setupDragAndDrop=function(t){var e=new Vc(this.pinned,t);this.createManagedBean(e)},e.prototype.refresh=function(t){var e=this;void 0===t&&(t=!1);var n=new cr,o=this.focusService.getFocusHeaderToUseAfterRefresh();!function(){var t=e.columnModel.getHeaderRowCount()-1;e.groupsRowCtrls=e.destroyBeans(e.groupsRowCtrls);for(var o=0;o<t;o++){var r=e.createBean(new Fd(n.next(),e.pinned,Pc.COLUMN_GROUP));e.groupsRowCtrls.push(r)}}(),function(){var o=n.next(),r=!e.hidden&&(null==e.columnsRowCtrl||!t||e.columnsRowCtrl.getRowIndex()!==o);(r||e.hidden)&&(e.columnsRowCtrl=e.destroyBean(e.columnsRowCtrl)),r&&(e.columnsRowCtrl=e.createBean(new Fd(o,e.pinned,Pc.COLUMN)))}(),function(){e.includeFloatingFilter=e.filterManager.hasFloatingFilters()&&!e.hidden;var o=function(){e.filtersRowCtrl=e.destroyBean(e.filtersRowCtrl)};if(e.includeFloatingFilter){var r=n.next();if(e.filtersRowCtrl){var i=e.filtersRowCtrl.getRowIndex()!==r;t&&!i||o()}e.filtersRowCtrl||(e.filtersRowCtrl=e.createBean(new Fd(r,e.pinned,Pc.FLOATING_FILTER)))}else o()}();var r=this.getAllCtrls();this.comp.setCtrls(r),this.restoreFocusOnHeader(o)},e.prototype.restoreFocusOnHeader=function(t){null!=t&&t.column.getPinned()==this.pinned&&this.focusService.focusHeaderPosition({headerPosition:t})},e.prototype.getAllCtrls=function(){var t=Vd([],Hd(this.groupsRowCtrls),!1);return this.columnsRowCtrl&&t.push(this.columnsRowCtrl),this.filtersRowCtrl&&t.push(this.filtersRowCtrl),t},e.prototype.onGridColumnsChanged=function(){this.refresh(!0)},e.prototype.onDisplayedColumnsChanged=function(){var t=this.filterManager.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==t&&this.refresh(!0)},e.prototype.setupCenterWidth=function(){var t=this;null==this.pinned&&this.createManagedBean(new Xu((function(e){return t.comp.setCenterWidth("".concat(e,"px"))}),!0))},e.prototype.setHorizontalScroll=function(t){this.comp.setViewportScrollLeft(t)},e.prototype.setupPinnedWidth=function(){var t=this;if(null!=this.pinned){var e="left"===this.pinned,n="right"===this.pinned;this.hidden=!0;var o=function(){var o=e?t.pinnedWidthService.getPinnedLeftWidth():t.pinnedWidthService.getPinnedRightWidth();if(null!=o){var r=0==o,i=t.hidden!==r,s=t.gridOptionsService.get("enableRtl"),a=t.gridOptionsService.getScrollbarWidth(),l=t.scrollVisibleService.isVerticalScrollShowing()&&(s&&e||!s&&n)?o+a:o;t.comp.setPinnedContainerWidth("".concat(l,"px")),t.comp.setDisplayed(!r),i&&(t.hidden=r,t.refresh())}};this.addManagedListener(this.eventService,$t.EVENT_LEFT_PINNED_WIDTH_CHANGED,o),this.addManagedListener(this.eventService,$t.EVENT_RIGHT_PINNED_WIDTH_CHANGED,o),this.addManagedListener(this.eventService,$t.EVENT_SCROLL_VISIBILITY_CHANGED,o),this.addManagedListener(this.eventService,$t.EVENT_SCROLLBAR_WIDTH_CHANGED,o)}},e.prototype.getHeaderCtrlForColumn=function(t){if(t instanceof ft){if(!this.columnsRowCtrl)return;return this.columnsRowCtrl.getHeaderCellCtrl(t)}if(0!==this.groupsRowCtrls.length)for(var e=0;e<this.groupsRowCtrls.length;e++){var n=this.groupsRowCtrls[e].getHeaderCellCtrl(t);if(n)return n}},e.prototype.getHtmlElementForColumnHeader=function(t){var e=this.getHeaderCtrlForColumn(t);return e?e.getGui():null},e.prototype.getRowType=function(t){var e=this.getAllCtrls()[t];return e?e.getType():void 0},e.prototype.focusHeader=function(t,e,n){var o=this.getAllCtrls()[t];return!!o&&o.focusHeader(e,n)},e.prototype.getViewport=function(){return this.eViewport},e.prototype.getRowCount=function(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)},e.prototype.destroy=function(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),t.prototype.destroy.call(this)},Gd([nt("ctrlsService")],e.prototype,"ctrlsService",void 0),Gd([nt("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),Gd([nt("pinnedWidthService")],e.prototype,"pinnedWidthService",void 0),Gd([nt("columnModel")],e.prototype,"columnModel",void 0),Gd([nt("focusService")],e.prototype,"focusService",void 0),Gd([nt("filterManager")],e.prototype,"filterManager",void 0),e}(Ut),Bd=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Wd=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},zd=function(t){function e(e){var n=t.call(this)||this;return n.headerRowComps={},n.rowCompsList=[],n.pinned=e,n}return Bd(e,t),e.prototype.init=function(){var t=this;this.selectAndSetTemplate();var e={setDisplayed:function(e){return t.setDisplayed(e)},setCtrls:function(e){return t.setCtrls(e)},setCenterWidth:function(e){return t.eCenterContainer.style.width=e},setViewportScrollLeft:function(e){return t.getGui().scrollLeft=e},setPinnedContainerWidth:function(e){var n=t.getGui();n.style.width=e,n.style.maxWidth=e,n.style.minWidth=e}};this.createManagedBean(new jd(this.pinned)).setComp(e,this.getGui())},e.prototype.selectAndSetTemplate=function(){var t="left"==this.pinned,n="right"==this.pinned,o=t?e.PINNED_LEFT_TEMPLATE:n?e.PINNED_RIGHT_TEMPLATE:e.CENTER_TEMPLATE;this.setTemplate(o),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()},e.prototype.destroyRowComps=function(){this.setCtrls([])},e.prototype.destroyRowComp=function(t){this.destroyBean(t),this.eRowContainer.removeChild(t.getGui())},e.prototype.setCtrls=function(t){var e,n=this,o=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[];t.forEach((function(t){var r=t.getInstanceId(),i=o[r];delete o[r];var s=i||n.createBean(new Qc(t));n.headerRowComps[r]=s,n.rowCompsList.push(s),function(t){var o=t.getGui();o.parentElement!=n.eRowContainer&&n.eRowContainer.appendChild(o),e&&So(n.eRowContainer,o,e),e=o}(s)})),S(o).forEach((function(t){return n.destroyRowComp(t)}))},e.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="presentation"></div>',e.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="presentation"></div>',e.CENTER_TEMPLATE='<div class="ag-header-viewport" role="presentation">\n            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>\n        </div>',Wd([Or("eCenterContainer")],e.prototype,"eCenterContainer",void 0),Wd([J],e.prototype,"init",null),Wd([tt],e.prototype,"destroyRowComps",null),e}(Sr),Ud=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Yd=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t[t.UP=0]="UP",t[t.DOWN=1]="DOWN",t[t.LEFT=2]="LEFT",t[t.RIGHT=3]="RIGHT"}(qc||(qc={}));var Kd,Zd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ud(e,t),e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady((function(e){t.gridBodyCon=e.gridBodyCtrl}))},e.prototype.getHeaderRowCount=function(){var t=this.ctrlsService.getHeaderRowContainerCtrl();return t?t.getRowCount():0},e.prototype.navigateVertically=function(t,e,n){if(e||(e=this.focusService.getFocusedHeader()),!e)return!1;var o=e.headerRowIndex,r=e.column,i=this.getHeaderRowCount(),s=t===qc.UP?this.headerPositionUtils.getColumnVisibleParent(r,o):this.headerPositionUtils.getColumnVisibleChild(r,o),a=s.nextRow,l=s.nextFocusColumn,u=!1;return a<0&&(a=0,l=r,u=!0),a>=i&&(a=-1),!(!u&&!l)&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a,column:l},allowUserOverride:!0,event:n})},e.prototype.navigateHorizontally=function(t,e,n){void 0===e&&(e=!1);var o,r,i=this.focusService.getFocusedHeader();return t===qc.LEFT!==this.gridOptionsService.get("enableRtl")?(r="Before",o=this.headerPositionUtils.findHeader(i,r)):(r="After",o=this.headerPositionUtils.findHeader(i,r)),o||!e?this.focusService.focusHeaderPosition({headerPosition:o,direction:r,fromTab:e,allowUserOverride:!0,event:n}):this.focusNextHeaderRow(i,r,n)},e.prototype.focusNextHeaderRow=function(t,e,n){var o,r=t.headerRowIndex,i=null;return"Before"===e?r>0&&(o=r-1,i=this.headerPositionUtils.findColAtEdgeForHeaderRow(o,"end")):(o=r+1,i=this.headerPositionUtils.findColAtEdgeForHeaderRow(o,"start")),this.focusService.focusHeaderPosition({headerPosition:i,direction:e,fromTab:!0,allowUserOverride:!0,event:n})},e.prototype.scrollToColumn=function(t,e){if(void 0===e&&(e="After"),!t.getPinned()){var n;if(t instanceof Xt){var o=t.getDisplayedLeafColumns();n="Before"===e?Ct(o):o[0]}else n=t;this.gridBodyCon.getScrollFeature().ensureColumnVisible(n)}},Yd([nt("focusService")],e.prototype,"focusService",void 0),Yd([nt("headerPositionUtils")],e.prototype,"headerPositionUtils",void 0),Yd([nt("ctrlsService")],e.prototype,"ctrlsService",void 0),Yd([J],e.prototype,"postConstruct",null),e=Yd([et("headerNavigationService")],e)}(Ut),qd=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Qd=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Xd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return qd(e,t),e.prototype.setComp=function(t,e,n){this.comp=t,this.eGui=e,this.createManagedBean(new Fr(n,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,$t.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,$t.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight(),this.ctrlsService.registerGridHeaderCtrl(this)},e.prototype.setupHeaderHeight=function(){var t=this.setHeaderHeight.bind(this);t(),this.addManagedPropertyListener("headerHeight",t),this.addManagedPropertyListener("pivotHeaderHeight",t),this.addManagedPropertyListener("groupHeaderHeight",t),this.addManagedPropertyListener("pivotGroupHeaderHeight",t),this.addManagedPropertyListener("floatingFiltersHeight",t),this.addManagedListener(this.eventService,$t.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,$t.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,t),this.addManagedListener(this.eventService,$t.EVENT_GRID_STYLES_CHANGED,t),this.addManagedListener(this.eventService,$t.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,t)},e.prototype.getHeaderHeight=function(){return this.headerHeight},e.prototype.setHeaderHeight=function(){var t,e=this.columnModel,n=0,o=e.getHeaderRowCount();this.filterManager.hasFloatingFilters()&&(o++,n=1);var r=this.columnModel.getColumnGroupHeaderRowHeight(),i=this.columnModel.getColumnHeaderRowHeight(),s=o-(1+n);if(t=n*e.getFloatingFiltersHeight(),t+=s*r,t+=i,this.headerHeight!==t){this.headerHeight=t;var a="".concat(t+1,"px");this.comp.setHeightAndMinHeight(a),this.eventService.dispatchEvent({type:$t.EVENT_HEADER_HEIGHT_CHANGED})}},e.prototype.onPivotModeChanged=function(){var t=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",t),this.comp.addOrRemoveCssClass("ag-pivot-off",!t)},e.prototype.onDisplayedColumnsChanged=function(){var t=this.columnModel.getAllDisplayedColumns().some((function(t){return t.isSpanHeaderHeight()}));this.comp.addOrRemoveCssClass("ag-header-allow-overflow",t)},e.prototype.onTabKeyDown=function(t){var e=this.gridOptionsService.get("enableRtl"),n=t.shiftKey!==e?qc.LEFT:qc.RIGHT;(this.headerNavigationService.navigateHorizontally(n,!0,t)||this.focusService.focusNextGridCoreContainer(t.shiftKey))&&t.preventDefault()},e.prototype.handleKeyDown=function(t){var e=null;switch(t.key){case qo.LEFT:e=qc.LEFT;case qo.RIGHT:r(e)||(e=qc.RIGHT),this.headerNavigationService.navigateHorizontally(e,!1,t);break;case qo.UP:e=qc.UP;case qo.DOWN:r(e)||(e=qc.DOWN),this.headerNavigationService.navigateVertically(e,null,t)&&t.preventDefault();break;default:return}},e.prototype.onFocusOut=function(t){var e=this.gridOptionsService.getDocument(),n=t.relatedTarget;!n&&this.eGui.contains(e.activeElement)||this.eGui.contains(n)||this.focusService.clearFocusedHeader()},Qd([nt("headerNavigationService")],e.prototype,"headerNavigationService",void 0),Qd([nt("focusService")],e.prototype,"focusService",void 0),Qd([nt("columnModel")],e.prototype,"columnModel",void 0),Qd([nt("ctrlsService")],e.prototype,"ctrlsService",void 0),Qd([nt("filterManager")],e.prototype,"filterManager",void 0),e}(Ut),$d=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Jd=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},tp=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return $d(e,t),e.prototype.postConstruct=function(){var t=this,e={addOrRemoveCssClass:function(e,n){return t.addOrRemoveCssClass(e,n)},setHeightAndMinHeight:function(e){t.getGui().style.height=e,t.getGui().style.minHeight=e}};this.createManagedBean(new Xd).setComp(e,this.getGui(),this.getFocusableElement());var n=function(e){t.createManagedBean(e),t.appendChild(e)};n(new zd("left")),n(new zd(null)),n(new zd("right"))},e.TEMPLATE='<div class="ag-header" role="presentation"/>',Jd([J],e.prototype,"postConstruct",null),e}(Sr),ep=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),np=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},op=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ep(e,t),e.prototype.addResizeBar=function(t){var e=this,n={dragStartPixels:t.dragStartPixels||0,eElement:t.eResizeBar,onDragStart:this.onDragStart.bind(this,t),onDragStop:this.onDragStop.bind(this,t),onDragging:this.onDragging.bind(this,t),includeTouch:!0,stopPropagationForTouch:!0};this.dragService.addDragSource(n);return function(){return e.dragService.removeDragSource(n)}},e.prototype.onDragStart=function(t,e){this.dragStartX=e.clientX,this.setResizeIcons();var n=e instanceof MouseEvent&&!0===e.shiftKey;t.onResizeStart(n)},e.prototype.setResizeIcons=function(){var t=this.ctrlsService.getGridCtrl();t.setResizeCursor(!0),t.disableUserSelect(!0)},e.prototype.onDragStop=function(t,e){t.onResizeEnd(this.resizeAmount),this.resetIcons()},e.prototype.resetIcons=function(){var t=this.ctrlsService.getGridCtrl();t.setResizeCursor(!1),t.disableUserSelect(!1)},e.prototype.onDragging=function(t,e){this.resizeAmount=e.clientX-this.dragStartX,t.onResizing(this.resizeAmount)},np([nt("dragService")],e.prototype,"dragService",void 0),np([nt("ctrlsService")],e.prototype,"ctrlsService",void 0),e=np([et("horizontalResizeService")],e)}(Ut),rp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ip=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},sp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return rp(e,t),e.prototype.hideActiveMenu=function(){this.hidePopup&&this.hidePopup()},e.prototype.showMenuAfterMouseEvent=function(t,e){var n=this;this.showPopup(t,(function(o){n.popupService.positionPopupUnderMouseEvent({column:t,type:"columnMenu",mouseEvent:e,ePopup:o})}),"columnMenu",e.target)},e.prototype.showMenuAfterButtonClick=function(t,e,n){var o=this;this.showPopup(t,(function(r){o.popupService.positionPopupByComponent({type:n,eventSource:e,ePopup:r,keepWithinBounds:!0,position:"under",column:t})}),n,e)},e.prototype.showPopup=function(t,e,n,o){var r=this,i=this.filterManager.getOrCreateFilterWrapper(t,"COLUMN_MENU");if(!i)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");var s,a=document.createElement("div");je(a,"presentation"),a.classList.add("ag-menu"),this.tabListener=this.addManagedListener(a,"keydown",(function(t){return r.trapFocusWithin(t,a)})),i.guiPromise.then((function(t){return a.appendChild(t)}));var l=o||this.ctrlsService.getGridBodyCtrl().getGui(),u=this.localeService.getLocaleTextFunc(),c=this.popupService.addPopup({modal:!0,eChild:a,closeOnEsc:!0,closedCallback:function(e){t.setMenuVisible(!1,"contextMenu");var n=e instanceof KeyboardEvent;if(r.tabListener&&(r.tabListener=r.tabListener()),n&&o&&Co(o)){var s=r.focusService.findTabbableParent(o);s&&s.focus()}!function(){var t;null===(t=i.filterPromise)||void 0===t||t.then((function(t){var e;return null===(e=null===t||void 0===t?void 0:t.afterGuiDetached)||void 0===e?void 0:e.call(t)}))}()},positionCallback:function(){return e(a)},anchorToElement:l,ariaLabel:u("ariaLabelColumnMenu","Column Menu")});c&&(this.hidePopup=s=c.hideFunc),i.filterPromise.then((function(t){e(a),t.afterGuiAttached&&t.afterGuiAttached({container:n,hidePopup:s})})),t.setMenuVisible(!0,"contextMenu")},e.prototype.trapFocusWithin=function(t,e){t.key!==qo.TAB||t.defaultPrevented||this.focusService.findNextFocusableElement(e,!1,t.shiftKey)||(t.preventDefault(),this.focusService.focusInto(e,t.shiftKey))},e.prototype.isMenuEnabled=function(t){return t.isFilterAllowed()&&t.getMenuTabs(["filterMenuTab"]).includes("filterMenuTab")},ip([nt("filterManager")],e.prototype,"filterManager",void 0),ip([nt("popupService")],e.prototype,"popupService",void 0),ip([nt("focusService")],e.prototype,"focusService",void 0),ip([nt("ctrlsService")],e.prototype,"ctrlsService",void 0),e=ip([et("menuFactory")],e)}(Ut),ap=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),lp=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},up=function(t){function e(n){var o=t.call(this,e.getTemplate(n.cssClass))||this;return o.items=[],o.tabbedItemScrollMap=new Map,o.params=n,n.items&&n.items.forEach((function(t){return o.addItem(t)})),o}return ap(e,t),e.prototype.postConstruct=function(){var t=this;this.createManagedBean(new Fr(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)})),this.addDestroyFunc((function(){var e,n,o;return null===(o=null===(n=null===(e=t.activeItem)||void 0===e?void 0:e.tabbedItem)||void 0===n?void 0:n.afterDetachedCallback)||void 0===o?void 0:o.call(n)}))},e.getTemplate=function(t){return'<div class="ag-tabs '.concat(t,'">\n            <div ref="eHeader" role="tablist" class="ag-tabs-header ').concat(t?"".concat(t,"-header"):"",'"></div>\n            <div ref="eBody" role="presentation" class="ag-tabs-body ').concat(t?"".concat(t,"-body"):"",'"></div>\n        </div>')},e.prototype.handleKeyDown=function(t){var e=this.gridOptionsService.getDocument();switch(t.key){case qo.RIGHT:case qo.LEFT:if(!this.eHeader.contains(e.activeElement))return;var n=t.key===qo.RIGHT,o=this.gridOptionsService.get("enableRtl"),r=this.items.indexOf(this.activeItem),i=n!==o?Math.min(r+1,this.items.length-1):Math.max(r-1,0);if(r===i)return;t.preventDefault();var s=this.items[i];this.showItemWrapper(s),s.eHeaderButton.focus();break;case qo.UP:case qo.DOWN:t.stopPropagation()}},e.prototype.onTabKeyDown=function(t){if(!t.defaultPrevented){var e=this,n=e.focusService,o=e.eHeader,r=e.eBody,i=e.activeItem,s=this.gridOptionsService.getDocument().activeElement,a=t.target;if(t.preventDefault(),o.contains(s))n.focusInto(r,t.shiftKey);else{var l=null;n.isTargetUnderManagedComponent(r,a)&&(t.shiftKey&&(l=this.focusService.findFocusableElementBeforeTabGuard(r,a)),l||(l=i.eHeaderButton)),!l&&r.contains(s)&&((l=n.findNextFocusableElement(r,!1,t.shiftKey))||(l=i.eHeaderButton)),l&&l.focus()}}},e.prototype.setAfterAttachedParams=function(t){this.afterAttachedParams=t},e.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},e.prototype.addItem=function(t){var e=document.createElement("span");je(e,"tab"),e.setAttribute("tabindex","-1"),e.appendChild(t.title),e.classList.add("ag-tab"),this.eHeader.appendChild(e),Ye(e,t.titleLabel);var n={tabbedItem:t,eHeaderButton:e};this.items.push(n),e.addEventListener("click",this.showItemWrapper.bind(this,n))},e.prototype.showItem=function(t){var e=this.items.find((function(e){return e.tabbedItem===t}));e&&this.showItemWrapper(e)},e.prototype.showItemWrapper=function(t){var e,n,o=this,r=t.tabbedItem,i=t.eHeaderButton;this.params.onItemClicked&&this.params.onItemClicked({item:r}),this.activeItem!==t?(this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),mo(this.eBody),r.bodyPromise.then((function(t){o.eBody.appendChild(t);var e=!o.focusService.isKeyboardMode();if(o.focusService.focusInto(o.eBody,!1,e),r.afterAttachedCallback&&r.afterAttachedCallback(o.afterAttachedParams),o.params.keepScrollPosition){var n=r.getScrollableContainer&&r.getScrollableContainer()||t;o.lastScrollListener=o.addManagedListener(n,"scroll",(function(){o.tabbedItemScrollMap.set(r.name,n.scrollTop)}));var i=o.tabbedItemScrollMap.get(r.name);void 0!==i&&setTimeout((function(){n.scrollTop=i}),0)}})),this.activeItem&&(this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),null===(n=(e=this.activeItem.tabbedItem).afterDetachedCallback)||void 0===n||n.call(e)),i.classList.add("ag-tab-selected"),this.activeItem=t):W(this.params.onActiveItemClicked)},lp([nt("focusService")],e.prototype,"focusService",void 0),lp([Or("eHeader")],e.prototype,"eHeader",void 0),lp([Or("eBody")],e.prototype,"eBody",void 0),lp([J],e.prototype,"postConstruct",null),e}(Sr),cp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),dp=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},pp=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.polyfillFunctions=[],e}return cp(e,t),e.prototype.observeResize=function(t,e){var n=this,o=this.gridOptionsService.getWindow(),r=this.gridOptionsService.get("suppressBrowserResizeObserver");return!!o.ResizeObserver&&!r?function(){var n=new o.ResizeObserver(e);return n.observe(t),function(){return n.disconnect()}}():function(){var o=_o(t),r=bo(t),i=!0,s=function(){if(i){var a=_o(t),l=bo(t);(a!==o||l!==r)&&(o=a,r=l,e()),n.doNextPolyfillTurn(s)}};return s(),function(){return i=!1}}()},e.prototype.doNextPolyfillTurn=function(t){this.polyfillFunctions.push(t),this.schedulePolyfill()},e.prototype.schedulePolyfill=function(){var t=this;if(!this.polyfillScheduled){this.polyfillScheduled=!0,this.getFrameworkOverrides().setTimeout((function(){var e=t.polyfillFunctions;t.polyfillScheduled=!1,t.polyfillFunctions=[],e.forEach((function(t){return t()}))}),50)}},e=dp([et("resizeObserverService")],e)}(Ut),hp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),fp=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},gp=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.createTasksP1={list:[],sorted:!1},e.createTasksP2={list:[],sorted:!1},e.destroyTasks=[],e.ticking=!1,e.scrollGoingDown=!0,e.lastPage=0,e.lastScrollTop=0,e.taskCount=0,e.cancelledTasks=new Set,e}return hp(e,t),e.prototype.setScrollTop=function(t){var e=this.gridOptionsService.get("pagination");if(this.scrollGoingDown=t>=this.lastScrollTop,e&&0===t){var n=this.paginationProxy.getCurrentPage();n!==this.lastPage&&(this.lastPage=n,this.scrollGoingDown=!0)}this.lastScrollTop=t},e.prototype.init=function(){this.useAnimationFrame=!this.gridOptionsService.get("suppressAnimationFrame")},e.prototype.isOn=function(){return this.useAnimationFrame},e.prototype.verifyAnimationFrameOn=function(t){!1===this.useAnimationFrame&&console.warn("AG Grid: AnimationFrameService.".concat(t," called but animation frames are off"))},e.prototype.createTask=function(t,e,n){this.verifyAnimationFrameOn(n);var o={task:t,index:e,createOrder:++this.taskCount};this.addTaskToList(this[n],o),this.schedule()},e.prototype.cancelTask=function(t){this.cancelledTasks.add(t)},e.prototype.addTaskToList=function(t,e){t.list.push(e),t.sorted=!1},e.prototype.sortTaskList=function(t){if(!t.sorted){var e=this.scrollGoingDown?1:-1;t.list.sort((function(t,n){return t.index!==n.index?e*(n.index-t.index):n.createOrder-t.createOrder})),t.sorted=!0}},e.prototype.addDestroyTask=function(t){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(t),this.schedule()},e.prototype.executeFrame=function(t){this.verifyAnimationFrameOn("executeFrame");for(var e=this.createTasksP1,n=e.list,o=this.createTasksP2,r=o.list,i=this.destroyTasks,s=(new Date).getTime(),a=(new Date).getTime()-s,l=t<=0,u=this.ctrlsService.getGridBodyCtrl();l||a<t;){if(!u.getScrollFeature().scrollGridIfNeeded()){var c=void 0;if(n.length)this.sortTaskList(e),c=n.pop().task;else if(r.length)this.sortTaskList(o),c=r.pop().task;else{if(!i.length){this.cancelledTasks.clear();break}c=i.pop()}this.cancelledTasks.has(c)||c()}a=(new Date).getTime()-s}n.length||r.length||i.length?this.requestFrame():this.stopTicking()},e.prototype.stopTicking=function(){this.ticking=!1},e.prototype.flushAllFrames=function(){this.useAnimationFrame&&this.executeFrame(-1)},e.prototype.schedule=function(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))},e.prototype.requestFrame=function(){var t=this.executeFrame.bind(this,60);this.requestAnimationFrame(t)},e.prototype.requestAnimationFrame=function(t){var e=this.gridOptionsService.getWindow();e.requestAnimationFrame?e.requestAnimationFrame(t):e.webkitRequestAnimationFrame?e.webkitRequestAnimationFrame(t):e.setTimeout(t,0)},e.prototype.isQueueEmpty=function(){return!this.ticking},e.prototype.debounce=function(t){var e=this,n=!1;return function(){e.isOn()?n||(n=!0,e.addDestroyTask((function(){n=!1,t()}))):e.getFrameworkOverrides().setTimeout(t,0)}},fp([nt("ctrlsService")],e.prototype,"ctrlsService",void 0),fp([nt("paginationProxy")],e.prototype,"paginationProxy",void 0),fp([J],e.prototype,"init",null),e=fp([et("animationFrameService")],e)}(Ut);!function(t){t.EVERYTHING="group",t.FILTER="filter",t.SORT="sort",t.MAP="map",t.AGGREGATE="aggregate",t.FILTER_AGGREGATES="filter_aggregates",t.PIVOT="pivot",t.NOTHING="nothing"}(Kd||(Kd={}));var vp,mp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),yp=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Cp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return mp(e,t),e.prototype.postConstruct=function(){this.isClientSideRowModel="clientSide"===this.rowModel.getType()},e.prototype.expandRows=function(t){if(this.isClientSideRowModel){var e=new Set(t);this.rowModel.forEachNode((function(t){t.id&&e.has(t.id)&&(t.expanded=!0)})),this.onGroupExpandedOrCollapsed()}},e.prototype.getExpandedRows=function(){var t=[];return this.rowModel.forEachNode((function(e){var n=e.expanded,o=e.id;n&&o&&t.push(o)})),t},e.prototype.expandAll=function(t){this.isClientSideRowModel&&this.rowModel.expandOrCollapseAll(t)},e.prototype.setRowNodeExpanded=function(t,e,n){t&&(n&&t.parent&&-1!==t.parent.level&&this.setRowNodeExpanded(t.parent,e,n),t.setExpanded(e))},e.prototype.onGroupExpandedOrCollapsed=function(){this.isClientSideRowModel&&this.rowModel.refreshModel({step:Kd.MAP})},yp([nt("rowModel")],e.prototype,"rowModel",void 0),yp([J],e.prototype,"postConstruct",null),e=yp([et("expansionService")],e)}(Ut),wp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),bp=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},_p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return wp(e,t),e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady((function(e){t.centerRowContainerCtrl=e.centerRowContainerCtrl}))},e.prototype.getPreferredWidthForColumn=function(t,e){var n=this.getHeaderCellForColumn(t);if(!n)return-1;var o=this.rowRenderer.getAllCellsForColumn(t);return e||o.push(n),this.addElementsToContainerAndGetWidth(o)},e.prototype.getPreferredWidthForColumnGroup=function(t){var e=this.getHeaderCellForColumn(t);return e?this.addElementsToContainerAndGetWidth([e]):-1},e.prototype.addElementsToContainerAndGetWidth=function(t){var e=this,n=document.createElement("form");n.style.position="fixed";var o=this.centerRowContainerCtrl.getContainerElement();t.forEach((function(t){return e.cloneItemIntoDummy(t,n)})),o.appendChild(n);var r=n.offsetWidth;return o.removeChild(n),r+this.getAutoSizePadding()},e.prototype.getAutoSizePadding=function(){return this.gridOptionsService.get("autoSizePadding")},e.prototype.getHeaderCellForColumn=function(t){var e=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach((function(n){var o=n.getHtmlElementForColumnHeader(t);null!=o&&(e=o)})),e},e.prototype.cloneItemIntoDummy=function(t,e){var n=t.cloneNode(!0);n.style.width="",n.style.position="static",n.style.left="";var o=document.createElement("div"),r=o.classList;["ag-header-cell","ag-header-group-cell"].some((function(t){return n.classList.contains(t)}))?(r.add("ag-header","ag-header-row"),o.style.position="static"):r.add("ag-row");for(var i=t.parentElement;i;){if(["ag-header-row","ag-row"].some((function(t){return i.classList.contains(t)}))){for(var s=0;s<i.classList.length;s++){var a=i.classList[s];"ag-row-position-absolute"!=a&&r.add(a)}break}i=i.parentElement}o.appendChild(n),e.appendChild(o)},bp([nt("rowRenderer")],e.prototype,"rowRenderer",void 0),bp([nt("ctrlsService")],e.prototype,"ctrlsService",void 0),bp([nt("rowCssClassCalculator")],e.prototype,"rowCssClassCalculator",void 0),bp([J],e.prototype,"postConstruct",null),e=bp([et("autoWidthCalculator")],e)}(Ut),Sp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ep=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Op=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xp=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},Tp=function(t,e,n){if(n||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},Rp=function(t){function e(e,n){var o=t.call(this)||this;return o.createRowCon=e,o.destroyRowCtrls=n,o.stickyRowCtrls=[],o.containerHeight=0,o}return Sp(e,t),e.prototype.postConstruct=function(){var t=this;this.isClientSide="clientSide"===this.rowModel.getType(),this.ctrlsService.whenReady((function(e){t.gridBodyCtrl=e.gridBodyCtrl}))},e.prototype.getStickyRowCtrls=function(){return this.stickyRowCtrls},e.prototype.checkStickyRows=function(){var t=this,e=0;if(!this.gridOptionsService.isGroupRowsSticky())return this.refreshNodesAndContainerHeight([],e);for(var n=[],o=this.rowRenderer.getFirstVisibleVerticalPixel(),r=function(r){var i,s,a,l;if(n.push(r),t.isClientSide){for(var u=r;u.isExpandable()&&u.expanded;)if(u.master)u=u.detailNode;else if(u.childrenAfterSort){if(0===u.childrenAfterSort.length)break;u=Ct(u.childrenAfterSort)}l=u.rowTop+u.rowHeight}else if(r.master)l=r.detailNode.rowTop+r.detailNode.rowHeight;else{var c=null===(i=r.childStore)||void 0===i?void 0:i.getStoreBounds();l=(null!==(s=null===c||void 0===c?void 0:c.heightPx)&&void 0!==s?s:0)+(null!==(a=null===c||void 0===c?void 0:c.topPx)&&void 0!==a?a:0)}var d=o+e+r.rowHeight;r.stickyRowTop=l<d?e+(l-d):e,e=0,n.forEach((function(t){var n=t.stickyRowTop+t.rowHeight;e<n&&(e=n)}))};;){var i=o+e,s=this.rowModel.getRowIndexAtPixel(i),a=this.rowModel.getRow(s);if(null==a)break;if(a.level<0)break;for(var l=[],u=a.parent;u.level>=0;)l.push(u),u=u.parent;var c=l.reverse().find((function(t){return n.indexOf(t)<0&&t.displayed}));if(c)r(c);else{if(!(a.isExpandable()&&a.expanded&&a.rowTop<i))break;r(a)}}return this.refreshNodesAndContainerHeight(n,e)},e.prototype.refreshStickyNode=function(t){for(var e=[],n=0;n<this.stickyRowCtrls.length;n++){var o=this.stickyRowCtrls[n].getRowNode();o!==t&&e.push(o)}this.refreshNodesAndContainerHeight(e,this.containerHeight)&&this.checkStickyRows()},e.prototype.refreshNodesAndContainerHeight=function(t,e){var n,o,r,i=this,s=!1,a=this.stickyRowCtrls.filter((function(e){return-1===t.indexOf(e.getRowNode())})),l=t.filter((function(t){return-1===i.stickyRowCtrls.findIndex((function(e){return e.getRowNode()===t}))}));(a.length||l.length)&&(s=!0);var u={};a.forEach((function(t){u[t.getRowNode().id]=t,i.stickyRowCtrls=i.stickyRowCtrls.filter((function(e){return e!==t}))}));try{for(var c=Op(Object.values(u)),d=c.next();!d.done;d=c.next()){d.value.getRowNode().sticky=!1}}catch(h){n={error:h}}finally{try{d&&!d.done&&(o=c.return)&&o.call(c)}finally{if(n)throw n.error}}this.destroyRowCtrls(u,!1);var p=l.map((function(t){return t.sticky=!0,i.createRowCon(t,!1,!1)}));return(r=this.stickyRowCtrls).push.apply(r,Tp([],xp(p),!1)),this.stickyRowCtrls.forEach((function(t){return t.setRowTop(t.getRowNode().stickyRowTop)})),this.stickyRowCtrls.sort((function(t,e){return e.getRowNode().rowIndex-t.getRowNode().rowIndex})),this.containerHeight!==e&&(this.containerHeight=e,this.gridBodyCtrl.setStickyTopHeight(e),s=!0),s},Ep([nt("rowModel")],e.prototype,"rowModel",void 0),Ep([nt("rowRenderer")],e.prototype,"rowRenderer",void 0),Ep([nt("ctrlsService")],e.prototype,"ctrlsService",void 0),Ep([J],e.prototype,"postConstruct",null),e}(Ut),Dp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Pp=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Lp=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},Mp=function(t,e,n){if(n||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},Ap=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},kp=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.destroyFuncsForColumnListeners=[],e.rowCtrlsByRowIndex={},e.zombieRowCtrls={},e.allRowCtrls=[],e.topRowCtrls=[],e.bottomRowCtrls=[],e.refreshInProgress=!1,e.dataFirstRenderedFired=!1,e.setupRangeSelectionListeners=function(){var t=function(){e.getAllCellCtrls().forEach((function(t){return t.onRangeSelectionChanged()}))},n=function(){e.getAllCellCtrls().forEach((function(t){return t.updateRangeBordersIfRangeCount()}))},o=function(){e.eventService.addEventListener($t.EVENT_RANGE_SELECTION_CHANGED,t),e.eventService.addEventListener($t.EVENT_COLUMN_MOVED,n),e.eventService.addEventListener($t.EVENT_COLUMN_PINNED,n),e.eventService.addEventListener($t.EVENT_COLUMN_VISIBLE,n)},r=function(){e.eventService.removeEventListener($t.EVENT_RANGE_SELECTION_CHANGED,t),e.eventService.removeEventListener($t.EVENT_COLUMN_MOVED,n),e.eventService.removeEventListener($t.EVENT_COLUMN_PINNED,n),e.eventService.removeEventListener($t.EVENT_COLUMN_VISIBLE,n)};e.addDestroyFunc((function(){return r()})),e.addManagedPropertyListener("enableRangeSelection",(function(t){t.currentValue?o():r()})),e.gridOptionsService.get("enableRangeSelection")&&o()},e}return Dp(e,t),e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady((function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl(),t.initialise()}))},e.prototype.initialise=function(){var t=this;if(this.addManagedListener(this.eventService,$t.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,$t.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,$t.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,$t.EVENT_BODY_SCROLL,this.onBodyScroll.bind(this)),this.addManagedListener(this.eventService,$t.EVENT_BODY_HEIGHT_CHANGED,this.redraw.bind(this)),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],(function(){return t.onDomLayoutChanged()})),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],(function(){return t.redraw()})),this.addManagedPropertyListeners(["suppressCellFocus","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],(function(){return t.redrawRows()})),this.gridOptionsService.isGroupRowsSticky()){var e=this.rowModel.getType();"clientSide"!==e&&"serverSide"!==e||(this.stickyRowFeature=this.createManagedBean(new Rp(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this))))}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsService.isDomLayout("print"),this.embedFullWidthRows=this.printLayout||this.gridOptionsService.get("embedFullWidthRows"),this.redrawAfterModelUpdate()},e.prototype.initialiseCache=function(){if(this.gridOptionsService.get("keepDetailRows")){var t=this.getKeepDetailRowsCount(),e=null!=t?t:3;this.cachedRowCtrls=new Np(e)}},e.prototype.getKeepDetailRowsCount=function(){return this.gridOptionsService.get("keepDetailRowsCount")},e.prototype.getStickyTopRowCtrls=function(){return this.stickyRowFeature?this.stickyRowFeature.getStickyRowCtrls():[]},e.prototype.updateAllRowCtrls=function(){var t=S(this.rowCtrlsByRowIndex),e=this.gridOptionsService.get("ensureDomOrder"),n=this.gridOptionsService.isDomLayout("print");(e||n)&&t.sort((function(t,e){return t.getRowNode().rowIndex-e.getRowNode.rowIndex}));var o=S(this.zombieRowCtrls),r=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];o.length>0||r.length>0?this.allRowCtrls=Mp(Mp(Mp([],Lp(t),!1),Lp(o),!1),Lp(r),!1):this.allRowCtrls=t},e.prototype.onCellFocusChanged=function(t){this.getAllCellCtrls().forEach((function(e){return e.onCellFocused(t)})),this.getFullWidthRowCtrls().forEach((function(e){return e.onFullWidthRowFocused(t)}))},e.prototype.registerCellEventListeners=function(){var t=this;this.addManagedListener(this.eventService,$t.EVENT_CELL_FOCUSED,(function(e){t.onCellFocusChanged(e)})),this.addManagedListener(this.eventService,$t.EVENT_CELL_FOCUS_CLEARED,(function(){t.onCellFocusChanged()})),this.addManagedListener(this.eventService,$t.EVENT_FLASH_CELLS,(function(e){t.getAllCellCtrls().forEach((function(t){return t.onFlashCells(e)}))})),this.addManagedListener(this.eventService,$t.EVENT_COLUMN_HOVER_CHANGED,(function(){t.getAllCellCtrls().forEach((function(t){return t.onColumnHover()}))})),this.addManagedListener(this.eventService,$t.EVENT_DISPLAYED_COLUMNS_CHANGED,(function(){t.getAllCellCtrls().forEach((function(t){return t.onDisplayedColumnsChanged()}))})),this.addManagedListener(this.eventService,$t.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,(function(){t.printLayout&&t.getAllCellCtrls().forEach((function(t){return t.onLeftChanged()}))})),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,$t.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))},e.prototype.removeGridColumnListeners=function(){this.destroyFuncsForColumnListeners.forEach((function(t){return t()})),this.destroyFuncsForColumnListeners.length=0},e.prototype.refreshListenersToColumnsForCellComps=function(){var t=this;this.removeGridColumnListeners(),this.columnModel.getAllGridColumns().forEach((function(e){var n=function(n){t.getAllCellCtrls().forEach((function(t){t.getColumn()===e&&n(t)}))},o=function(){n((function(t){return t.onLeftChanged()}))},r=function(){n((function(t){return t.onWidthChanged()}))},i=function(){n((function(t){return t.onFirstRightPinnedChanged()}))},s=function(){n((function(t){return t.onLastLeftPinnedChanged()}))},a=function(){n((function(t){return t.onColDefChanged()}))};e.addEventListener("leftChanged",o),e.addEventListener("widthChanged",r),e.addEventListener("firstRightPinnedChanged",i),e.addEventListener("lastLeftPinnedChanged",s),e.addEventListener("colDefChanged",a),t.destroyFuncsForColumnListeners.push((function(){e.removeEventListener("leftChanged",o),e.removeEventListener("widthChanged",r),e.removeEventListener("firstRightPinnedChanged",i),e.removeEventListener("lastLeftPinnedChanged",s),e.removeEventListener("colDefChanged",a)}))}))},e.prototype.onDomLayoutChanged=function(){var t=this.gridOptionsService.isDomLayout("print"),e=t||this.gridOptionsService.get("embedFullWidthRows"),n=e!==this.embedFullWidthRows||this.printLayout!==t;this.printLayout=t,this.embedFullWidthRows=e,n&&this.redrawAfterModelUpdate({domLayoutChanged:!0})},e.prototype.datasourceChanged=function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t)},e.prototype.onPageLoaded=function(t){var e={recycleRows:t.keepRenderedRows,animate:t.animate,newData:t.newData,newPage:t.newPage,onlyBody:!0};this.redrawAfterModelUpdate(e)},e.prototype.getAllCellsForColumn=function(t){var e=[];return this.getAllRowCtrls().forEach((function(n){var o=n.getCellElement(t);o&&e.push(o)})),e},e.prototype.refreshFloatingRowComps=function(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())},e.prototype.getTopRowCtrls=function(){return this.topRowCtrls},e.prototype.getCentreRowCtrls=function(){return this.allRowCtrls},e.prototype.getBottomRowCtrls=function(){return this.bottomRowCtrls},e.prototype.refreshFloatingRows=function(t,e){var n=this;t.forEach((function(t){t.destroyFirstPass(),t.destroySecondPass()})),t.length=0,e&&e.forEach((function(e){var o=new Tu(e,n.beans,!1,!1,n.printLayout);t.push(o)}))},e.prototype.onPinnedRowDataChanged=function(){this.redrawAfterModelUpdate({recycleRows:!0})},e.prototype.redrawRow=function(t,e){var n=this;if(void 0===e&&(e=!1),t.sticky)this.stickyRowFeature.refreshStickyNode(t);else{var o=function(e){var o=e[t.rowIndex];o&&o.getRowNode()===t&&(o.destroyFirstPass(),o.destroySecondPass(),e[t.rowIndex]=n.createRowCon(t,!1,!1))};switch(t.rowPinned){case"top":o(this.topRowCtrls);case"bottom":o(this.bottomRowCtrls);default:o(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}e||this.dispatchDisplayedRowsChanged(!1)},e.prototype.redrawRows=function(t){var e=this;if(null!=t)return null===t||void 0===t||t.forEach((function(t){return e.redrawRow(t,!0)})),void this.dispatchDisplayedRowsChanged(!1);this.redrawAfterModelUpdate()},e.prototype.getCellToRestoreFocusToAfterRefresh=function(t){var e=(null===t||void 0===t?void 0:t.suppressKeepFocus)?null:this.focusService.getFocusCellToUseAfterRefresh();if(null==e)return null;var n=this.gridOptionsService.getDocument().activeElement,o=this.gridOptionsService.getDomData(n,Cu.DOM_DATA_KEY_CELL_CTRL),r=this.gridOptionsService.getDomData(n,Tu.DOM_DATA_KEY_ROW_CTRL);return o||r?e:null},e.prototype.redrawAfterModelUpdate=function(t){void 0===t&&(t={}),this.getLockOnRefresh();var e=this.getCellToRestoreFocusToAfterRefresh(t);this.updateContainerHeights(),this.scrollToTopIfNewData(t);var n=!t.domLayoutChanged&&!!t.recycleRows,o=t.animate&&this.gridOptionsService.isAnimateRows(),r=n?this.getRowsToRecycle():null;n||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature&&this.stickyRowFeature.checkStickyRows(),this.recycleRows(r,o),this.gridBodyCtrl.updateRowCount(),t.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),null!=e&&this.restoreFocusedCell(e),this.releaseLockOnRefresh()},e.prototype.scrollToTopIfNewData=function(t){var e=t.newData||t.newPage,n=this.gridOptionsService.get("suppressScrollOnNewData");e&&!n&&this.gridBodyCtrl.getScrollFeature().scrollToTop()},e.prototype.updateContainerHeights=function(){if(this.printLayout)this.rowContainerHeightService.setModelHeight(null);else{var t=this.paginationProxy.getCurrentPageHeight();0===t&&(t=1),this.rowContainerHeightService.setModelHeight(t)}},e.prototype.getLockOnRefresh=function(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0},e.prototype.releaseLockOnRefresh=function(){this.refreshInProgress=!1},e.prototype.isRefreshInProgress=function(){return this.refreshInProgress},e.prototype.restoreFocusedCell=function(t){t&&(this.focusService.setRestoreFocusedCell(t),this.onCellFocusChanged({rowIndex:t.rowIndex,column:t.column,rowPinned:t.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,api:this.beans.gridApi,columnApi:this.beans.columnApi,context:this.beans.gridOptionsService.context,type:"mock"}))},e.prototype.stopEditing=function(t){void 0===t&&(t=!1),this.getAllRowCtrls().forEach((function(e){e.stopEditing(t)}))},e.prototype.getAllCellCtrls=function(){for(var t=[],e=this.getAllRowCtrls(),n=e.length,o=0;o<n;o++)for(var r=e[o].getAllCellCtrls(),i=r.length,s=0;s<i;s++)t.push(r[s]);return t},e.prototype.getAllRowCtrls=function(){var t,e,n=this.stickyRowFeature&&this.stickyRowFeature.getStickyRowCtrls()||[],o=Mp(Mp(Mp([],Lp(this.topRowCtrls),!1),Lp(this.bottomRowCtrls),!1),Lp(n),!1);try{for(var r=Ap(Object.keys(this.rowCtrlsByRowIndex)),i=r.next();!i.done;i=r.next()){var s=i.value;o.push(this.rowCtrlsByRowIndex[s])}}catch(a){t={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return o},e.prototype.addRenderedRowListener=function(t,e,n){var o=this.rowCtrlsByRowIndex[e];o&&o.addEventListener(t,n)},e.prototype.flashCells=function(t){void 0===t&&(t={});var e=t.flashDelay,n=t.fadeDelay;this.getCellCtrls(t.rowNodes,t.columns).forEach((function(t){return t.flashCell({flashDelay:e,fadeDelay:n})}))},e.prototype.refreshCells=function(t){var e=this;void 0===t&&(t={});var n={forceRefresh:t.force,newData:!1,suppressFlash:t.suppressFlash};this.getCellCtrls(t.rowNodes,t.columns).forEach((function(t){return t.refreshOrDestroyCell(n)})),t.rowNodes&&(this.getRowCtrls(t.rowNodes).forEach((function(t){t.isFullWidth()&&(t.refreshFullWidth()||e.redrawRow(t.getRowNode(),!0))})),this.dispatchDisplayedRowsChanged(!1))},e.prototype.getCellRendererInstances=function(t){var e,n=this,o=this.getCellCtrls(t.rowNodes,t.columns).map((function(t){return t.getCellRenderer()})).filter((function(t){return null!=t}));if(null===(e=t.columns)||void 0===e?void 0:e.length)return o;var r=[],i=this.mapRowNodes(t.rowNodes);return this.getAllRowCtrls().forEach((function(t){if((!i||n.isRowInMap(t.getRowNode(),i))&&t.isFullWidth()){var e=t.getFullWidthCellRenderer();e&&r.push(e)}})),Mp(Mp([],Lp(r),!1),Lp(o),!1)},e.prototype.getCellEditorInstances=function(t){var e=[];return this.getCellCtrls(t.rowNodes,t.columns).forEach((function(t){var n=t.getCellEditor();n&&e.push(n)})),e},e.prototype.getEditingCells=function(){var t=[];return this.getAllCellCtrls().forEach((function(e){if(e.isEditing()){var n=e.getCellPosition();t.push(n)}})),t},e.prototype.mapRowNodes=function(t){if(t){var e={top:{},bottom:{},normal:{}};return t.forEach((function(t){var n=t.id;"top"===t.rowPinned?e.top[n]=t:"bottom"===t.rowPinned?e.bottom[n]=t:e.normal[n]=t})),e}},e.prototype.isRowInMap=function(t,e){var n=t.id,o=t.rowPinned;return"bottom"===o?null!=e.bottom[n]:"top"===o?null!=e.top[n]:null!=e.normal[n]},e.prototype.getRowCtrls=function(t){var e=this,n=this.mapRowNodes(t),o=this.getAllRowCtrls();return t&&n?o.filter((function(t){var o=t.getRowNode();return e.isRowInMap(o,n)})):o},e.prototype.getCellCtrls=function(t,e){var n,o=this;r(e)&&(n={},e.forEach((function(t){var e=o.columnModel.getGridColumn(t);r(e)&&(n[e.getId()]=!0)})));var i=[];return this.getRowCtrls(t).forEach((function(t){t.getAllCellCtrls().forEach((function(t){var e=t.getColumn().getId();n&&!n[e]||i.push(t)}))})),i},e.prototype.destroy=function(){this.removeAllRowComps(),t.prototype.destroy.call(this)},e.prototype.removeAllRowComps=function(){var t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t)},e.prototype.getRowsToRecycle=function(){var t=[];v(this.rowCtrlsByRowIndex,(function(e,n){null==n.getRowNode().id&&t.push(e)})),this.removeRowCtrls(t);var e={};return v(this.rowCtrlsByRowIndex,(function(t,n){var o=n.getRowNode();e[o.id]=n})),this.rowCtrlsByRowIndex={},e},e.prototype.removeRowCtrls=function(t){var e=this;t.forEach((function(t){var n=e.rowCtrlsByRowIndex[t];n&&(n.destroyFirstPass(),n.destroySecondPass()),delete e.rowCtrlsByRowIndex[t]}))},e.prototype.onBodyScroll=function(t){"vertical"===t.direction&&this.redraw({afterScroll:!0})},e.prototype.redraw=function(t){void 0===t&&(t={});var e,n=t.afterScroll;this.stickyRowFeature&&Ln()&&(e=this.getCellToRestoreFocusToAfterRefresh()||void 0);var o=this.firstRenderedRow,r=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();var i=!1;this.stickyRowFeature&&(i=this.stickyRowFeature.checkStickyRows());var s=this.firstRenderedRow!==o||this.lastRenderedRow!==r;if((!n||i||s)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,n),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(n),null!=e)){var a=this.getCellToRestoreFocusToAfterRefresh();null!=e&&null==a&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(e))}},e.prototype.removeRowCompsNotToDraw=function(t){var e={};t.forEach((function(t){return e[t]=!0}));var n=Object.keys(this.rowCtrlsByRowIndex).filter((function(t){return!e[t]}));this.removeRowCtrls(n)},e.prototype.calculateIndexesToDraw=function(t){var e=this,n=jn(this.firstRenderedRow,this.lastRenderedRow),o=function(t,o){var r=o.getRowNode().rowIndex;null!=r&&(r<e.firstRenderedRow||r>e.lastRenderedRow)&&e.doNotUnVirtualiseRow(o)&&n.push(r)};v(this.rowCtrlsByRowIndex,o),v(t,o),n.sort((function(t,e){return t-e}));for(var r=[],i=0;i<n.length;i++){var s=n[i],a=this.paginationProxy.getRow(s);a&&!a.sticky&&r.push(s)}return r},e.prototype.recycleRows=function(t,e,n){var o=this;void 0===e&&(e=!1),void 0===n&&(n=!1);var i=this.calculateIndexesToDraw(t);(this.removeRowCompsNotToDraw(i),this.printLayout&&(e=!1),i.forEach((function(i){r(o.createOrUpdateRowCtrl(i,t,e,n))})),t)&&(n&&!this.gridOptionsService.get("suppressAnimationFrame")&&!this.printLayout?this.beans.animationFrameService.addDestroyTask((function(){o.destroyRowCtrls(t,e),o.updateAllRowCtrls(),o.dispatchDisplayedRowsChanged()})):this.destroyRowCtrls(t,e));this.updateAllRowCtrls()},e.prototype.dispatchDisplayedRowsChanged=function(t){void 0===t&&(t=!1);var e={type:$t.EVENT_DISPLAYED_ROWS_CHANGED,afterScroll:t};this.eventService.dispatchEvent(e)},e.prototype.onDisplayedColumnsChanged=function(){var t=this.columnModel.isPinningLeft(),e=this.columnModel.isPinningRight();(this.pinningLeft!==t||e!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=e,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())},e.prototype.redrawFullWidthEmbeddedRows=function(){var t=[];this.getFullWidthRowCtrls().forEach((function(e){var n=e.getRowNode().rowIndex;t.push(n.toString())})),this.refreshFloatingRowComps(),this.removeRowCtrls(t),this.redraw({afterScroll:!0})},e.prototype.getFullWidthRowCtrls=function(t){var e=this,n=this.mapRowNodes(t);return this.getAllRowCtrls().filter((function(t){if(!t.isFullWidth())return!1;var o=t.getRowNode();return!(null!=n&&!e.isRowInMap(o,n))}))},e.prototype.createOrUpdateRowCtrl=function(t,e,n,o){var i,s=this.rowCtrlsByRowIndex[t];if(s||r(i=this.paginationProxy.getRow(t))&&r(e)&&e[i.id]&&i.alreadyRendered&&(s=e[i.id],e[i.id]=null),!s){if(i||(i=this.paginationProxy.getRow(t)),!r(i))return;s=this.createRowCon(i,n,o)}return i&&(i.alreadyRendered=!0),this.rowCtrlsByRowIndex[t]=s,s},e.prototype.destroyRowCtrls=function(t,e){var n=this,o=[];v(t,(function(t,r){r&&(n.cachedRowCtrls&&r.isCacheable()?n.cachedRowCtrls.addRow(r):(r.destroyFirstPass(),e?(n.zombieRowCtrls[r.getInstanceId()]=r,o.push((function(){r.destroySecondPass(),delete n.zombieRowCtrls[r.getInstanceId()]}))):r.destroySecondPass()))})),e&&(o.push((function(){n.updateAllRowCtrls(),n.dispatchDisplayedRowsChanged()})),N(o))},e.prototype.getRowBuffer=function(){return this.gridOptionsService.get("rowBuffer")},e.prototype.getRowBufferInPixels=function(){return this.getRowBuffer()*this.gridOptionsService.getRowHeightAsNumber()},e.prototype.workOutFirstAndLastRowsToRender=function(){var t,e;if(this.rowContainerHeightService.updateOffset(),this.paginationProxy.isRowsToRender())if(this.printLayout)this.environment.refreshRowHeightVariable(),t=this.paginationProxy.getPageFirstRow(),e=this.paginationProxy.getPageLastRow();else{var n=this.getRowBufferInPixels(),o=this.ctrlsService.getGridBodyCtrl(),r=this.gridOptionsService.get("suppressRowVirtualisation"),i=!1,s=void 0,a=void 0;do{var l=this.paginationProxy.getPixelOffset(),u=this.paginationProxy.getCurrentPagePixelRange(),c=u.pageFirstPixel,d=u.pageLastPixel,p=this.rowContainerHeightService.getDivStretchOffset(),h=o.getScrollFeature().getVScrollPosition(),f=h.top,g=h.bottom;r?(s=c+p,a=d+p):(s=Math.max(f+l-n,c)+p,a=Math.min(g+l+n,d)+p),this.firstVisibleVPixel=Math.max(f+l,c)+p,i=this.ensureAllRowsInRangeHaveHeightsCalculated(s,a)}while(i);var v=this.paginationProxy.getRowIndexAtPixel(s),m=this.paginationProxy.getRowIndexAtPixel(a),y=this.paginationProxy.getPageFirstRow(),C=this.paginationProxy.getPageLastRow();v<y&&(v=y),m>C&&(m=C),t=v,e=m}else t=0,e=-1;var w=this.gridOptionsService.isDomLayout("normal"),b=this.gridOptionsService.get("suppressMaxRenderedRowRestriction"),_=Math.max(this.getRowBuffer(),500);w&&!b&&e-t>_&&(e=t+_);var S=t!==this.firstRenderedRow,E=e!==this.lastRenderedRow;if(S||E){this.firstRenderedRow=t,this.lastRenderedRow=e;var O={type:$t.EVENT_VIEWPORT_CHANGED,firstRow:t,lastRow:e};this.eventService.dispatchEvent(O)}},e.prototype.dispatchFirstDataRenderedEvent=function(){var t=this;if(!this.dataFirstRenderedFired){this.dataFirstRenderedFired=!0;var e={type:$t.EVENT_FIRST_DATA_RENDERED,firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow};window.requestAnimationFrame((function(){t.beans.eventService.dispatchEvent(e)}))}},e.prototype.ensureAllRowsInRangeHaveHeightsCalculated=function(t,e){var n=this.paginationProxy.ensureRowHeightsValid(t,e,-1,-1);return n&&this.updateContainerHeights(),n},e.prototype.getFirstVisibleVerticalPixel=function(){return this.firstVisibleVPixel},e.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},e.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},e.prototype.doNotUnVirtualiseRow=function(t){var e=t.getRowNode(),n=this.focusService.isRowNodeFocused(e),o=t.isEditing(),r=e.detail;return!!(n||o||r)&&!!this.paginationProxy.isRowPresent(e)},e.prototype.createRowCon=function(t,e,n){var o=this.cachedRowCtrls?this.cachedRowCtrls.getRow(t):null;if(o)return o;var r=this.gridOptionsService.get("suppressAnimationFrame"),i=n&&!r&&!this.printLayout;return new Tu(t,this.beans,e,i,this.printLayout)},e.prototype.getRenderedNodes=function(){var t=this.rowCtrlsByRowIndex;return Object.keys(t).map((function(e){return t[e].getRowNode()}))},e.prototype.getRowByPosition=function(t){var e,n=t.rowIndex;switch(t.rowPinned){case"top":e=this.topRowCtrls[n];break;case"bottom":e=this.bottomRowCtrls[n];break;default:(e=this.rowCtrlsByRowIndex[n])||(e=this.getStickyTopRowCtrls().find((function(t){return t.getRowNode().rowIndex===n}))||null)}return e},e.prototype.getRowNode=function(t){switch(t.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}},e.prototype.isRangeInRenderedViewport=function(t,e){if(null==t||null==e)return!1;var n=t>this.lastRenderedRow;return!(e<this.firstRenderedRow)&&!n},Pp([nt("animationFrameService")],e.prototype,"animationFrameService",void 0),Pp([nt("paginationProxy")],e.prototype,"paginationProxy",void 0),Pp([nt("columnModel")],e.prototype,"columnModel",void 0),Pp([nt("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Pp([nt("rowModel")],e.prototype,"rowModel",void 0),Pp([nt("focusService")],e.prototype,"focusService",void 0),Pp([nt("beans")],e.prototype,"beans",void 0),Pp([nt("rowContainerHeightService")],e.prototype,"rowContainerHeightService",void 0),Pp([nt("ctrlsService")],e.prototype,"ctrlsService",void 0),Pp([J],e.prototype,"postConstruct",null),e=Pp([et("rowRenderer")],e)}(Ut),Np=function(){function t(t){this.entriesMap={},this.entriesList=[],this.maxCount=t}return t.prototype.addRow=function(t){if(this.entriesMap[t.getRowNode().id]=t,this.entriesList.push(t),t.setCached(!0),this.entriesList.length>this.maxCount){var e=this.entriesList[0];e.destroyFirstPass(),e.destroySecondPass(),this.removeFromCache(e)}},t.prototype.getRow=function(t){if(null==t||null==t.id)return null;var e=this.entriesMap[t.id];return e?(this.removeFromCache(e),e.setCached(!1),e.getRowNode()!=t?null:e):null},t.prototype.removeFromCache=function(t){var e=t.getRowNode().id;delete this.entriesMap[e],St(this.entriesList,t)},t.prototype.getEntries=function(){return this.entriesList},t}(),Fp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ip=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Gp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Fp(e,t),e.prototype.formatValue=function(t,e,n,o,r){void 0===r&&(r=!0);var i,s=null,a=t.getColDef();if(o?i=o:r&&(i=a.valueFormatter),i){var l={value:n,node:e,data:e?e.data:null,colDef:a,column:t,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};s="function"===typeof i?i(l):this.expressionService.evaluate(i,l)}else if(a.refData)return a.refData[n]||"";return null==s&&Array.isArray(n)&&(s=n.join(", ")),s},Ip([nt("expressionService")],e.prototype,"expressionService",void 0),e=Ip([et("valueFormatterService")],e)}(Ut),Hp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Vp=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},jp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Hp(e,t),e.prototype.init=function(){var t=this;this.setPinnedTopRowData(),this.setPinnedBottomRowData(),this.addManagedPropertyListener("pinnedTopRowData",(function(){return t.setPinnedTopRowData()})),this.addManagedPropertyListener("pinnedBottomRowData",(function(){return t.setPinnedBottomRowData()}))},e.prototype.isEmpty=function(t){return s("top"===t?this.pinnedTopRows:this.pinnedBottomRows)},e.prototype.isRowsToRender=function(t){return!this.isEmpty(t)},e.prototype.getRowAtPixel=function(t,e){var n="top"===e?this.pinnedTopRows:this.pinnedBottomRows;if(s(n))return 0;for(var o=0;o<n.length;o++){var r=n[o];if(r.rowTop+r.rowHeight-1>=t)return o}return n.length-1},e.prototype.setPinnedTopRowData=function(){var t=this.gridOptionsService.get("pinnedTopRowData");this.pinnedTopRows=this.createNodesFromData(t,!0);var e={type:$t.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(e)},e.prototype.setPinnedBottomRowData=function(){var t=this.gridOptionsService.get("pinnedBottomRowData");this.pinnedBottomRows=this.createNodesFromData(t,!1);var e={type:$t.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(e)},e.prototype.createNodesFromData=function(t,e){var n=this,o=[];if(t){var r=0;t.forEach((function(t,i){var s=new ks(n.beans);s.data=t;var a=e?ks.ID_PREFIX_TOP_PINNED:ks.ID_PREFIX_BOTTOM_PINNED;s.id=a+i,s.rowPinned=e?"top":"bottom",s.setRowTop(r),s.setRowHeight(n.gridOptionsService.getRowHeightForNode(s).height),s.setRowIndex(i),r+=s.rowHeight,o.push(s)}))}return o},e.prototype.getPinnedTopRowData=function(){return this.pinnedTopRows},e.prototype.getPinnedBottomRowData=function(){return this.pinnedBottomRows},e.prototype.getPinnedTopTotalHeight=function(){return this.getTotalHeight(this.pinnedTopRows)},e.prototype.getPinnedTopRowCount=function(){return this.pinnedTopRows?this.pinnedTopRows.length:0},e.prototype.getPinnedBottomRowCount=function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0},e.prototype.getPinnedTopRow=function(t){return this.pinnedTopRows[t]},e.prototype.getPinnedBottomRow=function(t){return this.pinnedBottomRows[t]},e.prototype.forEachPinnedTopRow=function(t){s(this.pinnedTopRows)||this.pinnedTopRows.forEach(t)},e.prototype.forEachPinnedBottomRow=function(t){s(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(t)},e.prototype.getPinnedBottomTotalHeight=function(){return this.getTotalHeight(this.pinnedBottomRows)},e.prototype.getTotalHeight=function(t){if(!t||0===t.length)return 0;var e=Ct(t);return e.rowTop+e.rowHeight},Vp([nt("beans")],e.prototype,"beans",void 0),Vp([J],e.prototype,"init",null),e=Vp([et("pinnedRowModel")],e)}(Ut);!function(t){t.Applied="Applied",t.StoreNotFound="StoreNotFound",t.StoreLoading="StoreLoading",t.StoreWaitingToLoad="StoreWaitingToLoad",t.StoreLoadingFailed="StoreLoadingFailed",t.StoreWrongType="StoreWrongType",t.Cancelled="Cancelled",t.StoreNotStarted="StoreNotStarted"}(vp||(vp={}));var Bp,Wp=function(){function t(t,e){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=t,this.pathRoot={rowNode:e,children:null},this.mapToItems[e.id]=this.pathRoot}return t.prototype.setInactive=function(){this.active=!1},t.prototype.isActive=function(){return this.active},t.prototype.depthFirstSearchChangedPath=function(t,e){if(t.children)for(var n=0;n<t.children.length;n++)this.depthFirstSearchChangedPath(t.children[n],e);e(t.rowNode)},t.prototype.depthFirstSearchEverything=function(t,e,n){if(t.childrenAfterGroup)for(var o=0;o<t.childrenAfterGroup.length;o++){var r=t.childrenAfterGroup[o];r.childrenAfterGroup?this.depthFirstSearchEverything(t.childrenAfterGroup[o],e,n):n&&e(r)}e(t)},t.prototype.forEachChangedNodeDepthFirst=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1),this.active&&!n?this.depthFirstSearchChangedPath(this.pathRoot,t):this.depthFirstSearchEverything(this.pathRoot.rowNode,t,e)},t.prototype.executeFromRootNode=function(t){t(this.pathRoot.rowNode)},t.prototype.createPathItems=function(t){for(var e=t,n=0;!this.mapToItems[e.id];){var o={rowNode:e,children:null};this.mapToItems[e.id]=o,n++,e=e.parent}return n},t.prototype.populateColumnsMap=function(t,e){var n=this;if(this.keepingColumns&&e)for(var o=t;o;)this.nodeIdsToColumns[o.id]||(this.nodeIdsToColumns[o.id]={}),e.forEach((function(t){return n.nodeIdsToColumns[o.id][t.getId()]=!0})),o=o.parent},t.prototype.linkPathItems=function(t,e){for(var n=t,o=0;o<e;o++){var r=this.mapToItems[n.id],i=this.mapToItems[n.parent.id];i.children||(i.children=[]),i.children.push(r),n=n.parent}},t.prototype.addParentNode=function(t,e){if(t&&!t.isRowPinned()){var n=this.createPathItems(t);this.linkPathItems(t,n),this.populateColumnsMap(t,e)}},t.prototype.canSkip=function(t){return this.active&&!this.mapToItems[t.id]},t.prototype.getValueColumnsForNode=function(t,e){if(!this.keepingColumns)return e;var n=this.nodeIdsToColumns[t.id];return e.filter((function(t){return n[t.getId()]}))},t.prototype.getNotValueColumnsForNode=function(t,e){if(!this.keepingColumns)return null;var n=this.nodeIdsToColumns[t.id];return e.filter((function(t){return!n[t.getId()]}))},t}(),zp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Up=function(t){function e(n){var o=t.call(this)||this;return o.state=e.STATE_WAITING_TO_LOAD,o.version=0,o.id=n,o}return zp(e,t),e.prototype.getId=function(){return this.id},e.prototype.load=function(){this.state=e.STATE_LOADING,this.loadFromDatasource()},e.prototype.getVersion=function(){return this.version},e.prototype.setStateWaitingToLoad=function(){this.version++,this.state=e.STATE_WAITING_TO_LOAD},e.prototype.getState=function(){return this.state},e.prototype.pageLoadFailed=function(t){this.isRequestMostRecentAndLive(t)&&(this.state=e.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)},e.prototype.success=function(t,e){this.successCommon(t,e)},e.prototype.pageLoaded=function(t,e,n){this.successCommon(t,{rowData:e,rowCount:n})},e.prototype.isRequestMostRecentAndLive=function(t){var e=t===this.version,n=this.isAlive();return e&&n},e.prototype.successCommon=function(t,n){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(t)&&(this.state=e.STATE_LOADED,this.processServerResult(n))},e.prototype.dispatchLoadCompleted=function(t){void 0===t&&(t=!0);var n={type:e.EVENT_LOAD_COMPLETE,success:t,block:this};this.dispatchEvent(n)},e.EVENT_LOAD_COMPLETE="loadComplete",e.STATE_WAITING_TO_LOAD="needsLoading",e.STATE_LOADING="loading",e.STATE_LOADED="loaded",e.STATE_FAILED="failed",e}(Ut),Yp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Kp=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Zp=function(t,e){return function(n,o){e(n,o,t)}},qp=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.activeBlockLoadsCount=0,e.blocks=[],e.active=!0,e}var n;return Yp(e,t),n=e,e.prototype.postConstruct=function(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();var t=this.gridOptionsService.get("blockLoadDebounceMillis");t&&t>0&&(this.checkBlockToLoadDebounce=ur.debounce(this.performCheckBlocksToLoad.bind(this),t))},e.prototype.setBeans=function(t){this.logger=t.create("RowNodeBlockLoader")},e.prototype.getMaxConcurrentDatasourceRequests=function(){var t=this.gridOptionsService.get("maxConcurrentDatasourceRequests");return null==t?2:t<=0?void 0:t},e.prototype.addBlock=function(t){this.blocks.push(t),t.addEventListener(Up.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()},e.prototype.removeBlock=function(t){ur.removeFromArray(this.blocks,t)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.active=!1},e.prototype.loadComplete=function(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchEvent({type:n.BLOCK_LOADED_EVENT}),0==this.activeBlockLoadsCount&&this.dispatchEvent({type:n.BLOCK_LOADER_FINISHED_EVENT})},e.prototype.checkBlockToLoad=function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()},e.prototype.performCheckBlocksToLoad=function(){if(this.active)if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)this.logger.log("checkBlockToLoad: max loads exceeded");else{var t=this.getAvailableLoadingCount(),e=this.blocks.filter((function(t){return t.getState()===Up.STATE_WAITING_TO_LOAD})).slice(0,t);this.registerLoads(e.length),e.forEach((function(t){return t.load()})),this.printCacheStatus()}},e.prototype.getBlockState=function(){if(this.gridOptionsService.isRowModelType("serverSide"))return this.rowModel.getBlockStates();var t={};return this.blocks.forEach((function(e){var n=e.getBlockStateJson(),o=n.id,r=n.state;t[o]=r})),t},e.prototype.printCacheStatus=function(){this.logger.isLogging()&&this.logger.log("printCacheStatus: activePageLoadsCount = ".concat(this.activeBlockLoadsCount,",")+" blocks = ".concat(JSON.stringify(this.getBlockState())))},e.prototype.isLoading=function(){return this.activeBlockLoadsCount>0},e.prototype.registerLoads=function(t){this.activeBlockLoadsCount+=t},e.prototype.getAvailableLoadingCount=function(){return void 0!==this.maxConcurrentRequests?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0},e.BLOCK_LOADED_EVENT="blockLoaded",e.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",Kp([nt("rowModel")],e.prototype,"rowModel",void 0),Kp([J],e.prototype,"postConstruct",null),Kp([Zp(0,it("loggerFactory"))],e.prototype,"setBeans",null),e=n=Kp([et("rowNodeBlockLoader")],e)}(Ut),Qp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Xp=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},$p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currentPage=0,e.topDisplayedRowIndex=0,e.bottomDisplayedRowIndex=0,e.pixelOffset=0,e.masterRowCount=0,e}return Qp(e,t),e.prototype.postConstruct=function(){this.active=this.gridOptionsService.get("pagination"),this.pageSizeFromGridOptions=this.gridOptionsService.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedListener(this.eventService,$t.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this)),this.onModelUpdated()},e.prototype.ensureRowHeightsValid=function(t,e,n,o){var r=this.rowModel.ensureRowHeightsValid(t,e,this.getPageFirstRow(),this.getPageLastRow());return r&&this.calculatePages(),r},e.prototype.isPaginateChildRows=function(){return!(!this.gridOptionsService.get("groupRemoveSingleChildren")&&!this.gridOptionsService.get("groupRemoveLowestSingleChildren"))||this.gridOptionsService.get("paginateChildRows")},e.prototype.onModelUpdated=function(t){this.calculatePages();var e={type:$t.EVENT_PAGINATION_CHANGED,animate:!!t&&t.animate,newData:!!t&&t.newData,newPage:!!t&&t.newPage,newPageSize:!!t&&t.newPageSize,keepRenderedRows:!!t&&t.keepRenderedRows};this.eventService.dispatchEvent(e)},e.prototype.onPaginationGridOptionChanged=function(){this.active=this.gridOptionsService.get("pagination"),this.calculatePages();var t={type:$t.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,newPageSize:!1,keepRenderedRows:!0};this.eventService.dispatchEvent(t)},e.prototype.onPageSizeGridOptionChanged=function(){this.setPageSize(this.gridOptionsService.get("paginationPageSize"),"gridOptions")},e.prototype.goToPage=function(t){if(this.active&&this.currentPage!==t&&"number"===typeof this.currentPage){this.currentPage=t;var e={type:$t.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0,newPageSize:!1};this.onModelUpdated(e)}},e.prototype.getPixelOffset=function(){return this.pixelOffset},e.prototype.getRow=function(t){return this.rowModel.getRow(t)},e.prototype.getRowNode=function(t){return this.rowModel.getRowNode(t)},e.prototype.getRowIndexAtPixel=function(t){return this.rowModel.getRowIndexAtPixel(t)},e.prototype.getCurrentPageHeight=function(){return i(this.topRowBounds)||i(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)},e.prototype.getCurrentPagePixelRange=function(){return{pageFirstPixel:this.topRowBounds?this.topRowBounds.rowTop:0,pageLastPixel:this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0}},e.prototype.isRowPresent=function(t){return!!this.rowModel.isRowPresent(t)&&(t.rowIndex>=this.topDisplayedRowIndex&&t.rowIndex<=this.bottomDisplayedRowIndex)},e.prototype.isEmpty=function(){return this.rowModel.isEmpty()},e.prototype.isRowsToRender=function(){return this.rowModel.isRowsToRender()},e.prototype.forEachNode=function(t){return this.rowModel.forEachNode(t)},e.prototype.forEachNodeOnPage=function(t){for(var e=this.getPageFirstRow(),n=this.getPageLastRow(),o=e;o<=n;o++){var r=this.getRow(o);r&&t(r)}},e.prototype.getType=function(){return this.rowModel.getType()},e.prototype.getRowBounds=function(t){var e=this.rowModel.getRowBounds(t);return e.rowIndex=t,e},e.prototype.getPageFirstRow=function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1},e.prototype.getPageLastRow=function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1},e.prototype.getRowCount=function(){return this.rowModel.getRowCount()},e.prototype.getPageForIndex=function(t){return Math.floor(t/this.pageSize)},e.prototype.goToPageWithIndex=function(t){if(this.active){var e=this.getPageForIndex(t);this.goToPage(e)}},e.prototype.isRowInPage=function(t){return!this.active||this.getPageForIndex(t.rowIndex)===this.currentPage},e.prototype.isLastPageFound=function(){return this.rowModel.isLastRowIndexKnown()},e.prototype.getCurrentPage=function(){return this.currentPage},e.prototype.goToNextPage=function(){this.goToPage(this.currentPage+1)},e.prototype.goToPreviousPage=function(){this.goToPage(this.currentPage-1)},e.prototype.goToFirstPage=function(){this.goToPage(0)},e.prototype.goToLastPage=function(){var t=this.rowModel.getRowCount(),e=Math.floor(t/this.pageSize);this.goToPage(e)},e.prototype.getPageSize=function(){return this.pageSize},e.prototype.getTotalPages=function(){return this.totalPages},e.prototype.setPage=function(t){this.currentPage=t},Object.defineProperty(e.prototype,"pageSize",{get:function(){return r(this.pageSizeAutoCalculated)?this.pageSizeAutoCalculated:r(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:r(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:r(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize},enumerable:!1,configurable:!0}),e.prototype.unsetAutoCalculatedPageSize=function(){if(void 0!==this.pageSizeAutoCalculated){var t=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==t&&this.onModelUpdated({type:$t.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!1,newPageSize:!0})}},e.prototype.setPageSize=function(t,e){var n=this.pageSize;switch(e){case"autoCalculated":this.pageSizeAutoCalculated=t;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=t,0!==this.currentPage&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=t;break;case"gridOptions":this.pageSizeFromGridOptions=t,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,0!==this.currentPage&&this.goToFirstPage()}if(n!==this.pageSize){var o={type:$t.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!1,newPageSize:!0};this.onModelUpdated(o)}},e.prototype.calculatePages=function(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(r(this.topRowBounds)?this.topRowBounds.rowTop:0)},e.prototype.setPixelOffset=function(t){this.pixelOffset!==t&&(this.pixelOffset=t,this.eventService.dispatchEvent({type:$t.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))},e.prototype.setZeroRows=function(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0},e.prototype.adjustCurrentPageIfInvalid=function(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)},e.prototype.calculatePagesMasterRowsOnly=function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0)this.setZeroRows();else{var t=this.masterRowCount-1;this.totalPages=Math.floor(t/this.pageSize)+1,this.adjustCurrentPageIfInvalid();var e=this.pageSize*this.currentPage,n=this.pageSize*(this.currentPage+1)-1;if(n>t&&(n=t),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(e),n===t)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var o=this.rowModel.getTopLevelRowDisplayedIndex(n+1);this.bottomDisplayedRowIndex=o-1}}},e.prototype.getMasterRowCount=function(){return this.masterRowCount},e.prototype.calculatePagesAllRows=function(){if(this.masterRowCount=this.rowModel.getRowCount(),0!==this.masterRowCount){var t=this.masterRowCount-1;this.totalPages=Math.floor(t/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>t&&(this.bottomDisplayedRowIndex=t)}else this.setZeroRows()},e.prototype.calculatedPagesNotActive=function(){this.setPageSize(this.masterRowCount,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1},Xp([nt("rowModel")],e.prototype,"rowModel",void 0),Xp([J],e.prototype,"postConstruct",null),e=Xp([et("paginationProxy")],e)}(Ut),Jp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),th=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},eh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Jp(e,t),e.prototype.processAllCellClasses=function(t,e,n,o){this.processClassRules(void 0,t.cellClassRules,e,n,o),this.processStaticCellClasses(t,e,n)},e.prototype.processClassRules=function(t,e,n,o,r){if(null!=e||null!=t){var i={},s={},a=function(t,e){t.split(" ").forEach((function(t){""!=t.trim()&&e(t)}))};if(e)for(var l=Object.keys(e),u=function(t){var o,r=l[t],u=e[r];"string"===typeof u?o=c.expressionService.evaluate(u,n):"function"===typeof u&&(o=u(n)),a(r,(function(t){o?i[t]=!0:s[t]=!0}))},c=this,d=0;d<l.length;d++)u(d);t&&r&&Object.keys(t).forEach((function(t){return a(t,(function(t){i[t]||(s[t]=!0)}))})),r&&Object.keys(s).forEach(r),Object.keys(i).forEach(o)}},e.prototype.getStaticCellClasses=function(t,e){var n,o=t.cellClass;if(!o)return[];"function"===typeof o?n=o(e):n=o;return"string"===typeof n&&(n=[n]),n||[]},e.prototype.processStaticCellClasses=function(t,e,n){this.getStaticCellClasses(t,e).forEach((function(t){n(t)}))},th([nt("expressionService")],e.prototype,"expressionService",void 0),e=th([et("stylingService")],e)}(Ut),nh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),oh=function(t){function e(e){return t.call(this,e,"ag-toggle-button")||this}return nh(e,t),e.prototype.setValue=function(e,n){return t.prototype.setValue.call(this,e,n),this.addOrRemoveCssClass("ag-selected",this.getValue()),this},e}(ui),rh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ih=function(t){function e(e){return t.call(this,e,"ag-text-area",null,"textarea")||this}return rh(e,t),e.prototype.setValue=function(e,n){var o=t.prototype.setValue.call(this,e,n);return this.eInput.value=e,o},e.prototype.setCols=function(t){return this.eInput.cols=t,this},e.prototype.setRows=function(t){return this.eInput.rows=t,this},e}(ai),sh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ah=function(t){function e(e){return t.call(this,e,"ag-date-field","date")||this}return sh(e,t),e.prototype.postConstruct=function(){var e=this;t.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this));var n=On();this.addManagedListener(this.eInput,"mousedown",(function(){e.isDisabled()||n||e.eInput.focus()})),this.eInput.step="any"},e.prototype.onWheel=function(t){document.activeElement===this.eInput&&t.preventDefault()},e.prototype.setMin=function(t){var e,n=t instanceof Date?null!==(e=Un(null!==t&&void 0!==t?t:null,!1))&&void 0!==e?e:void 0:t;return this.min===n||(this.min=n,Fo(this.eInput,"min",n)),this},e.prototype.setMax=function(t){var e,n=t instanceof Date?null!==(e=Un(null!==t&&void 0!==t?t:null,!1))&&void 0!==e?e:void 0:t;return this.max===n||(this.max=n,Fo(this.eInput,"max",n)),this},e.prototype.setStep=function(t){return this.step===t||(this.step=t,Fo(this.eInput,"step",t)),this},e.prototype.getDate=function(){var t;if(this.eInput.validity.valid)return null!==(t=Zn(this.getValue()))&&void 0!==t?t:void 0},e.prototype.setDate=function(t,e){this.setValue(Un(null!==t&&void 0!==t?t:null,!1),e)},e}(Ni),lh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),uh=function(t){function e(e){return t.call(this,e,"ag-range-field","range")||this}return lh(e,t),e.prototype.postConstruct=function(){t.prototype.postConstruct.call(this);var e=this.config,n=e.min,o=e.max,r=e.step;null!=n&&this.setMinValue(n),null!=o&&this.setMaxValue(o),this.setStep(r||1)},e.prototype.addInputListeners=function(){var t=this;this.addManagedListener(this.eInput,"input",(function(e){var n=e.target.value;t.setValue(n)}))},e.prototype.setMinValue=function(t){return this.min=t,this.eInput.setAttribute("min",t.toString()),this},e.prototype.setMaxValue=function(t){return this.max=t,this.eInput.setAttribute("max",t.toString()),this},e.prototype.setStep=function(t){return this.eInput.setAttribute("step",t.toString()),this},e.prototype.setValue=function(e,n){null!=this.min&&(e=Math.max(parseFloat(e),this.min).toString()),null!=this.max&&(e=Math.min(parseFloat(e),this.max).toString());var o=t.prototype.setValue.call(this,e,n);return this.eInput.value=e,o},e}(ai),ch=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),dh=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ph=function(t){function e(e,n){var o=t.call(this,'<div class="ag-rich-select-row" role="presentation"></div>')||this;return o.params=e,o.wrapperEl=n,o}return ch(e,t),e.prototype.postConstruct=function(){this.addManagedListener(this.getGui(),"mouseup",this.onMouseUp.bind(this))},e.prototype.setState=function(t){var e="";this.params.valueFormatter&&(e=this.params.valueFormatter(t)),this.populateWithRenderer(t,e)||this.populateWithoutRenderer(t,e),this.value=t},e.prototype.highlightString=function(t){var e=this.parsedValue;if(!this.params.cellRenderer&&r(e)){var n=r(t);if(n){var o=null===e||void 0===e?void 0:e.toLocaleLowerCase().indexOf(t.toLocaleLowerCase());if(o>=0){var i=o+t.length,s=se(e.slice(0,o),!0),a=se(e.slice(o,i),!0),l=se(e.slice(i));this.renderValueWithoutRenderer("".concat(s,'<span class="ag-rich-select-row-text-highlight">').concat(a,"</span>").concat(l))}else n=!1}n||this.renderValueWithoutRenderer(e)}},e.prototype.updateHighlighted=function(t){var e,n=this.getGui(),o="ag-rich-select-row-".concat(this.getCompId());(null===(e=n.parentElement)||void 0===e||e.setAttribute("id",o),t)&&(Je(this.getParentComponent().getAriaElement(),o),this.wrapperEl.setAttribute("data-active-option",o));hn(n.parentElement,t),this.addOrRemoveCssClass("ag-rich-select-row-selected",t)},e.prototype.populateWithoutRenderer=function(t,e){var n=this.gridOptionsService.getDocument(),o=this.getGui(),i=n.createElement("span");i.style.overflow="hidden",i.style.textOverflow="ellipsis";var s=se(r(e)?e:t,!0);this.parsedValue=r(s)?s:null,o.appendChild(i),this.renderValueWithoutRenderer(s)},e.prototype.renderValueWithoutRenderer=function(t){var e=this.getGui().querySelector("span");e&&(e.innerHTML=r(t)?t:"&nbsp;")},e.prototype.populateWithRenderer=function(t,e){var n,o,r=this;return this.params.cellRenderer&&(o=this.userComponentFactory.getCellRendererDetails(this.params,{value:t,valueFormatted:e,api:this.gridOptionsService.api})),o&&(n=o.newAgStackInstance()),n&&Go(n,this.getGui()),!!n&&(n.then((function(t){r.addDestroyFunc((function(){r.getContext().destroyBean(t)}))})),!0)},e.prototype.onMouseUp=function(){var t=this.getParentComponent(),e={type:$t.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:!1,value:this.value};null===t||void 0===t||t.dispatchEvent(e)},dh([nt("userComponentFactory")],e.prototype,"userComponentFactory",void 0),dh([J],e.prototype,"postConstruct",null),e}(Sr),hh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),fh=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t.TAB_GUARD="ag-tab-guard",t.TAB_GUARD_TOP="ag-tab-guard-top",t.TAB_GUARD_BOTTOM="ag-tab-guard-bottom"}(Bp||(Bp={}));var gh,vh=function(t){function e(e){var n=t.call(this)||this;n.skipTabGuardFocus=!1;var o=e.comp,r=e.eTopGuard,i=e.eBottomGuard,s=e.focusInnerElement,a=e.onFocusIn,l=e.onFocusOut,u=e.shouldStopEventPropagation,c=e.onTabKeyDown,d=e.handleKeyDown,p=e.eFocusableElement;return n.comp=o,n.eTopGuard=r,n.eBottomGuard=i,n.providedFocusInnerElement=s,n.eFocusableElement=p,n.providedFocusIn=a,n.providedFocusOut=l,n.providedShouldStopEventPropagation=u,n.providedOnTabKeyDown=c,n.providedHandleKeyDown=d,n}return hh(e,t),e.prototype.postConstruct=function(){var t=this;this.createManagedBean(new Fr(this.eFocusableElement,{shouldStopEventPropagation:function(){return t.shouldStopEventPropagation()},onTabKeyDown:function(e){return t.onTabKeyDown(e)},handleKeyDown:function(e){return t.handleKeyDown(e)},onFocusIn:function(e){return t.onFocusIn(e)},onFocusOut:function(e){return t.onFocusOut(e)}})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach((function(e){return t.addManagedListener(e,"focus",t.onFocus.bind(t))}))},e.prototype.handleKeyDown=function(t){this.providedHandleKeyDown&&this.providedHandleKeyDown(t)},e.prototype.tabGuardsAreActive=function(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")},e.prototype.shouldStopEventPropagation=function(){return!!this.providedShouldStopEventPropagation&&this.providedShouldStopEventPropagation()},e.prototype.activateTabGuards=function(){var t=this.gridOptionsService.get("tabIndex");this.comp.setTabIndex(t.toString())},e.prototype.deactivateTabGuards=function(){this.comp.setTabIndex()},e.prototype.onFocus=function(t){if(this.skipTabGuardFocus)this.skipTabGuardFocus=!1;else{var e=t.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(e):this.focusInnerElement(e)}},e.prototype.onFocusIn=function(t){this.providedFocusIn&&this.providedFocusIn(t)||this.deactivateTabGuards()},e.prototype.onFocusOut=function(t){this.providedFocusOut&&this.providedFocusOut(t)||this.eFocusableElement.contains(t.relatedTarget)||this.activateTabGuards()},e.prototype.onTabKeyDown=function(t){var e=this;if(this.providedOnTabKeyDown)this.providedOnTabKeyDown(t);else if(!t.defaultPrevented){var n=this.tabGuardsAreActive();n&&this.deactivateTabGuards();var o=this.getNextFocusableElement(t.shiftKey);n&&setTimeout((function(){return e.activateTabGuards()}),0),o&&(o.focus(),t.preventDefault())}},e.prototype.focusInnerElement=function(t){void 0===t&&(t=!1);var e=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(e.splice(0,1),e.splice(e.length-1,1)),e.length&&e[t?e.length-1:0].focus({preventScroll:!0})},e.prototype.getNextFocusableElement=function(t){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,t)},e.prototype.forceFocusOutOfContainer=function(t){void 0===t&&(t=!1);var e=t?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,e.focus()},fh([nt("focusService")],e.prototype,"focusService",void 0),fh([J],e.prototype,"postConstruct",null),e}(Ut),mh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),yh=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},Ch=function(t,e,n){if(n||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},wh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return mh(e,t),e.prototype.initialiseTabGuard=function(t){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();var e=[this.eTopGuard,this.eBottomGuard],n={setTabIndex:function(t){e.forEach((function(e){return null!=t?e.setAttribute("tabindex",t):e.removeAttribute("tabindex")}))}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new vh({comp:n,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:t.onFocusIn,onFocusOut:t.onFocusOut,focusInnerElement:t.focusInnerElement,handleKeyDown:t.handleKeyDown,onTabKeyDown:t.onTabKeyDown,shouldStopEventPropagation:t.shouldStopEventPropagation}))},e.prototype.createTabGuard=function(t){var e=document.createElement("div"),n="top"===t?Bp.TAB_GUARD_TOP:Bp.TAB_GUARD_BOTTOM;return e.classList.add(Bp.TAB_GUARD,n),je(e,"presentation"),e},e.prototype.addTabGuards=function(t,e){this.eFocusableElement.insertAdjacentElement("afterbegin",t),this.eFocusableElement.insertAdjacentElement("beforeend",e)},e.prototype.removeAllChildrenExceptTabGuards=function(){var t=[this.eTopGuard,this.eBottomGuard];mo(this.getFocusableElement()),this.addTabGuards.apply(this,Ch([],yh(t),!1))},e.prototype.forceFocusOutOfContainer=function(t){void 0===t&&(t=!1),this.tabGuardCtrl.forceFocusOutOfContainer(t)},e.prototype.appendChild=function(e,n){Ao(e)||(e=e.getGui());var o=this.eBottomGuard;o?o.insertAdjacentElement("beforebegin",e):t.prototype.appendChild.call(this,e,n)},e}(Sr),bh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),_h=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Sh=function(t){function e(n){var o=t.call(this,e.getTemplate((null===n||void 0===n?void 0:n.cssIdentifier)||"default"))||this;o.renderedRows=new Map,o.rowHeight=20;var r=n||{},i=r.cssIdentifier,s=void 0===i?"default":i,a=r.ariaRole,l=void 0===a?"listbox":a,u=r.listName;return o.cssIdentifier=s,o.ariaRole=l,o.listName=u,o}return bh(e,t),e.prototype.postConstruct=function(){var t=this;this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:function(e){return t.onFocusIn(e)},onFocusOut:function(e){return t.onFocusOut(e)},focusInnerElement:function(e){return t.focusInnerElement(e)},onTabKeyDown:function(e){return t.onTabKeyDown(e)},handleKeyDown:function(e){return t.handleKeyDown(e)}}),this.setAriaProperties(),this.addManagedListener(this.eventService,$t.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanged.bind(this))},e.prototype.onGridStylesChanged=function(){this.rowHeight=this.getItemHeight(),this.refresh()},e.prototype.setAriaProperties=function(){var t=this.localeService.getLocaleTextFunc()("ariaDefaultListName",this.listName||"List"),e=this.eContainer;je(e,this.ariaRole),Ye(e,t)},e.prototype.addResizeObserver=function(){var t=this,e=this.resizeObserverService.observeResize(this.getGui(),(function(){return t.animationFrameService.requestAnimationFrame((function(){return t.drawVirtualRows()}))}));this.addDestroyFunc(e)},e.prototype.focusInnerElement=function(t){this.focusRow(t?this.model.getRowCount()-1:0)},e.prototype.onFocusIn=function(t){var e=t.target;return e.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=ze(e)-1),!1},e.prototype.onFocusOut=function(t){return this.getFocusableElement().contains(t.relatedTarget)||(this.lastFocusedRowIndex=null),!1},e.prototype.handleKeyDown=function(t){switch(t.key){case qo.UP:case qo.DOWN:this.navigate(t.key===qo.UP)&&t.preventDefault()}},e.prototype.onTabKeyDown=function(t){this.navigate(t.shiftKey)?t.preventDefault():(Nt(t),this.forceFocusOutOfContainer(t.shiftKey))},e.prototype.navigate=function(t){if(null==this.lastFocusedRowIndex)return!1;var e=this.lastFocusedRowIndex+(t?-1:1);return!(e<0||e>=this.model.getRowCount())&&(this.focusRow(e),!0)},e.prototype.getLastFocusedRow=function(){return this.lastFocusedRowIndex},e.prototype.focusRow=function(t){var e=this;this.ensureIndexVisible(t),window.setTimeout((function(){if(e.isAlive()){var n=e.renderedRows.get(t);n&&n.eDiv.focus()}}),10)},e.prototype.getComponentAt=function(t){var e=this.renderedRows.get(t);return e&&e.rowComponent},e.prototype.forEachRenderedRow=function(t){this.renderedRows.forEach((function(e,n){return t(e.rowComponent,n)}))},e.getTemplate=function(t){return'<div class="ag-virtual-list-viewport ag-'.concat(t,'-virtual-list-viewport" role="presentation">\n                <div class="ag-virtual-list-container ag-').concat(t,'-virtual-list-container" ref="eContainer"></div>\n            </div>')},e.prototype.getItemHeight=function(){return this.environment.getListItemHeight()},e.prototype.ensureIndexVisible=function(t,e){void 0===e&&(e=!0);var n=this.model.getRowCount();if("number"!==typeof t||t<0||t>=n)return console.warn("AG Grid: invalid row index for ensureIndexVisible: "+t),!1;var o=t*this.rowHeight,r=o+this.rowHeight,i=this.getGui(),s=i.scrollTop,a=i.offsetHeight,l=s+a,u=e?0:this.rowHeight,c=l<r-u;if(s>o+u)return i.scrollTop=o,!0;if(c){var d=r-a;return i.scrollTop=d,!0}return!1},e.prototype.setComponentCreator=function(t){this.componentCreator=t},e.prototype.setComponentUpdater=function(t){this.componentUpdater=t},e.prototype.getRowHeight=function(){return this.rowHeight},e.prototype.getScrollTop=function(){return this.getGui().scrollTop},e.prototype.setRowHeight=function(t){this.rowHeight=t,this.refresh()},e.prototype.refresh=function(t){var e=this;if(null!=this.model&&this.isAlive()){var n=this.model.getRowCount();this.eContainer.style.height="".concat(n*this.rowHeight,"px"),B((function(){return e.eContainer.clientHeight>=n*e.rowHeight}),(function(){e.isAlive()&&(e.canSoftRefresh(t)?e.drawVirtualRows(!0):(e.clearVirtualRows(),e.drawVirtualRows()))}))}},e.prototype.canSoftRefresh=function(t){return!!(t&&this.renderedRows.size&&"function"===typeof this.model.areRowsEqual&&this.componentUpdater)},e.prototype.clearVirtualRows=function(){var t=this;this.renderedRows.forEach((function(e,n){return t.removeRow(n)}))},e.prototype.drawVirtualRows=function(t){if(this.isAlive()&&this.model){var e=this.getGui(),n=e.scrollTop,o=n+e.offsetHeight,r=Math.floor(n/this.rowHeight),i=Math.floor(o/this.rowHeight);this.ensureRowsRendered(r,i,t)}},e.prototype.ensureRowsRendered=function(t,e,n){var o=this;this.renderedRows.forEach((function(n,r){(r<t||r>e)&&r!==o.lastFocusedRowIndex&&o.removeRow(r)})),n&&this.refreshRows();for(var r=t;r<=e;r++)this.renderedRows.has(r)||r<this.model.getRowCount()&&this.insertRow(r)},e.prototype.insertRow=function(t){var e=this,n=this.model.getRow(t),o=document.createElement("div");o.classList.add("ag-virtual-list-item","ag-".concat(this.cssIdentifier,"-virtual-list-item")),je(o,"tree"===this.ariaRole?"treeitem":"option"),nn(o,this.model.getRowCount()),on(o,t+1),o.setAttribute("tabindex","-1"),o.style.height="".concat(this.rowHeight,"px"),o.style.top="".concat(this.rowHeight*t,"px");var r=this.componentCreator(n,o);r.addGuiEventListener("focusin",(function(){return e.lastFocusedRowIndex=t})),o.appendChild(r.getGui()),this.renderedRows.has(t-1)?this.renderedRows.get(t-1).eDiv.insertAdjacentElement("afterend",o):this.renderedRows.has(t+1)?this.renderedRows.get(t+1).eDiv.insertAdjacentElement("beforebegin",o):this.eContainer.appendChild(o),this.renderedRows.set(t,{rowComponent:r,eDiv:o,value:n})},e.prototype.removeRow=function(t){var e=this.renderedRows.get(t);this.eContainer.removeChild(e.eDiv),this.destroyBean(e.rowComponent),this.renderedRows.delete(t)},e.prototype.refreshRows=function(){var t=this,e=this.model.getRowCount();this.renderedRows.forEach((function(n,o){var r,i;if(o>=e)t.removeRow(o);else{var s=t.model.getRow(o);(null===(i=(r=t.model).areRowsEqual)||void 0===i?void 0:i.call(r,n.value,s))?t.componentUpdater(s,n.rowComponent):t.removeRow(o)}}))},e.prototype.addScrollListener=function(){var t=this;this.addGuiEventListener("scroll",(function(){return t.drawVirtualRows()}),{passive:!0})},e.prototype.setModel=function(t){this.model=t},e.prototype.getAriaElement=function(){return this.eContainer},e.prototype.destroy=function(){this.isAlive()&&(this.clearVirtualRows(),t.prototype.destroy.call(this))},_h([nt("resizeObserverService")],e.prototype,"resizeObserverService",void 0),_h([nt("animationFrameService")],e.prototype,"animationFrameService",void 0),_h([Or("eContainer")],e.prototype,"eContainer",void 0),_h([J],e.prototype,"postConstruct",null),e}(wh),Eh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Oh=function(){return Oh=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},Oh.apply(this,arguments)},xh=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Th=function(t){function e(e){var n,o,r=this;(r=t.call(this,Oh(Oh({pickerAriaLabelKey:"ariaLabelRichSelectField",pickerAriaLabelValue:"Rich Select Field",pickerType:"ag-list",className:"ag-rich-select",pickerIcon:"smallDown",ariaRole:"combobox",template:null!==(n=null===e||void 0===e?void 0:e.template)&&void 0!==n?n:'\n    <div class="ag-picker-field" role="presentation">\n        <div ref="eLabel"></div>\n            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-rich-select-value ag-picker-collapsed">\n            <div ref="eDisplayField" class="ag-picker-field-display"></div>\n            <ag-input-text-field ref="eInput" class="ag-rich-select-field-input"></ag-input-text-field>\n            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n        </div>\n    </div>',modalPicker:!1},e),{maxPickerHeight:null!==(o=null===e||void 0===e?void 0:e.maxPickerHeight)&&void 0!==o?o:"calc(var(--ag-row-height) * 6.5)"}))||this).searchString="",r.highlightedItem=-1,r.lastRowHovered=-1,r.searchStringCreator=null;var i=e||{},s=i.cellRowHeight,a=i.value,l=i.valueList,u=i.searchStringCreator;return null!=s&&(r.cellRowHeight=s),void 0!==a&&(r.value=a),null!=l&&(r.values=l),u&&(r.searchStringCreator=u),r}return Eh(e,t),e.prototype.postConstruct=function(){var e=this;t.prototype.postConstruct.call(this),this.createLoadingElement(),this.createListComponent();var n=this.config,o=n.allowTyping,r=n.placeholder;o?(this.eInput.setAutoComplete(!1).setInputPlaceholder(r),this.eDisplayField.classList.add("ag-hidden")):this.eInput.setDisplayed(!1),this.eWrapper.tabIndex=this.gridOptionsService.get("tabIndex");var i=this.config.searchDebounceDelay,s=void 0===i?300:i;this.clearSearchString=V(this.clearSearchString,s),this.renderSelectedValue(),o&&(this.eInput.onValueChange((function(t){return e.searchTextFromString(t)})),this.addManagedListener(this.eWrapper,"focus",this.onWrapperFocus.bind(this))),this.addManagedListener(this.eWrapper,"focusout",this.onWrapperFocusOut.bind(this))},e.prototype.createLoadingElement=function(){var t=this.gridOptionsService.getDocument(),e=this.localeService.getLocaleTextFunc(),n=t.createElement("div");n.classList.add("ag-loading-text"),n.innerText=e("loadingOoo","Loading..."),this.eLoading=n},e.prototype.createListComponent=function(){var t=this;this.listComponent=this.createBean(new Sh({cssIdentifier:"rich-select"})),this.listComponent.setComponentCreator(this.createRowComponent.bind(this)),this.listComponent.setParentComponent(this),this.addManagedListener(this.listComponent,$t.EVENT_FIELD_PICKER_VALUE_SELECTED,(function(e){t.onListValueSelected(e.value,e.fromEnterKey)}));var e=this.cellRowHeight;e&&this.listComponent.setRowHeight(e);var n=this.listComponent.getGui(),o=this.listComponent.getAriaElement();this.addManagedListener(n,"mousemove",this.onPickerMouseMove.bind(this)),this.addManagedListener(n,"mousedown",(function(t){return t.preventDefault()})),n.classList.add("ag-rich-select-list");var r="ag-rich-select-list-".concat(this.listComponent.getCompId());o.setAttribute("id",r),Ye(o,this.localeService.getLocaleTextFunc()(this.config.pickerAriaLabelKey,this.config.pickerAriaLabelValue)),fn(this.eWrapper,o)},e.prototype.renderSelectedValue=function(){var t,e,n=this,o=this,i=o.value,s=o.eDisplayField,a=o.config,l=this.config,u=l.allowTyping,c=l.initialInputValue,d=this.config.valueFormatter?this.config.valueFormatter(i):i;if(u)this.eInput.setValue(null!==c&&void 0!==c?c:d);else if(a.cellRenderer&&(t=this.userComponentFactory.getCellRendererDetails(this.config,{value:i,valueFormatted:d,api:this.gridOptionsService.api})),t&&(e=t.newAgStackInstance()),e)mo(s),Go(e,s),e.then((function(t){n.addDestroyFunc((function(){return n.getContext().destroyBean(t)}))}));else if(r(this.value))s.innerText=d,s.classList.remove("ag-display-as-placeholder");else{var p=a.placeholder;r(p)?(s.innerHTML="".concat(se(p)),s.classList.add("ag-display-as-placeholder")):mo(s)}},e.prototype.getCurrentValueIndex=function(){var t=this.currentList,e=this.value;if(null==e||!t)return-1;for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1},e.prototype.highlightFilterMatch=function(){var t,e=this;null===(t=this.listComponent)||void 0===t||t.forEachRenderedRow((function(t,n){t.highlightString(e.searchString)}))},e.prototype.highlightSelectedValue=function(t){var e,n=this;null==t&&(t=this.getCurrentValueIndex()),this.highlightedItem=t,null===(e=this.listComponent)||void 0===e||e.forEachRenderedRow((function(e,o){var r=-1!==t&&n.highlightedItem===o;e.updateHighlighted(r)}))},e.prototype.setRowHeight=function(t){t!==this.cellRowHeight&&(this.cellRowHeight=t),this.listComponent&&this.listComponent.setRowHeight(t)},e.prototype.createPickerComponent=function(){var t=this.values;return t&&this.setValueList({valueList:t}),this.listComponent},e.prototype.setSearchStringCreator=function(t){this.searchStringCreator=t},e.prototype.setValueList=function(t){var e=t.valueList,n=t.refresh;this.listComponent&&this.currentList!==e&&(this.currentList=e,this.listComponent.setModel({getRowCount:function(){return e.length},getRow:function(t){return e[t]}}),n&&(this.values?this.listComponent.refresh():(this.values=e,this.isPickerDisplayed&&this.showCurrentValueInPicker())))},e.prototype.showPicker=function(){t.prototype.showPicker.call(this),this.showCurrentValueInPicker(),this.displayOrHidePicker()},e.prototype.showCurrentValueInPicker=function(){var t,e;if(this.listComponent)if(this.currentList){(null===(t=this.eLoading)||void 0===t?void 0:t.offsetParent)&&(null===(e=this.eLoading.parentElement)||void 0===e||e.removeChild(this.eLoading));var n=this.getCurrentValueIndex();-1!==n?(this.listComponent.refresh(),this.listComponent.ensureIndexVisible(n),this.listComponent.refresh(!0),this.highlightSelectedValue(n)):this.listComponent.refresh()}else this.isPickerDisplayed&&this.eLoading&&this.listComponent.appendChild(this.eLoading)},e.prototype.beforeHidePicker=function(){this.highlightedItem=-1,t.prototype.beforeHidePicker.call(this)},e.prototype.onWrapperFocus=function(){if(this.eInput){var t=this.eInput.getFocusableElement();t.focus(),t.select()}},e.prototype.onWrapperFocusOut=function(t){this.eWrapper.contains(t.relatedTarget)||this.hidePicker()},e.prototype.buildSearchStringFromKeyboardEvent=function(t){var e=t.key;if(e===qo.BACKSPACE)this.searchString=this.searchString.slice(0,-1),e="";else if(!Qo(t))return;t.preventDefault(),this.searchTextFromCharacter(e)},e.prototype.searchTextFromCharacter=function(t){this.searchString+=t,this.runSearch(),this.clearSearchString()},e.prototype.searchTextFromString=function(t){null==t&&(t=""),this.searchString=t,this.runSearch()},e.prototype.buildSearchStrings=function(t){var e,n=this.config.valueFormatter,o=void 0===n?function(t){return t}:n;return"number"===typeof t[0]||"string"===typeof t[0]?e=t.map((function(t){return o(t)})):"object"===typeof t[0]&&this.searchStringCreator&&(e=this.searchStringCreator(t)),e},e.prototype.getSuggestionsAndFilteredValues=function(t,e){var n=this,o=[],r=[];if(!t.length)return{suggestions:o,filteredValues:r};var i=this.config,s=i.searchType,a=void 0===s?"fuzzy":s,l=i.filterList;if("fuzzy"===a){var u=Bo(this.searchString,e,!0);o=u.values;var c=u.indices;if(l&&c.length)for(var d=0;d<c.length;d++)r.push(this.values[c[d]])}else o=e.filter((function(t,e){var o=t.toLocaleLowerCase(),i=n.searchString.toLocaleLowerCase(),s="match"===a?o.startsWith(i):-1!==o.indexOf(i);return l&&s&&r.push(n.values[e]),s}));return{suggestions:o,filteredValues:r}},e.prototype.filterListModel=function(t){this.config.filterList&&(this.setValueList({valueList:t,refresh:!0}),this.alignPickerToComponent())},e.prototype.runSearch=function(){var t,e,n=this.values,o=this.buildSearchStrings(n);if(o){var r=this.getSuggestionsAndFilteredValues(this.searchString,o),i=r.suggestions,s=r.filteredValues,a=this.config,l=a.filterList,u=a.highlightMatch,c=a.searchType,d=void 0===c?"fuzzy":c,p=s.length,h=!(!l||""===this.searchString);if(this.filterListModel(h?s:n),i.length){var f=h?0:o.indexOf(i[0]);this.selectListItem(f)}else if(this.highlightSelectedValue(-1),!h||p)null===(t=this.listComponent)||void 0===t||t.ensureIndexVisible(0);else if(h){this.getAriaElement().removeAttribute("data-active-option");var g=null===(e=this.listComponent)||void 0===e?void 0:e.getAriaElement();g&&Je(g,null)}u&&"fuzzy"!==d&&this.highlightFilterMatch(),this.displayOrHidePicker()}else this.highlightSelectedValue(-1)},e.prototype.displayOrHidePicker=function(){var t,e=null===(t=this.listComponent)||void 0===t?void 0:t.getGui(),n=!!this.currentList&&0===this.currentList.length;null===e||void 0===e||e.classList.toggle("ag-hidden",n)},e.prototype.clearSearchString=function(){this.searchString=""},e.prototype.selectListItem=function(t,e){!this.isPickerDisplayed||!this.currentList||!this.listComponent||t<0||t>=this.currentList.length||(this.listComponent.ensureIndexVisible(t,!e)&&!e&&this.listComponent.refresh(!0),this.highlightSelectedValue(t))},e.prototype.setValue=function(e,n,o){var r=this.currentList?this.currentList.indexOf(e):-1;return-1===r?this:(this.value=e,o||this.selectListItem(r),this.renderSelectedValue(),t.prototype.setValue.call(this,e,n))},e.prototype.createRowComponent=function(t){var e=new ph(this.config,this.eWrapper);e.setParentComponent(this.listComponent),this.getContext().createBean(e),e.setState(t);var n=this.config,o=n.highlightMatch,r=n.searchType;return o&&"fuzzy"!==(void 0===r?"fuzzy":r)&&e.highlightString(this.searchString),e},e.prototype.getRowForMouseEvent=function(t){var e=this.listComponent;if(!e)return-1;var n=(null===e||void 0===e?void 0:e.getGui()).getBoundingClientRect(),o=e.getScrollTop(),r=t.clientY-n.top+o;return Math.floor(r/e.getRowHeight())},e.prototype.onPickerMouseMove=function(t){if(this.listComponent){var e=this.getRowForMouseEvent(t);-1!==e&&e!=this.lastRowHovered&&(this.lastRowHovered=e,this.selectListItem(e,!0))}},e.prototype.onNavigationKeyDown=function(t,e){t.preventDefault();var n=e===qo.DOWN;if(this.isPickerDisplayed||!n){var o=this.highlightedItem,r=-1===o?0:o+(n?1:-1);this.selectListItem(r)}else this.showPicker()},e.prototype.onEnterKeyDown=function(t){this.isPickerDisplayed&&(t.preventDefault(),this.currentList&&this.onListValueSelected(this.currentList[this.highlightedItem],!0))},e.prototype.onTabKeyDown=function(){this.isPickerDisplayed&&this.currentList&&this.setValue(this.currentList[this.highlightedItem],!1,!0)},e.prototype.onListValueSelected=function(t,e){this.setValue(t,!1,!0),this.dispatchPickerEvent(t,e),this.hidePicker()},e.prototype.dispatchPickerEvent=function(t,e){var n={type:$t.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:e,value:t};this.dispatchEvent(n)},e.prototype.getFocusableElement=function(){return this.config.allowTyping?this.eInput.getFocusableElement():t.prototype.getFocusableElement.call(this)},e.prototype.onKeyDown=function(t){var e=t.key,n=this.config.allowTyping;switch(e){case qo.LEFT:case qo.RIGHT:case qo.PAGE_HOME:case qo.PAGE_END:n||t.preventDefault();break;case qo.PAGE_UP:case qo.PAGE_DOWN:t.preventDefault();break;case qo.DOWN:case qo.UP:this.onNavigationKeyDown(t,e);break;case qo.ESCAPE:this.isPickerDisplayed&&(Co(this.listComponent.getGui())&&(t.preventDefault(),Nt(t)),this.hidePicker());break;case qo.ENTER:this.onEnterKeyDown(t);break;case qo.TAB:this.onTabKeyDown();break;default:n||this.buildSearchStringFromKeyboardEvent(t)}},e.prototype.destroy=function(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),this.eLoading=void 0,t.prototype.destroy.call(this)},xh([nt("userComponentFactory")],e.prototype,"userComponentFactory",void 0),xh([Or("eInput")],e.prototype,"eInput",void 0),e}($r),Rh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Dh=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ph=function(t){function e(n){var o=t.call(this,n,e.TEMPLATE)||this;return o.labelAlignment="top",o}return Rh(e,t),e.prototype.init=function(){this.eSlider.addCssClass("ag-slider-field")},e.prototype.onValueChange=function(t){var e=this,n=$t.EVENT_FIELD_VALUE_CHANGED;return this.addManagedListener(this.eText,n,(function(){var n=parseFloat(e.eText.getValue());e.eSlider.setValue(n.toString(),!0),t(n||0)})),this.addManagedListener(this.eSlider,n,(function(){var n=e.eSlider.getValue();e.eText.setValue(n,!0),t(parseFloat(n))})),this},e.prototype.setSliderWidth=function(t){return this.eSlider.setWidth(t),this},e.prototype.setTextFieldWidth=function(t){return this.eText.setWidth(t),this},e.prototype.setMinValue=function(t){return this.eSlider.setMinValue(t),this.eText.setMin(t),this},e.prototype.setMaxValue=function(t){return this.eSlider.setMaxValue(t),this.eText.setMax(t),this},e.prototype.getValue=function(){return this.eText.getValue()},e.prototype.setValue=function(t){return this.getValue()===t||(this.eText.setValue(t,!0),this.eSlider.setValue(t,!0),this.dispatchEvent({type:$t.EVENT_FIELD_VALUE_CHANGED})),this},e.prototype.setStep=function(t){return this.eSlider.setStep(t),this.eText.setStep(t),this},e.TEMPLATE='<div class="ag-slider">\n            <label ref="eLabel"></label>\n            <div class="ag-wrapper ag-slider-wrapper">\n                <ag-input-range ref="eSlider"></ag-input-range>\n                <ag-input-number-field ref="eText"></ag-input-number-field>\n            </div>\n        </div>',Dh([Or("eLabel")],e.prototype,"eLabel",void 0),Dh([Or("eSlider")],e.prototype,"eSlider",void 0),Dh([Or("eText")],e.prototype,"eText",void 0),Dh([J],e.prototype,"init",null),e}(Kr),Lh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Mh=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ah=function(t){function e(n){void 0===n&&(n={});var o=t.call(this,e.getTemplate(n))||this;o.suppressEnabledCheckbox=!0,o.suppressOpenCloseIcons=!1;var r=n.title,i=n.enabled,s=n.items,a=n.suppressEnabledCheckbox,l=n.suppressOpenCloseIcons;return o.title=r,o.cssIdentifier=n.cssIdentifier||"default",o.enabled=null==i||i,o.items=s||[],o.alignItems=n.alignItems||"center",null!=a&&(o.suppressEnabledCheckbox=a),null!=l&&(o.suppressOpenCloseIcons=l),o}return Lh(e,t),e.getTemplate=function(t){var e=t.cssIdentifier||"default",n=t.direction||"vertical";return'<div class="ag-group ag-'.concat(e,'-group" role="presentation">\n            <div class="ag-group-title-bar ag-').concat(e,'-group-title-bar ag-unselectable" ref="eTitleBar" role="button">\n                <span class="ag-group-title-bar-icon ag-').concat(e,'-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>\n                <span class="ag-group-title-bar-icon ag-').concat(e,'-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>\n                <span ref="eTitle" class="ag-group-title ag-').concat(e,'-group-title"></span>\n            </div>\n            <div ref="eToolbar" class="ag-group-toolbar ag-').concat(e,'-group-toolbar">\n                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>\n            </div>\n            <div ref="eContainer" class="ag-group-container ag-group-container-').concat(n," ag-").concat(e,'-group-container"></div>\n        </div>')},e.prototype.postConstruct=function(){if(this.items.length){var t=this.items;this.items=[],this.addItems(t)}var e=this.localeService.getLocaleTextFunc();this.cbGroupEnabled.setLabel(e("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshAriaStatus(),this.refreshChildDisplay()},e.prototype.setupExpandContract=function(){var t=this;this.eGroupClosedIcon.appendChild(Yo("columnSelectClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(Yo("columnSelectOpen",this.gridOptionsService,null)),this.addManagedListener(this.eTitleBar,"click",(function(){return t.toggleGroupExpand()})),this.addManagedListener(this.eTitleBar,"keydown",(function(e){switch(e.key){case qo.ENTER:case qo.SPACE:e.preventDefault(),t.toggleGroupExpand();break;case qo.RIGHT:case qo.LEFT:e.preventDefault(),t.toggleGroupExpand(e.key===qo.RIGHT)}}))},e.prototype.refreshAriaStatus=function(){this.suppressOpenCloseIcons||tn(this.eTitleBar,this.expanded)},e.prototype.refreshChildDisplay=function(){var t=!this.suppressOpenCloseIcons;oo(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),oo(this.eGroupOpenedIcon,t&&this.expanded),oo(this.eGroupClosedIcon,t&&!this.expanded)},e.prototype.isExpanded=function(){return this.expanded},e.prototype.setAlignItems=function(t){this.alignItems!==t&&this.removeCssClass("ag-group-item-alignment-".concat(this.alignItems)),this.alignItems=t;var e="ag-group-item-alignment-".concat(this.alignItems);return this.addCssClass(e),this},e.prototype.toggleGroupExpand=function(t){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),oo(this.eContainer,!0),this):(t=null!=t?t:!this.expanded,this.expanded===t||(this.expanded=t,this.refreshAriaStatus(),this.refreshChildDisplay(),oo(this.eContainer,t),this.dispatchEvent({type:this.expanded?e.EVENT_EXPANDED:e.EVENT_COLLAPSED})),this)},e.prototype.addItems=function(t){var e=this;t.forEach((function(t){return e.addItem(t)}))},e.prototype.addItem=function(t){var e=this.eContainer,n=t instanceof Sr?t.getGui():t;n.classList.add("ag-group-item","ag-".concat(this.cssIdentifier,"-group-item")),e.appendChild(n),this.items.push(n)},e.prototype.hideItem=function(t,e){oo(this.items[e],!t)},e.prototype.setTitle=function(t){return this.eTitle.innerText=t,this},e.prototype.addCssClassToTitleBar=function(t){this.eTitleBar.classList.add(t)},e.prototype.setEnabled=function(t,e){return this.enabled=t,this.refreshDisabledStyles(),this.toggleGroupExpand(t),e||this.cbGroupEnabled.setValue(t),this},e.prototype.isEnabled=function(){return this.enabled},e.prototype.onEnableChange=function(t){var e=this;return this.cbGroupEnabled.onValueChange((function(n){e.setEnabled(n,!0),t(n)})),this},e.prototype.hideEnabledCheckbox=function(t){return this.suppressEnabledCheckbox=t,this.refreshChildDisplay(),this.refreshDisabledStyles(),this},e.prototype.hideOpenCloseIcons=function(t){return this.suppressOpenCloseIcons=t,t&&this.toggleGroupExpand(!0),this},e.prototype.refreshDisabledStyles=function(){this.addOrRemoveCssClass("ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(this.eTitleBar.classList.add("ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(this.eTitleBar.classList.remove("ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),this.eContainer.classList.toggle("ag-disabled-group-container",!this.enabled)},e.EVENT_EXPANDED="expanded",e.EVENT_COLLAPSED="collapsed",Mh([Or("eTitleBar")],e.prototype,"eTitleBar",void 0),Mh([Or("eGroupOpenedIcon")],e.prototype,"eGroupOpenedIcon",void 0),Mh([Or("eGroupClosedIcon")],e.prototype,"eGroupClosedIcon",void 0),Mh([Or("eToolbar")],e.prototype,"eToolbar",void 0),Mh([Or("cbGroupEnabled")],e.prototype,"cbGroupEnabled",void 0),Mh([Or("eTitle")],e.prototype,"eTitle",void 0),Mh([Or("eContainer")],e.prototype,"eContainer",void 0),Mh([J],e.prototype,"postConstruct",null),e}(Sr),kh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Nh=function(){return Nh=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},Nh.apply(this,arguments)},Fh=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ih=function(t){function e(e){void 0===e&&(e=1);var n=t.call(this,'<div class="ag-menu-list" role="tree"></div>')||this;return n.level=e,n.menuItems=[],n}return kh(e,t),e.prototype.postConstruct=function(){var t=this;this.initialiseTabGuard({onTabKeyDown:function(e){return t.onTabKeyDown(e)},handleKeyDown:function(e){return t.handleKeyDown(e)}})},e.prototype.onTabKeyDown=function(t){var e=this.getParentComponent(),n=e&&e.getGui();n&&n.classList.contains("ag-focus-managed")||t.preventDefault(),t.shiftKey&&this.closeIfIsChild(t)},e.prototype.handleKeyDown=function(t){switch(t.key){case qo.UP:case qo.RIGHT:case qo.DOWN:case qo.LEFT:t.preventDefault(),this.handleNavKey(t.key);break;case qo.ESCAPE:var e=this.findTopMenu();e&&this.focusService.focusInto(e.getGui())}},e.prototype.clearActiveItem=function(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)},e.prototype.addMenuItems=function(t){var e=this;null!=t&&t.forEach((function(t){"separator"===t?e.addSeparator():"string"===typeof t?console.warn("AG Grid: unrecognised menu item ".concat(t)):e.addItem(t)}))},e.prototype.addItem=function(t){var e=this,n=this.createManagedBean(new Wh(Nh(Nh({},t),{isAnotherSubMenuOpen:function(){return e.menuItems.some((function(t){return t.isSubMenuOpen()}))}})));n.setParentComponent(this),Qe(n.getGui(),this.level),this.menuItems.push(n),this.appendChild(n.getGui()),this.addManagedListener(n,Wh.EVENT_MENU_ITEM_SELECTED,(function(t){e.dispatchEvent(t)})),this.addManagedListener(n,Wh.EVENT_MENU_ITEM_ACTIVATED,(function(t){e.activeMenuItem&&e.activeMenuItem!==t.menuItem&&e.activeMenuItem.deactivate(),e.activeMenuItem=t.menuItem}))},e.prototype.activateFirstItem=function(){var t=this.menuItems.filter((function(t){return!t.isDisabled()}))[0];t&&t.activate()},e.prototype.addSeparator=function(){this.appendChild(wo('\n            <div class="ag-menu-separator" aria-hidden="true">\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n            </div>'))},e.prototype.findTopMenu=function(){var t=this.getParentComponent();if(!t&&this instanceof e)return this;for(;;){var n=t&&t.getParentComponent&&t.getParentComponent();if(!n||!(n instanceof e||n instanceof Wh))break;t=n}return t instanceof e?t:void 0},e.prototype.handleNavKey=function(t){switch(t){case qo.UP:case qo.DOWN:var e=this.findNextItem(t===qo.UP);return void(e&&e!==this.activeMenuItem&&e.activate())}t===(this.gridOptionsService.get("enableRtl")?qo.RIGHT:qo.LEFT)?this.closeIfIsChild():this.openChild()},e.prototype.closeIfIsChild=function(t){var e=this.getParentComponent();e&&e instanceof Wh&&(t&&t.preventDefault(),e.closeSubMenu(),e.getGui().focus())},e.prototype.openChild=function(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)},e.prototype.findNextItem=function(t){var e=this.menuItems.filter((function(t){return!t.isDisabled()}));if(e.length){if(!this.activeMenuItem)return t?Ct(e):e[0];var n;t&&e.reverse();for(var o=!1,r=0;r<e.length;r++){var i=e[r];if(o){n=i;break}i===this.activeMenuItem&&(o=!0)}return n||this.activeMenuItem}},e.prototype.destroy=function(){this.clearActiveItem(),t.prototype.destroy.call(this)},Fh([nt("focusService")],e.prototype,"focusService",void 0),Fh([J],e.prototype,"postConstruct",null),e}(wh),Gh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Hh=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Vh=function(t){function e(e){var n=t.call(this)||this;return n.wrappedComponent=e,n.setTemplateFromElement(e.getGui()),n}return Gh(e,t),e.prototype.postConstruct=function(){var t=this;this.initialiseTabGuard({onTabKeyDown:function(e){return t.onTabKeyDown(e)},handleKeyDown:function(e){return t.handleKeyDown(e)}})},e.prototype.handleKeyDown=function(t){t.key===qo.ESCAPE&&this.closePanel()},e.prototype.onTabKeyDown=function(t){t.defaultPrevented||(this.closePanel(),t.preventDefault())},e.prototype.closePanel=function(){var t=this.parentComponent;t.closeSubMenu(),setTimeout((function(){return t.getGui().focus()}),0)},Hh([J],e.prototype,"postConstruct",null),e}(wh),jh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Bh=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Wh=function(t){function e(e){var n=t.call(this)||this;return n.params=e,n.isActive=!1,n.subMenuIsOpen=!1,n.setTemplate('<div class="'.concat(n.getClassName(),'" tabindex="-1" role="treeitem"></div>')),n}return jh(e,t),e.prototype.init=function(){var t=this;this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu(),this.addTooltip();var e=this.getGui();this.params.disabled?(this.addCssClass(this.getClassName("disabled")),Xe(e,!0)):(this.addGuiEventListener("click",(function(e){return t.onItemSelected(e)})),this.addGuiEventListener("keydown",(function(e){e.key!==qo.ENTER&&e.key!==qo.SPACE||(e.preventDefault(),t.onItemSelected(e))})),this.addGuiEventListener("mousedown",(function(t){t.stopPropagation(),t.preventDefault()})),this.addGuiEventListener("mouseenter",(function(){return t.onMouseEnter()})),this.addGuiEventListener("mouseleave",(function(){return t.onMouseLeave()}))),this.params.cssClasses&&this.params.cssClasses.forEach((function(e){return t.addCssClass(e)}))},e.prototype.isDisabled=function(){return!!this.params.disabled},e.prototype.openSubMenu=function(t){var n=this;if(void 0===t&&(t=!1),this.closeSubMenu(),this.params.subMenu){var o,r=wo('<div class="ag-menu" role="presentation"></div>');if(this.params.subMenu instanceof Array){var i=We(this.getGui()),s=isNaN(i)?1:i+1,a=this.createBean(new Ih(s));a.setParentComponent(this),a.addMenuItems(this.params.subMenu),r.appendChild(a.getGui()),this.addManagedListener(a,e.EVENT_MENU_ITEM_SELECTED,(function(t){return n.dispatchEvent(t)})),a.addGuiEventListener("mouseenter",(function(){return n.cancelDeactivate()})),o=function(){return n.destroyBean(a)},t&&setTimeout((function(){return a.activateFirstItem()}),0)}else{var l=this.params.subMenu,u=this.createBean(new Vh(l));u.setParentComponent(this);var c=u.getGui(),d="mouseenter",p=function(){return n.cancelDeactivate()};c.addEventListener(d,p),o=function(){return c.removeEventListener(d,p)},r.appendChild(c),l.afterGuiAttached&&setTimeout((function(){return l.afterGuiAttached()}),0)}var h=this.getGui(),f=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:h,ePopup:r}),g=this.localeService.getLocaleTextFunc(),v=this.popupService.addPopup({modal:!0,eChild:r,positionCallback:f,anchorToElement:h,ariaLabel:g("ariaLabelSubMenu","SubMenu")});this.subMenuIsOpen=!0,tn(h,!0),this.hideSubMenu=function(){v&&v.hideFunc(),n.subMenuIsOpen=!1,tn(h,!1),o()}}},e.prototype.closeSubMenu=function(){this.hideSubMenu&&(this.hideSubMenu(),this.hideSubMenu=null,tn(this.getGui(),!1))},e.prototype.isSubMenuOpen=function(){return this.subMenuIsOpen},e.prototype.activate=function(t){var e=this;this.cancelActivate(),this.params.disabled||(this.isActive=!0,this.addCssClass(this.getClassName("active")),this.getGui().focus(),t&&this.params.subMenu&&window.setTimeout((function(){e.isAlive()&&e.isActive&&e.openSubMenu()}),300),this.onItemActivated())},e.prototype.deactivate=function(){this.cancelDeactivate(),this.removeCssClass(this.getClassName("active")),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()},e.prototype.addIcon=function(){if(this.params.checked||this.params.icon||!this.params.isCompact){var t=wo('<span ref="eIcon" class="'.concat(this.getClassName("part")," ").concat(this.getClassName("icon"),'" role="presentation"></span>'));this.params.checked?t.appendChild(Ko("check",this.gridOptionsService)):this.params.icon&&(Ao(this.params.icon)?t.appendChild(this.params.icon):"string"===typeof this.params.icon?t.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(t)}},e.prototype.addName=function(){if(this.params.name||!this.params.isCompact){var t=wo('<span ref="eName" class="'.concat(this.getClassName("part")," ").concat(this.getClassName("text"),'">').concat(this.params.name||"","</span>"));this.getGui().appendChild(t)}},e.prototype.addTooltip=function(){this.params.tooltip&&(this.tooltip=this.params.tooltip,this.gridOptionsService.get("enableBrowserTooltips")?this.getGui().setAttribute("title",this.tooltip):this.createManagedBean(new yr(this)))},e.prototype.getTooltipParams=function(){return{location:"menu",value:this.tooltip}},e.prototype.addShortcut=function(){if(this.params.shortcut||!this.params.isCompact){var t=wo('<span ref="eShortcut" class="'.concat(this.getClassName("part")," ").concat(this.getClassName("shortcut"),'">').concat(this.params.shortcut||"","</span>"));this.getGui().appendChild(t)}},e.prototype.addSubMenu=function(){if(this.params.subMenu||!this.params.isCompact){var t=wo('<span ref="ePopupPointer" class="'.concat(this.getClassName("part")," ").concat(this.getClassName("popup-pointer"),'"></span>')),e=this.getGui();if(this.params.subMenu){var n=this.gridOptionsService.get("enableRtl")?"smallLeft":"smallRight";tn(e,!1),t.appendChild(Ko(n,this.gridOptionsService))}e.appendChild(t)}},e.prototype.onItemSelected=function(t){if(this.params.action?this.params.action():this.openSubMenu(t&&"keydown"===t.type),!this.params.subMenu||this.params.action){var n={type:e.EVENT_MENU_ITEM_SELECTED,action:this.params.action,checked:this.params.checked,cssClasses:this.params.cssClasses,disabled:this.params.disabled,icon:this.params.icon,name:this.params.name,shortcut:this.params.shortcut,subMenu:this.params.subMenu,tooltip:this.params.tooltip,event:t};this.dispatchEvent(n)}},e.prototype.onItemActivated=function(){var t={type:e.EVENT_MENU_ITEM_ACTIVATED,menuItem:this};this.dispatchEvent(t)},e.prototype.cancelActivate=function(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)},e.prototype.cancelDeactivate=function(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)},e.prototype.onMouseEnter=function(){var t=this;this.cancelDeactivate(),this.params.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout((function(){return t.activate(!0)}),e.ACTIVATION_DELAY):this.activate(!0)},e.prototype.onMouseLeave=function(){var t=this;this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout((function(){return t.deactivate()}),e.ACTIVATION_DELAY):this.deactivate()},e.prototype.getClassName=function(t){var e=this.params.isCompact?"ag-compact-menu-option":"ag-menu-option";return t?"".concat(e,"-").concat(t):e},e.EVENT_MENU_ITEM_SELECTED="menuItemSelected",e.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated",e.ACTIVATION_DELAY=80,Bh([nt("popupService")],e.prototype,"popupService",void 0),Bh([J],e.prototype,"init",null),e}(Sr),zh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Uh=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Yh=function(t){function e(n){var o=t.call(this,e.getTemplate(n))||this;return o.closable=!0,o.config=n,o}return zh(e,t),e.getTemplate=function(t){var e=t&&t.cssIdentifier||"default";return'<div class="ag-panel ag-'.concat(e,'-panel" tabindex="-1">\n            <div ref="eTitleBar" class="ag-panel-title-bar ag-').concat(e,'-panel-title-bar ag-unselectable">\n                <span ref="eTitle" class="ag-panel-title-bar-title ag-').concat(e,'-panel-title-bar-title"></span>\n                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-').concat(e,'-panel-title-bar-buttons"></div>\n            </div>\n            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-').concat(e,'-panel-content-wrapper"></div>\n        </div>')},e.prototype.postConstruct=function(){var t=this,e=this.config,n=e.component,o=e.closable,r=e.hideTitleBar,i=e.title,s=e.minWidth,a=void 0===s?250:s,l=e.width,u=e.minHeight,c=void 0===u?250:u,d=e.height,p=e.centered,h=e.popup,f=e.x,g=e.y;this.positionableFeature=new jr(this.getGui(),{minWidth:a,width:l,minHeight:c,height:d,centered:p,x:f,y:g,popup:h,calculateTopBuffer:function(){return t.positionableFeature.getHeight()-t.getBodyHeight()}}),this.createManagedBean(this.positionableFeature);var v=this.getGui();n&&this.setBodyComponent(n),r?oo(this.eTitleBar,!1):(i&&this.setTitle(i),this.setClosable(null!=o?o:this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",(function(e){var n=t.gridOptionsService.getDocument();if(v.contains(e.relatedTarget)||v.contains(n.activeElement)||t.eTitleBarButtons.contains(e.target))e.preventDefault();else{var o=t.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");o&&o.focus()}})),h&&this.positionableFeature.isPositioned()||(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")},e.prototype.renderComponent=function(){var t=this,e=this.getGui();e.focus(),this.close=function(){e.parentElement.removeChild(e),t.destroy()}},e.prototype.getHeight=function(){return this.positionableFeature.getHeight()},e.prototype.setHeight=function(t){this.positionableFeature.setHeight(t)},e.prototype.getWidth=function(){return this.positionableFeature.getWidth()},e.prototype.setWidth=function(t){this.positionableFeature.setWidth(t)},e.prototype.setClosable=function(t){if(t!==this.closable&&(this.closable=t),t){var n=this.closeButtonComp=new Sr(e.CLOSE_BTN_TEMPLATE);this.getContext().createBean(n);var o=n.getGui(),r=Ko("close",this.gridOptionsService);r.classList.add("ag-panel-title-bar-button-icon"),o.appendChild(r),this.addTitleBarButton(n),n.addManagedListener(o,"click",this.onBtClose.bind(this))}else if(this.closeButtonComp){(o=this.closeButtonComp.getGui()).parentElement.removeChild(o),this.closeButtonComp=this.destroyBean(this.closeButtonComp)}},e.prototype.setBodyComponent=function(t){t.setParentComponent(this),this.eContentWrapper.appendChild(t.getGui())},e.prototype.addTitleBarButton=function(t,e){var n=this.eTitleBarButtons,o=n.children,r=o.length;null==e&&(e=r),e=Math.max(0,Math.min(e,r)),t.addCssClass("ag-panel-title-bar-button");var i=t.getGui();0===e?n.insertAdjacentElement("afterbegin",i):e===r?n.insertAdjacentElement("beforeend",i):o[e-1].insertAdjacentElement("afterend",i),t.setParentComponent(this)},e.prototype.getBodyHeight=function(){return lo(this.eContentWrapper)},e.prototype.getBodyWidth=function(){return uo(this.eContentWrapper)},e.prototype.setTitle=function(t){this.eTitle.innerText=t},e.prototype.onBtClose=function(){this.close()},e.prototype.destroy=function(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));var e=this.getGui();e&&Co(e)&&this.close(),t.prototype.destroy.call(this)},e.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',Uh([Or("eContentWrapper")],e.prototype,"eContentWrapper",void 0),Uh([Or("eTitleBar")],e.prototype,"eTitleBar",void 0),Uh([Or("eTitleBarButtons")],e.prototype,"eTitleBarButtons",void 0),Uh([Or("eTitle")],e.prototype,"eTitle",void 0),Uh([J],e.prototype,"postConstruct",null),e}(Sr),Kh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Zh=function(){return Zh=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},Zh.apply(this,arguments)},qh=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Qh=function(t){function e(e){var n=t.call(this,Zh(Zh({},e),{popup:!0}))||this;return n.isMaximizable=!1,n.isMaximized=!1,n.maximizeListeners=[],n.resizeListenerDestroy=null,n.lastPosition={x:0,y:0,width:0,height:0},n}return Kh(e,t),e.prototype.postConstruct=function(){var e=this,n=this.getGui(),o=this.config,r=o.movable,i=o.resizable,s=o.maximizable;this.addCssClass("ag-dialog"),t.prototype.postConstruct.call(this),this.addManagedListener(n,"focusin",(function(t){n.contains(t.relatedTarget)||e.popupService.bringPopupToFront(n)})),r&&this.setMovable(r),s&&this.setMaximizable(s),i&&this.setResizable(i)},e.prototype.renderComponent=function(){var t=this.getGui(),e=this.config,n=e.alwaysOnTop,o=e.modal,r=e.title,i=e.afterGuiAttached,s=this.localeService.getLocaleTextFunc(),a=this.popupService.addPopup({modal:o,eChild:t,closeOnEsc:!0,closedCallback:this.destroy.bind(this),alwaysOnTop:n,ariaLabel:r||s("ariaLabelDialog","Dialog"),afterGuiAttached:i});a&&(this.close=a.hideFunc)},e.prototype.toggleMaximize=function(){var t=this.positionableFeature.getPosition();if(this.isMaximized){var e=this.lastPosition,n=e.x,o=e.y,r=e.width,i=e.height;this.setWidth(r),this.setHeight(i),this.positionableFeature.offsetElement(n,o)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=t.x,this.lastPosition.y=t.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()},e.prototype.refreshMaximizeIcon=function(){oo(this.maximizeIcon,!this.isMaximized),oo(this.minimizeIcon,this.isMaximized)},e.prototype.clearMaximizebleListeners=function(){this.maximizeListeners.length&&(this.maximizeListeners.forEach((function(t){return t()})),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)},e.prototype.destroy=function(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),t.prototype.destroy.call(this)},e.prototype.setResizable=function(t){this.positionableFeature.setResizable(t)},e.prototype.setMovable=function(t){this.positionableFeature.setMovable(t,this.eTitleBar)},e.prototype.setMaximizable=function(t){var e=this;if(!t)return this.clearMaximizebleListeners(),void(this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0));var n=this.eTitleBar;if(n&&t!==this.isMaximizable){var o=this.buildMaximizeAndMinimizeElements();this.refreshMaximizeIcon(),o.addManagedListener(o.getGui(),"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(o,0),this.maximizeListeners.push(this.addManagedListener(n,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",(function(){e.isMaximized=!1,e.refreshMaximizeIcon()}))}},e.prototype.buildMaximizeAndMinimizeElements=function(){var t=this.maximizeButtonComp=this.createBean(new Sr('<div class="ag-dialog-button"></span>')),e=t.getGui();return this.maximizeIcon=Ko("maximize",this.gridOptionsService),e.appendChild(this.maximizeIcon),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),this.minimizeIcon=Ko("minimize",this.gridOptionsService),e.appendChild(this.minimizeIcon),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon"),t},qh([nt("popupService")],e.prototype,"popupService",void 0),e}(Yh),Xh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),$h=function(){return $h=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},$h.apply(this,arguments)},Jh=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},tf=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},ef=function(t,e,n){if(n||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},nf=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};!function(t){t[t.vertical=0]="vertical",t[t.horizontal=1]="horizontal"}(gh||(gh={}));var of=0,rf=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.popupList=[],e}var n;return Xh(e,t),n=e,e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady((function(e){t.gridCtrl=e.gridCtrl})),this.addManagedListener(this.eventService,$t.EVENT_GRID_STYLES_CHANGED,this.handleThemeChange.bind(this))},e.prototype.getPopupParent=function(){var t=this.gridOptionsService.get("popupParent");return t||this.gridCtrl.getGui()},e.prototype.positionPopupForMenu=function(t){var e=t.eventSource,n=t.ePopup,o=this.getPopupIndex(n);-1!==o&&(this.popupList[o].alignedToElement=e);var r=e.getBoundingClientRect(),i=this.getParentRect(),s=this.keepXYWithinBounds(n,r.top-i.top,gh.vertical),a=n.clientWidth>0?n.clientWidth:200;n.style.minWidth="".concat(a,"px");var l,u=i.right-i.left-a;function c(){return r.right-i.left-2}function d(){return r.left-i.left-a}this.gridOptionsService.get("enableRtl")?((l=d())<0&&(l=c(),this.setAlignedStyles(n,"left")),l>u&&(l=0,this.setAlignedStyles(n,"right"))):((l=c())>u&&(l=d(),this.setAlignedStyles(n,"right")),l<0&&(l=0,this.setAlignedStyles(n,"left"))),n.style.left="".concat(l,"px"),n.style.top="".concat(s,"px")},e.prototype.positionPopupUnderMouseEvent=function(t){var e=this,n=t.ePopup,o=t.nudgeX,r=t.nudgeY,i=t.skipObserver;this.positionPopup({ePopup:n,nudgeX:o,nudgeY:r,keepWithinBounds:!0,skipObserver:i,updatePosition:function(){return e.calculatePointerAlign(t.mouseEvent)},postProcessCallback:function(){return e.callPostProcessPopup(t.type,t.ePopup,null,t.mouseEvent,t.column,t.rowNode)}})},e.prototype.calculatePointerAlign=function(t){var e=this.getParentRect();return{x:t.clientX-e.left,y:t.clientY-e.top}},e.prototype.positionPopupByComponent=function(t){var e=this,n=t.ePopup,o=t.nudgeX,r=t.nudgeY,i=t.keepWithinBounds,s=t.eventSource,a=t.alignSide,l=void 0===a?"left":a,u=t.position,c=void 0===u?"over":u,d=t.column,p=t.rowNode,h=t.type,f=s.getBoundingClientRect(),g=this.getParentRect(),v=this.getPopupIndex(n);-1!==v&&(this.popupList[v].alignedToElement=s);this.positionPopup({ePopup:n,nudgeX:o,nudgeY:r,keepWithinBounds:i,updatePosition:function(){var o,i=f.left-g.left;("right"===l&&(i-=n.offsetWidth-f.width),"over"===c)?(o=f.top-g.top,e.setAlignedStyles(n,"over")):(e.setAlignedStyles(n,"under"),o="under"===e.shouldRenderUnderOrAbove(n,f,g,t.nudgeY||0)?f.top-g.top+f.height:f.top-n.offsetHeight-2*(r||0)-g.top);return{x:i,y:o}},postProcessCallback:function(){return e.callPostProcessPopup(h,n,s,null,d,p)}})},e.prototype.shouldRenderUnderOrAbove=function(t,e,n,o){var r=n.bottom-e.bottom,i=e.top-n.top,s=t.offsetHeight+o;return r>s?"under":i>s||i>r?"above":"under"},e.prototype.setAlignedStyles=function(t,e){var n=this.getPopupIndex(t);if(-1!==n){var o=this.popupList[n].alignedToElement;if(o){["right","left","over","above","under"].forEach((function(e){o.classList.remove("ag-has-popup-positioned-".concat(e)),t.classList.remove("ag-popup-positioned-".concat(e))})),e&&(o.classList.add("ag-has-popup-positioned-".concat(e)),t.classList.add("ag-popup-positioned-".concat(e)))}}},e.prototype.callPostProcessPopup=function(t,e,n,o,r,i){var s=this.gridOptionsService.getCallback("postProcessPopup");s&&s({column:r,rowNode:i,ePopup:e,type:t,eventSource:n,mouseEvent:o})},e.prototype.positionPopup=function(t){var e=this,o=t.ePopup,r=t.keepWithinBounds,i=t.nudgeX,s=t.nudgeY,a=t.skipObserver,l=t.updatePosition,u={width:0,height:0},c=function(n){void 0===n&&(n=!1);var a=l(),c=a.x,d=a.y;n&&o.clientWidth===u.width&&o.clientHeight===u.height||(u.width=o.clientWidth,u.height=o.clientHeight,i&&(c+=i),s&&(d+=s),r&&(c=e.keepXYWithinBounds(o,c,gh.horizontal),d=e.keepXYWithinBounds(o,d,gh.vertical)),o.style.left="".concat(c,"px"),o.style.top="".concat(d,"px"),t.postProcessCallback&&t.postProcessCallback())};if(c(),!a){var d=this.resizeObserverService.observeResize(o,(function(){return c(!0)}));setTimeout((function(){return d()}),n.WAIT_FOR_POPUP_CONTENT_RESIZE)}},e.prototype.getActivePopups=function(){return this.popupList.map((function(t){return t.element}))},e.prototype.getPopupList=function(){return this.popupList},e.prototype.getParentRect=function(){var t=this.gridOptionsService.getDocument(),e=this.getPopupParent();return e===t.body?e=t.documentElement:"static"===getComputedStyle(e).position&&(e=e.offsetParent),ho(e)},e.prototype.keepXYWithinBounds=function(t,e,n){var o=n===gh.vertical,r=o?"clientHeight":"clientWidth",i=o?"top":"left",s=o?"offsetHeight":"offsetWidth",a=o?"scrollTop":"scrollLeft",l=this.gridOptionsService.getDocument(),u=l.documentElement,c=this.getPopupParent(),d=c.getBoundingClientRect(),p=l.documentElement.getBoundingClientRect(),h=c===l.body,f=t[s],g=h?(o?co:po)(u)+u[a]:c[r];h&&(g-=Math.abs(p[i]-d[i]));var v=g-f;return Math.min(Math.max(e,0),Math.abs(v))},e.prototype.addPopup=function(t){var e=this.gridOptionsService.getDocument(),n=t.eChild,o=t.ariaLabel,r=t.alwaysOnTop,i=t.positionCallback,s=t.anchorToElement;if(!e)return console.warn("AG Grid: could not find the document, document is empty"),{hideFunc:function(){}};var a=this.getPopupIndex(n);if(-1!==a)return{hideFunc:this.popupList[a].hideFunc};this.initialisePopupPosition(n);var l=this.createPopupWrapper(n,o,!!r),u=this.addEventListenersToPopup($h($h({},t),{wrapperEl:l}));return i&&i(),this.addPopupToPopupList(n,l,u,s),{hideFunc:u}},e.prototype.initialisePopupPosition=function(t){var e=this.getPopupParent().getBoundingClientRect();r(t.style.top)||(t.style.top="".concat(-1*e.top,"px")),r(t.style.left)||(t.style.left="".concat(-1*e.left,"px"))},e.prototype.createPopupWrapper=function(t,e,n){var o,r=this.getPopupParent(),i=document.createElement("div"),s=this.environment.getTheme().allThemes;return s.length&&(o=i.classList).add.apply(o,ef([],tf(s),!1)),i.classList.add("ag-popup"),t.classList.add(this.gridOptionsService.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),t.hasAttribute("role")||je(t,"dialog"),Ye(t,e),i.appendChild(t),r.appendChild(i),n?this.setAlwaysOnTop(t,!0):this.bringPopupToFront(t),i},e.prototype.handleThemeChange=function(){var t,e,n,o,r,i=this.environment.getTheme().allThemes;try{for(var s=nf(this.popupList),a=s.next();!a.done;a=s.next()){var l=a.value;try{for(var u=(n=void 0,nf(Array.from(l.wrapper.classList))),c=u.next();!c.done;c=u.next()){var d=c.value;d.startsWith("ag-theme-")&&l.wrapper.classList.remove(d)}}catch(p){n={error:p}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(n)throw n.error}}i.length&&(r=l.wrapper.classList).add.apply(r,ef([],tf(i),!1))}}catch(h){t={error:h}}finally{try{a&&!a.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}},e.prototype.addEventListenersToPopup=function(t){var e=this,n=this.gridOptionsService.getDocument(),o=this.getPopupParent(),r=t.wrapperEl,i=t.eChild;t.click;var s=t.closedCallback,a=t.afterGuiAttached,l=t.closeOnEsc,u=t.modal,c=!1,d=function(t){r.contains(n.activeElement)&&(t.key!==qo.ESCAPE||Ft(t)||f({keyboardEvent:t}))},p=function(t){return f({mouseEvent:t})},h=function(t){return f({touchEvent:t})},f=function(t){void 0===t&&(t={});var a=t.mouseEvent,l=t.touchEvent,u=t.keyboardEvent;e.isEventFromCurrentPopup({mouseEvent:a,touchEvent:l},i)||c||(c=!0,o.removeChild(r),n.removeEventListener("keydown",d),n.removeEventListener("mousedown",p),n.removeEventListener("touchstart",h),n.removeEventListener("contextmenu",p),e.eventService.removeEventListener($t.EVENT_DRAG_STARTED,p),s&&s(a||l||u),e.removePopupFromPopupList(i))};return a&&a({hidePopup:f}),window.setTimeout((function(){l&&n.addEventListener("keydown",d),u&&(n.addEventListener("mousedown",p),e.eventService.addEventListener($t.EVENT_DRAG_STARTED,p),n.addEventListener("touchstart",h),n.addEventListener("contextmenu",p))}),0),f},e.prototype.addPopupToPopupList=function(t,e,n,o){this.popupList.push({element:t,wrapper:e,hideFunc:n,instanceId:of++,isAnchored:!!o}),o&&this.setPopupPositionRelatedToElement(t,o)},e.prototype.getPopupIndex=function(t){return this.popupList.findIndex((function(e){return e.element===t}))},e.prototype.setPopupPositionRelatedToElement=function(t,e){var n=this.getPopupIndex(t);if(-1!==n){var o=this.popupList[n];if(o.stopAnchoringPromise&&o.stopAnchoringPromise.then((function(t){return t&&t()})),o.stopAnchoringPromise=void 0,o.isAnchored=!1,e){var r=this.keepPopupPositionedRelativeTo({element:e,ePopup:t,hidePopup:o.hideFunc});return o.stopAnchoringPromise=r,o.isAnchored=!0,r}}},e.prototype.removePopupFromPopupList=function(t){this.setAlignedStyles(t,null),this.setPopupPositionRelatedToElement(t,null),this.popupList=this.popupList.filter((function(e){return e.element!==t}))},e.prototype.keepPopupPositionedRelativeTo=function(t){var e=this,n=this.getPopupParent(),o=n.getBoundingClientRect(),r=t.element,i=t.ePopup,s=r.getBoundingClientRect(),a=o.top-s.top,l=o.left-s.left,u=a,c=l,d=i.style.top,p=parseInt(d.substring(0,d.length-1),10),h=i.style.left,f=parseInt(h.substring(0,h.length-1),10);return new hr((function(o){e.getFrameworkOverrides().setInterval((function(){var o=n.getBoundingClientRect(),s=r.getBoundingClientRect();if(0==s.top&&0==s.left&&0==s.height&&0==s.width)t.hidePopup();else{var d=o.top-s.top;if(d!=u){var h=e.keepXYWithinBounds(i,p+a-d,gh.vertical);i.style.top="".concat(h,"px")}u=d;var g=o.left-s.left;if(g!=c){var v=e.keepXYWithinBounds(i,f+l-g,gh.horizontal);i.style.left="".concat(v,"px")}c=g}}),200).then((function(t){o((function(){null!=t&&window.clearInterval(t)}))}))}))},e.prototype.hasAnchoredPopup=function(){return this.popupList.some((function(t){return t.isAnchored}))},e.prototype.isEventFromCurrentPopup=function(t,e){var n=t.mouseEvent,o=t.touchEvent,r=n||o;if(!r)return!1;var i=this.getPopupIndex(e);if(-1===i)return!1;for(var s=i;s<this.popupList.length;s++){if(Ht(this.popupList[s].element,r))return!0}return this.isElementWithinCustomPopup(r.target)},e.prototype.isElementWithinCustomPopup=function(t){for(var e=this.gridOptionsService.getDocument();t&&t!==e.body;){if(t.classList.contains("ag-custom-component-popup")||null===t.parentElement)return!0;t=t.parentElement}return!1},e.prototype.getWrapper=function(t){for(;!t.classList.contains("ag-popup")&&t.parentElement;)t=t.parentElement;return t.classList.contains("ag-popup")?t:null},e.prototype.setAlwaysOnTop=function(t,e){var n=this.getWrapper(t);n&&(n.classList.toggle("ag-always-on-top",!!e),e&&this.bringPopupToFront(n))},e.prototype.bringPopupToFront=function(t){var e=this.getPopupParent(),n=Array.prototype.slice.call(e.querySelectorAll(".ag-popup")),o=n.length,r=Array.prototype.slice.call(e.querySelectorAll(".ag-popup.ag-always-on-top")),i=r.length,s=this.getWrapper(t);if(s&&!(o<=1)&&e.contains(t)){var a=n.indexOf(s),l=s.querySelectorAll("div"),u=[];if(l.forEach((function(t){0!==t.scrollTop&&u.push([t,t.scrollTop])})),i)s.classList.contains("ag-always-on-top")?a!==o-1&&Ct(r).insertAdjacentElement("afterend",s):a!==o-i-1&&r[0].insertAdjacentElement("beforebegin",s);else a!==o-1&&Ct(n).insertAdjacentElement("afterend",s);for(;u.length;){var c=u.pop();c[0].scrollTop=c[1]}var d={type:"popupToFront",api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,eWrapper:s};this.eventService.dispatchEvent(d)}},e.WAIT_FOR_POPUP_CONTENT_RESIZE=200,Jh([nt("focusService")],e.prototype,"focusService",void 0),Jh([nt("ctrlsService")],e.prototype,"ctrlsService",void 0),Jh([nt("resizeObserverService")],e.prototype,"resizeObserverService",void 0),Jh([J],e.prototype,"postConstruct",null),e=n=Jh([et("popupService")],e)}(Ut),sf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),af=function(t){function e(){var e=t.call(this,'\n        <div class="ag-autocomplete-row" role="presentation">\n            <div class="ag-autocomplete-row-label"></div>\n        </div>')||this;return e.hasHighlighting=!1,e}return sf(e,t),e.prototype.setState=function(t,e){this.value=t,this.render(),this.updateSelected(e)},e.prototype.updateSelected=function(t){this.addOrRemoveCssClass("ag-autocomplete-row-selected",t)},e.prototype.setSearchString=function(t){var e,n=!1;if(r(t)){var o=null===(e=this.value)||void 0===e?void 0:e.toLocaleLowerCase().indexOf(t.toLocaleLowerCase());if(o>=0){n=!0,this.hasHighlighting=!0;var i=o+t.length,s=se(this.value.slice(0,o)),a=se(this.value.slice(o,i)),l=se(this.value.slice(i));this.getGui().lastElementChild.innerHTML="".concat(s,"<b>").concat(a,"</b>").concat(l)}}!n&&this.hasHighlighting&&(this.hasHighlighting=!1,this.render())},e.prototype.render=function(){var t;this.getGui().lastElementChild.innerHTML=null!==(t=se(this.value))&&void 0!==t?t:"&nbsp;"},e}(Sr),lf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),uf=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},cf=function(t){function e(n){var o=t.call(this,e.TEMPLATE)||this;return o.params=n,o.searchString="",o}return lf(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.init=function(){var t=this;this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList=this.createManagedBean(new Sh({cssIdentifier:"autocomplete"})),this.virtualList.setComponentCreator(this.createRowComponent.bind(this)),this.eList.appendChild(this.virtualList.getGui()),this.virtualList.setModel({getRowCount:function(){return t.autocompleteEntries.length},getRow:function(e){return t.autocompleteEntries[e]}});var e=this.virtualList.getGui();this.addManagedListener(e,"click",(function(){return t.params.onConfirmed()})),this.addManagedListener(e,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(e,"mousedown",(function(t){return t.preventDefault()})),this.setSelectedValue(0)},e.prototype.onNavigationKeyDown=function(t,e){t.preventDefault();var n=this.autocompleteEntries.indexOf(this.selectedValue),o=e===qo.UP?n-1:n+1;this.checkSetSelectedValue(o)},e.prototype.setSearch=function(t){this.searchString=t,r(t)?this.runSearch():(this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList.refresh(),this.checkSetSelectedValue(0)),this.updateSearchInList()},e.prototype.runContainsSearch=function(t,e){var n,o=!1,r=t.toLocaleLowerCase(),i=e.filter((function(t){var e=t.toLocaleLowerCase().indexOf(r),i=0===e,s=e>=0;return s&&(!n||!o&&i||o===i&&t.length<n.length)&&(n=t,o=i),s}));return!n&&i.length&&(n=i[0]),{topMatch:n,allMatches:i}},e.prototype.runSearch=function(){var t,e,n,o,r=this.params.autocompleteEntries,i=r.map((function(t){var e;return null!==(e=t.displayValue)&&void 0!==e?e:t.key}));if(this.params.useFuzzySearch)o=(n=Bo(this.searchString,i,!0).values).length?n[0]:void 0;else{var s=this.runContainsSearch(this.searchString,i);n=s.allMatches,o=s.topMatch}var a=r.filter((function(t){var e=t.key,o=t.displayValue;return n.includes(null!==o&&void 0!==o?o:e)}));if(!a.length&&this.selectedValue&&(null===(e=null===(t=this.params)||void 0===t?void 0:t.forceLastSelection)||void 0===e?void 0:e.call(t,this.selectedValue,this.searchString))&&(a=[this.selectedValue]),this.autocompleteEntries=a,this.virtualList.refresh(),o){var l=n.indexOf(o);this.checkSetSelectedValue(l)}},e.prototype.updateSearchInList=function(){var t=this;this.virtualList.forEachRenderedRow((function(e){return e.setSearchString(t.searchString)}))},e.prototype.checkSetSelectedValue=function(t){t>=0&&t<this.autocompleteEntries.length&&this.setSelectedValue(t)},e.prototype.setSelectedValue=function(t){var e=this.autocompleteEntries[t];this.selectedValue!==e&&(this.selectedValue=e,this.virtualList.ensureIndexVisible(t),this.virtualList.forEachRenderedRow((function(e,n){e.updateSelected(t===n)})))},e.prototype.createRowComponent=function(t){var e,n=new af;return this.getContext().createBean(n),n.setState(null!==(e=t.displayValue)&&void 0!==e?e:t.key,t===this.selectedValue),n},e.prototype.onMouseMove=function(t){var e=this.virtualList.getGui().getBoundingClientRect(),n=this.virtualList.getScrollTop(),o=t.clientY-e.top+n,r=Math.floor(o/this.virtualList.getRowHeight());this.checkSetSelectedValue(r)},e.prototype.afterGuiAttached=function(){this.virtualList.refresh()},e.prototype.getSelectedValue=function(){var t;return this.autocompleteEntries.length&&null!==(t=this.selectedValue)&&void 0!==t?t:null},e.TEMPLATE='<div class="ag-autocomplete-list-popup">\n            <div ref="eList" class="ag-autocomplete-list"></div>\n        <div>',uf([Or("eList")],e.prototype,"eList",void 0),uf([J],e.prototype,"init",null),e}(fs),df=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),pf=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},hf=function(t){function e(){var e=t.call(this,'\n            <div class="ag-autocomplete" role="presentation">\n                <ag-input-text-field ref="eAutocompleteInput"></ag-input-text-field>\n            </div>')||this;return e.isListOpen=!1,e.lastPosition=0,e.valid=!0,e}return df(e,t),e.prototype.postConstruct=function(){var t=this;this.eAutocompleteInput.onValueChange((function(e){return t.onValueChanged(e)})),this.eAutocompleteInput.getInputElement().setAttribute("autocomplete","off"),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.addGuiEventListener("click",this.updatePositionAndList.bind(this)),this.addDestroyFunc((function(){t.destroyBean(t.autocompleteList)})),this.addGuiEventListener("focusout",(function(){return t.onFocusOut()}))},e.prototype.onValueChanged=function(t){var e=o(t);this.updateValue(e),this.updateAutocompleteList(e)},e.prototype.updateValue=function(t){this.updateLastPosition(),this.dispatchEvent({type:e.EVENT_VALUE_CHANGED,value:t}),this.validate(t)},e.prototype.updateAutocompleteList=function(t){var e,n,o,r,i=null!==(n=null===(e=this.listGenerator)||void 0===e?void 0:e.call(this,t,this.lastPosition))&&void 0!==n?n:{enabled:!1};if(i.type&&i.type===(null===(o=this.autocompleteListParams)||void 0===o?void 0:o.type)||this.isListOpen&&this.closeList(),this.autocompleteListParams=i,null===(r=this.autocompleteListParams)||void 0===r?void 0:r.enabled){this.isListOpen||this.openList();var s=this.autocompleteListParams.searchString;this.autocompleteList.setSearch(null!==s&&void 0!==s?s:"")}else this.isListOpen&&this.closeList()},e.prototype.onKeyDown=function(t){var e=this,n=t.key;switch(this.updateLastPosition(),n){case qo.ENTER:this.onEnterKeyDown(t);break;case qo.TAB:this.onTabKeyDown(t);break;case qo.DOWN:case qo.UP:this.onUpDownKeyDown(t,n);break;case qo.LEFT:case qo.RIGHT:case qo.PAGE_HOME:case qo.PAGE_END:setTimeout((function(){e.updatePositionAndList()}));break;case qo.ESCAPE:this.onEscapeKeyDown(t);break;case qo.SPACE:t.ctrlKey&&!this.isListOpen&&(t.preventDefault(),this.forceOpenList())}},e.prototype.confirmSelection=function(){var t,n=null===(t=this.autocompleteList)||void 0===t?void 0:t.getSelectedValue();n&&(this.closeList(),this.dispatchEvent({type:e.EVENT_OPTION_SELECTED,value:this.getValue(),position:this.lastPosition,updateEntry:n,autocompleteType:this.autocompleteListParams.type}))},e.prototype.onTabKeyDown=function(t){this.isListOpen&&(t.preventDefault(),t.stopPropagation(),this.confirmSelection())},e.prototype.onEnterKeyDown=function(t){t.preventDefault(),this.isListOpen?this.confirmSelection():this.onCompleted()},e.prototype.onUpDownKeyDown=function(t,e){var n;t.preventDefault(),this.isListOpen?null===(n=this.autocompleteList)||void 0===n||n.onNavigationKeyDown(t,e):this.forceOpenList()},e.prototype.onEscapeKeyDown=function(t){this.isListOpen&&(t.preventDefault(),t.stopPropagation(),this.closeList(),this.setCaret(this.lastPosition,!0))},e.prototype.onFocusOut=function(){this.isListOpen&&this.closeList()},e.prototype.updatePositionAndList=function(){var t;this.updateLastPosition(),this.updateAutocompleteList(null!==(t=this.eAutocompleteInput.getValue())&&void 0!==t?t:null)},e.prototype.setCaret=function(t,e){var n=this.gridOptionsService.getDocument();e&&n.activeElement===n.body&&this.eAutocompleteInput.getFocusableElement().focus();var o=this.eAutocompleteInput.getInputElement();o.setSelectionRange(t,t),t===o.value.length&&(o.scrollLeft=o.scrollWidth)},e.prototype.forceOpenList=function(){this.onValueChanged(this.eAutocompleteInput.getValue())},e.prototype.updateLastPosition=function(){var t;this.lastPosition=null!==(t=this.eAutocompleteInput.getInputElement().selectionStart)&&void 0!==t?t:0},e.prototype.validate=function(t){var n;this.validator&&(this.validationMessage=this.validator(t),this.eAutocompleteInput.getInputElement().setCustomValidity(null!==(n=this.validationMessage)&&void 0!==n?n:""),this.valid=!this.validationMessage,this.dispatchEvent({type:e.EVENT_VALID_CHANGED,isValid:this.valid,validationMessage:this.validationMessage}))},e.prototype.openList=function(){var t=this;this.isListOpen=!0,this.autocompleteList=this.createBean(new cf({autocompleteEntries:this.autocompleteListParams.entries,onConfirmed:function(){return t.confirmSelection()},forceLastSelection:this.forceLastSelection}));var e=this.autocompleteList.getGui(),n={ePopup:e,type:"autocomplete",eventSource:this.getGui(),position:"under",alignSide:this.gridOptionsService.get("enableRtl")?"right":"left",keepWithinBounds:!0},o=this.popupService.addPopup({eChild:e,anchorToElement:this.getGui(),positionCallback:function(){return t.popupService.positionPopupByComponent(n)},ariaLabel:this.listAriaLabel});this.hidePopup=o.hideFunc,this.autocompleteList.afterGuiAttached()},e.prototype.closeList=function(){this.isListOpen=!1,this.hidePopup(),this.destroyBean(this.autocompleteList),this.autocompleteList=null},e.prototype.onCompleted=function(){this.isListOpen&&this.closeList(),this.dispatchEvent({type:e.EVENT_VALUE_CONFIRMED,value:this.getValue(),isValid:this.isValid()})},e.prototype.getValue=function(){return o(this.eAutocompleteInput.getValue())},e.prototype.setInputPlaceholder=function(t){return this.eAutocompleteInput.setInputPlaceholder(t),this},e.prototype.setInputAriaLabel=function(t){return this.eAutocompleteInput.setInputAriaLabel(t),this},e.prototype.setListAriaLabel=function(t){return this.listAriaLabel=t,this},e.prototype.setListGenerator=function(t){return this.listGenerator=t,this},e.prototype.setValidator=function(t){return this.validator=t,this},e.prototype.isValid=function(){return this.valid},e.prototype.setValue=function(t){var e=t.value,n=t.position,o=t.silent,r=t.updateListOnlyIfOpen,i=t.restoreFocus;this.eAutocompleteInput.setValue(e,!0),this.setCaret(null!==n&&void 0!==n?n:this.lastPosition,i),o||this.updateValue(e),r&&!this.isListOpen||this.updateAutocompleteList(e)},e.prototype.setForceLastSelection=function(t){return this.forceLastSelection=t,this},e.prototype.setInputDisabled=function(t){return this.eAutocompleteInput.setDisabled(t),this},e.EVENT_VALUE_CHANGED="eventValueChanged",e.EVENT_VALUE_CONFIRMED="eventValueConfirmed",e.EVENT_OPTION_SELECTED="eventOptionSelected",e.EVENT_VALID_CHANGED="eventValidChanged",pf([nt("popupService")],e.prototype,"popupService",void 0),pf([Or("eAutocompleteInput")],e.prototype,"eAutocompleteInput",void 0),pf([J],e.prototype,"postConstruct",null),e}(Sr),ff=["mouseover","mouseout","mouseenter","mouseleave","mousemove"],gf=["touchstart","touchend","touchmove","touchcancel"],vf=function(){function t(t){void 0===t&&(t="javascript"),this.frameworkName=t,this.renderingEngine="vanilla",this.isOutsideAngular=function(t){return Rt(ff,t)}}return t.prototype.setTimeout=function(t,e){window.setTimeout(t,e)},t.prototype.setInterval=function(t,e){return new hr((function(n){n(window.setInterval(t,e))}))},t.prototype.addEventListener=function(t,e,n,o){var r=Rt(gf,e);t.addEventListener(e,n,{capture:!!o,passive:r})},t.prototype.dispatchEvent=function(t,e,n){e()},t.prototype.frameworkComponent=function(t){return null},t.prototype.isFrameworkComponent=function(t){return!1},t.prototype.getDocLink=function(t){var e="solid"===this.frameworkName?"react":this.frameworkName;return"https://www.ag-grid.com/".concat(e,"-data-grid").concat(t?"/".concat(t):"")},t}(),mf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),yf=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Cf=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},wf=function(t,e,n){if(n||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},bf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return mf(e,t),e.prototype.getNextCellToFocus=function(t,e,n){return void 0===n&&(n=!1),n?this.getNextCellToFocusWithCtrlPressed(t,e):this.getNextCellToFocusWithoutCtrlPressed(t,e)},e.prototype.getNextCellToFocusWithCtrlPressed=function(t,e){var n,o,r=t===qo.UP,i=t===qo.DOWN,s=t===qo.LEFT;if(r||i)o=r?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow(),n=e.column;else{var a=this.columnModel.getAllDisplayedColumns(),l=this.gridOptionsService.get("enableRtl");o=e.rowIndex,n=s!==l?a[0]:Ct(a)}return{rowIndex:o,rowPinned:null,column:n}},e.prototype.getNextCellToFocusWithoutCtrlPressed=function(t,e){for(var n=e,o=!1;!o;){switch(t){case qo.UP:n=this.getCellAbove(n);break;case qo.DOWN:n=this.getCellBelow(n);break;case qo.RIGHT:n=this.gridOptionsService.get("enableRtl")?this.getCellToLeft(n):this.getCellToRight(n);break;case qo.LEFT:n=this.gridOptionsService.get("enableRtl")?this.getCellToRight(n):this.getCellToLeft(n);break;default:n=null,console.warn("AG Grid: unknown key for navigation "+t)}o=!n||this.isCellGoodToFocusOn(n)}return n},e.prototype.isCellGoodToFocusOn=function(t){var e,n=t.column;switch(t.rowPinned){case"top":e=this.pinnedRowModel.getPinnedTopRow(t.rowIndex);break;case"bottom":e=this.pinnedRowModel.getPinnedBottomRow(t.rowIndex);break;default:e=this.rowModel.getRow(t.rowIndex)}return!!e&&!n.isSuppressNavigable(e)},e.prototype.getCellToLeft=function(t){if(!t)return null;var e=this.columnModel.getDisplayedColBefore(t.column);return e?{rowIndex:t.rowIndex,column:e,rowPinned:t.rowPinned}:null},e.prototype.getCellToRight=function(t){if(!t)return null;var e=this.columnModel.getDisplayedColAfter(t.column);return e?{rowIndex:t.rowIndex,column:e,rowPinned:t.rowPinned}:null},e.prototype.getRowBelow=function(t){var e=t.rowIndex,n=t.rowPinned;if(this.isLastRowInContainer(t))switch(n){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}var o=this.rowModel.getRow(t.rowIndex),r=this.getNextStickyPosition(o);return r||{rowIndex:e+1,rowPinned:n}},e.prototype.getNextStickyPosition=function(t,e){if(this.gridOptionsService.isGroupRowsSticky()&&t&&t.sticky){var n=wf([],Cf(this.rowRenderer.getStickyTopRowCtrls()),!1).sort((function(t,e){return t.getRowNode().rowIndex-e.getRowNode().rowIndex})),o=e?-1:1,r=n.findIndex((function(e){return e.getRowNode().rowIndex===t.rowIndex})),i=n[r+o];return i?{rowIndex:i.getRowNode().rowIndex,rowPinned:null}:void 0}},e.prototype.getCellBelow=function(t){if(!t)return null;var e=this.getRowBelow(t);return e?{rowIndex:e.rowIndex,column:t.column,rowPinned:e.rowPinned}:null},e.prototype.isLastRowInContainer=function(t){var e=t.rowPinned,n=t.rowIndex;return"top"===e?this.pinnedRowModel.getPinnedTopRowData().length-1<=n:"bottom"===e?this.pinnedRowModel.getPinnedBottomRowData().length-1<=n:this.paginationProxy.getPageLastRow()<=n},e.prototype.getRowAbove=function(t){var e=t.rowIndex,n=t.rowPinned;if(n?0===e:e===this.paginationProxy.getPageFirstRow())return"top"===n?null:n&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;var o=this.rowModel.getRow(t.rowIndex),r=this.getNextStickyPosition(o,!0);return r||{rowIndex:e-1,rowPinned:n}},e.prototype.getCellAbove=function(t){if(!t)return null;var e=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});return e?{rowIndex:e.rowIndex,column:t.column,rowPinned:e.rowPinned}:null},e.prototype.getLastBodyCell=function(){return{rowIndex:this.paginationProxy.getPageLastRow(),rowPinned:null}},e.prototype.getLastFloatingTopRow=function(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:"top"}},e.prototype.getNextTabbedCell=function(t,e){return e?this.getNextTabbedCellBackwards(t):this.getNextTabbedCellForwards(t)},e.prototype.getNextTabbedCellForwards=function(t){var e=this.columnModel.getAllDisplayedColumns(),n=t.rowIndex,o=t.rowPinned,r=this.columnModel.getDisplayedColAfter(t.column);if(!r){r=e[0];var s=this.getRowBelow(t);if(i(s))return null;if(!s.rowPinned&&!this.paginationProxy.isRowInPage(s))return null;n=s?s.rowIndex:null,o=s?s.rowPinned:null}return{rowIndex:n,column:r,rowPinned:o}},e.prototype.getNextTabbedCellBackwards=function(t){var e=this.columnModel.getAllDisplayedColumns(),n=t.rowIndex,o=t.rowPinned,r=this.columnModel.getDisplayedColBefore(t.column);if(!r){r=Ct(e);var s=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});if(i(s))return null;if(!s.rowPinned&&!this.paginationProxy.isRowInPage(s))return null;n=s?s.rowIndex:null,o=s?s.rowPinned:null}return{rowIndex:n,column:r,rowPinned:o}},yf([nt("columnModel")],e.prototype,"columnModel",void 0),yf([nt("rowModel")],e.prototype,"rowModel",void 0),yf([nt("rowRenderer")],e.prototype,"rowRenderer",void 0),yf([nt("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),yf([nt("paginationProxy")],e.prototype,"paginationProxy",void 0),e=yf([et("cellNavigationService")],e)}(Ut),_f=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Sf=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ef=function(t,e){return function(n,o){e(n,o,t)}},Of=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.consuming=!1,e}return _f(e,t),e.prototype.setBeans=function(t){this.logger=t.create("AlignedGridsService")},e.prototype.getAlignedGridApis=function(){var t,e=this,n=null!==(t=this.gridOptionsService.get("alignedGrids"))&&void 0!==t?t:[],o="function"===typeof n;"function"===typeof n&&(n=n());var r=function(){return"See ".concat(e.getFrameworkOverrides().getDocLink("aligned-grids"))},i=n.map((function(t){var e;if(!t)return M("alignedGrids contains an undefined option."),o||M('You may want to configure via a callback to avoid setup race conditions:\n                     "alignedGrids: () => [linkedGrid]"'),void M(r());if(t instanceof fl)return t;var n=t;return"current"in n?null===(e=n.current)||void 0===e?void 0:e.api:(n.api||M("alignedGrids - No api found on the linked grid. If you are passing gridOptions to alignedGrids since v31 this is no longer valid. ".concat(r())),n.api)})).filter((function(t){return!!t&&!t.isDestroyed()}));return i},e.prototype.init=function(){this.addManagedListener(this.eventService,$t.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,$t.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,$t.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,$t.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,$t.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,$t.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))},e.prototype.fireEvent=function(t){this.consuming||this.getAlignedGridApis().forEach((function(e){var n=e.__getAlignedGridService();t(n)}))},e.prototype.onEvent=function(t){this.consuming=!0,t(),this.consuming=!1},e.prototype.fireColumnEvent=function(t){this.fireEvent((function(e){e.onColumnEvent(t)}))},e.prototype.fireScrollEvent=function(t){"horizontal"===t.direction&&this.fireEvent((function(e){e.onScrollEvent(t)}))},e.prototype.onScrollEvent=function(t){var e=this;this.onEvent((function(){e.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(t.left,!0)}))},e.prototype.getMasterColumns=function(t){var e=[];return t.columns?t.columns.forEach((function(t){e.push(t)})):t.column&&e.push(t.column),e},e.prototype.getColumnIds=function(t){var e=[];return t.columns?t.columns.forEach((function(t){e.push(t.getColId())})):t.column&&e.push(t.column.getColId()),e},e.prototype.onColumnEvent=function(t){var e=this;this.onEvent((function(){switch(t.type){case $t.EVENT_COLUMN_MOVED:case $t.EVENT_COLUMN_VISIBLE:case $t.EVENT_COLUMN_PINNED:case $t.EVENT_COLUMN_RESIZED:var n=t;e.processColumnEvent(n);break;case $t.EVENT_COLUMN_GROUP_OPENED:var o=t;e.processGroupOpenedEvent(o);break;case $t.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.")}}))},e.prototype.processGroupOpenedEvent=function(t){var e=this;t.columnGroups.forEach((function(n){var o=null;if(n){var r=n.getGroupId();o=e.columnModel.getProvidedColumnGroup(r)}n&&!o||(e.logger.log("onColumnEvent-> processing "+t+" expanded = "+n.isExpanded()),e.columnModel.setColumnGroupOpened(o,n.isExpanded(),"alignedGridChanged"))}))},e.prototype.processColumnEvent=function(t){var e,n=this,o=t.column,r=null;if(o&&(r=this.columnModel.getPrimaryColumn(o.getColId())),!o||r){var i=this.getMasterColumns(t);switch(t.type){case $t.EVENT_COLUMN_MOVED:var s=t,a=t.api.getColumnState().map((function(t){return{colId:t.colId}}));this.columnModel.applyColumnState({state:a,applyOrder:!0},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing ".concat(t.type," toIndex = ").concat(s.toIndex));break;case $t.EVENT_COLUMN_VISIBLE:var l=t;a=t.api.getColumnState().map((function(t){return{colId:t.colId,hide:t.hide}}));this.columnModel.applyColumnState({state:a},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing ".concat(t.type," visible = ").concat(l.visible));break;case $t.EVENT_COLUMN_PINNED:var u=t;a=t.api.getColumnState().map((function(t){return{colId:t.colId,pinned:t.pinned}}));this.columnModel.applyColumnState({state:a},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing ".concat(t.type," pinned = ").concat(u.pinned));break;case $t.EVENT_COLUMN_RESIZED:var c=t,d={};i.forEach((function(e){n.logger.log("onColumnEvent-> processing ".concat(t.type," actualWidth = ").concat(e.getActualWidth())),d[e.getId()]={key:e.getColId(),newWidth:e.getActualWidth()}})),null===(e=c.flexColumns)||void 0===e||e.forEach((function(t){d[t.getId()]&&delete d[t.getId()]})),this.columnModel.setColumnWidths(Object.values(d),!1,c.finished,"alignedGridChanged")}var p=this.ctrlsService.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach((function(t){t.setGridOption("alwaysShowVerticalScroll",p)}))}},Sf([nt("columnModel")],e.prototype,"columnModel",void 0),Sf([nt("ctrlsService")],e.prototype,"ctrlsService",void 0),Sf([Ef(0,it("loggerFactory"))],e.prototype,"setBeans",null),Sf([J],e.prototype,"init",null),e=Sf([et("alignedGridsService")],e)}(Ut),xf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Tf=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Rf=function(t,e){return function(n,o){e(n,o,t)}},Df=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.selectedNodes=new Map,e}return xf(e,t),e.prototype.setBeans=function(t){this.logger=t.create("selectionService"),this.resetNodes()},e.prototype.init=function(){var t=this;this.rowSelection=this.gridOptionsService.get("rowSelection"),this.groupSelectsChildren=this.gridOptionsService.get("groupSelectsChildren"),this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],(function(){t.groupSelectsChildren=t.gridOptionsService.get("groupSelectsChildren"),t.rowSelection=t.gridOptionsService.get("rowSelection"),t.deselectAllRowNodes({source:"api"})})),this.addManagedListener(this.eventService,$t.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},e.prototype.isMultiselect=function(){return"multiple"===this.rowSelection},e.prototype.setNodesSelected=function(t){var e;if(0===t.nodes.length)return 0;var n=t.newValue,o=t.clearSelection,r=t.suppressFinishActions,i=t.rangeSelect;t.event;var s=t.source,a=void 0===s?"api":s;if(t.nodes.length>1&&!this.isMultiselect())return console.warn("AG Grid: cannot multi select while rowSelection='single'"),0;var l=this.groupSelectsChildren&&!0===t.groupSelectsFiltered,u=t.nodes.map((function(t){return t.footer?t.sibling:t}));if(i){if(t.nodes.length>1)return console.warn("AG Grid: cannot range select while selecting multiple rows"),0;var c=this.getLastSelectedNode();if(c)if(c!==(h=u[0])&&this.isMultiselect())return this.selectRange(h,c,t.newValue,a)}for(var d=0,p=0;p<u.length;p++){var h=u[p];if(!(l&&h.group))h.selectThisNode(n,t.event,a)&&d++;this.groupSelectsChildren&&(null===(e=h.childrenAfterGroup)||void 0===e?void 0:e.length)&&(d+=this.selectChildren(h,n,l,a))}if(!r&&(n&&(o||!this.isMultiselect())&&(d+=this.clearOtherNodes(u[0],a)),d>0)){this.updateGroupsFromChildrenSelections(a);var f={type:$t.EVENT_SELECTION_CHANGED,source:a};this.eventService.dispatchEvent(f)}return d},e.prototype.selectRange=function(t,e,n,o){var r=this;void 0===n&&(n=!0);var i=this.rowModel.getNodesInRangeForSelection(t,e),s=0;i.forEach((function(e){e.group&&r.groupSelectsChildren||!1===n&&t===e||e.selectThisNode(n,void 0,o)&&s++})),this.updateGroupsFromChildrenSelections(o);var a={type:$t.EVENT_SELECTION_CHANGED,source:o};return this.eventService.dispatchEvent(a),s},e.prototype.selectChildren=function(t,e,n,o){var r=n?t.childrenAfterAggFilter:t.childrenAfterGroup;return i(r)?0:this.setNodesSelected({newValue:e,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:n,source:o,nodes:r})},e.prototype.getLastSelectedNode=function(){var t=Array.from(this.selectedNodes.keys());if(0==t.length)return null;var e=this.selectedNodes.get(Ct(t));return e||null},e.prototype.getSelectedNodes=function(){var t=[];return this.selectedNodes.forEach((function(e){e&&t.push(e)})),t},e.prototype.getSelectedRows=function(){var t=[];return this.selectedNodes.forEach((function(e){e&&e.data&&t.push(e.data)})),t},e.prototype.getSelectionCount=function(){return this.selectedNodes.size},e.prototype.filterFromSelection=function(t){var e=new Map;this.selectedNodes.forEach((function(n,o){n&&t(n)&&e.set(o,n)})),this.selectedNodes=e},e.prototype.updateGroupsFromChildrenSelections=function(t,e){if(!this.groupSelectsChildren)return!1;if("clientSide"!==this.rowModel.getType())return!1;var n=this.rowModel.getRootNode();e||(e=new Wp(!0,n)).setInactive();var o=!1;return e.forEachChangedNodeDepthFirst((function(e){if(e!==n){var r=e.calculateSelectedFromChildren();o=e.selectThisNode(null!==r&&r,void 0,t)||o}})),o},e.prototype.clearOtherNodes=function(t,e){var n=this,o=new Map,r=0;return this.selectedNodes.forEach((function(i){if(i&&i.id!==t.id){var s=n.selectedNodes.get(i.id);r+=s.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:e}),n.groupSelectsChildren&&i.parent&&o.set(i.parent.id,i.parent)}})),o.forEach((function(t){var n=t.calculateSelectedFromChildren();t.selectThisNode(null!==n&&n,void 0,e)})),r},e.prototype.onRowSelected=function(t){var e=t.node;this.groupSelectsChildren&&e.group||(e.isSelected()?this.selectedNodes.set(e.id,e):this.selectedNodes.delete(e.id))},e.prototype.syncInRowNode=function(t,e){this.syncInOldRowNode(t,e),this.syncInNewRowNode(t)},e.prototype.syncInOldRowNode=function(t,e){if(r(e)&&t.id!==e.id&&e){var n=e.id;this.selectedNodes.get(n)==t&&this.selectedNodes.set(e.id,e)}},e.prototype.syncInNewRowNode=function(t){this.selectedNodes.has(t.id)?(t.setSelectedInitialValue(!0),this.selectedNodes.set(t.id,t)):t.setSelectedInitialValue(!1)},e.prototype.reset=function(t){var e=this.getSelectionCount();if(this.resetNodes(),e){var n={type:$t.EVENT_SELECTION_CHANGED,source:t};this.eventService.dispatchEvent(n)}},e.prototype.resetNodes=function(){var t;this.logger.log("reset"),null===(t=this.selectedNodes)||void 0===t||t.clear()},e.prototype.getBestCostNodeSelection=function(){if("clientSide"===this.rowModel.getType()){var t=this.rowModel.getTopLevelNodes();if(null!==t){var e=[];return function t(n){for(var o=0,r=n.length;o<r;o++){var i=n[o];if(i.isSelected())e.push(i);else{var s=i;s.group&&s.children&&t(s.children)}}}(t),e}}},e.prototype.isEmpty=function(){var t=0;return this.selectedNodes.forEach((function(e){e&&t++})),0===t},e.prototype.deselectAllRowNodes=function(t){var e=function(t){return t.selectThisNode(!1,void 0,o)},n="clientSide"===this.rowModel.getType(),o=t.source,r=t.justFiltered,i=t.justCurrentPage;if(i||r){if(!n)return void console.error("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'");this.getNodesToSelect(r,i).forEach(e)}else this.selectedNodes.forEach((function(t){t&&e(t)})),this.reset(o);n&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(o);var s={type:$t.EVENT_SELECTION_CHANGED,source:o};this.eventService.dispatchEvent(s)},e.prototype.getSelectedCounts=function(t,e){var n=this,o=0,r=0;return this.getNodesToSelect(t,e).forEach((function(t){n.groupSelectsChildren&&t.group||(t.isSelected()?o++:t.selectable&&r++)})),{selectedCount:o,notSelectedCount:r}},e.prototype.getSelectAllState=function(t,e){var n=this.getSelectedCounts(t,e),o=n.selectedCount,r=n.notSelectedCount;return(0!==o||0!==r)&&(o>0&&r>0?null:o>0)},e.prototype.getNodesToSelect=function(t,e){var n=this;if(void 0===t&&(t=!1),void 0===e&&(e=!1),"clientSide"!==this.rowModel.getType())throw new Error("selectAll only available when rowModelType='clientSide', ie not ".concat(this.rowModel.getType()));var o=[];if(e)return this.paginationProxy.forEachNodeOnPage((function(t){if(t.group)if(t.expanded)n.groupSelectsChildren||o.push(t);else{var e=function(t){var n;o.push(t),(null===(n=t.childrenAfterFilter)||void 0===n?void 0:n.length)&&t.childrenAfterFilter.forEach(e)};e(t)}else o.push(t)})),o;var r=this.rowModel;return t?(r.forEachNodeAfterFilter((function(t){o.push(t)})),o):(r.forEachNode((function(t){o.push(t)})),o)},e.prototype.selectAllRowNodes=function(t){if("clientSide"!==this.rowModel.getType())throw new Error("selectAll only available when rowModelType='clientSide', ie not ".concat(this.rowModel.getType()));var e=t.source,n=t.justFiltered,o=t.justCurrentPage;this.getNodesToSelect(n,o).forEach((function(t){return t.selectThisNode(!0,void 0,e)})),"clientSide"===this.rowModel.getType()&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(e);var r={type:$t.EVENT_SELECTION_CHANGED,source:e};this.eventService.dispatchEvent(r)},e.prototype.getSelectionState=function(){var t=[];return this.selectedNodes.forEach((function(e){(null===e||void 0===e?void 0:e.id)&&t.push(e.id)})),t.length?t:null},e.prototype.setSelectionState=function(t,e){if(Array.isArray(t)){var n=new Set(t),o=[];this.rowModel.forEachNode((function(t){n.has(t.id)&&o.push(t)})),this.setNodesSelected({newValue:!0,nodes:o,source:e})}},Tf([nt("rowModel")],e.prototype,"rowModel",void 0),Tf([nt("paginationProxy")],e.prototype,"paginationProxy",void 0),Tf([Rf(0,it("loggerFactory"))],e.prototype,"setBeans",null),Tf([J],e.prototype,"init",null),e=Tf([et("selectionService")],e)}(Ut),Pf=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Lf=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},Mf=function(t,e,n){if(n||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},Af=function(){function t(t){var e=this;this.viaApi=function(t){for(var n,o=[],r=1;r<arguments.length;r++)o[r-1]=arguments[r];return L("Since v31, 'columnApi.".concat(t,"' is deprecated and moved to 'api.").concat(t,"'.")),(n=e.api)[t].apply(n,Mf([],Lf(o),!1))},this.api=t}return t.prototype.sizeColumnsToFit=function(t){this.viaApi("sizeColumnsToFit",t)},t.prototype.setColumnGroupOpened=function(t,e){this.viaApi("setColumnGroupOpened",t,e)},t.prototype.getColumnGroup=function(t,e){return this.viaApi("getColumnGroup",t,e)},t.prototype.getProvidedColumnGroup=function(t){return this.viaApi("getProvidedColumnGroup",t)},t.prototype.getDisplayNameForColumn=function(t,e){return this.viaApi("getDisplayNameForColumn",t,e)},t.prototype.getDisplayNameForColumnGroup=function(t,e){return this.viaApi("getDisplayNameForColumnGroup",t,e)},t.prototype.getColumn=function(t){return this.viaApi("getColumn",t)},t.prototype.getColumns=function(){return this.viaApi("getColumns")},t.prototype.applyColumnState=function(t){return this.viaApi("applyColumnState",t)},t.prototype.getColumnState=function(){return this.viaApi("getColumnState")},t.prototype.resetColumnState=function(){this.viaApi("resetColumnState")},t.prototype.getColumnGroupState=function(){return this.viaApi("getColumnGroupState")},t.prototype.setColumnGroupState=function(t){this.viaApi("setColumnGroupState",t)},t.prototype.resetColumnGroupState=function(){this.viaApi("resetColumnGroupState")},t.prototype.isPinning=function(){return this.viaApi("isPinning")},t.prototype.isPinningLeft=function(){return this.viaApi("isPinningLeft")},t.prototype.isPinningRight=function(){return this.viaApi("isPinningRight")},t.prototype.getDisplayedColAfter=function(t){return this.viaApi("getDisplayedColAfter",t)},t.prototype.getDisplayedColBefore=function(t){return this.viaApi("getDisplayedColBefore",t)},t.prototype.setColumnVisible=function(t,e){this.viaApi("setColumnVisible",t,e)},t.prototype.setColumnsVisible=function(t,e){this.viaApi("setColumnsVisible",t,e)},t.prototype.setColumnPinned=function(t,e){this.viaApi("setColumnPinned",t,e)},t.prototype.setColumnsPinned=function(t,e){this.viaApi("setColumnsPinned",t,e)},t.prototype.getAllGridColumns=function(){return this.viaApi("getAllGridColumns")},t.prototype.getDisplayedLeftColumns=function(){return this.viaApi("getDisplayedLeftColumns")},t.prototype.getDisplayedCenterColumns=function(){return this.viaApi("getDisplayedCenterColumns")},t.prototype.getDisplayedRightColumns=function(){return this.viaApi("getDisplayedRightColumns")},t.prototype.getAllDisplayedColumns=function(){return this.viaApi("getAllDisplayedColumns")},t.prototype.getAllDisplayedVirtualColumns=function(){return this.viaApi("getAllDisplayedVirtualColumns")},t.prototype.moveColumn=function(t,e){this.viaApi("moveColumn",t,e)},t.prototype.moveColumnByIndex=function(t,e){this.viaApi("moveColumnByIndex",t,e)},t.prototype.moveColumns=function(t,e){this.viaApi("moveColumns",t,e)},t.prototype.moveRowGroupColumn=function(t,e){this.viaApi("moveRowGroupColumn",t,e)},t.prototype.setColumnAggFunc=function(t,e){this.viaApi("setColumnAggFunc",t,e)},t.prototype.setColumnWidth=function(t,e,n,o){void 0===n&&(n=!0),this.viaApi("setColumnWidth",t,e,n,o)},t.prototype.setColumnWidths=function(t,e,n){void 0===e&&(e=!0),this.viaApi("setColumnWidths",t,e,n)},t.prototype.setPivotMode=function(t){this.viaApi("setPivotMode",t)},t.prototype.isPivotMode=function(){return this.viaApi("isPivotMode")},t.prototype.getPivotResultColumn=function(t,e){return this.viaApi("getPivotResultColumn",t,e)},t.prototype.setValueColumns=function(t){this.viaApi("setValueColumns",t)},t.prototype.getValueColumns=function(){return this.viaApi("getValueColumns")},t.prototype.removeValueColumn=function(t){this.viaApi("removeValueColumn",t)},t.prototype.removeValueColumns=function(t){this.viaApi("removeValueColumns",t)},t.prototype.addValueColumn=function(t){this.viaApi("addValueColumn",t)},t.prototype.addValueColumns=function(t){this.viaApi("addValueColumns",t)},t.prototype.setRowGroupColumns=function(t){this.viaApi("setRowGroupColumns",t)},t.prototype.removeRowGroupColumn=function(t){this.viaApi("removeRowGroupColumn",t)},t.prototype.removeRowGroupColumns=function(t){this.viaApi("removeRowGroupColumns",t)},t.prototype.addRowGroupColumn=function(t){this.viaApi("addRowGroupColumn",t)},t.prototype.addRowGroupColumns=function(t){this.viaApi("addRowGroupColumns",t)},t.prototype.getRowGroupColumns=function(){return this.viaApi("getRowGroupColumns")},t.prototype.setPivotColumns=function(t){this.viaApi("setPivotColumns",t)},t.prototype.removePivotColumn=function(t){this.viaApi("removePivotColumn",t)},t.prototype.removePivotColumns=function(t){this.viaApi("removePivotColumns",t)},t.prototype.addPivotColumn=function(t){this.viaApi("addPivotColumn",t)},t.prototype.addPivotColumns=function(t){this.viaApi("addPivotColumns",t)},t.prototype.getPivotColumns=function(){return this.viaApi("getPivotColumns")},t.prototype.getLeftDisplayedColumnGroups=function(){return this.viaApi("getLeftDisplayedColumnGroups")},t.prototype.getCenterDisplayedColumnGroups=function(){return this.viaApi("getCenterDisplayedColumnGroups")},t.prototype.getRightDisplayedColumnGroups=function(){return this.viaApi("getRightDisplayedColumnGroups")},t.prototype.getAllDisplayedColumnGroups=function(){return this.viaApi("getAllDisplayedColumnGroups")},t.prototype.autoSizeColumn=function(t,e){return this.viaApi("autoSizeColumn",t,e)},t.prototype.autoSizeColumns=function(t,e){this.viaApi("autoSizeColumns",t,e)},t.prototype.autoSizeAllColumns=function(t){this.viaApi("autoSizeAllColumns",t)},t.prototype.setPivotResultColumns=function(t){this.viaApi("setPivotResultColumns",t)},t.prototype.getPivotResultColumns=function(){return this.viaApi("getPivotResultColumns")},Pf([nt("gridApi")],t.prototype,"api",void 0),t=Pf([et("columnApi")],t)}(),kf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Nf=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ff=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.initialised=!1,e.isSsrm=!1,e}return kf(e,t),e.prototype.init=function(){var t=this;this.isSsrm=this.gridOptionsService.isRowModelType("serverSide"),this.cellExpressions=this.gridOptionsService.get("enableCellExpressions"),this.isTreeData=this.gridOptionsService.get("treeData"),this.initialised=!0;var e=function(e){return t.callColumnCellValueChangedHandler(e)},n=this.gridOptionsService.useAsyncEvents();this.eventService.addEventListener($t.EVENT_CELL_VALUE_CHANGED,e,n),this.addDestroyFunc((function(){return t.eventService.removeEventListener($t.EVENT_CELL_VALUE_CHANGED,e,n)})),this.addManagedPropertyListener("treeData",(function(e){return t.isTreeData=e.currentValue}))},e.prototype.getValue=function(t,e,n,o){if(void 0===n&&(n=!1),void 0===o&&(o=!1),this.initialised||this.init(),e){var r,i=t.getColDef(),s=i.field,a=t.getColId(),l=e.data,u=e.groupData&&void 0!==e.groupData[a],c=!o&&e.aggData&&void 0!==e.aggData[a],d=this.isSsrm&&o&&!!t.getColDef().aggFunc,p=this.isSsrm&&e.footer&&e.field&&(!0===t.getColDef().showRowGroup||t.getColDef().showRowGroup===e.field);if(n&&i.filterValueGetter?r=this.executeFilterValueGetter(i.filterValueGetter,l,t,e):this.isTreeData&&c?r=e.aggData[a]:this.isTreeData&&i.valueGetter?r=this.executeValueGetter(i.valueGetter,l,t,e):this.isTreeData&&s&&l?r=O(l,s,t.isFieldContainsDots()):u?r=e.groupData[a]:c?r=e.aggData[a]:i.valueGetter?r=this.executeValueGetter(i.valueGetter,l,t,e):p?r=O(l,e.field,t.isFieldContainsDots()):s&&l&&!d&&(r=O(l,s,t.isFieldContainsDots())),this.cellExpressions&&"string"===typeof r&&0===r.indexOf("=")){var h=r.substring(1);r=this.executeValueGetter(h,l,t,e)}if(null==r){var f=this.getOpenedGroup(e,t);if(null!=f)return f}return r}},e.prototype.getOpenedGroup=function(t,e){if(this.gridOptionsService.get("showOpenedGroup")&&e.getColDef().showRowGroup)for(var n=e.getColDef().showRowGroup,o=t.parent;null!=o;){if(o.rowGroupColumn&&(!0===n||n===o.rowGroupColumn.getColId()))return o.key;o=o.parent}},e.prototype.setValue=function(t,e,n,o){var s=this.columnModel.getPrimaryColumn(e);if(!t||!s)return!1;i(t.data)&&(t.data={});var a=s.getColDef(),l=a.field,u=a.valueSetter;if(i(l)&&i(u))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;if(!this.dataTypeService.checkType(s,n))return console.warn("AG Grid: Data type of the new value does not match the cell data type of the column"),!1;var c,d={node:t,data:t.data,oldValue:this.getValue(s,t),newValue:n,colDef:s.getColDef(),column:s,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};if(d.newValue=n,void 0===(c=r(u)?"function"===typeof u?u(d):this.expressionService.evaluate(u,d):this.setValueUsingField(t.data,l,n,s.isFieldContainsDots()))&&(c=!0),!c)return!1;t.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),d.newValue=this.getValue(s,t);var p={type:$t.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:d.column,api:d.api,columnApi:d.columnApi,colDef:d.colDef,context:d.context,data:t.data,node:t,oldValue:d.oldValue,newValue:d.newValue,value:d.newValue,source:o};return this.eventService.dispatchEvent(p),!0},e.prototype.callColumnCellValueChangedHandler=function(t){var e=t.colDef.onCellValueChanged;"function"===typeof e&&e({node:t.node,data:t.data,oldValue:t.oldValue,newValue:t.newValue,colDef:t.colDef,column:t.column,api:t.api,columnApi:t.columnApi,context:t.context})},e.prototype.setValueUsingField=function(t,e,n,o){if(!e)return!1;var r=!1;if(o)for(var i=e.split("."),s=t;i.length>0&&s;){var a=i.shift();0===i.length?(r=s[a]===n)||(s[a]=n):s=s[a]}else(r=t[e]===n)||(t[e]=n);return!r},e.prototype.executeFilterValueGetter=function(t,e,n,o){var r={data:e,node:o,column:n,colDef:n.getColDef(),api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,getValue:this.getValueCallback.bind(this,o)};return"function"===typeof t?t(r):this.expressionService.evaluate(t,r)},e.prototype.executeValueGetter=function(t,e,n,o){var r=n.getColId(),i=this.valueCache.getValue(o,r);if(void 0!==i)return i;var s,a={data:e,node:o,column:n,colDef:n.getColDef(),api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,getValue:this.getValueCallback.bind(this,o)};return s="function"===typeof t?t(a):this.expressionService.evaluate(t,a),this.valueCache.setValue(o,r,s),s},e.prototype.getValueCallback=function(t,e){var n=this.columnModel.getPrimaryColumn(e);return n?this.getValue(n,t):null},e.prototype.getKeyForNode=function(t,e){var n=this.getValue(t,e),o=t.getColDef().keyCreator,r=n;o&&(r=o({value:n,colDef:t.getColDef(),column:t,node:e,data:e.data,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}));return"string"===typeof r||null==r||"[object Object]"===(r=String(r))&&L("a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key"),r},Nf([nt("expressionService")],e.prototype,"expressionService",void 0),Nf([nt("columnModel")],e.prototype,"columnModel",void 0),Nf([nt("valueCache")],e.prototype,"valueCache",void 0),Nf([nt("dataTypeService")],e.prototype,"dataTypeService",void 0),Nf([J],e.prototype,"init",null),e=Nf([et("valueService")],e)}(Ut),If=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Gf=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Hf=function(t,e){return function(n,o){e(n,o,t)}},Vf=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.expressionToFunctionCache={},e}return If(e,t),e.prototype.setBeans=function(t){this.logger=t.create("ExpressionService")},e.prototype.evaluate=function(t,e){if("string"===typeof t)return this.evaluateExpression(t,e);console.error("AG Grid: value should be either a string or a function",t)},e.prototype.evaluateExpression=function(t,e){try{return this.createExpressionFunction(t)(e.value,e.context,e.oldValue,e.newValue,e.value,e.node,e.data,e.colDef,e.rowIndex,e.api,e.columnApi,e.getValue,e.column,e.columnGroup)}catch(n){return console.log("Processing of the expression failed"),console.log("Expression = "+t),console.log("Params =",e),console.log("Exception = "+n),null}},e.prototype.createExpressionFunction=function(t){if(this.expressionToFunctionCache[t])return this.expressionToFunctionCache[t];var e=this.createFunctionBody(t),n=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",e);return this.expressionToFunctionCache[t]=n,n},e.prototype.createFunctionBody=function(t){return t.indexOf("return")>=0?t:"return "+t+";"},Gf([Hf(0,it("loggerFactory"))],e.prototype,"setBeans",null),e=Gf([et("expressionService")],e)}(Ut),jf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Bf=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Wf=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.templateCache={},e.waitingCallbacks={},e}return jf(e,t),e.prototype.getTemplate=function(t,e){var n=this.templateCache[t];if(n)return n;var o=this.waitingCallbacks[t],r=this;if(!o){o=[],this.waitingCallbacks[t]=o;var i=new XMLHttpRequest;i.onload=function(){r.handleHttpResult(this,t)},i.open("GET",t),i.send()}return e&&o.push(e),null},e.prototype.handleHttpResult=function(t,e){if(200===t.status&&null!==t.response){this.templateCache[e]=t.response||t.responseText;for(var n=this.waitingCallbacks[e],o=0;o<n.length;o++){(0,n[o])()}}else console.warn("AG Grid: Unable to get template error ".concat(t.status," - ").concat(e))},e=Bf([et("templateService")],e)}(Ut),zf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Uf=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Yf=function(t,e){return function(n,o){e(n,o,t)}},Kf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return zf(e,t),e.prototype.setBeans=function(t){this.logging=t.get("debug")},e.prototype.create=function(t){return new Zf(t,this.isLogging.bind(this))},e.prototype.isLogging=function(){return this.logging},Uf([Yf(0,it("gridOptionsService"))],e.prototype,"setBeans",null),e=Uf([et("loggerFactory")],e)}(Ut),Zf=function(){function t(t,e){this.name=t,this.isLoggingFunc=e}return t.prototype.isLogging=function(){return this.isLoggingFunc()},t.prototype.log=function(t){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+t)},t}(),qf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Qf=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Xf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return qf(e,t),e.prototype.setComp=function(t,e,n){var o=this;this.view=t,this.eGridHostDiv=e,this.eGui=n,this.eGui.setAttribute("grid-id",this.context.getGridId()),this.dragAndDropService.addDropTarget({getContainer:function(){return o.eGui},isInterestedIn:function(t){return t===Hs.HeaderCell||t===Hs.ToolPanel},getIconName:function(){return zs.ICON_NOT_ALLOWED}}),this.mouseEventService.stampTopLevelGridCompWithGridInstance(e),this.createManagedBean(new Ll(this.view)),this.addRtlSupport();var r=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc((function(){return r()})),this.ctrlsService.registerGridCtrl(this)},e.prototype.isDetailGrid=function(){var t,e=this.focusService.findTabbableParent(this.getGui());return(null===(t=null===e||void 0===e?void 0:e.getAttribute("row-id"))||void 0===t?void 0:t.startsWith("detail"))||!1},e.prototype.showDropZones=function(){return Z.__isRegistered(z.RowGroupingModule,this.context.getGridId())},e.prototype.showSideBar=function(){return Z.__isRegistered(z.SideBarModule,this.context.getGridId())},e.prototype.showStatusBar=function(){return Z.__isRegistered(z.StatusBarModule,this.context.getGridId())},e.prototype.showWatermark=function(){return Z.__isRegistered(z.EnterpriseCoreModule,this.context.getGridId())},e.prototype.onGridSizeChanged=function(){var t={type:$t.EVENT_GRID_SIZE_CHANGED,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight};this.eventService.dispatchEvent(t)},e.prototype.addRtlSupport=function(){var t=this.gridOptionsService.get("enableRtl")?"ag-rtl":"ag-ltr";this.view.setRtlClass(t)},e.prototype.destroyGridUi=function(){this.view.destroyGridUi()},e.prototype.getGui=function(){return this.eGui},e.prototype.setResizeCursor=function(t){this.view.setCursor(t?"ew-resize":null)},e.prototype.disableUserSelect=function(t){this.view.setUserSelect(t?"none":null)},e.prototype.focusNextInnerContainer=function(t){var e=this.gridOptionsService.getDocument(),n=this.view.getFocusableContainers(),o=n.findIndex((function(t){return t.contains(e.activeElement)}))+(t?-1:1);return!(o<=0||o>=n.length)&&this.focusService.focusInto(n[o])},e.prototype.focusInnerElement=function(t){var e=this.view.getFocusableContainers(),n=this.columnModel.getAllDisplayedColumns();if(t){if(e.length>1)return this.focusService.focusInto(Ct(e),!0);var o=Ct(n);if(this.focusService.focusGridView(o,!0))return!0}return 0===this.gridOptionsService.get("headerHeight")?this.focusService.focusGridView(n[0]):this.focusService.focusFirstHeader()},e.prototype.forceFocusOutOfContainer=function(t){void 0===t&&(t=!1),this.view.forceFocusOutOfContainer(t)},Qf([nt("focusService")],e.prototype,"focusService",void 0),Qf([nt("resizeObserverService")],e.prototype,"resizeObserverService",void 0),Qf([nt("columnModel")],e.prototype,"columnModel",void 0),Qf([nt("ctrlsService")],e.prototype,"ctrlsService",void 0),Qf([nt("mouseEventService")],e.prototype,"mouseEventService",void 0),Qf([nt("dragAndDropService")],e.prototype,"dragAndDropService",void 0),e}(Ut),$f=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Jf=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},tg=function(t){function e(e){var n=t.call(this)||this;return n.eGridDiv=e,n}return $f(e,t),e.prototype.postConstruct=function(){var t=this;this.logger=this.loggerFactory.create("GridComp");var e={destroyGridUi:function(){return t.destroyBean(t)},setRtlClass:function(e){return t.addCssClass(e)},forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:function(e){t.getGui().style.userSelect=null!=e?e:"",t.getGui().style.webkitUserSelect=null!=e?e:""},setCursor:function(e){t.getGui().style.cursor=null!=e?e:""}};this.ctrl=this.createManagedBean(new Xf);var n=this.createTemplate();this.setTemplate(n),this.ctrl.setComp(e,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:function(){},focusInnerElement:function(e){return t.ctrl.focusInnerElement(e)}})},e.prototype.insertGridIntoDom=function(){var t=this,e=this.getGui();this.eGridDiv.appendChild(e),this.addDestroyFunc((function(){t.eGridDiv.removeChild(e),t.logger.log("Grid removed from DOM")}))},e.prototype.updateLayoutClasses=function(t,e){var n=this.eRootWrapperBody.classList;n.toggle(hl.AUTO_HEIGHT,e.autoHeight),n.toggle(hl.NORMAL,e.normal),n.toggle(hl.PRINT,e.print),this.addOrRemoveCssClass(hl.AUTO_HEIGHT,e.autoHeight),this.addOrRemoveCssClass(hl.NORMAL,e.normal),this.addOrRemoveCssClass(hl.PRINT,e.print)},e.prototype.createTemplate=function(){var t=this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"",e=this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"",n=this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"",o=this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"";return'<div class="ag-root-wrapper" role="presentation">\n                '.concat(t,'\n                <div class="ag-root-wrapper-body" ref="rootWrapperBody" role="presentation">\n                    <ag-grid-body ref="gridBody"></ag-grid-body>\n                    ').concat(e,"\n                </div>\n                ").concat(n,"\n                <ag-pagination></ag-pagination>\n                ").concat(o,"\n            </div>")},e.prototype.getFocusableElement=function(){return this.eRootWrapperBody},e.prototype.getFocusableContainers=function(){var t=[this.gridBodyComp.getGui()];return this.sideBarComp&&t.push(this.sideBarComp.getGui()),t.filter((function(t){return Co(t)}))},Jf([nt("loggerFactory")],e.prototype,"loggerFactory",void 0),Jf([Or("gridBody")],e.prototype,"gridBodyComp",void 0),Jf([Or("sideBar")],e.prototype,"sideBarComp",void 0),Jf([Or("rootWrapperBody")],e.prototype,"eRootWrapperBody",void 0),Jf([J],e.prototype,"postConstruct",null),e}(wh),eg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ng=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},og=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},rg=function(t,e,n){if(n||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},ig=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return eg(e,t),n=e,e.prototype.progressSort=function(t,e,n){var o=this.getNextSortDirection(t);this.setSortForColumn(t,o,e,n)},e.prototype.setSortForColumn=function(t,e,n,o){"asc"!==e&&"desc"!==e&&(e=null);var r=[t];if(this.gridOptionsService.isColumnsSortingCoupledToGroup()&&t.getColDef().showRowGroup){var i=this.columnModel.getSourceColumnsForGroupColumn(t),s=null===i||void 0===i?void 0:i.filter((function(t){return t.isSortable()}));s&&(r=rg([t],og(s),!1))}r.forEach((function(t){return t.setSort(e,o)})),(n||this.gridOptionsService.get("alwaysMultiSort"))&&!this.gridOptionsService.get("suppressMultiSort")||this.clearSortBarTheseColumns(r,o),this.updateSortIndex(t),this.dispatchSortChangedEvents(o)},e.prototype.updateSortIndex=function(t){var e=this.gridOptionsService.isColumnsSortingCoupledToGroup(),n=this.columnModel.getGroupDisplayColumnForGroup(t.getId()),o=e&&n||t,r=this.getColumnsWithSortingOrdered();this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach((function(t){return t.setSortIndex(null)}));var i=r.filter((function(t){return t!==o}));(o.getSort()?rg(rg([],og(i),!1),[o],!1):i).forEach((function(t,e){return t.setSortIndex(e)}))},e.prototype.onSortChanged=function(t){this.dispatchSortChangedEvents(t)},e.prototype.isSortActive=function(){var t=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter((function(t){return!!t.getSort()}));return t&&t.length>0},e.prototype.dispatchSortChangedEvents=function(t){var e={type:$t.EVENT_SORT_CHANGED,source:t};this.eventService.dispatchEvent(e)},e.prototype.clearSortBarTheseColumns=function(t,e){this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach((function(n){t.includes(n)||n.setSort(void 0,e)}))},e.prototype.getNextSortDirection=function(t){var e;if(e=t.getColDef().sortingOrder?t.getColDef().sortingOrder:this.gridOptionsService.get("sortingOrder")?this.gridOptionsService.get("sortingOrder"):n.DEFAULT_SORTING_ORDER,!Array.isArray(e)||e.length<=0)return console.warn("AG Grid: sortingOrder must be an array with at least one element, currently it's ".concat(e)),null;var o,r=e.indexOf(t.getSort()),i=r<0,s=r==e.length-1;return o=i||s?e[0]:e[r+1],n.DEFAULT_SORTING_ORDER.indexOf(o)<0?(console.warn("AG Grid: invalid sort type "+o),null):o},e.prototype.getIndexedSortMap=function(){var t=this,e=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter((function(t){return!!t.getSort()}));if(this.columnModel.isPivotMode()){var n=this.gridOptionsService.isColumnsSortingCoupledToGroup();e=e.filter((function(e){var o=!!e.getAggFunc(),r=!e.isPrimary(),i=n?t.columnModel.getGroupDisplayColumnForGroup(e.getId()):e.getColDef().showRowGroup;return o||r||i}))}var o=this.columnModel.getRowGroupColumns().filter((function(t){return!!t.getSort()})),r=this.gridOptionsService.isColumnsSortingCoupledToGroup()&&!!o.length;r&&(e=rg([],og(new Set(e.map((function(e){var n;return null!==(n=t.columnModel.getGroupDisplayColumnForGroup(e.getId()))&&void 0!==n?n:e})))),!1));var i={};e.forEach((function(t,e){return i[t.getId()]=e})),e.sort((function(t,e){var n=t.getSortIndex(),o=e.getSortIndex();return null!=n&&null!=o?n-o:null==n&&null==o?i[t.getId()]>i[e.getId()]?1:-1:null==o?-1:1}));var s=new Map;return e.forEach((function(t,e){return s.set(t,e)})),r&&o.forEach((function(e){var n=t.columnModel.getGroupDisplayColumnForGroup(e.getId());s.set(e,s.get(n))})),s},e.prototype.getColumnsWithSortingOrdered=function(){return rg([],og(this.getIndexedSortMap().entries()),!1).sort((function(t,e){var n=og(t,2);n[0];var o=n[1],r=og(e,2);return r[0],o-r[1]})).map((function(t){return og(t,1)[0]}))},e.prototype.getSortModel=function(){return this.getColumnsWithSortingOrdered().filter((function(t){return t.getSort()})).map((function(t){return{sort:t.getSort(),colId:t.getId()}}))},e.prototype.getSortOptions=function(){return this.getColumnsWithSortingOrdered().filter((function(t){return t.getSort()})).map((function(t){return{sort:t.getSort(),column:t}}))},e.prototype.canColumnDisplayMixedSort=function(t){var e=this.gridOptionsService.isColumnsSortingCoupledToGroup(),n=!!t.getColDef().showRowGroup;return e&&n},e.prototype.getDisplaySortForColumn=function(t){var e=this.columnModel.getSourceColumnsForGroupColumn(t);if(!this.canColumnDisplayMixedSort(t)||!(null===e||void 0===e?void 0:e.length))return t.getSort();var n=null!=t.getColDef().field||!!t.getColDef().valueGetter?rg([t],og(e),!1):e,o=n[0].getSort();return n.every((function(t){return t.getSort()==o}))?o:"mixed"},e.prototype.getDisplaySortIndexForColumn=function(t){return this.getIndexedSortMap().get(t)},e.DEFAULT_SORTING_ORDER=["asc","desc",null],ng([nt("columnModel")],e.prototype,"columnModel",void 0),e=n=ng([et("sortController")],e)}(Ut),sg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ag=function(){return ag=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},ag.apply(this,arguments)},lg=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ug=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return sg(e,t),n=e,e.addKeyboardModeEvents=function(t){this.instanceCount>0||(t.addEventListener("keydown",n.toggleKeyboardMode),t.addEventListener("mousedown",n.toggleKeyboardMode))},e.removeKeyboardModeEvents=function(t){this.instanceCount>0||(t.addEventListener("keydown",n.toggleKeyboardMode),t.addEventListener("mousedown",n.toggleKeyboardMode))},e.toggleKeyboardMode=function(t){var e=n.keyboardModeActive,o="keydown"===t.type;o&&(t.ctrlKey||t.metaKey||t.altKey)||e!==o&&(n.keyboardModeActive=o)},e.unregisterGridCompController=function(t){n.removeKeyboardModeEvents(t)},e.prototype.init=function(){var t=this,e=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,$t.EVENT_COLUMN_PIVOT_MODE_CHANGED,e),this.addManagedListener(this.eventService,$t.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,$t.EVENT_COLUMN_GROUP_OPENED,e),this.addManagedListener(this.eventService,$t.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.registerKeyboardFocusEvents(),this.ctrlsService.whenReady((function(e){t.gridCtrl=e.gridCtrl}))},e.prototype.registerKeyboardFocusEvents=function(){var t=this.gridOptionsService.getDocument();n.addKeyboardModeEvents(t),n.instanceCount++,this.addDestroyFunc((function(){n.instanceCount--,n.unregisterGridCompController(t)}))},e.prototype.onColumnEverythingChanged=function(){if(this.focusedCellPosition){var t=this.focusedCellPosition.column,e=this.columnModel.getGridColumn(t.getId());t!==e&&this.clearFocusedCell()}},e.prototype.isKeyboardMode=function(){return n.keyboardModeActive},e.prototype.getFocusCellToUseAfterRefresh=function(){var t=this.gridOptionsService.getDocument();return this.gridOptionsService.get("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(t.activeElement,Tu.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition},e.prototype.getFocusHeaderToUseAfterRefresh=function(){var t=this.gridOptionsService.getDocument();return this.gridOptionsService.get("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(t.activeElement,td.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition},e.prototype.isDomDataMissingInHierarchy=function(t,e){for(var n=t;n;){if(this.gridOptionsService.getDomData(n,e))return!1;n=n.parentNode}return!0},e.prototype.getFocusedCell=function(){return this.focusedCellPosition},e.prototype.shouldRestoreFocus=function(t){var e=this;return!!this.isCellRestoreFocused(t)&&(setTimeout((function(){e.restoredFocusedCellPosition=null}),0),!0)},e.prototype.isCellRestoreFocused=function(t){return null!=this.restoredFocusedCellPosition&&this.cellPositionUtils.equals(t,this.restoredFocusedCellPosition)},e.prototype.setRestoreFocusedCell=function(t){"react"===this.getFrameworkOverrides().renderingEngine&&(this.restoredFocusedCellPosition=t)},e.prototype.getFocusEventParams=function(){var t=this.focusedCellPosition,e=t.rowIndex,n=t.rowPinned,o={rowIndex:e,rowPinned:n,column:t.column,isFullWidthCell:!1},r=this.rowRenderer.getRowByPosition({rowIndex:e,rowPinned:n});return r&&(o.isFullWidthCell=r.isFullWidth()),o},e.prototype.clearFocusedCell=function(){if(this.restoredFocusedCellPosition=null,null!=this.focusedCellPosition){var t=ag({type:$t.EVENT_CELL_FOCUS_CLEARED},this.getFocusEventParams());this.focusedCellPosition=null,this.eventService.dispatchEvent(t)}},e.prototype.setFocusedCell=function(t){var e=t.column,n=t.rowIndex,r=t.rowPinned,i=t.forceBrowserFocus,s=void 0!==i&&i,a=t.preventScrollOnBrowserFocus,l=void 0!==a&&a,u=this.columnModel.getGridColumn(e);if(u){this.focusedCellPosition=u?{rowIndex:n,rowPinned:o(r),column:u}:null;var c=ag(ag({type:$t.EVENT_CELL_FOCUSED},this.getFocusEventParams()),{forceBrowserFocus:s,preventScrollOnBrowserFocus:l,floating:null});this.eventService.dispatchEvent(c)}else this.focusedCellPosition=null},e.prototype.isCellFocused=function(t){return null!=this.focusedCellPosition&&this.cellPositionUtils.equals(t,this.focusedCellPosition)},e.prototype.isRowNodeFocused=function(t){return this.isRowFocused(t.rowIndex,t.rowPinned)},e.prototype.isHeaderWrapperFocused=function(t){if(null==this.focusedHeaderPosition)return!1;var e=t.getColumnGroupChild(),n=t.getRowIndex(),o=t.getPinned(),r=this.focusedHeaderPosition,i=r.column,s=r.headerRowIndex;return e===i&&n===s&&o==i.getPinned()},e.prototype.clearFocusedHeader=function(){this.focusedHeaderPosition=null},e.prototype.getFocusedHeader=function(){return this.focusedHeaderPosition},e.prototype.setFocusedHeader=function(t,e){this.focusedHeaderPosition={headerRowIndex:t,column:e}},e.prototype.focusHeaderPosition=function(t){var e=t.direction,n=t.fromTab,o=t.allowUserOverride,r=t.event,i=t.fromCell,s=t.headerPosition;if(i&&this.filterManager.isAdvancedFilterHeaderActive())return this.focusAdvancedFilter(s);if(o){var a,l=this.getFocusedHeader(),u=this.headerNavigationService.getHeaderRowCount();if(n){if(a=this.gridOptionsService.getCallback("tabToNextHeader"))s=a({backwards:"Before"===e,previousHeaderPosition:l,nextHeaderPosition:s,headerRowCount:u})}else if((a=this.gridOptionsService.getCallback("navigateToNextHeader"))&&r)s=a({key:r.key,previousHeaderPosition:l,nextHeaderPosition:s,headerRowCount:u,event:r})}return!!s&&(-1===s.headerRowIndex?this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(s):this.focusGridView(s.column):(this.headerNavigationService.scrollToColumn(s.column,e),this.ctrlsService.getHeaderRowContainerCtrl(s.column.getPinned()).focusHeader(s.headerRowIndex,s.column,r)))},e.prototype.focusFirstHeader=function(){var t=this.columnModel.getAllDisplayedColumns()[0];return!!t&&(t.getParent()&&(t=this.columnModel.getColumnGroupAtLevel(t,0)),this.focusHeaderPosition({headerPosition:{headerRowIndex:0,column:t}}))},e.prototype.focusLastHeader=function(t){var e=this.headerNavigationService.getHeaderRowCount()-1,n=Ct(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:e,column:n},event:t})},e.prototype.focusPreviousFromFirstCell=function(t){return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(t)},e.prototype.isAnyCellFocused=function(){return!!this.focusedCellPosition},e.prototype.isRowFocused=function(t,e){return null!=this.focusedCellPosition&&(this.focusedCellPosition.rowIndex===t&&this.focusedCellPosition.rowPinned===o(e))},e.prototype.findFocusableElements=function(t,e,n){void 0===n&&(n=!1);var o=to,r=eo;e&&(r+=", "+e),n&&(r+=', [tabindex="-1"]');var i=Array.prototype.slice.apply(t.querySelectorAll(o)).filter((function(t){return Co(t)})),s=Array.prototype.slice.apply(t.querySelectorAll(r));if(!s.length)return i;var a;return a=s,i.filter((function(t){return-1===a.indexOf(t)}))},e.prototype.focusInto=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1);var o=this.findFocusableElements(t,null,n),r=e?Ct(o):o[0];return!!r&&(r.focus({preventScroll:!0}),!0)},e.prototype.findFocusableElementBeforeTabGuard=function(t,e){if(!e)return null;var n=this.findFocusableElements(t),o=n.indexOf(e);if(-1===o)return null;for(var r=-1,i=o-1;i>=0;i--)if(n[i].classList.contains(Bp.TAB_GUARD_TOP)){r=i;break}return r<=0?null:n[r-1]},e.prototype.findNextFocusableElement=function(t,e,n){void 0===t&&(t=this.eGridDiv);var o=this.findFocusableElements(t,e?':not([tabindex="-1"])':null),r=this.gridOptionsService.getDocument().activeElement,i=(e?o.findIndex((function(t){return t.contains(r)})):o.indexOf(r))+(n?-1:1);return i<0||i>=o.length?null:o[i]},e.prototype.isTargetUnderManagedComponent=function(t,e){if(!e)return!1;var n=t.querySelectorAll(".".concat(Fr.FOCUS_MANAGED_CLASS));if(!n.length)return!1;for(var o=0;o<n.length;o++)if(n[o].contains(e))return!0;return!1},e.prototype.findTabbableParent=function(t,e){void 0===e&&(e=5);for(var n=0;t&&null===Mn(t)&&++n<=e;)t=t.parentElement;return null===Mn(t)?null:t},e.prototype.focusGridView=function(t,e){if(this.gridOptionsService.get("suppressCellFocus"))return e?this.focusLastHeader():this.focusNextGridCoreContainer(!1);var n=e?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!n)return!1;var r=n.rowIndex,i=n.rowPinned,s=this.getFocusedHeader();if(!t&&s&&(t=s.column),null==r||!t)return!1;if(this.navigationService.ensureCellVisible({rowIndex:r,column:t,rowPinned:i}),this.setFocusedCell({rowIndex:r,column:t,rowPinned:o(i),forceBrowserFocus:!0}),this.rangeService){var a={rowIndex:r,rowPinned:i,column:t};this.rangeService.setRangeToCell(a)}return!0},e.prototype.focusNextGridCoreContainer=function(t,e){return void 0===e&&(e=!1),!(e||!this.gridCtrl.focusNextInnerContainer(t))||((e||!t&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(t),!1)},e.prototype.focusAdvancedFilter=function(t){return this.advancedFilterFocusColumn=null===t||void 0===t?void 0:t.column,this.advancedFilterService.getCtrl().focusHeaderComp()},e.prototype.focusNextFromAdvancedFilter=function(t,e){var n,o,r=null!==(n=e?void 0:this.advancedFilterFocusColumn)&&void 0!==n?n:null===(o=this.columnModel.getAllDisplayedColumns())||void 0===o?void 0:o[0];return t?this.focusHeaderPosition({headerPosition:{column:r,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(r)},e.prototype.clearAdvancedFilterColumn=function(){this.advancedFilterFocusColumn=void 0},e.keyboardModeActive=!1,e.instanceCount=0,lg([nt("eGridDiv")],e.prototype,"eGridDiv",void 0),lg([nt("columnModel")],e.prototype,"columnModel",void 0),lg([nt("headerNavigationService")],e.prototype,"headerNavigationService",void 0),lg([nt("rowRenderer")],e.prototype,"rowRenderer",void 0),lg([nt("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),lg([nt("cellPositionUtils")],e.prototype,"cellPositionUtils",void 0),lg([ot("rangeService")],e.prototype,"rangeService",void 0),lg([nt("navigationService")],e.prototype,"navigationService",void 0),lg([nt("ctrlsService")],e.prototype,"ctrlsService",void 0),lg([nt("filterManager")],e.prototype,"filterManager",void 0),lg([ot("advancedFilterService")],e.prototype,"advancedFilterService",void 0),lg([J],e.prototype,"init",null),e=n=lg([et("focusService")],e)}(Ut),cg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),dg=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},pg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return cg(e,t),e.prototype.setMouseOver=function(t){this.selectedColumns=t;var e={type:$t.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(e)},e.prototype.clearMouseOver=function(){this.selectedColumns=null;var t={type:$t.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(t)},e.prototype.isHovered=function(t){return!!this.selectedColumns&&this.selectedColumns.indexOf(t)>=0},e=dg([et("columnHoverService")],e)}(Ut),hg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),fg=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},gg=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.executeNextFuncs=[],e.executeLaterFuncs=[],e.active=!1,e.animationThreadCount=0,e}return hg(e,t),e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady((function(e){return t.gridBodyCtrl=e.gridBodyCtrl}))},e.prototype.isActive=function(){return this.active},e.prototype.start=function(){this.active||this.gridOptionsService.get("suppressColumnMoveAnimation")||this.gridOptionsService.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0)},e.prototype.finish=function(){this.active&&(this.flush(),this.active=!1)},e.prototype.executeNextVMTurn=function(t){this.active?this.executeNextFuncs.push(t):t()},e.prototype.executeLaterVMTurn=function(t){this.active?this.executeLaterFuncs.push(t):t()},e.prototype.ensureAnimationCssClassPresent=function(){var t=this;this.animationThreadCount++;var e=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push((function(){t.animationThreadCount===e&&t.gridBodyCtrl.setColumnMovingCss(!1)}))},e.prototype.flush=function(){var t=this.executeNextFuncs;this.executeNextFuncs=[];var e=this.executeLaterFuncs;this.executeLaterFuncs=[],0===t.length&&0===e.length||(window.setTimeout((function(){return t.forEach((function(t){return t()}))}),0),window.setTimeout((function(){return e.forEach((function(t){return t()}))}),300))},fg([nt("ctrlsService")],e.prototype,"ctrlsService",void 0),fg([J],e.prototype,"postConstruct",null),e=fg([et("columnAnimationService")],e)}(Ut),vg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),mg=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},yg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return vg(e,t),e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady((function(e){t.centerRowContainerCon=e.centerRowContainerCtrl,t.addManagedListener(t.eventService,$t.EVENT_BODY_HEIGHT_CHANGED,t.checkPageSize.bind(t)),t.addManagedListener(t.eventService,$t.EVENT_SCROLL_VISIBILITY_CHANGED,t.checkPageSize.bind(t)),t.addManagedPropertyListener("paginationAutoPageSize",t.onPaginationAutoSizeChanged.bind(t)),t.checkPageSize()}))},e.prototype.notActive=function(){return!this.gridOptionsService.get("paginationAutoPageSize")||null==this.centerRowContainerCon},e.prototype.onPaginationAutoSizeChanged=function(){this.notActive()?this.paginationProxy.unsetAutoCalculatedPageSize():this.checkPageSize()},e.prototype.checkPageSize=function(){var t=this;if(!this.notActive()){var e=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(e>0){var n=function(){var n=t.gridOptionsService.getRowHeightAsNumber(),o=Math.floor(e/n);t.paginationProxy.setPageSize(o,"autoCalculated")};this.isBodyRendered?V((function(){return n()}),50)():(n(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}},mg([nt("ctrlsService")],e.prototype,"ctrlsService",void 0),mg([nt("paginationProxy")],e.prototype,"paginationProxy",void 0),mg([J],e.prototype,"postConstruct",null),e=mg([et("paginationAutoPageSizeService")],e)}(Ut),Cg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),wg=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},bg=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cacheVersion=0,e}return Cg(e,t),e.prototype.init=function(){this.active=this.gridOptionsService.get("valueCache"),this.neverExpires=this.gridOptionsService.get("valueCacheNeverExpires")},e.prototype.onDataChanged=function(){this.neverExpires||this.expire()},e.prototype.expire=function(){this.cacheVersion++},e.prototype.setValue=function(t,e,n){this.active&&(t.__cacheVersion!==this.cacheVersion&&(t.__cacheVersion=this.cacheVersion,t.__cacheData={}),t.__cacheData[e]=n)},e.prototype.getValue=function(t,e){if(this.active&&t.__cacheVersion===this.cacheVersion)return t.__cacheData[e]},wg([J],e.prototype,"init",null),e=wg([et("valueCache")],e)}(Ut),_g=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Sg=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Eg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _g(e,t),e.prototype.init=function(){"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,$t.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))},e.prototype.onCellValueChanged=function(t){"paste"!==t.source&&this.doChangeDetection(t.node,t.column)},e.prototype.doChangeDetection=function(t,e){if(!this.gridOptionsService.get("suppressChangeDetection")){var n=[t];if(this.clientSideRowModel&&!t.isRowPinned()){var o=this.gridOptionsService.get("aggregateOnlyChangedColumns"),r=new Wp(o,this.clientSideRowModel.getRootNode());r.addParentNode(t.parent,[e]),this.clientSideRowModel.doAggregate(r),r.forEachChangedNodeDepthFirst((function(t){n.push(t)}))}this.rowRenderer.refreshCells({rowNodes:n})}},Sg([nt("rowModel")],e.prototype,"rowModel",void 0),Sg([nt("rowRenderer")],e.prototype,"rowRenderer",void 0),Sg([J],e.prototype,"init",null),e=Sg([et("changeDetectionService")],e)}(Ut),Og=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),xg=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Tg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Og(e,t),e.prototype.adaptFunction=function(t,e){var n=this.componentMetadataProvider.retrieve(t);return n&&n.functionAdapter?n.functionAdapter(e):null},e.prototype.adaptCellRendererFunction=function(t){return function(){function e(){}return e.prototype.refresh=function(t){return!1},e.prototype.getGui=function(){return this.eGui},e.prototype.init=function(e){var n=t(e),o=typeof n;this.eGui="string"!==o&&"number"!==o&&"boolean"!==o?null!=n?n:wo("<span></span>"):wo("<span>"+n+"</span>")},e}()},e.prototype.doesImplementIComponent=function(t){return!!t&&(t.prototype&&"getGui"in t.prototype)},xg([nt("componentMetadataProvider")],e.prototype,"componentMetadataProvider",void 0),e=xg([et("agComponentUtils")],e)}(Ut),Rg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Dg=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Pg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Rg(e,t),e.prototype.postConstruct=function(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached"]},floatingFilterWrapperComponent:{mandatoryMethodList:[],optionalMethodList:[]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged"]},filterComponent:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]}}},e.prototype.retrieve=function(t){return this.componentMetaData[t]},Dg([nt("agComponentUtils")],e.prototype,"agComponentUtils",void 0),Dg([J],e.prototype,"postConstruct",null),e=Dg([et("componentMetadataProvider")],e)}(Ut),Lg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Mg=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ag=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},kg=function(t,e,n){if(n||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},Ng={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:20,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:56,headerCellMinWidth:48,listItemHeight:32,rowHeight:48,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:32,headerCellMinWidth:24,listItemHeight:24,rowHeight:28,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:48,headerCellMinWidth:36,listItemHeight:24,rowHeight:42,chartMenuPanelWidth:240},"ag-theme-quartz":{headerHeight:48,headerCellMinWidth:36,listItemHeight:24,rowHeight:42,chartMenuPanelWidth:260}},Fg={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},Ig=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.calculatedSizes={},e}return Lg(e,t),e.prototype.postConstruct=function(){var t,e=this,n=null!==(t=this.getTheme().el)&&void 0!==t?t:this.eGridDiv;this.addManagedPropertyListener("rowHeight",(function(){return e.refreshRowHeightVariable()})),this.mutationObserver=new MutationObserver((function(){e.calculatedSizes={},e.fireGridStylesChangedEvent()})),this.mutationObserver.observe(n||this.eGridDiv,{attributes:!0,attributeFilter:["class"]})},e.prototype.fireGridStylesChangedEvent=function(){var t={type:$t.EVENT_GRID_STYLES_CHANGED};this.eventService.dispatchEvent(t)},e.prototype.getSassVariable=function(t){var e=this.getTheme(),n=e.themeFamily,o=e.el;if(n&&0===n.indexOf("ag-theme")){this.calculatedSizes||(this.calculatedSizes={}),this.calculatedSizes[n]||(this.calculatedSizes[n]={});var r=this.calculatedSizes[n][t];return null!=r?r:(this.calculatedSizes[n][t]=this.calculateValueForSassProperty(t,n,o),this.calculatedSizes[n][t])}},e.prototype.calculateValueForSassProperty=function(t,e,n){var o,r="ag-theme-"+(e.match("material")?"material":e.match("balham")?"balham":e.match("alpine")?"alpine":"custom"),i=Ng[r][t],s=this.gridOptionsService.getDocument();if(n||(n=this.eGridDiv),!Fg[t])return i;var a=Fg[t],l=s.createElement("div"),u=Array.from(n.classList);(o=l.classList).add.apply(o,kg([e],Ag(u),!1)),l.style.position="absolute";var c=a.reduce((function(t,e){var n=s.createElement("div");return n.style.position="static",n.classList.add(e),t.appendChild(n),n}),l),d=0;if(s.body){s.body.appendChild(l);var p=-1!==t.toLowerCase().indexOf("height")?"height":"width";d=parseInt(window.getComputedStyle(c)[p],10),s.body.removeChild(l)}return d||i},e.prototype.isThemeDark=function(){var t=this.getTheme().theme;return!!t&&t.indexOf("dark")>=0},e.prototype.chartMenuPanelWidth=function(){return this.getSassVariable("chartMenuPanelWidth")},e.prototype.getTheme=function(){for(var t=/\bag-(material|(?:theme-([\w\-]*)))\b/g,e=this.eGridDiv,n=null,o=[];e;){if(n=t.exec(e.className)){var r=e.className.match(t);r&&(o=r);break}e=e.parentElement||void 0}if(!n)return{allThemes:o};var i=n[0];return{theme:i,el:e,themeFamily:i.replace(/-dark$/,""),allThemes:o}},e.prototype.getFromTheme=function(t,e){var n;return null!==(n=this.getSassVariable(e))&&void 0!==n?n:t},e.prototype.getDefaultRowHeight=function(){return this.getFromTheme(25,"rowHeight")},e.prototype.getListItemHeight=function(){return this.getFromTheme(20,"listItemHeight")},e.prototype.refreshRowHeightVariable=function(){var t=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),e=this.gridOptionsService.get("rowHeight");if(null==e||isNaN(e)||!isFinite(e))return null!==t&&this.eGridDiv.style.setProperty("--ag-line-height",null),-1;var n="".concat(e,"px");return t!=n?(this.eGridDiv.style.setProperty("--ag-line-height",n),e):""!=t?parseFloat(t):-1},e.prototype.getMinColWidth=function(){var t=this.getFromTheme(null,"headerCellMinWidth");return r(t)?Math.max(t,10):10},e.prototype.destroy=function(){this.calculatedSizes=null,this.mutationObserver&&this.mutationObserver.disconnect(),t.prototype.destroy.call(this)},Mg([nt("eGridDiv")],e.prototype,"eGridDiv",void 0),Mg([J],e.prototype,"postConstruct",null),e=Mg([et("environment")],e)}(Ut),Gg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Hg=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Vg=function(t,e){return function(n,o){e(n,o,t)}},jg=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scrollY=0,e.uiBodyHeight=0,e}return Gg(e,t),e.prototype.agWire=function(t){this.logger=t.create("RowContainerHeightService")},e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,$t.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=An(),this.logger.log("maxDivHeight = "+this.maxDivHeight)},e.prototype.isStretching=function(){return this.stretching},e.prototype.getDivStretchOffset=function(){return this.divStretchOffset},e.prototype.updateOffset=function(){if(this.stretching){var t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,e=this.getUiBodyHeight();(t!==this.scrollY||e!==this.uiBodyHeight)&&(this.scrollY=t,this.uiBodyHeight=e,this.calculateOffset())}},e.prototype.calculateOffset=function(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;var t=this.scrollY/this.maxScrollY,e=t*this.pixelsToShave;this.logger.log("Div Stretch Offset = ".concat(e," (").concat(this.pixelsToShave," * ").concat(t,")")),this.setDivStretchOffset(e)},e.prototype.setUiContainerHeight=function(t){t!==this.uiContainerHeight&&(this.uiContainerHeight=t,this.eventService.dispatchEvent({type:$t.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))},e.prototype.clearOffset=function(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)},e.prototype.setDivStretchOffset=function(t){var e="number"===typeof t?Math.floor(t):null;this.divStretchOffset!==e&&(this.divStretchOffset=e,this.eventService.dispatchEvent({type:$t.EVENT_HEIGHT_SCALE_CHANGED}))},e.prototype.setModelHeight=function(t){this.modelHeight=t,this.stretching=null!=t&&this.maxDivHeight>0&&t>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()},e.prototype.getUiContainerHeight=function(){return this.uiContainerHeight},e.prototype.getRealPixelPosition=function(t){return t-this.divStretchOffset},e.prototype.getUiBodyHeight=function(){var t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return t.bottom-t.top},e.prototype.getScrollPositionForPixel=function(t){if(this.pixelsToShave<=0)return t;var e=t/(this.modelHeight-this.getUiBodyHeight());return this.maxScrollY*e},Hg([nt("ctrlsService")],e.prototype,"ctrlsService",void 0),Hg([Vg(0,it("loggerFactory"))],e.prototype,"agWire",null),Hg([J],e.prototype,"postConstruct",null),e=Hg([et("rowContainerHeightService")],e)}(Ut),Bg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Wg=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},zg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Bg(e,t),e.prototype.init=function(){var t=this;this.addManagedPropertyListener("isRowSelectable",(function(){return t.updateSelectable()}))},e.prototype.updateSelectableAfterGrouping=function(){this.updateSelectable(!0)},e.prototype.updateSelectable=function(t){void 0===t&&(t=!1);var e=!!this.gridOptionsService.get("rowSelection"),n=this.gridOptionsService.get("isRowSelectable");if(e&&n){var o=this.gridOptionsService.get("groupSelectsChildren"),r="clientSide"===this.rowModel.getType()&&o,i=[],s=function(e){if(!t||e.group)if(r&&e.group){var o=e.childrenAfterGroup.some((function(t){return!0===t.selectable}));e.setRowSelectable(o,!0)}else{var s=!n||n(e);e.setRowSelectable(s,!0),!s&&e.isSelected()&&i.push(e)}};if(r){var a=this.rowModel;new Wp(!1,a.getRootNode()).forEachChangedNodeDepthFirst(s,!0,!0)}else this.rowModel.forEachNode(s);i.length&&this.selectionService.setNodesSelected({nodes:i,newValue:!1,source:"selectableChanged"}),r&&this.selectionService instanceof Df&&this.selectionService.updateGroupsFromChildrenSelections("selectableChanged")}},Wg([nt("rowModel")],e.prototype,"rowModel",void 0),Wg([nt("selectionService")],e.prototype,"selectionService",void 0),Wg([J],e.prototype,"init",null),e=Wg([et("selectableService")],e)}(Ut),Ug=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Yg=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Kg=function(t){function e(){var e=t.call(this)||this;return e.previousAndFirstButtonsDisabled=!1,e.nextButtonDisabled=!1,e.lastButtonDisabled=!1,e.areListenersSetup=!1,e}return Ug(e,t),e.prototype.postConstruct=function(){var t=this,e=this.gridOptionsService.get("enableRtl");this.setTemplate(this.getTemplate());var n=this,o=n.btFirst,r=n.btPrevious,i=n.btNext,s=n.btLast;n.pageSizeComp,this.activateTabIndex([o,r,i,s]),o.insertAdjacentElement("afterbegin",Ko(e?"last":"first",this.gridOptionsService)),r.insertAdjacentElement("afterbegin",Ko(e?"next":"previous",this.gridOptionsService)),i.insertAdjacentElement("afterbegin",Ko(e?"previous":"next",this.gridOptionsService)),s.insertAdjacentElement("afterbegin",Ko(e?"first":"last",this.gridOptionsService)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],(function(){return t.onPageSizeRelatedOptionsChange()})),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.onPaginationChanged()},e.prototype.onPaginationChanged=function(){var t=this.gridOptionsService.get("pagination")&&!this.gridOptionsService.get("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels(),this.onPageSizeRelatedOptionsChange())},e.prototype.onPageSizeRelatedOptionsChange=function(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())},e.prototype.setupListeners=function(){var t=this;this.areListenersSetup||(this.addManagedListener(this.eventService,$t.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach((function(e){var n=e.el,o=e.fn;t.addManagedListener(n,"click",o),t.addManagedListener(n,"keydown",(function(t){t.key!==qo.ENTER&&t.key!==qo.SPACE||(t.preventDefault(),o())}))})),this.areListenersSetup=!0)},e.prototype.onBtFirst=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()},e.prototype.setCurrentPageLabel=function(){var t=this.paginationProxy.getTotalPages()>0,e=this.paginationProxy.getCurrentPage(),n=t?e+1:0;this.lbCurrent.innerHTML=this.formatNumber(n)},e.prototype.formatNumber=function(t){var e=this.gridOptionsService.getCallback("paginationNumberFormatter");if(e)return e({value:t});var n=this.localeService.getLocaleTextFunc();return Bn(t,n("thousandSeparator",","),n("decimalSeparator","."))},e.prototype.getTemplate=function(){var t=this.localeService.getLocaleTextFunc(),e=t("page","Page"),n=t("to","to"),o=t("of","of"),r=t("firstPage","First Page"),i=t("previousPage","Previous Page"),s=t("nextPage","Next Page"),a=t("lastPage","Last Page"),l=this.getCompId();return'<div class="ag-paging-panel ag-unselectable" id="ag-'.concat(l,'">\n                <ag-page-size-selector ref="pageSizeComp"></ag-page-size-selector>\n                <span class="ag-paging-row-summary-panel" role="status">\n                    <span id="ag-').concat(l,'-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-').concat(l,'-to">').concat(n,'</span>\n                    <span id="ag-').concat(l,'-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-').concat(l,'-of">').concat(o,'</span>\n                    <span id="ag-').concat(l,'-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel" role="presentation">\n                    <div ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="').concat(r,'"></div>\n                    <div ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="').concat(i,'"></div>\n                    <span class="ag-paging-description" role="status">\n                        <span id="ag-').concat(l,'-start-page">').concat(e,'</span>\n                        <span id="ag-').concat(l,'-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>\n                        <span id="ag-').concat(l,'-of-page">').concat(o,'</span>\n                        <span id="ag-').concat(l,'-of-page-number" ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <div ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="').concat(s,'"></div>\n                    <div ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="').concat(a,'"></div>\n                </span>\n            </div>')},e.prototype.onBtNext=function(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()},e.prototype.onBtPrevious=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()},e.prototype.onBtLast=function(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()},e.prototype.enableOrDisableButtons=function(){var t=this.paginationProxy.getCurrentPage(),e=this.paginationProxy.isLastPageFound(),n=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=0===t,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);var o=this.isZeroPagesToDisplay(),r=t===n-1;this.nextButtonDisabled=r||o,this.lastButtonDisabled=!e||o||t===n-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)},e.prototype.toggleButtonDisabled=function(t,e){Xe(t,e),t.classList.toggle("ag-disabled",e)},e.prototype.updateRowLabels=function(){var t,e,n=this.paginationProxy.getCurrentPage(),o=this.paginationProxy.getPageSize(),r=this.paginationProxy.isLastPageFound(),i=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;if(this.isZeroPagesToDisplay()?t=e=0:(e=(t=o*n+1)+o-1,r&&e>i&&(e=i)),this.lbFirstRowOnPage.innerHTML=this.formatNumber(t),this.rowNodeBlockLoader.isLoading()){var s=this.localeService.getLocaleTextFunc();this.lbLastRowOnPage.innerHTML=s("pageLastRowUnknown","?")}else this.lbLastRowOnPage.innerHTML=this.formatNumber(e)},e.prototype.isZeroPagesToDisplay=function(){var t=this.paginationProxy.isLastPageFound(),e=this.paginationProxy.getTotalPages();return t&&0===e},e.prototype.setTotalLabels=function(){var t=this.paginationProxy.isLastPageFound(),e=this.paginationProxy.getTotalPages(),n=t?this.paginationProxy.getMasterRowCount():null;if(1===n){var o=this.paginationProxy.getRow(0);if(o&&o.group&&!(o.groupData||o.aggData))return void this.setTotalLabelsToZero()}if(t)this.lbTotal.innerHTML=this.formatNumber(e),this.lbRecordCount.innerHTML=this.formatNumber(n);else{var r=this.localeService.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=r,this.lbRecordCount.innerHTML=r}},e.prototype.setTotalLabelsToZero=function(){this.lbFirstRowOnPage.innerHTML=this.formatNumber(0),this.lbCurrent.innerHTML=this.formatNumber(0),this.lbLastRowOnPage.innerHTML=this.formatNumber(0),this.lbTotal.innerHTML=this.formatNumber(0),this.lbRecordCount.innerHTML=this.formatNumber(0)},Yg([nt("paginationProxy")],e.prototype,"paginationProxy",void 0),Yg([nt("rowNodeBlockLoader")],e.prototype,"rowNodeBlockLoader",void 0),Yg([Or("btFirst")],e.prototype,"btFirst",void 0),Yg([Or("btPrevious")],e.prototype,"btPrevious",void 0),Yg([Or("btNext")],e.prototype,"btNext",void 0),Yg([Or("btLast")],e.prototype,"btLast",void 0),Yg([Or("lbRecordCount")],e.prototype,"lbRecordCount",void 0),Yg([Or("lbFirstRowOnPage")],e.prototype,"lbFirstRowOnPage",void 0),Yg([Or("lbLastRowOnPage")],e.prototype,"lbLastRowOnPage",void 0),Yg([Or("lbCurrent")],e.prototype,"lbCurrent",void 0),Yg([Or("lbTotal")],e.prototype,"lbTotal",void 0),Yg([Or("pageSizeComp")],e.prototype,"pageSizeComp",void 0),Yg([J],e.prototype,"postConstruct",null),e}(Sr),Zg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),qg=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Qg=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.inProgress=!1,n.destroyRequested=!1,n}return Zg(e,t),e.prototype.updateLayoutClasses=function(t,e){var n=this.eOverlayWrapper.classList;n.toggle(hl.AUTO_HEIGHT,e.autoHeight),n.toggle(hl.NORMAL,e.normal),n.toggle(hl.PRINT,e.print)},e.prototype.postConstruct=function(){this.createManagedBean(new Ll(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.overlayService.registerOverlayWrapperComp(this)},e.prototype.setWrapperTypeClass=function(t){var e=this.eOverlayWrapper.classList;this.activeOverlayWrapperCssClass&&e.toggle(this.activeOverlayWrapperCssClass,!1),this.activeOverlayWrapperCssClass=t,e.toggle(t,!0)},e.prototype.showOverlay=function(t,e){var n=this;this.inProgress||(this.setWrapperTypeClass(e),this.destroyActiveOverlay(),this.inProgress=!0,t&&t.then((function(t){n.inProgress=!1,n.eOverlayWrapper.appendChild(t.getGui()),n.activeOverlay=t,n.destroyRequested&&(n.destroyRequested=!1,n.destroyActiveOverlay())})),this.setDisplayed(!0,{skipAriaHidden:!0}))},e.prototype.destroyActiveOverlay=function(){this.inProgress?this.destroyRequested=!0:this.activeOverlay&&(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),mo(this.eOverlayWrapper))},e.prototype.hideOverlay=function(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})},e.prototype.destroy=function(){this.destroyActiveOverlay(),t.prototype.destroy.call(this)},e.TEMPLATE='\n        <div class="ag-overlay" aria-hidden="true">\n            <div class="ag-overlay-panel">\n                <div class="ag-overlay-wrapper" ref="eOverlayWrapper"></div>\n            </div>\n        </div>',qg([nt("overlayService")],e.prototype,"overlayService",void 0),qg([Or("eOverlayWrapper")],e.prototype,"eOverlayWrapper",void 0),qg([J],e.prototype,"postConstruct",null),e}(Sr),Xg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),$g=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Jg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Xg(e,t),e.prototype.getFirstRow=function(){var t,e=0;return this.pinnedRowModel.getPinnedTopRowCount()?t="top":this.rowModel.getRowCount()?(t=null,e=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(t="bottom"),void 0===t?null:{rowIndex:e,rowPinned:t}},e.prototype.getLastRow=function(){var t,e=null,n=this.pinnedRowModel.getPinnedBottomRowCount(),o=this.pinnedRowModel.getPinnedTopRowCount();return n?(e="bottom",t=n-1):this.rowModel.getRowCount()?(e=null,t=this.paginationProxy.getPageLastRow()):o&&(e="top",t=o-1),void 0===t?null:{rowIndex:t,rowPinned:e}},e.prototype.getRowNode=function(t){switch(t.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}},e.prototype.sameRow=function(t,e){return!t&&!e||!(t&&!e||!t&&e)&&(t.rowIndex===e.rowIndex&&t.rowPinned==e.rowPinned)},e.prototype.before=function(t,e){switch(t.rowPinned){case"top":if("top"!==e.rowPinned)return!0;break;case"bottom":if("bottom"!==e.rowPinned)return!1;break;default:if(r(e.rowPinned))return"top"!==e.rowPinned}return t.rowIndex<e.rowIndex},e.prototype.rowMax=function(t){var e,n=this;return t.forEach((function(t){(void 0===e||n.before(e,t))&&(e=t)})),e},e.prototype.rowMin=function(t){var e,n=this;return t.forEach((function(t){(void 0===e||n.before(t,e))&&(e=t)})),e},$g([nt("rowModel")],e.prototype,"rowModel",void 0),$g([nt("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),$g([nt("paginationProxy")],e.prototype,"paginationProxy",void 0),e=$g([et("rowPositionUtils")],e)}(Ut),tv=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ev=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},nv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return tv(e,t),e.prototype.createId=function(t){var e=t.rowIndex,n=t.rowPinned,o=t.column;return this.createIdFromValues({rowIndex:e,column:o,rowPinned:n})},e.prototype.createIdFromValues=function(t){var e=t.rowIndex,n=t.rowPinned,o=t.column;return"".concat(e,".").concat(null==n?"null":n,".").concat(o.getId())},e.prototype.equals=function(t,e){var n=t.column===e.column,o=t.rowPinned===e.rowPinned,r=t.rowIndex===e.rowIndex;return n&&o&&r},e=ev([et("cellPositionUtils")],e)}(Ut),ov=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),rv=function(t){this.cellValueChanges=t},iv=function(t){function e(e,n,o,r){var i=t.call(this,e)||this;return i.initialRange=n,i.finalRange=o,i.ranges=r,i}return ov(e,t),e}(rv),sv=function(){function t(e){this.actionStack=[],this.maxStackSize=e||t.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}return t.prototype.pop=function(){return this.actionStack.pop()},t.prototype.push=function(t){t.cellValueChanges&&t.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(t))},t.prototype.clear=function(){this.actionStack=[]},t.prototype.getCurrentStackSize=function(){return this.actionStack.length},t.DEFAULT_STACK_SIZE=10,t}(),av=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),lv=function(){return lv=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},lv.apply(this,arguments)},uv=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},cv=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},dv=function(t,e,n){if(n||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},pv=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cellValueChanges=[],e.activeCellEdit=null,e.activeRowEdit=null,e.isPasting=!1,e.isRangeInAction=!1,e.onCellValueChanged=function(t){var n={column:t.column,rowIndex:t.rowIndex,rowPinned:t.rowPinned},o=null!==e.activeCellEdit&&e.cellPositionUtils.equals(e.activeCellEdit,n),r=null!==e.activeRowEdit&&e.rowPositionUtils.sameRow(e.activeRowEdit,n);if(o||r||e.isPasting||e.isRangeInAction){var i=t.rowPinned,s=t.rowIndex,a=t.column,l=t.oldValue,u=t.value,c={rowPinned:i,rowIndex:s,columnId:a.getColId(),newValue:u,oldValue:l};e.cellValueChanges.push(c)}},e.clearStacks=function(){e.undoStack.clear(),e.redoStack.clear()},e}return av(e,t),e.prototype.init=function(){var t=this;if(this.gridOptionsService.get("undoRedoCellEditing")){var e=this.gridOptionsService.get("undoRedoCellEditingLimit");e<=0||(this.undoStack=new sv(e),this.redoStack=new sv(e),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addCellKeyListeners(),this.addManagedListener(this.eventService,$t.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,$t.EVENT_MODEL_UPDATED,(function(e){e.keepUndoRedoStack||t.clearStacks()})),this.addManagedListener(this.eventService,$t.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,$t.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,$t.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,$t.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,$t.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,$t.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,$t.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,$t.EVENT_ROW_DRAG_END,this.clearStacks),this.ctrlsService.whenReady((function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl()})))}},e.prototype.getCurrentUndoStackSize=function(){return this.undoStack?this.undoStack.getCurrentStackSize():0},e.prototype.getCurrentRedoStackSize=function(){return this.redoStack?this.redoStack.getCurrentStackSize():0},e.prototype.undo=function(t){var e={type:$t.EVENT_UNDO_STARTED,source:t};this.eventService.dispatchEvent(e);var n=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo"),o={type:$t.EVENT_UNDO_ENDED,source:t,operationPerformed:n};this.eventService.dispatchEvent(o)},e.prototype.redo=function(t){var e={type:$t.EVENT_REDO_STARTED,source:t};this.eventService.dispatchEvent(e);var n=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo"),o={type:$t.EVENT_REDO_ENDED,source:t,operationPerformed:n};this.eventService.dispatchEvent(o)},e.prototype.undoRedo=function(t,e,n,o,r){if(!t)return!1;var i=t.pop();return!(!i||!i.cellValueChanges)&&(this.processAction(i,(function(t){return t[o]}),r),i instanceof iv?this.processRange(i.ranges||[i[n]]):this.processCell(i.cellValueChanges),e.push(i),!0)},e.prototype.processAction=function(t,e,n){var o=this;t.cellValueChanges.forEach((function(t){var r=t.rowIndex,i=t.rowPinned,s=t.columnId,a={rowIndex:r,rowPinned:i},l=o.getRowNode(a);l.displayed&&l.setDataValue(s,e(t),n)}))},e.prototype.processRange=function(t){var e,n=this;this.rangeService.removeAllCellRanges(!0),t.forEach((function(o,r){if(o){var i=o.startRow,s=o.endRow;r===t.length-1&&(e={rowPinned:i.rowPinned,rowIndex:i.rowIndex,columnId:o.startColumn.getColId()},n.setLastFocusedCell(e));var a={rowStartIndex:i.rowIndex,rowStartPinned:i.rowPinned,rowEndIndex:s.rowIndex,rowEndPinned:s.rowPinned,columnStart:o.startColumn,columns:o.columns};n.rangeService.addCellRange(a)}}))},e.prototype.processCell=function(t){var e=t[0],n={rowIndex:e.rowIndex,rowPinned:e.rowPinned},o=this.getRowNode(n),r={rowPinned:e.rowPinned,rowIndex:o.rowIndex,columnId:e.columnId};this.setLastFocusedCell(r,!!this.rangeService)},e.prototype.setLastFocusedCell=function(t,e){var n=t.rowIndex,o=t.columnId,r=t.rowPinned,i=this.gridBodyCtrl.getScrollFeature(),s=this.columnModel.getGridColumn(o);if(s){i.ensureIndexVisible(n),i.ensureColumnVisible(s);var a={rowIndex:n,column:s,rowPinned:r};this.focusService.setFocusedCell(lv(lv({},a),{forceBrowserFocus:!0})),e&&this.rangeService.setRangeToCell(a)}},e.prototype.addRowEditingListeners=function(){var t=this;this.addManagedListener(this.eventService,$t.EVENT_ROW_EDITING_STARTED,(function(e){t.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}})),this.addManagedListener(this.eventService,$t.EVENT_ROW_EDITING_STOPPED,(function(){var e=new rv(t.cellValueChanges);t.pushActionsToUndoStack(e),t.activeRowEdit=null}))},e.prototype.addCellEditingListeners=function(){var t=this;this.addManagedListener(this.eventService,$t.EVENT_CELL_EDITING_STARTED,(function(e){t.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}})),this.addManagedListener(this.eventService,$t.EVENT_CELL_EDITING_STOPPED,(function(e){if(t.activeCellEdit=null,e.valueChanged&&!t.activeRowEdit&&!t.isPasting&&!t.isRangeInAction){var n=new rv(t.cellValueChanges);t.pushActionsToUndoStack(n)}}))},e.prototype.addPasteListeners=function(){var t=this;this.addManagedListener(this.eventService,$t.EVENT_PASTE_START,(function(){t.isPasting=!0})),this.addManagedListener(this.eventService,$t.EVENT_PASTE_END,(function(){var e=new rv(t.cellValueChanges);t.pushActionsToUndoStack(e),t.isPasting=!1}))},e.prototype.addFillListeners=function(){var t=this;this.addManagedListener(this.eventService,$t.EVENT_FILL_START,(function(){t.isRangeInAction=!0})),this.addManagedListener(this.eventService,$t.EVENT_FILL_END,(function(e){var n=new iv(t.cellValueChanges,e.initialRange,e.finalRange);t.pushActionsToUndoStack(n),t.isRangeInAction=!1}))},e.prototype.addCellKeyListeners=function(){var t=this;this.addManagedListener(this.eventService,$t.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,(function(){t.isRangeInAction=!0})),this.addManagedListener(this.eventService,$t.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,(function(){var e;e=t.rangeService&&t.gridOptionsService.get("enableRangeSelection")?new iv(t.cellValueChanges,void 0,void 0,dv([],cv(t.rangeService.getCellRanges()),!1)):new rv(t.cellValueChanges),t.pushActionsToUndoStack(e),t.isRangeInAction=!1}))},e.prototype.pushActionsToUndoStack=function(t){this.undoStack.push(t),this.cellValueChanges=[],this.redoStack.clear()},e.prototype.getRowNode=function(t){switch(t.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}},uv([nt("focusService")],e.prototype,"focusService",void 0),uv([nt("ctrlsService")],e.prototype,"ctrlsService",void 0),uv([nt("rowModel")],e.prototype,"rowModel",void 0),uv([nt("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),uv([nt("cellPositionUtils")],e.prototype,"cellPositionUtils",void 0),uv([nt("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),uv([nt("columnModel")],e.prototype,"columnModel",void 0),uv([ot("rangeService")],e.prototype,"rangeService",void 0),uv([J],e.prototype,"init",null),e=uv([et("undoRedoService")],e)}(Ut),hv=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),fv=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},gv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return hv(e,t),e.prototype.findHeader=function(t,e){var n,o,r;if(t.column instanceof Xt?(o="getDisplayedGroup".concat(e),n=this.columnModel[o](t.column)):(r="getDisplayedCol".concat(e),n=this.columnModel[r](t.column)),n){var i=t.headerRowIndex;if(this.getHeaderRowType(i)===Pc.COLUMN_GROUP){var s=n;if(s.isPadding()&&this.isAnyChildSpanningHeaderHeight(s)){var a=this.getColumnVisibleChild(s,i,e),l=a.nextFocusColumn,u=a.nextRow;l&&(n=l,i=u)}}return{column:n,headerRowIndex:i}}},e.prototype.isAnyChildSpanningHeaderHeight=function(t){return!!t&&t.getLeafColumns().some((function(t){return t.isSpanHeaderHeight()}))},e.prototype.getColumnVisibleParent=function(t,e){var n=this.getHeaderRowType(e),o=n===Pc.FLOATING_FILTER,r=n===Pc.COLUMN,i=o?t:t.getParent(),s=e-1;if(r&&this.isAnyChildSpanningHeaderHeight(t.getParent())){for(;i&&i.isPadding();)i=i.getParent(),s--;s<0&&(i=t,s=e)}return{nextFocusColumn:i,nextRow:s}},e.prototype.getColumnVisibleChild=function(t,e,n){void 0===n&&(n="After");var o=t,r=e+1;if(this.getHeaderRowType(e)===Pc.COLUMN_GROUP){var i=t.getDisplayedLeafColumns(),s="After"===n?i[0]:Ct(i);if(this.isAnyChildSpanningHeaderHeight(s.getParent())){o=s;for(var a=s.getParent();a&&a!==t;)a=a.getParent(),r++}else o=t.getDisplayedChildren()[0]}return{nextFocusColumn:o,nextRow:r}},e.prototype.getHeaderRowType=function(t){var e=this.ctrlsService.getHeaderRowContainerCtrl();if(e)return e.getRowType(t)},e.prototype.findColAtEdgeForHeaderRow=function(t,e){var n=this.columnModel.getAllDisplayedColumns(),o=n["start"===e?0:n.length-1];if(o){var r=this.ctrlsService.getHeaderRowContainerCtrl(o.getPinned()).getRowType(t);return r==Pc.COLUMN_GROUP?{headerRowIndex:t,column:this.columnModel.getColumnGroupAtLevel(o,t)}:{headerRowIndex:null==r?-1:t,column:o}}},fv([nt("columnModel")],e.prototype,"columnModel",void 0),fv([nt("ctrlsService")],e.prototype,"ctrlsService",void 0),e=fv([et("headerPositionUtils")],e)}(Ut),vv=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},mv=function(){function t(){}return t.prototype.buildColumnDefs=function(t,e,n){var o=this,r=[],i={};return t.forEach((function(t){for(var s=!0,a=o.createDefFromColumn(t,e,n),l=t.getOriginalParent(),u=null;l;){var c=null;if(l.isPadding())l=l.getOriginalParent();else{var d=i[l.getGroupId()];if(d){d.children.push(a),s=!1;break}if((c=o.createDefFromGroup(l))&&(c.children=[a],i[c.groupId]=c,a=c,l=l.getOriginalParent()),null!=l&&u===l){s=!1;break}u=l}}s&&r.push(a)})),r},t.prototype.createDefFromGroup=function(t){var e=y(t.getColGroupDef(),["children"]);return e&&(e.groupId=t.getGroupId()),e},t.prototype.createDefFromColumn=function(t,e,n){var o=y(t.getColDef());return o.colId=t.getColId(),o.width=t.getActualWidth(),o.rowGroup=t.isRowGroupActive(),o.rowGroupIndex=t.isRowGroupActive()?e.indexOf(t):null,o.pivot=t.isPivotActive(),o.pivotIndex=t.isPivotActive()?n.indexOf(t):null,o.aggFunc=t.isValueActive()?t.getAggFunc():null,o.hide=!t.isVisible()||void 0,o.pinned=t.isPinned()?t.getPinned():null,o.sort=t.getSort()?t.getSort():null,o.sortIndex=null!=t.getSortIndex()?t.getSortIndex():null,o},t=vv([et("columnDefFactory")],t)}(),yv=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Cv=function(){function t(){}return t.prototype.getInitialRowClasses=function(t){var e=[];return r(t.extraCssClass)&&e.push(t.extraCssClass),e.push("ag-row"),e.push(t.rowFocused?"ag-row-focus":"ag-row-no-focus"),t.fadeRowIn&&e.push("ag-opacity-zero"),e.push(t.rowIsEven?"ag-row-even":"ag-row-odd"),t.rowNode.isRowPinned()&&e.push("ag-row-pinned"),t.rowNode.isSelected()&&e.push("ag-row-selected"),t.rowNode.footer&&e.push("ag-row-footer"),e.push("ag-row-level-"+t.rowLevel),t.rowNode.stub&&e.push("ag-row-loading"),t.fullWidthRow&&e.push("ag-full-width-row"),t.expandable&&(e.push("ag-row-group"),e.push(t.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),t.rowNode.dragging&&e.push("ag-row-dragging"),Pt(e,this.processClassesFromGridOptions(t.rowNode)),Pt(e,this.preProcessRowClassRules(t.rowNode)),e.push(t.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),t.firstRowOnPage&&e.push("ag-row-first"),t.lastRowOnPage&&e.push("ag-row-last"),t.fullWidthRow&&("left"===t.pinned&&e.push("ag-cell-last-left-pinned"),"right"===t.pinned&&e.push("ag-cell-first-right-pinned")),e},t.prototype.processClassesFromGridOptions=function(t){var e=[],n=function(t){"string"===typeof t?e.push(t):Array.isArray(t)&&t.forEach((function(t){return e.push(t)}))},o=this.gridOptionsService.get("rowClass");if(o){if("function"===typeof o)return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];n(o)}var r=this.gridOptionsService.getCallback("getRowClass");r&&n(r({data:t.data,node:t,rowIndex:t.rowIndex}));return e},t.prototype.preProcessRowClassRules=function(t){var e=[];return this.processRowClassRules(t,(function(t){e.push(t)}),(function(t){})),e},t.prototype.processRowClassRules=function(t,e,n){var o={data:t.data,node:t,rowIndex:t.rowIndex,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};this.stylingService.processClassRules(void 0,this.gridOptionsService.get("rowClassRules"),o,e,n)},t.prototype.calculateRowLevel=function(t){return t.group?t.level:t.parent?t.parent.level+1:0},yv([nt("stylingService")],t.prototype,"stylingService",void 0),yv([nt("gridOptionsService")],t.prototype,"gridOptionsService",void 0),t=yv([et("rowCssClassCalculator")],t)}(),wv=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),bv=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},_v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return wv(e,t),e.prototype.init=function(){var t=this;this.isAccentedSort=this.gridOptionsService.get("accentedSort"),this.primaryColumnsSortGroups=this.gridOptionsService.isColumnsSortingCoupledToGroup(),this.addManagedPropertyListener("accentedSort",(function(e){return t.isAccentedSort=e.currentValue})),this.addManagedPropertyListener("autoGroupColumnDef",(function(){return t.primaryColumnsSortGroups=t.gridOptionsService.isColumnsSortingCoupledToGroup()}))},e.prototype.doFullSort=function(t,e){var n=t.map((function(t,e){return{currentPos:e,rowNode:t}}));return n.sort(this.compareRowNodes.bind(this,e)),n.map((function(t){return t.rowNode}))},e.prototype.compareRowNodes=function(t,e,n){for(var o=e.rowNode,r=n.rowNode,i=0,s=t.length;i<s;i++){var a=t[i],l="desc"===a.sort,u=this.getValue(o,a.column),c=this.getValue(r,a.column),d=void 0,p=this.getComparator(a,o);if(d=p?p(u,c,o,r,l):ur.defaultComparator(u,c,this.isAccentedSort),!isNaN(d)&&0!==d)return"asc"===a.sort?d:-1*d}return e.currentPos-n.currentPos},e.prototype.getComparator=function(t,e){var n=t.column,o=n.getColDef().comparator;if(null!=o)return o;if(n.getColDef().showRowGroup){var r=!e.group&&n.getColDef().field;if(r){var i=this.columnModel.getPrimaryColumn(r);if(i)return i.getColDef().comparator}}},e.prototype.getValue=function(t,e){var n,o;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(e,t,!1,!1);if(t.rowGroupColumn===e){if(this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotActive())){var r=null===(n=t.allLeafChildren)||void 0===n?void 0:n[0];return r?this.valueService.getValue(e,r,!1,!1):void 0}var i=this.columnModel.getGroupDisplayColumnForGroup(e.getId());if(!i)return;return null===(o=t.groupData)||void 0===o?void 0:o[i.getId()]}return t.group&&e.getColDef().showRowGroup?void 0:this.valueService.getValue(e,t,!1,!1)},bv([nt("valueService")],e.prototype,"valueService",void 0),bv([nt("columnModel")],e.prototype,"columnModel",void 0),bv([J],e.prototype,"init",null),e=bv([et("rowNodeSorter")],e)}(Ut),Sv=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ev=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ov=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ready=!1,e.readyCallbacks=[],e}var n;return Sv(e,t),n=e,e.prototype.checkReady=function(){if(this.ready=null!=this.gridCtrl&&null!=this.gridBodyCtrl&&null!=this.centerRowContainerCtrl&&null!=this.leftRowContainerCtrl&&null!=this.rightRowContainerCtrl&&null!=this.bottomCenterRowContainerCtrl&&null!=this.bottomLeftRowContainerCtrl&&null!=this.bottomRightRowContainerCtrl&&null!=this.topCenterRowContainerCtrl&&null!=this.topLeftRowContainerCtrl&&null!=this.topRightRowContainerCtrl&&null!=this.stickyTopCenterRowContainerCtrl&&null!=this.stickyTopLeftRowContainerCtrl&&null!=this.stickyTopRightRowContainerCtrl&&null!=this.centerHeaderRowContainerCtrl&&null!=this.leftHeaderRowContainerCtrl&&null!=this.rightHeaderRowContainerCtrl&&null!=this.fakeHScrollComp&&null!=this.fakeVScrollComp&&null!=this.gridHeaderCtrl,this.ready){var t=this.createReadyParams();this.readyCallbacks.forEach((function(e){return e(t)})),this.readyCallbacks.length=0}},e.prototype.whenReady=function(t){this.ready?t(this.createReadyParams()):this.readyCallbacks.push(t)},e.prototype.createReadyParams=function(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,stickyTopCenterRowContainerCtrl:this.stickyTopCenterRowContainerCtrl,stickyTopLeftRowContainerCtrl:this.stickyTopLeftRowContainerCtrl,stickyTopRightRowContainerCtrl:this.stickyTopRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollComp:this.fakeHScrollComp,fakeVScrollComp:this.fakeVScrollComp,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}},e.prototype.registerFakeHScrollComp=function(t){this.fakeHScrollComp=t,this.checkReady()},e.prototype.registerFakeVScrollComp=function(t){this.fakeVScrollComp=t,this.checkReady()},e.prototype.registerGridHeaderCtrl=function(t){this.gridHeaderCtrl=t,this.checkReady()},e.prototype.registerCenterRowContainerCtrl=function(t){this.centerRowContainerCtrl=t,this.checkReady()},e.prototype.registerLeftRowContainerCtrl=function(t){this.leftRowContainerCtrl=t,this.checkReady()},e.prototype.registerRightRowContainerCtrl=function(t){this.rightRowContainerCtrl=t,this.checkReady()},e.prototype.registerTopCenterRowContainerCtrl=function(t){this.topCenterRowContainerCtrl=t,this.checkReady()},e.prototype.registerTopLeftRowContainerCon=function(t){this.topLeftRowContainerCtrl=t,this.checkReady()},e.prototype.registerTopRightRowContainerCtrl=function(t){this.topRightRowContainerCtrl=t,this.checkReady()},e.prototype.registerStickyTopCenterRowContainerCtrl=function(t){this.stickyTopCenterRowContainerCtrl=t,this.checkReady()},e.prototype.registerStickyTopLeftRowContainerCon=function(t){this.stickyTopLeftRowContainerCtrl=t,this.checkReady()},e.prototype.registerStickyTopRightRowContainerCtrl=function(t){this.stickyTopRightRowContainerCtrl=t,this.checkReady()},e.prototype.registerBottomCenterRowContainerCtrl=function(t){this.bottomCenterRowContainerCtrl=t,this.checkReady()},e.prototype.registerBottomLeftRowContainerCtrl=function(t){this.bottomLeftRowContainerCtrl=t,this.checkReady()},e.prototype.registerBottomRightRowContainerCtrl=function(t){this.bottomRightRowContainerCtrl=t,this.checkReady()},e.prototype.registerHeaderContainer=function(t,e){switch(e){case"left":this.leftHeaderRowContainerCtrl=t;break;case"right":this.rightHeaderRowContainerCtrl=t;break;default:this.centerHeaderRowContainerCtrl=t}this.checkReady()},e.prototype.registerGridBodyCtrl=function(t){this.gridBodyCtrl=t,this.checkReady()},e.prototype.registerGridCtrl=function(t){this.gridCtrl=t,this.checkReady()},e.prototype.getFakeHScrollComp=function(){return this.fakeHScrollComp},e.prototype.getFakeVScrollComp=function(){return this.fakeVScrollComp},e.prototype.getGridHeaderCtrl=function(){return this.gridHeaderCtrl},e.prototype.getGridCtrl=function(){return this.gridCtrl},e.prototype.getCenterRowContainerCtrl=function(){return this.centerRowContainerCtrl},e.prototype.getTopCenterRowContainerCtrl=function(){return this.topCenterRowContainerCtrl},e.prototype.getBottomCenterRowContainerCtrl=function(){return this.bottomCenterRowContainerCtrl},e.prototype.getStickyTopCenterRowContainerCtrl=function(){return this.stickyTopCenterRowContainerCtrl},e.prototype.getGridBodyCtrl=function(){return this.gridBodyCtrl},e.prototype.getHeaderRowContainerCtrls=function(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]},e.prototype.getHeaderRowContainerCtrl=function(t){switch(t){case"left":return this.leftHeaderRowContainerCtrl;case"right":return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}},e.NAME="ctrlsService",e=n=Ev([et(n.NAME)],e)}(Ut),xv=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Tv=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Rv=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.registry={},e}return xv(e,t),e.prototype.register=function(t){this.registry[t.controllerName]=t.controllerClass},e.prototype.getInstance=function(t){var e=this.registry[t];if(null!=e)return new e},e=Tv([et("ctrlsFactory")],e)}(Ut),Dv=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Pv=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Lv=function(t){function e(e,n){var o=t.call(this,e)||this;return o.direction=n,o.hideTimeout=null,o}return Dv(e,t),e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,$t.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",Dn()||Pn())},e.prototype.initialiseInvisibleScrollbar=function(){void 0===this.invisibleScrollbar&&(this.invisibleScrollbar=Gn(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))},e.prototype.addActiveListenerToggles=function(){var t=this,e=this.getGui();["mouseenter","mousedown","touchstart"].forEach((function(n){return t.addManagedListener(e,n,(function(){return t.addOrRemoveCssClass("ag-scrollbar-active",!0)}))})),["mouseleave","touchend"].forEach((function(n){return t.addManagedListener(e,n,(function(){return t.addOrRemoveCssClass("ag-scrollbar-active",!1)}))}))},e.prototype.onScrollVisibilityChanged=function(){var t=this;void 0===this.invisibleScrollbar&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame((function(){return t.setScrollVisible()}))},e.prototype.hideAndShowInvisibleScrollAsNeeded=function(){var t=this;this.addManagedListener(this.eventService,$t.EVENT_BODY_SCROLL,(function(e){e.direction===t.direction&&(null!==t.hideTimeout&&(window.clearTimeout(t.hideTimeout),t.hideTimeout=null),t.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))})),this.addManagedListener(this.eventService,$t.EVENT_BODY_SCROLL_END,(function(){t.hideTimeout=window.setTimeout((function(){t.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),t.hideTimeout=null}),400)}))},e.prototype.attemptSettingScrollPosition=function(t){var e=this,n=this.getViewport();B((function(){return Co(n)}),(function(){return e.setScrollPosition(t)}),100)},e.prototype.getViewport=function(){return this.eViewport},e.prototype.getContainer=function(){return this.eContainer},e.prototype.onScrollCallback=function(t){this.addManagedListener(this.getViewport(),"scroll",t)},Pv([Or("eViewport")],e.prototype,"eViewport",void 0),Pv([Or("eContainer")],e.prototype,"eContainer",void 0),Pv([nt("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),Pv([nt("ctrlsService")],e.prototype,"ctrlsService",void 0),Pv([nt("animationFrameService")],e.prototype,"animationFrameService",void 0),e}(Sr),Mv=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Av=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},kv=function(t){function e(){return t.call(this,e.TEMPLATE,"horizontal")||this}return Mv(e,t),e.prototype.postConstruct=function(){var e=this;t.prototype.postConstruct.call(this);var n=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,$t.EVENT_DISPLAYED_COLUMNS_CHANGED,n),this.addManagedListener(this.eventService,$t.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,n),this.addManagedListener(this.eventService,$t.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedPropertyListener("domLayout",n),this.ctrlsService.registerFakeHScrollComp(this),this.createManagedBean(new Xu((function(t){return e.eContainer.style.width="".concat(t,"px")}))),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))},e.prototype.initialiseInvisibleScrollbar=function(){void 0===this.invisibleScrollbar&&(this.enableRtl=this.gridOptionsService.get("enableRtl"),t.prototype.initialiseInvisibleScrollbar.call(this),this.invisibleScrollbar&&this.refreshCompBottom())},e.prototype.onPinnedRowDataChanged=function(){this.refreshCompBottom()},e.prototype.refreshCompBottom=function(){if(this.invisibleScrollbar){var t=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom="".concat(t,"px")}},e.prototype.onScrollVisibilityChanged=function(){t.prototype.onScrollVisibilityChanged.call(this),this.setFakeHScrollSpacerWidths()},e.prototype.setFakeHScrollSpacerWidths=function(){var t=this.scrollVisibleService.isVerticalScrollShowing(),e=this.columnModel.getDisplayedColumnsRightWidth(),n=!this.enableRtl&&t,o=this.gridOptionsService.getScrollbarWidth();n&&(e+=o),Po(this.eRightSpacer,e),this.eRightSpacer.classList.toggle("ag-scroller-corner",e<=o);var r=this.columnModel.getDisplayedColumnsLeftWidth();this.enableRtl&&t&&(r+=o),Po(this.eLeftSpacer,r),this.eLeftSpacer.classList.toggle("ag-scroller-corner",r<=o)},e.prototype.setScrollVisible=function(){var t=this.scrollVisibleService.isHorizontalScrollShowing(),e=this.invisibleScrollbar,n=this.gridOptionsService.get("suppressHorizontalScroll"),o=t&&this.gridOptionsService.getScrollbarWidth()||0,r=n?0:0===o&&e?16:o;this.addOrRemoveCssClass("ag-scrollbar-invisible",e),Lo(this.getGui(),r),Lo(this.eViewport,r),Lo(this.eContainer,r),this.setDisplayed(t,{skipAriaHidden:!0})},e.prototype.getScrollPosition=function(){return go(this.getViewport(),this.enableRtl)},e.prototype.setScrollPosition=function(t){Co(this.getViewport())||this.attemptSettingScrollPosition(t),vo(this.getViewport(),t,this.enableRtl)},e.TEMPLATE='<div class="ag-body-horizontal-scroll" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">\n                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>\n        </div>',Av([Or("eLeftSpacer")],e.prototype,"eLeftSpacer",void 0),Av([Or("eRightSpacer")],e.prototype,"eRightSpacer",void 0),Av([nt("columnModel")],e.prototype,"columnModel",void 0),Av([nt("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Av([J],e.prototype,"postConstruct",null),e}(Lv),Nv=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Fv=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Iv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Nv(e,t),e.prototype.postConstruct=function(){var t=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,$t.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,$t.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,t),this.addManagedPropertyListener("domLayout",t)},e.prototype.checkContainerWidths=function(){var t=this.gridOptionsService.isDomLayout("print"),e=t?0:this.columnModel.getDisplayedColumnsLeftWidth(),n=t?0:this.columnModel.getDisplayedColumnsRightWidth();e!=this.leftWidth&&(this.leftWidth=e,this.eventService.dispatchEvent({type:$t.EVENT_LEFT_PINNED_WIDTH_CHANGED})),n!=this.rightWidth&&(this.rightWidth=n,this.eventService.dispatchEvent({type:$t.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))},e.prototype.getPinnedRightWidth=function(){return this.rightWidth},e.prototype.getPinnedLeftWidth=function(){return this.leftWidth},Fv([nt("columnModel")],e.prototype,"columnModel",void 0),Fv([J],e.prototype,"postConstruct",null),e=Fv([et("pinnedWidthService")],e)}(Ut),Gv=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Hv=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Vv=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.events=[],e}return Gv(e,t),e.prototype.postConstruct=function(){"clientSide"==this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel)},e.prototype.dispatchExpanded=function(t){var e=this;if(null!=this.clientSideRowModel){this.events.push(t);null==this.dispatchExpandedDebounced&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce((function(){e.clientSideRowModel&&e.clientSideRowModel.onRowGroupOpened(),e.events.forEach((function(t){return e.eventService.dispatchEvent(t)})),e.events=[]}))),this.dispatchExpandedDebounced()}else this.eventService.dispatchEvent(t)},Hv([nt("animationFrameService")],e.prototype,"animationFrameService",void 0),Hv([nt("rowModel")],e.prototype,"rowModel",void 0),Hv([J],e.prototype,"postConstruct",null),e=Hv([et("rowNodeEventThrottle")],e)}(Ut),jv=function(t,e){var n;return"clientSide"===(null!==(n=e.rowModelType)&&void 0!==n?n:"clientSide")?{module:z.RowGroupingModule}:null},Bv={enableRowGroup:jv,rowGroup:jv,rowGroupIndex:jv,enablePivot:jv,enableValue:jv,pivot:jv,pivotIndex:jv,aggFunc:jv,cellEditor:function(t){return"agRichSelect"===t.cellEditor||"agRichSelectCellEditor"===t.cellEditor?{module:z.RichSelectModule}:null},menuTabs:function(t){var e,n=["columnsMenuTab","generalMenuTab"];return(null===(e=t.menuTabs)||void 0===e?void 0:e.some((function(t){return n.includes(t)})))?{module:z.MenuModule}:null},columnsMenuParams:{module:[z.MenuModule,z.ColumnsToolPanelModule]},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],dependencies:function(t,e){return"multiple"===e.rowSelection?null:"headerCheckboxSelection is only supported with rowSelection=multiple"}},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],dependencies:function(t,e){return"multiple"===e.rowSelection?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"}},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],dependencies:function(t,e){return"multiple"===e.rowSelection?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"}},children:function(){return Wv}},Wv={objectName:"colDef",allProperties:el.ALL_PROPERTIES,docsUrl:"column-properties/",deprecations:{},validations:Bv},zv=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},Uv=function(t,e,n){if(n||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},Yv={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!1,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"\t",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,suppressChartToolPanelsButton:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressAsyncEvents:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,enableCellChangeFlash:!1,cellFlashDelay:500,cellFadeDelay:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupIncludeTotalFooter:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,suppressServerSideInfiniteScroll:!1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSideSortOnServer:!1,serverSideFilterOnServer:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,suppressGroupMaintainValueType:!1,functionsPassive:!1,groupLockGroupColumns:0},Kv={sideBar:{module:z.SideBarModule},statusBar:{module:z.StatusBarModule},enableCharts:{module:z.GridChartsModule},getMainMenuItems:{module:z.MenuModule},getContextMenuItems:{module:z.MenuModule},allowContextMenuWithControlKey:{module:z.MenuModule},enableAdvancedFilter:{module:z.AdvancedFilterModule},treeData:{supportedRowModels:["clientSide","serverSide"],module:z.RowGroupingModule,dependencies:function(t){var e,n=null!==(e=t.rowModelType)&&void 0!==e?e:"clientSide";switch(n){case"clientSide":var o="treeData requires 'getDataPath' in the ".concat(n," row model.");return t.getDataPath?null:o;case"serverSide":var r="treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ".concat(n," row model.");return t.isServerSideGroup&&t.getServerSideGroupKey?null:r}return null}},masterDetail:{module:z.MasterDetailModule},enableRangeSelection:{module:z.RangeSelectionModule},enableRangeHandle:{dependencies:{enableRangeSelection:[!0]}},enableFillHandle:{dependencies:{enableRangeSelection:[!0]}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupIncludeFooter:{supportedRowModels:["clientSide","serverSide"],dependencies:function(t){var e;switch(null!==(e=t.rowModelType)&&void 0!==e?e:"clientSide"){case"clientSide":return null;case"serverSide":return t.suppressServerSideInfiniteScroll?"groupIncludeFooter is not supported alongside suppressServerSideInfiniteScroll":null}return null}},groupIncludeTotalFooter:{supportedRowModels:["clientSide"]},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveLowestSingleChildren:[void 0,!1]}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveSingleChildren:[void 0,!1]}},groupSelectsChildren:{dependencies:{rowSelection:["multiple"]}},suppressParentsInRowNodes:{dependencies:{groupSelectsChildren:[void 0,!1]}},viewportDatasource:{supportedRowModels:["viewport"],module:z.ViewportRowModelModule},serverSideDatasource:{supportedRowModels:["serverSide"],module:z.ServerSideRowModelModule},cacheBlockSize:{supportedRowModels:["serverSide","infinite"]},datasource:{supportedRowModels:["infinite"],module:z.InfiniteRowModelModule},rowData:{supportedRowModels:["clientSide"],module:z.ClientSideRowModelModule},columnDefs:function(){return Wv},defaultColDef:function(){return Wv},defaultColGroupDef:function(){return Wv},autoGroupColumnDef:function(){return Wv}},Zv={objectName:"gridOptions",allProperties:Uv(Uv([],zv(De.ALL_PROPERTIES),!1),zv(Ae.EVENT_CALLBACKS),!1),propertyExceptions:["api","columnApi"],docsUrl:"grid-options/",deprecations:{enableChartToolPanelsButton:{version:"29",message:"The Chart Tool Panels button is now enabled by default. To hide the Chart Tool Panels button and display the hamburger button instead, set suppressChartToolPanelsButton=true."},functionsPassive:{version:"29.2"},onColumnRowGroupChangeRequest:{version:"29.2"},onColumnPivotChangeRequest:{version:"29.2"},onColumnValueChangeRequest:{version:"29.2"},onColumnAggFuncChangeRequest:{version:"29.2"},serverSideFilterAllLevels:{version:"30",message:"All server-side group levels are now filtered by default. This can be toggled using `serverSideOnlyRefreshFilteredGroups`."},suppressAggAtRootLevel:{version:"30",message:"The root level aggregation is now suppressed by default. This can be toggled using  `alwaysAggregateAtRootLevel`."},excludeHiddenColumnsFromQuickFilter:{version:"30",message:"Hidden columns are now excluded from the Quick Filter by default. This can be toggled using `includeHiddenColumnsInQuickFilter`."},enterMovesDown:{version:"30",renamed:"enterNavigatesVertically"},enterMovesDownAfterEdit:{version:"30",renamed:"enterNavigatesVerticallyAfterEdit"},suppressParentsInRowNodes:{version:"30.2",message:"Using suppressParentsInRowNodes is no longer recommended. To serialize nodes it is now recommended to instead remove the parent node reference before serialization."},advancedFilterModel:{version:"31",message:"Use `initialState.filter.advancedFilterModel` instead."},suppressAsyncEvents:{version:"31",message:"Events should be handled asynchronously."}},validations:Kv},qv=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Qv=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},Xv=function(t,e,n){if(n||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},$v=function(){function t(){var t=this;this.destroyed=!1,this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new ut,this.globalEventHandlerFactory=function(n){return function(o,r){if(!t.destroyed){var i=e.alwaysSyncGlobalEvents.has(o);if(!(i&&!n||!i&&n)){var s=Ae.getCallbackForEvent(o);"function"===typeof t.gridOptions[s]&&t.gridOptions[s](r)}}}}}var e;return e=t,Object.defineProperty(t.prototype,"context",{get:function(){return this.gridOptions.context},enumerable:!1,configurable:!0}),t.prototype.init=function(){this.columnApi=new Af(this.api);var t=!this.get("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),t),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.getScrollbarWidth()},t.prototype.destroy=function(){this.destroyed=!0,this.columnApi=void 0},t.prototype.get=function(t){var e;return null!==(e=this.gridOptions[t])&&void 0!==e?e:Yv[t]},t.prototype.getCallback=function(t){return this.mergeGridCommonParams(this.gridOptions[t])},t.prototype.exists=function(t){return r(this.gridOptions[t])},t.prototype.mergeGridCommonParams=function(t){var e=this;if(t){return function(n){var o=n;return o.api=e.api,o.columnApi=e.columnApi,o.context=e.context,t(o)}}return t},t.toBoolean=function(t){return"boolean"===typeof t?t:"string"===typeof t&&("TRUE"===t.toUpperCase()||""==t)},t.toNumber=function(t){if("number"===typeof t)return t;if("string"===typeof t){var e=parseInt(t);if(isNaN(e))return;return e}},t.toConstrainedNum=function(t,n){return function(o){var r=e.toNumber(o);if(!(null==r||r<t||r>n))return r}},t.getCoercedValue=function(t,n){var o=e.PROPERTY_COERCIONS.get(t);return o?o(n):n},t.getCoercedGridOptions=function(t){var n={};return Object.entries(t).forEach((function(t){var o=Qv(t,2),r=o[0],i=o[1],s=e.getCoercedValue(r,i);n[r]=s})),n},t.prototype.updateGridOptions=function(t){var n=this,o=t.options,r=t.source,i=void 0===r?"api":r,s={id:e.changeSetId++,properties:[]},a=[];Object.entries(o).forEach((function(t){var o=Qv(t,2),r=o[0],l=o[1];"api"===i&&Re[r]&&L("".concat(r," is an initial property and cannot be updated."));var u=e.getCoercedValue(r,l),c="object"===typeof u&&"api"===i,d=n.gridOptions[r];if(c||d!==u){n.gridOptions[r]=u;var p={type:r,currentValue:u,previousValue:d,changeSet:s,source:i};a.push(p)}})),this.validationService.processGridOptions(this.gridOptions),s.properties=a.map((function(t){return t.type})),a.forEach((function(t){n.gridOptions.debug&&console.log("AG Grid: Updated property ".concat(t.type," from ").concat(String(t.previousValue)," to ").concat(String(t.currentValue),".")),n.propertyEventService.dispatchEvent(t)}))},t.prototype.addEventListener=function(t,e){this.propertyEventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.propertyEventService.removeEventListener(t,e)},t.prototype.getGridId=function(){return this.api.getGridId()},t.prototype.getScrollbarWidth=function(){if(null==this.scrollbarWidth){var t="number"===typeof this.gridOptions.scrollbarWidth&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:Fn();null!=t&&(this.scrollbarWidth=t,this.eventService.dispatchEvent({type:$t.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth},t.prototype.isRowModelType=function(t){return this.gridOptions.rowModelType===t||"clientSide"===t&&i(this.gridOptions.rowModelType)},t.prototype.isDomLayout=function(t){var e;return(null!==(e=this.gridOptions.domLayout)&&void 0!==e?e:"normal")===t},t.prototype.isRowSelection=function(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection},t.prototype.useAsyncEvents=function(){return!this.get("suppressAsyncEvents")},t.prototype.isGetRowHeightFunction=function(){return"function"===typeof this.gridOptions.getRowHeight},t.prototype.getRowHeightForNode=function(t,e,n){if(void 0===e&&(e=!1),null==n&&(n=this.environment.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(e)return{height:n,estimated:!0};var o={node:t,data:t.data},r=this.getCallback("getRowHeight")(o);if(this.isNumeric(r))return 0===r&&L("The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),{height:Math.max(1,r),estimated:!1}}return t.detail&&this.get("masterDetail")?this.getMasterDetailRowHeight():{height:this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:n,estimated:!1}},t.prototype.getMasterDetailRowHeight=function(){return this.get("detailRowAutoHeight")?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}},t.prototype.getRowHeightAsNumber=function(){if(!this.gridOptions.rowHeight||i(this.gridOptions.rowHeight))return this.environment.getDefaultRowHeight();var t=this.environment.refreshRowHeightVariable();return-1!==t?t:(console.warn("AG Grid row height must be a number if not using standard row model"),this.environment.getDefaultRowHeight())},t.prototype.isNumeric=function(t){return!isNaN(t)&&"number"===typeof t&&isFinite(t)},t.prototype.getDomDataKey=function(){return this.domDataKey},t.prototype.getDomData=function(t,e){var n=t[this.getDomDataKey()];return n?n[e]:void 0},t.prototype.setDomData=function(t,e,n){var o=this.getDomDataKey(),r=t[o];i(r)&&(r={},t[o]=r),r[e]=n},t.prototype.getDocument=function(){var t=null;return this.gridOptions.getDocument&&r(this.gridOptions.getDocument)?t=this.gridOptions.getDocument():this.eGridDiv&&(t=this.eGridDiv.ownerDocument),t&&r(t)?t:document},t.prototype.getWindow=function(){return this.getDocument().defaultView||window},t.prototype.getRootNode=function(){return this.eGridDiv.getRootNode()},t.prototype.getAsyncTransactionWaitMillis=function(){return r(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:50},t.prototype.isAnimateRows=function(){return!this.get("ensureDomOrder")&&this.get("animateRows")},t.prototype.isGroupRowsSticky=function(){return!(this.get("suppressGroupRowsSticky")||this.get("paginateChildRows")||this.get("groupHideOpenParents"))},t.prototype.isColumnsSortingCoupledToGroup=function(){var t=this.gridOptions.autoGroupColumnDef;return!(null===t||void 0===t?void 0:t.comparator)&&!this.get("treeData")},t.prototype.getGroupAggFiltering=function(){var t=this.gridOptions.groupAggFiltering;return"function"===typeof t?this.getCallback("groupAggFiltering"):!0===t?function(){return!0}:void 0},t.prototype.isGroupIncludeFooterTrueOrCallback=function(){var t=this.gridOptions.groupIncludeFooter;return!0===t||"function"===typeof t},t.prototype.getGroupIncludeFooter=function(){var t=this.gridOptions.groupIncludeFooter;return"function"===typeof t?this.getCallback("groupIncludeFooter"):!0===t?function(){return!0}:function(){return!1}},t.prototype.isGroupMultiAutoColumn=function(){return this.gridOptions.groupDisplayType?"multipleColumns"===this.gridOptions.groupDisplayType:this.get("groupHideOpenParents")},t.prototype.isGroupUseEntireRow=function(t){return!t&&"groupRows"===this.gridOptions.groupDisplayType},t.alwaysSyncGlobalEvents=new Set([$t.EVENT_GRID_PRE_DESTROYED]),t.PROPERTY_COERCIONS=new Map(Xv(Xv(Xv([],Qv(De.BOOLEAN_PROPERTIES.map((function(t){return[t,e.toBoolean]}))),!1),Qv(De.NUMBER_PROPERTIES.map((function(t){return[t,e.toNumber]}))),!1),[["groupAggFiltering",function(t){return"function"===typeof t?t:e.toBoolean(t)}],["pageSize",e.toConstrainedNum(1,Number.MAX_VALUE)],["autoSizePadding",e.toConstrainedNum(0,Number.MAX_VALUE)],["keepDetailRowsCount",e.toConstrainedNum(1,Number.MAX_VALUE)],["rowBuffer",e.toConstrainedNum(0,Number.MAX_VALUE)],["infiniteInitialRowCount",e.toConstrainedNum(1,Number.MAX_VALUE)],["cacheOverflowSize",e.toConstrainedNum(1,Number.MAX_VALUE)],["cacheBlockSize",e.toConstrainedNum(1,Number.MAX_VALUE)],["serverSideInitialRowCount",e.toConstrainedNum(1,Number.MAX_VALUE)],["viewportRowModelPageSize",e.toConstrainedNum(1,Number.MAX_VALUE)],["viewportRowModelBufferSize",e.toConstrainedNum(0,Number.MAX_VALUE)]],!1)),t.changeSetId=0,qv([nt("gridOptions")],t.prototype,"gridOptions",void 0),qv([nt("eventService")],t.prototype,"eventService",void 0),qv([nt("environment")],t.prototype,"environment",void 0),qv([nt("eGridDiv")],t.prototype,"eGridDiv",void 0),qv([nt("validationService")],t.prototype,"validationService",void 0),qv([nt("gridApi")],t.prototype,"api",void 0),qv([J],t.prototype,"init",null),qv([tt],t.prototype,"destroy",null),t=e=qv([et("gridOptionsService")],t)}(),Jv=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),tm=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},em=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Jv(e,t),e.prototype.getLocaleTextFunc=function(){var t=this.gridOptionsService.getCallback("getLocaleText");if(t)return function(e,n,o){return t({key:e,defaultValue:n,variableValues:o})};var e=this.gridOptionsService.get("localeText");return function(t,n,o){var r=e&&e[t];if(r&&o&&o.length)for(var i=0;!(i>=o.length);){if(-1===r.indexOf("${variable}"))break;r=r.replace("${variable}",o[i++])}return null!==r&&void 0!==r?r:n}},e=tm([et("localeService")],e)}(Ut),nm=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),om=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},rm=function(t){function e(){return t.call(this,e.TEMPLATE,"vertical")||this}return nm(e,t),e.prototype.postConstruct=function(){t.prototype.postConstruct.call(this),this.createManagedBean(new Uu(this.eContainer)),this.ctrlsService.registerFakeVScrollComp(this),this.addManagedListener(this.eventService,$t.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onRowContainerHeightChanged.bind(this))},e.prototype.setScrollVisible=function(){var t=this.scrollVisibleService.isVerticalScrollShowing(),e=this.invisibleScrollbar,n=t&&this.gridOptionsService.getScrollbarWidth()||0,o=0===n&&e?16:n;this.addOrRemoveCssClass("ag-scrollbar-invisible",e),Po(this.getGui(),o),Po(this.eViewport,o),Po(this.eContainer,o),this.setDisplayed(t,{skipAriaHidden:!0})},e.prototype.onRowContainerHeightChanged=function(){var t=this.ctrlsService.getGridBodyCtrl().getBodyViewportElement();this.eViewport.scrollTop!=t.scrollTop&&(this.eViewport.scrollTop=t.scrollTop)},e.prototype.getScrollPosition=function(){return this.getViewport().scrollTop},e.prototype.setScrollPosition=function(t){Co(this.getViewport())||this.attemptSettingScrollPosition(t),this.getViewport().scrollTop=t},e.TEMPLATE='<div class="ag-body-vertical-scroll" aria-hidden="true">\n            <div class="ag-body-vertical-scroll-viewport" ref="eViewport">\n                <div class="ag-body-vertical-scroll-container" ref="eContainer"></div>\n            </div>\n        </div>',om([J],e.prototype,"postConstruct",null),e}(Lv),im=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),sm=function(){return sm=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},sm.apply(this,arguments)},am=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},lm=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},um=function(t,e,n){if(n||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},cm={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},dm=["january","february","march","april","may","june","july","august","september","october","november","december"],pm=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dataTypeDefinitions={},e.isWaitingForRowData=!1,e.isColumnTypeOverrideInDataTypeDefinitions=!1,e.columnStateUpdatesPendingInference={},e.columnStateUpdateListenerDestroyFuncs=[],e}return im(e,t),e.prototype.init=function(){var t=this;this.groupHideOpenParents=this.gridOptionsService.get("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",(function(){t.groupHideOpenParents=t.gridOptionsService.get("groupHideOpenParents")})),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",(function(){t.processDataTypeDefinitions(),t.columnModel.recreateColumnDefs("gridOptionsChanged")}))},e.prototype.processDataTypeDefinitions=function(){var t,e=this,n=this.getDefaultDataTypes();this.dataTypeDefinitions={},Object.entries(n).forEach((function(t){var n=lm(t,2),o=n[0],r=n[1];e.dataTypeDefinitions[o]=sm(sm({},r),{groupSafeValueFormatter:e.createGroupSafeValueFormatter(r)})}));var o=null!==(t=this.gridOptionsService.get("dataTypeDefinitions"))&&void 0!==t?t:{};this.dataTypeMatchers={},Object.entries(o).forEach((function(t){var r=lm(t,2),i=r[0],s=r[1],a=e.processDataTypeDefinition(s,o,[i],n);a&&(e.dataTypeDefinitions[i]=a,s.dataTypeMatcher&&(e.dataTypeMatchers[i]=s.dataTypeMatcher))})),this.checkObjectValueHandlers(n),["dateString","text","number","boolean","date"].forEach((function(t){var o=e.dataTypeMatchers[t];o&&delete e.dataTypeMatchers[t],e.dataTypeMatchers[t]=null!==o&&void 0!==o?o:n[t].dataTypeMatcher}))},e.prototype.mergeDataTypeDefinitions=function(t,e){var n=sm(sm({},t),e);return t.columnTypes&&e.columnTypes&&e.appendColumnTypes&&(n.columnTypes=um(um([],lm(this.convertColumnTypes(t.columnTypes)),!1),lm(this.convertColumnTypes(e.columnTypes)),!1)),n},e.prototype.processDataTypeDefinition=function(t,e,n,o){var r,i=t.extendsDataType;if(t.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),t.extendsDataType===t.baseDataType){var s=o[i],a=e[i];if(s&&a&&(s=a),!this.validateDataTypeDefinition(t,s,i))return;r=this.mergeDataTypeDefinitions(s,t)}else{if(n.includes(i))return void L('Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.');var l=e[i];if(!this.validateDataTypeDefinition(t,l,i))return;var u=this.processDataTypeDefinition(l,e,um(um([],lm(n),!1),[i],!1),o);if(!u)return;r=this.mergeDataTypeDefinitions(u,t)}return sm(sm({},r),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(r)})},e.prototype.validateDataTypeDefinition=function(t,e,n){return e?e.baseDataType===t.baseDataType||(L('The "baseDataType" property of a data type definition must match that of its parent.'),!1):(L("The data type definition ".concat(n," does not exist.")),!1)},e.prototype.createGroupSafeValueFormatter=function(t){var e=this;if(t.valueFormatter)return function(n){var o,r;if(null===(o=n.node)||void 0===o?void 0:o.group){var i=n.column.getAggFunc();if(i){if("first"===i||"last"===i)return t.valueFormatter(n);if("number"===t.baseDataType&&"count"!==i){if("number"===typeof n.value)return t.valueFormatter(n);if("object"===typeof n.value){if(!n.value)return;if("toNumber"in n.value)return t.valueFormatter(sm(sm({},n),{value:n.value.toNumber()}));if("value"in n.value)return t.valueFormatter(sm(sm({},n),{value:n.value.value}))}}}if(!e.gridOptionsService.get("suppressGroupMaintainValueType"))return}else if(e.groupHideOpenParents&&n.column.isRowGroupActive()){if("string"!==typeof n.value||(null===(r=t.dataTypeMatcher)||void 0===r?void 0:r.call(t,n.value)))return t.valueFormatter(n);if(!e.gridOptionsService.get("suppressGroupMaintainValueType"))return}return t.valueFormatter(n)}},e.prototype.updateColDefAndGetDataTypeDefinitionColumnType=function(t,e,n){var o=e.cellDataType,r=e.field;if(void 0===o&&(o=t.cellDataType),null!=o&&!0!==o||(o=!!this.canInferCellDataType(t,e)&&this.inferCellDataType(r,n)),o){var i=this.dataTypeDefinitions[o];if(i)return t.cellDataType=o,i.groupSafeValueFormatter&&(t.valueFormatter=i.groupSafeValueFormatter),i.valueParser&&(t.valueParser=i.valueParser),i.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(t,i,n),i.columnTypes;L('Missing data type definition - "'.concat(o,'"'))}else t.cellDataType=!1},e.prototype.updateColDefAndGetColumnType=function(t,e,n){var o,r,i=this.updateColDefAndGetDataTypeDefinitionColumnType(t,e,n),s=null!==(r=null!==(o=e.type)&&void 0!==o?o:i)&&void 0!==r?r:t.type;return t.type=s,s?this.convertColumnTypes(s):void 0},e.prototype.addColumnListeners=function(t){if(this.isWaitingForRowData){var e=this.columnStateUpdatesPendingInference[t.getColId()];if(e){var n=function(t){e.add(t.key)};t.addEventListener(ft.EVENT_STATE_UPDATED,n),this.columnStateUpdateListenerDestroyFuncs.push((function(){return t.removeEventListener(ft.EVENT_STATE_UPDATED,n)}))}}},e.prototype.canInferCellDataType=function(t,e){var n,o=this;if("clientSide"!==this.rowModel.getType())return!1;var r={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(e,r))return!1;var i=null===e.type?t.type:e.type;if(i){var s=null!==(n=this.gridOptionsService.get("columnTypes"))&&void 0!==n?n:{};if(this.convertColumnTypes(i).some((function(t){var e=s[t.trim()];return e&&o.doColDefPropsPreventInference(e,r)})))return!1}return!this.doColDefPropsPreventInference(t,r)},e.prototype.doColDefPropsPreventInference=function(t,e){var n=this;return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some((function(o){var r=lm(o,2),i=r[0],s=r[1];return n.doesColDefPropPreventInference(t,e,i,s)}))},e.prototype.doesColDefPropPreventInference=function(t,e,n,o){if(!e[n])return!1;var r=t[n];return null===r?(e[n]=!1,!1):void 0===o?!!r:r===o},e.prototype.inferCellDataType=function(t,e){var n;if(t){var o,r=this.getInitialData();if(r){var i=t.indexOf(".")>=0&&!this.gridOptionsService.get("suppressFieldDotNotation");o=O(r,t,i)}else this.initWaitForRowData(e);if(null!=o)return lm(null!==(n=Object.entries(this.dataTypeMatchers).find((function(t){var e=lm(t,2);return e[0],(0,e[1])(o)})))&&void 0!==n?n:["object"],1)[0]}},e.prototype.getInitialData=function(){var t=this.gridOptionsService.get("rowData");if(null===t||void 0===t?void 0:t.length)return t[0];if(this.initialData)return this.initialData;var e=this.rowModel.getRootNode().allLeafChildren;return(null===e||void 0===e?void 0:e.length)?e[0].data:null},e.prototype.initWaitForRowData=function(t){var e=this;if(this.columnStateUpdatesPendingInference[t]=new Set,!this.isWaitingForRowData){this.isWaitingForRowData=!0;var n=this.isColumnTypeOverrideInDataTypeDefinitions;n&&this.columnModel.queueResizeOperations();var o=this.addManagedListener(this.eventService,$t.EVENT_ROW_DATA_UPDATE_STARTED,(function(t){var r=t.firstRowData;if(r){null===o||void 0===o||o(),e.isWaitingForRowData=!1,e.processColumnsPendingInference(r,n),e.columnStateUpdatesPendingInference={},n&&e.columnModel.processResizeOperations();var i={type:$t.EVENT_DATA_TYPES_INFERRED};e.eventService.dispatchEvent(i)}}))}},e.prototype.isPendingInference=function(){return this.isWaitingForRowData},e.prototype.processColumnsPendingInference=function(t,e){var n=this;this.initialData=t;var o=[];this.columnStateUpdateListenerDestroyFuncs.forEach((function(t){return t()})),this.columnStateUpdateListenerDestroyFuncs=[];var r={},i={};Object.entries(this.columnStateUpdatesPendingInference).forEach((function(t){var s=lm(t,2),a=s[0],l=s[1],u=n.columnModel.getGridColumn(a);if(u){var c=u.getColDef();if(n.columnModel.resetColumnDefIntoColumn(u,"cellDataTypeInferred")){var d=u.getColDef();if(e&&d.type&&d.type!==c.type){var p=n.getUpdatedColumnState(u,l);p.rowGroup&&null==p.rowGroupIndex&&(r[a]=p),p.pivot&&null==p.pivotIndex&&(i[a]=p),o.push(p)}}}})),e&&o.push.apply(o,um([],lm(this.columnModel.generateColumnStateForRowGroupAndPivotIndexes(r,i)),!1)),o.length&&this.columnModel.applyColumnState({state:o},"cellDataTypeInferred"),this.initialData=null},e.prototype.getUpdatedColumnState=function(t,e){var n=this.columnModel.getColumnStateFromColDef(t);return e.forEach((function(t){delete n[t],"rowGroup"===t?delete n.rowGroupIndex:"pivot"===t&&delete n.pivotIndex})),n},e.prototype.checkObjectValueHandlers=function(t){var e=this.dataTypeDefinitions.object,n=t.object;this.hasObjectValueParser=e.valueParser!==n.valueParser,this.hasObjectValueFormatter=e.valueFormatter!==n.valueFormatter},e.prototype.convertColumnTypes=function(t){var e=[];t instanceof Array?t.some((function(t){return"string"!==typeof t}))?console.warn("if colDef.type is supplied an array it should be of type 'string[]'"):e=t:"string"===typeof t?e=t.split(","):console.warn("colDef.type should be of type 'string' | 'string[]'");return e},e.prototype.getDateStringTypeDefinition=function(){return this.dataTypeDefinitions.dateString},e.prototype.getDateParserFunction=function(){return this.getDateStringTypeDefinition().dateParser},e.prototype.getDateFormatterFunction=function(){return this.getDateStringTypeDefinition().dateFormatter},e.prototype.getDataTypeDefinition=function(t){var e=t.getColDef();if(e.cellDataType)return this.dataTypeDefinitions[e.cellDataType]},e.prototype.getBaseDataType=function(t){var e;return null===(e=this.getDataTypeDefinition(t))||void 0===e?void 0:e.baseDataType},e.prototype.checkType=function(t,e){var n;if(null==e)return!0;var o=null===(n=this.getDataTypeDefinition(t))||void 0===n?void 0:n.dataTypeMatcher;return!o||o(e)},e.prototype.validateColDef=function(t){"object"===t.cellDataType&&(t.valueFormatter!==this.dataTypeDefinitions.object.groupSafeValueFormatter||this.hasObjectValueFormatter||L('Cell data type is "object" but no value formatter has been provided. Please either provide an object data type definition with a value formatter, or set "colDef.valueFormatter"'),t.editable&&t.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&L('Cell data type is "object" but no value parser has been provided. Please either provide an object data type definition with a value parser, or set "colDef.valueParser"'))},e.prototype.setColDefPropertiesForBaseDataType=function(t,e,n){var o=this,i=function(t,n,r){var i=t.getColDef().valueFormatter;return i===e.groupSafeValueFormatter&&(i=e.valueFormatter),o.valueFormatterService.formatValue(t,n,r,i)},s=Z.__isRegistered(z.SetFilterModule,this.context.getGridId()),a=this.localeService.getLocaleTextFunc(),l=function(e){var n=t.filterParams;t.filterParams="object"===typeof n?sm(sm({},n),e):e};switch(e.baseDataType){case"number":t.cellEditor="agNumberCellEditor",s&&l({comparator:function(t,e){var n=null==t?0:parseInt(t),o=null==e?0:parseInt(e);return n===o?0:n>o?1:-1}});break;case"boolean":t.cellEditor="agCheckboxCellEditor",t.cellRenderer="agCheckboxCellRenderer",t.suppressKeyboardEvent=function(t){return!!t.colDef.editable&&t.event.key===qo.SPACE},l(s?{valueFormatter:function(t){return r(t.value)?a(String(t.value),t.value?"True":"False"):a("blanks","(Blanks)")}}:{maxNumConditions:1,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:function(t,e){return e},numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:function(t,e){return!1===e},numberOfInputs:0}]});break;case"date":t.cellEditor="agDateCellEditor",t.keyCreator=function(t){return i(t.column,t.node,t.value)},s&&l({valueFormatter:function(t){var e=i(t.column,t.node,t.value);return r(e)?e:a("blanks","(Blanks)")},treeList:!0,treeListFormatter:function(t,e){if(1===e&&null!=t){var n=dm[Number(t)-1];return a(n,cm[n])}return null!==t&&void 0!==t?t:a("blanks","(Blanks)")}});break;case"dateString":t.cellEditor="agDateStringCellEditor",t.keyCreator=function(t){return i(t.column,t.node,t.value)};var u=this.getDateParserFunction();l(s?{valueFormatter:function(t){var e=i(t.column,t.node,t.value);return r(e)?e:a("blanks","(Blanks)")},treeList:!0,treeListPathGetter:function(t){var e=u(null!==t&&void 0!==t?t:void 0);return e?[String(e.getFullYear()),String(e.getMonth()+1),String(e.getDate())]:null},treeListFormatter:function(t,e){if(1===e&&null!=t){var n=dm[Number(t)-1];return a(n,cm[n])}return null!==t&&void 0!==t?t:a("blanks","(Blanks)")}}:{comparator:function(t,e){var n=u(e);return null==e||n<t?-1:n>t?1:0}});break;case"object":t.cellEditorParams={useFormatter:!0},t.comparator=function(t,e){var r=o.columnModel.getPrimaryColumn(n),s=null===r||void 0===r?void 0:r.getColDef();if(!r||!s)return 0;var a=null==t?"":i(r,null,t),l=null==e?"":i(r,null,e);return a===l?0:a>l?1:-1},t.keyCreator=function(t){return i(t.column,t.node,t.value)},s?l({valueFormatter:function(t){var e=i(t.column,t.node,t.value);return r(e)?e:a("blanks","(Blanks)")}}):t.filterValueGetter=function(t){return i(t.column,t.node,o.valueService.getValue(t.column,t.node))}}},e.prototype.getDefaultDataTypes=function(){var t=function(t){return!!t.match("^\\d{4}-\\d{2}-\\d{2}$")},e=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:function(t){return""===t.newValue?null:Number(t.newValue)},valueFormatter:function(t){return null==t.value?"":"number"!==typeof t.value||isNaN(t.value)?(console.log("was",typeof t.value,t.value,t),e("invalidNumber","Invalid Number")):String(t.value)},dataTypeMatcher:function(t){return"number"===typeof t}},text:{baseDataType:"text",valueParser:function(t){return""===t.newValue?null:a(t.newValue)},dataTypeMatcher:function(t){return"string"===typeof t}},boolean:{baseDataType:"boolean",valueParser:function(t){return null==t.newValue?t.newValue:""===t.newValue?null:"true"===String(t.newValue).toLowerCase()},valueFormatter:function(t){return null==t.value?"":String(t.value)},dataTypeMatcher:function(t){return"boolean"===typeof t}},date:{baseDataType:"date",valueParser:function(t){return Zn(null==t.newValue?null:String(t.newValue))},valueFormatter:function(t){var n;return null==t.value?"":t.value instanceof Date&&!isNaN(t.value.getTime())?null!==(n=Un(t.value,!1))&&void 0!==n?n:"":e("invalidDate","Invalid Date")},dataTypeMatcher:function(t){return t instanceof Date}},dateString:{baseDataType:"dateString",dateParser:function(t){var e;return null!==(e=Zn(t))&&void 0!==e?e:void 0},dateFormatter:function(t){var e;return null!==(e=Un(null!==t&&void 0!==t?t:null,!1))&&void 0!==e?e:void 0},valueParser:function(e){return t(String(e.newValue))?e.newValue:null},valueFormatter:function(e){return t(String(e.value))?e.value:""},dataTypeMatcher:function(e){return"string"===typeof e&&t(e)}},object:{baseDataType:"object",valueParser:function(){return null},valueFormatter:function(t){var e;return null!==(e=a(t.value))&&void 0!==e?e:""}}}},am([nt("rowModel")],e.prototype,"rowModel",void 0),am([nt("columnModel")],e.prototype,"columnModel",void 0),am([nt("columnUtils")],e.prototype,"columnUtils",void 0),am([nt("valueService")],e.prototype,"valueService",void 0),am([nt("valueFormatterService")],e.prototype,"valueFormatterService",void 0),am([J],e.prototype,"init",null),e=am([et("dataTypeService")],e)}(Ut),hm=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),fm=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},gm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return hm(e,t),e.prototype.parseValue=function(t,e,n,o){var i=t.getColDef(),s={node:e,data:null===e||void 0===e?void 0:e.data,oldValue:o,newValue:n,colDef:i,column:t,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context},a=i.valueParser;return r(a)?"function"===typeof a?a(s):this.expressionService.evaluate(a,s):n},fm([nt("expressionService")],e.prototype,"expressionService",void 0),e=fm([et("valueParserService")],e)}(Ut),vm=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),mm=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ym=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.waitingForColumns=!1,e}return vm(e,t),e.prototype.postConstruct=function(){var t=this;this.addManagedPropertyListener("columnDefs",(function(e){return t.setColumnDefs(e)}))},e.prototype.start=function(){var t=this;this.ctrlsService.whenReady((function(){var e=t.gridOptionsService.get("columnDefs");e?t.setColumnsAndData(e):t.waitingForColumns=!0,t.gridReady()}))},e.prototype.setColumnsAndData=function(t){this.columnModel.setColumnDefs(null!==t&&void 0!==t?t:[],"gridInitializing"),this.rowModel.start()},e.prototype.gridReady=function(){var t=this;this.dispatchGridReadyEvent();var e=Z.__isRegistered(z.EnterpriseCoreModule,this.context.getGridId());new Zf("AG Grid",(function(){return t.gridOptionsService.get("debug")})).log("initialised successfully, enterprise = ".concat(e))},e.prototype.dispatchGridReadyEvent=function(){var t={type:$t.EVENT_GRID_READY};this.eventService.dispatchEvent(t)},e.prototype.setColumnDefs=function(t){var e,n=this.gridOptionsService.get("columnDefs");if(n){if(this.waitingForColumns)return this.waitingForColumns=!1,void this.setColumnsAndData(n);var o=null!==(e=t.source)&&void 0!==e?e:"api";this.columnModel.setColumnDefs(n,o)}},mm([nt("ctrlsService")],e.prototype,"ctrlsService",void 0),mm([nt("columnModel")],e.prototype,"columnModel",void 0),mm([nt("rowModel")],e.prototype,"rowModel",void 0),mm([J],e.prototype,"postConstruct",null),e=mm([et("syncService")],e)}(Ut),Cm=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),wm=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},bm=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.manuallyDisplayed=!1,e}return Cm(e,t),e.prototype.postConstruct=function(){var t=this;this.addManagedListener(this.eventService,$t.EVENT_ROW_DATA_UPDATED,(function(){return t.onRowDataUpdated()})),this.addManagedListener(this.eventService,$t.EVENT_NEW_COLUMNS_LOADED,(function(){return t.onNewColumnsLoaded()}))},e.prototype.registerOverlayWrapperComp=function(t){this.overlayWrapperComp=t,(!this.gridOptionsService.get("columnDefs")||this.gridOptionsService.isRowModelType("clientSide")&&!this.gridOptionsService.get("rowData"))&&this.showLoadingOverlay()},e.prototype.showLoadingOverlay=function(){if(!this.gridOptionsService.get("suppressLoadingOverlay")){var t=this.userComponentFactory.getLoadingOverlayCompDetails({});this.showOverlay(t,"ag-overlay-loading-wrapper")}},e.prototype.showNoRowsOverlay=function(){if(!this.gridOptionsService.get("suppressNoRowsOverlay")){var t=this.userComponentFactory.getNoRowsOverlayCompDetails({});this.showOverlay(t,"ag-overlay-no-rows-wrapper")}},e.prototype.showOverlay=function(t,e){var n=t.newAgStackInstance();this.manuallyDisplayed=this.columnModel.isReady()&&!this.paginationProxy.isEmpty(),this.overlayWrapperComp.showOverlay(n,e)},e.prototype.hideOverlay=function(){this.manuallyDisplayed=!1,this.overlayWrapperComp.hideOverlay()},e.prototype.showOrHideOverlay=function(){var t=this.paginationProxy.isEmpty(),e=this.gridOptionsService.get("suppressNoRowsOverlay");t&&!e?this.showNoRowsOverlay():this.hideOverlay()},e.prototype.onRowDataUpdated=function(){this.showOrHideOverlay()},e.prototype.onNewColumnsLoaded=function(){!this.columnModel.isReady()||this.paginationProxy.isEmpty()||this.manuallyDisplayed||this.hideOverlay()},wm([nt("userComponentFactory")],e.prototype,"userComponentFactory",void 0),wm([nt("paginationProxy")],e.prototype,"paginationProxy",void 0),wm([nt("columnModel")],e.prototype,"columnModel",void 0),wm([J],e.prototype,"postConstruct",null),e=wm([et("overlayService")],e)}(Ut),_m=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Sm=function(){return Sm=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},Sm.apply(this,arguments)},Em=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Om=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},xm=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.suppressEvents=!0,e.queuedUpdateSources=new Set,e.dispatchStateUpdateEventDebounced=V((function(){return e.dispatchQueuedStateUpdateEvents()}),0),e}return _m(e,t),e.prototype.postConstruct=function(){var t,e=this;this.isClientSideRowModel="clientSide"===this.rowModel.getType(),this.cachedState=null!==(t=this.gridOptionsService.get("initialState"))&&void 0!==t?t:{},this.ctrlsService.whenReady((function(){return e.setupStateOnGridReady()}));var n=this.addManagedListener(this.eventService,$t.EVENT_NEW_COLUMNS_LOADED,(function(t){"gridInitializing"===t.source&&(null===n||void 0===n||n(),e.setupStateOnColumnsInitialised())})),o=this.addManagedListener(this.eventService,$t.EVENT_ROW_COUNT_READY,(function(){null===o||void 0===o||o(),e.setupStateOnRowCountReady()})),r=this.addManagedListener(this.eventService,$t.EVENT_FIRST_DATA_RENDERED,(function(){null===r||void 0===r||r(),e.setupStateOnFirstDataRendered(),e.suppressEvents=!1,e.dispatchStateUpdateEvent(["gridInitializing"])}))},e.prototype.getState=function(){return this.cachedState},e.prototype.setupStateOnGridReady=function(){var t=this;this.updateCachedState("sideBar",this.getSideBarState()),this.addManagedListener(this.eventService,$t.EVENT_TOOL_PANEL_VISIBLE_CHANGED,(function(){return t.updateCachedState("sideBar",t.getSideBarState())})),this.addManagedListener(this.eventService,$t.EVENT_SIDE_BAR_UPDATED,(function(){return t.updateCachedState("sideBar",t.getSideBarState())}))},e.prototype.setupStateOnColumnsInitialised=function(){var t,e=this,n=null!==(t=this.gridOptionsService.get("initialState"))&&void 0!==t?t:{},o=n.filter,r=n.columnGroup;this.setColumnState(n),r&&this.setColumnGroupState(r);var i=this.gridOptionsService.get("advancedFilterModel");(o||i)&&this.setFilterState(o,i),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState()),this.updateCachedState("filter",this.getFilterState()),this.addManagedListener(this.eventService,$t.EVENT_COLUMN_VALUE_CHANGED,(function(){return e.updateColumnState(["aggregation"])})),this.addManagedListener(this.eventService,$t.EVENT_COLUMN_MOVED,(function(){return e.updateColumnState(["columnOrder"])})),this.addManagedListener(this.eventService,$t.EVENT_COLUMN_PINNED,(function(){return e.updateColumnState(["columnPinning"])})),this.addManagedListener(this.eventService,$t.EVENT_COLUMN_RESIZED,(function(){return e.updateColumnState(["columnSizing"])})),this.addManagedListener(this.eventService,$t.EVENT_COLUMN_VISIBLE,(function(){return e.updateColumnState(["columnVisibility"])})),this.addManagedListener(this.eventService,$t.EVENT_COLUMN_PIVOT_CHANGED,(function(){return e.updateColumnState(["pivot"])})),this.addManagedListener(this.eventService,$t.EVENT_COLUMN_PIVOT_MODE_CHANGED,(function(){return e.updateColumnState(["pivot"])})),this.addManagedListener(this.eventService,$t.EVENT_COLUMN_ROW_GROUP_CHANGED,(function(){return e.updateColumnState(["rowGroup"])})),this.addManagedListener(this.eventService,$t.EVENT_SORT_CHANGED,(function(){return e.updateColumnState(["sort"])})),this.addManagedListener(this.eventService,$t.EVENT_NEW_COLUMNS_LOADED,(function(){return e.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"])})),this.addManagedListener(this.eventService,$t.EVENT_COLUMN_GROUP_OPENED,(function(){return e.updateCachedState("columnGroup",e.getColumnGroupState())})),this.addManagedListener(this.eventService,$t.EVENT_FILTER_CHANGED,(function(){return e.updateCachedState("filter",e.getFilterState())}))},e.prototype.setupStateOnRowCountReady=function(){var t,e=this,n=null!==(t=this.gridOptionsService.get("initialState"))&&void 0!==t?t:{},o=n.rowGroupExpansion,r=n.rowSelection,i=n.pagination;o&&this.setRowGroupExpansionState(o),r&&this.setRowSelectionState(r),i&&this.setPaginationState(i),this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowSelection",this.getRowSelectionState()),this.updateCachedState("pagination",this.getPaginationState()),this.addManagedListener(this.eventService,$t.EVENT_ROW_GROUP_OPENED,(function(){return e.updateCachedState("rowGroupExpansion",e.getRowGroupExpansionState())})),this.addManagedListener(this.eventService,$t.EVENT_SELECTION_CHANGED,(function(){return e.updateCachedState("rowSelection",e.getRowSelectionState())})),this.addManagedListener(this.eventService,$t.EVENT_PAGINATION_CHANGED,(function(t){(t.newPage||t.newPageSize)&&e.updateCachedState("pagination",e.getPaginationState())}))},e.prototype.setupStateOnFirstDataRendered=function(){var t,e=this,n=null!==(t=this.gridOptionsService.get("initialState"))&&void 0!==t?t:{},o=n.scroll,r=n.rangeSelection,i=n.focusedCell;i&&this.setFocusedCellState(i),r&&this.setRangeSelectionState(r),o&&this.setScrollState(o),this.updateCachedState("sideBar",this.getSideBarState()),this.updateCachedState("focusedCell",this.getFocusedCellState()),this.updateCachedState("rangeSelection",this.getRangeSelectionState()),this.updateCachedState("scroll",this.getScrollState()),this.addManagedListener(this.eventService,$t.EVENT_CELL_FOCUSED,(function(){return e.updateCachedState("focusedCell",e.getFocusedCellState())})),this.addManagedListener(this.eventService,$t.EVENT_RANGE_SELECTION_CHANGED,(function(t){t.finished&&e.updateCachedState("rangeSelection",e.getRangeSelectionState())})),this.addManagedListener(this.eventService,$t.EVENT_BODY_SCROLL_END,(function(){return e.updateCachedState("scroll",e.getScrollState())}))},e.prototype.getColumnState=function(){for(var t=this.columnModel.isPivotMode(),e=[],n=[],o=[],r=[],i=[],s=[],a=[],l=[],u=[],c=this.columnModel.getColumnState(),d=0;d<c.length;d++){var p=c[d],h=p.colId,f=p.sort,g=p.sortIndex,v=p.rowGroup,m=p.rowGroupIndex,y=p.aggFunc,C=p.pivot,w=p.pivotIndex,b=p.pinned,_=p.hide,S=p.width,E=p.flex;u.push(h),f&&(e[null!==g&&void 0!==g?g:0]={colId:h,sort:f}),v&&(n[null!==m&&void 0!==m?m:0]=h),"string"===typeof y&&o.push({colId:h,aggFunc:y}),C&&(r[null!==w&&void 0!==w?w:0]=h),b&&("right"===b?s:i).push(h),_&&a.push(h),(E||S)&&l.push({colId:h,flex:null!==E&&void 0!==E?E:void 0,width:S})}return{sort:e.length?{sortModel:e}:void 0,rowGroup:n.length?{groupColIds:n}:void 0,aggregation:o.length?{aggregationModel:o}:void 0,pivot:r.length||t?{pivotMode:t,pivotColIds:r}:void 0,columnPinning:i.length||s.length?{leftColIds:i,rightColIds:s}:void 0,columnVisibility:a.length?{hiddenColIds:a}:void 0,columnSizing:l.length?{columnSizingModel:l}:void 0,columnOrder:u.length?{orderedColIds:u}:void 0}},e.prototype.setColumnState=function(t){var e=t.sort,n=t.rowGroup,o=t.aggregation,r=t.pivot,i=t.columnPinning,s=t.columnVisibility,a=t.columnSizing,l=t.columnOrder,u={},c={},d=function(t){var e=u[t];return e||(e={colId:t},u[t]=e,e)};e&&(e.sortModel.forEach((function(t,e){var n=t.colId,o=t.sort,r=d(n);r.sort=o,r.sortIndex=e})),c.sort=null,c.sortIndex=null),n&&(n.groupColIds.forEach((function(t,e){var n=d(t);n.rowGroup=!0,n.rowGroupIndex=e})),c.rowGroup=null,c.rowGroupIndex=null),o&&(o.aggregationModel.forEach((function(t){var e=t.colId,n=t.aggFunc;d(e).aggFunc=n})),c.aggFunc=null),r&&(r.pivotColIds.forEach((function(t,e){var n=d(t);n.pivot=!0,n.pivotIndex=e})),c.pivot=null,c.pivotIndex=null,this.gridOptionsService.updateGridOptions({options:{pivotMode:r.pivotMode},source:"gridInitializing"})),i&&(i.leftColIds.forEach((function(t){d(t).pinned="left"})),i.rightColIds.forEach((function(t){d(t).pinned="right"})),c.pinned=null),s&&(s.hiddenColIds.forEach((function(t){d(t).hide=!0})),c.hide=null),a&&(a.columnSizingModel.forEach((function(t){var e=t.colId,n=t.flex,o=t.width,r=d(e);r.flex=null!==n&&void 0!==n?n:null,r.width=o})),c.flex=null);var p=null===l||void 0===l?void 0:l.orderedColIds,h=!!(null===p||void 0===p?void 0:p.length),f=h?p.map((function(t){return d(t)})):Object.values(u);f.length&&this.columnModel.applyColumnState({state:f,applyOrder:h,defaultState:c},"gridInitializing")},e.prototype.getColumnGroupState=function(){var t=this.columnModel.getColumnGroupState(),e=[];return t.forEach((function(t){var n=t.groupId;t.open&&e.push(n)})),e.length?{openColumnGroupIds:e}:void 0},e.prototype.setColumnGroupState=function(t){var e=t.openColumnGroupIds,n=new Set(e),o=this.columnModel.getColumnGroupState().map((function(t){var e=t.groupId;return{groupId:e,open:n.has(e)}}));this.columnModel.setColumnGroupState(o,"gridInitializing")},e.prototype.getFilterState=function(){var t,e=this.filterManager.getFilterModel();e&&0===Object.keys(e).length&&(e=void 0);var n=null!==(t=this.filterManager.getAdvancedFilterModel())&&void 0!==t?t:void 0;return e||n?{filterModel:e,advancedFilterModel:n}:void 0},e.prototype.setFilterState=function(t,e){var n=null!==t&&void 0!==t?t:{advancedFilterModel:e},o=n.filterModel,r=n.advancedFilterModel;o&&this.filterManager.setFilterModel(o,"columnFilter"),r&&this.filterManager.setAdvancedFilterModel(r)},e.prototype.getRangeSelectionState=function(){var t,e=null===(t=this.rangeService)||void 0===t?void 0:t.getCellRanges().map((function(t){var e=t.id,n=t.type,o=t.startRow,r=t.endRow,i=t.columns,s=t.startColumn;return{id:e,type:n,startRow:o,endRow:r,colIds:i.map((function(t){return t.getColId()})),startColId:s.getColId()}}));return(null===e||void 0===e?void 0:e.length)?{cellRanges:e}:void 0},e.prototype.setRangeSelectionState=function(t){var e,n=this;if(this.gridOptionsService.get("enableRangeSelection")){var o=t.cellRanges.map((function(t){return Sm(Sm({},t),{columns:t.colIds.map((function(t){return n.columnModel.getGridColumn(t)})),startColumn:n.columnModel.getGridColumn(t.startColId)})}));null===(e=this.rangeService)||void 0===e||e.setCellRanges(o)}},e.prototype.getScrollState=function(){var t,e,n;if(this.isClientSideRowModel){var o=null===(t=this.ctrlsService.getGridBodyCtrl())||void 0===t?void 0:t.getScrollFeature(),r=(null!==(e=null===o||void 0===o?void 0:o.getHScrollPosition())&&void 0!==e?e:{left:0}).left,i=(null!==(n=null===o||void 0===o?void 0:o.getVScrollPosition())&&void 0!==n?n:{top:0}).top;return i||r?{top:i,left:r}:void 0}},e.prototype.setScrollState=function(t){var e;if(this.isClientSideRowModel){var n=t.top,o=t.left;null===(e=this.ctrlsService.getGridBodyCtrl())||void 0===e||e.getScrollFeature().setScrollPosition(n,o)}},e.prototype.getSideBarState=function(){var t,e;return null===(e=null===(t=this.sideBarService)||void 0===t?void 0:t.getSideBarComp())||void 0===e?void 0:e.getState()},e.prototype.getFocusedCellState=function(){if(this.isClientSideRowModel){var t=this.focusService.getFocusedCell();if(t){var e=t.column,n=t.rowIndex,o=t.rowPinned;return{colId:e.getColId(),rowIndex:n,rowPinned:o}}}},e.prototype.setFocusedCellState=function(t){if(this.isClientSideRowModel){var e=t.colId,n=t.rowIndex,o=t.rowPinned;this.focusService.setFocusedCell({column:this.columnModel.getGridColumn(e),rowIndex:n,rowPinned:o,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}},e.prototype.getPaginationState=function(){var t=this.paginationProxy.getCurrentPage(),e=this.gridOptionsService.get("paginationAutoPageSize")?void 0:this.paginationProxy.getPageSize();if(t||e)return{page:t,pageSize:e}},e.prototype.setPaginationState=function(t){t.pageSize&&!this.gridOptionsService.get("paginationAutoPageSize")&&this.paginationProxy.setPageSize(t.pageSize,"initialState"),"number"===typeof t.page&&this.paginationProxy.setPage(t.page)},e.prototype.getRowSelectionState=function(){var t,e=this.selectionService.getSelectionState();return!e||!Array.isArray(e)&&(!1===e.selectAll||!1===e.selectAllChildren)&&!(null===(t=null===e||void 0===e?void 0:e.toggledNodes)||void 0===t?void 0:t.length)?void 0:e},e.prototype.setRowSelectionState=function(t){this.selectionService.setSelectionState(t,"gridInitializing")},e.prototype.getRowGroupExpansionState=function(){var t=this.expansionService.getExpandedRows();return t.length?{expandedRowGroupIds:t}:void 0},e.prototype.setRowGroupExpansionState=function(t){this.expansionService.expandRows(t.expandedRowGroupIds)},e.prototype.updateColumnState=function(t){var e=this,n=this.getColumnState(),o=!1;Object.entries(n).forEach((function(t){var n=Om(t,2),r=n[0];c(n[1],e.cachedState[r])||(o=!0)})),this.cachedState=Sm(Sm({},this.cachedState),n),o&&this.dispatchStateUpdateEvent(t)},e.prototype.updateCachedState=function(t,e){var n,o=this.cachedState[t];this.cachedState=Sm(Sm({},this.cachedState),((n={})[t]=e,n)),c(e,o)||this.dispatchStateUpdateEvent([t])},e.prototype.dispatchStateUpdateEvent=function(t){var e=this;this.suppressEvents||(t.forEach((function(t){return e.queuedUpdateSources.add(t)})),this.dispatchStateUpdateEventDebounced())},e.prototype.dispatchQueuedStateUpdateEvents=function(){var t=Array.from(this.queuedUpdateSources);this.queuedUpdateSources.clear();var e={type:$t.EVENT_STATE_UPDATED,sources:t,state:this.cachedState};this.eventService.dispatchEvent(e)},Em([nt("filterManager")],e.prototype,"filterManager",void 0),Em([ot("rangeService")],e.prototype,"rangeService",void 0),Em([nt("ctrlsService")],e.prototype,"ctrlsService",void 0),Em([ot("sideBarService")],e.prototype,"sideBarService",void 0),Em([nt("focusService")],e.prototype,"focusService",void 0),Em([nt("columnModel")],e.prototype,"columnModel",void 0),Em([nt("paginationProxy")],e.prototype,"paginationProxy",void 0),Em([nt("rowModel")],e.prototype,"rowModel",void 0),Em([nt("selectionService")],e.prototype,"selectionService",void 0),Em([nt("expansionService")],e.prototype,"expansionService",void 0),Em([J],e.prototype,"postConstruct",null),e=Em([et("stateService")],e)}(Ut),Tm=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Rm=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Dm=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},Pm=function(t,e,n){if(n||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},Lm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tm(e,t),e.prototype.init=function(){this.processGridOptions(this.gridOptions)},e.prototype.processGridOptions=function(t){this.processOptions(t,Zv)},e.prototype.processColumnDefs=function(t){this.processOptions(t,Wv)},e.prototype.processOptions=function(t,e){var n=this,o=e.validations,r=e.deprecations,i=e.allProperties,s=e.propertyExceptions,a=e.objectName,l=e.docsUrl;i&&!0!==this.gridOptions.suppressPropertyNamesCheck&&this.checkProperties(t,Pm(Pm([],Dm(null!==s&&void 0!==s?s:[]),!1),Dm(Object.keys(r)),!1),i,a,l);var u=new Set;Object.keys(t).forEach((function(e){var i,s=r[e];if(s)if("renamed"in s){var a=s.renamed,l=s.version;u.add("As of v".concat(l,", ").concat(String(e)," is deprecated. Please use ").concat(String(a)," instead.")),t[a]=t[e]}else{var c=s.message;l=s.version;u.add("As of v".concat(l,", ").concat(String(e)," is deprecated. ").concat(null!==c&&void 0!==c?c:""))}var d=t[e];if(null!=d&&!1!==d){var p,h=o[e];if(h){if("function"===typeof h){var f=h(t,n.gridOptions);if(!f)return;if("objectName"in f){var g=t[e];return Array.isArray(g)?void g.forEach((function(t){n.processOptions(t,f)})):void n.processOptions(t[e],f)}p=f}else p=h;var v=p.module,m=p.dependencies,y=p.supportedRowModels;if(y){var C=null!==(i=n.gridOptions.rowModelType)&&void 0!==i?i:"clientSide";if(!y.includes(C))return void u.add("".concat(String(e)," is not supported with the '").concat(C,"' row model."))}if(v){var w=Array.isArray(v)?v:[v],b=!0;if(w.forEach((function(t){Z.__assertRegistered(t,String(e),n.gridOptionsService.getGridId())||(b=!1,u.add("".concat(String(e)," is only available when ").concat(t," is loaded.")))})),!b)return}if(m){var _=n.checkForWarning(e,m,t);if(_)return void u.add(_)}}}})),u.size>0&&u.forEach((function(t){L(t)}))},e.prototype.checkForWarning=function(t,e,n){if("function"===typeof e)return e(n,this.gridOptions);var o=Object.entries(e).find((function(t){var e=Dm(t,2),o=e[0],r=e[1],i=n[o];return!r.includes(i)}));if(!o)return null;var r=Dm(o,2),i=r[0],s=r[1];return s.length>1?"'".concat(String(t),"' requires '").concat(i,"' to be one of [").concat(s.join(", "),"]."):"'".concat(String(t),"' requires '").concat(i,"' to be ").concat(s[0],".")},e.prototype.checkProperties=function(t,e,n,o,r){var i=jo(Object.getOwnPropertyNames(t),Pm(Pm(Pm([],Dm(["__ob__","__v_skip","__metadata__"]),!1),Dm(e),!1),Dm(n),!1),n);if(v(i,(function(t,e){L("invalid ".concat(o," property '").concat(t,"' did you mean any of these: ").concat(e.slice(0,8).join(", ")))})),Object.keys(i).length>0&&r){var s=this.getFrameworkOverrides().getDocLink(r);L("to see all the valid ".concat(o," properties please check: ").concat(s))}},Rm([nt("gridOptions")],e.prototype,"gridOptions",void 0),Rm([J],e.prototype,"init",null),e=Rm([et("validationService")],e)}(Ut),Mm=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Am=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},km=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.syncEventListeners=new Map,e.asyncEventListeners=new Map,e.syncGlobalEventListeners=new Set,e.asyncGlobalEventListeners=new Set,e}return Mm(e,t),e.prototype.addEventListener=function(t,e){var n=this.gridOptionsService.useAsyncEvents(),o=n?this.asyncEventListeners:this.syncEventListeners;o.has(t)||o.set(t,new Set),o.get(t).add(e),this.eventService.addEventListener(t,e,n)},e.prototype.addGlobalListener=function(t){var e=this.gridOptionsService.useAsyncEvents();(e?this.asyncGlobalEventListeners:this.syncGlobalEventListeners).add(t),this.eventService.addGlobalListener(t,e)},e.prototype.removeEventListener=function(t,e){var n,o=this.asyncEventListeners.get(t),r=!!(null===o||void 0===o?void 0:o.delete(e));r||null===(n=this.asyncEventListeners.get(t))||void 0===n||n.delete(e),this.eventService.removeEventListener(t,e,r)},e.prototype.removeGlobalListener=function(t){var e=this.asyncGlobalEventListeners.delete(t);e||this.syncGlobalEventListeners.delete(t),this.eventService.removeGlobalListener(t,e)},e.prototype.destroyEventListeners=function(t,e){var n=this;t.forEach((function(t,o){t.forEach((function(t){return n.eventService.removeEventListener(o,t,e)})),t.clear()})),t.clear()},e.prototype.destroyGlobalListeners=function(t,e){var n=this;t.forEach((function(t){return n.eventService.removeGlobalListener(t,e)})),t.clear()},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.destroyEventListeners(this.syncEventListeners,!1),this.destroyEventListeners(this.asyncEventListeners,!0),this.destroyGlobalListeners(this.syncGlobalEventListeners,!1),this.destroyGlobalListeners(this.asyncGlobalEventListeners,!0)},e=Am([et("apiEventService")],e)}(Ut),Nm=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Fm=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Im=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},Gm=function(t,e,n){if(n||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},Hm=function(t){function e(){var e=t.call(this,'<span class="ag-paging-page-size"></span>')||this;return e.hasEmptyOption=!1,e.handlePageSizeItemSelected=function(){if(e.selectPageSizeComp){var t=e.selectPageSizeComp.getValue();if(t){var n=Number(t);isNaN(n)||n<1||n===e.paginationProxy.getPageSize()||(e.paginationProxy.setPageSize(n,"pageSizeSelector"),e.hasEmptyOption&&e.toggleSelectDisplay(!0),e.selectPageSizeComp.getFocusableElement().focus())}}},e}return Nm(e,t),e.prototype.init=function(){var t=this;this.addManagedPropertyListener("paginationPageSizeSelector",(function(){t.onPageSizeSelectorValuesChange()})),this.addManagedListener(this.eventService,$t.EVENT_PAGINATION_CHANGED,(function(e){return t.handlePaginationChanged(e)}))},e.prototype.handlePaginationChanged=function(t){if(this.selectPageSizeComp&&(null===t||void 0===t?void 0:t.newPageSize)){var e=this.paginationProxy.getPageSize();this.getPageSizeSelectorValues().includes(e)?this.selectPageSizeComp.setValue(e.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}},e.prototype.toggleSelectDisplay=function(t){this.selectPageSizeComp&&this.reset(),t&&(this.reloadPageSizesSelector(),this.selectPageSizeComp&&this.appendChild(this.selectPageSizeComp))},e.prototype.reset=function(){mo(this.getGui()),this.selectPageSizeComp&&(this.destroyBean(this.selectPageSizeComp),this.selectPageSizeComp=void 0)},e.prototype.onPageSizeSelectorValuesChange=function(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()},e.prototype.shouldShowPageSizeSelector=function(){return this.gridOptionsService.get("pagination")&&!this.gridOptionsService.get("suppressPaginationPanel")&&!this.gridOptionsService.get("paginationAutoPageSize")&&!1!==this.gridOptionsService.get("paginationPageSizeSelector")},e.prototype.reloadPageSizesSelector=function(){var t=this,e=this.getPageSizeSelectorValues(),n=this.paginationProxy.getPageSize(),o=!n||!e.includes(n);o&&(e.unshift(""),L("The paginationPageSize grid option is set to a value that is not in the list of page size options.\n                Please make sure that the paginationPageSize grid option is set to one of the values in the \n                paginationPageSizeSelector array, or set the paginationPageSizeSelector to false to hide the page size selector.")),this.selectPageSizeComp&&(this.destroyBean(this.selectPageSizeComp),this.selectPageSizeComp=void 0);var r=this.localeService.getLocaleTextFunc(),i=r("pageSizeSelectorLabel","Page Size:"),s=e.map((function(t){return{value:String(t),text:String(t)}})),a=r("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new ri).addOptions(s).setValue(String(o?"":n)).setAriaLabel(a).setLabel(i).onValueChange((function(){return t.handlePageSizeItemSelected()})),this.hasEmptyOption=o},e.prototype.getPageSizeSelectorValues=function(){var t=this.gridOptionsService.get("paginationPageSizeSelector");return Array.isArray(t)&&this.validateValues(t)?Gm([],Im(t),!1).sort((function(t,e){return t-e})):[20,50,100]},e.prototype.validateValues=function(t){if(!t.length)return L("The paginationPageSizeSelector grid option is an empty array. This is most likely a mistake.\n                If you want to hide the page size selector, please set the paginationPageSizeSelector to false."),!1;for(var e=0;e<t.length;e++){var n=t[e],o=n>0;if(!("number"===typeof n))return L("The paginationPageSizeSelector grid option contains a non-numeric value.\n                    Please make sure that all values in the paginationPageSizeSelector array are numbers."),!1;if(!o)return L("The paginationPageSizeSelector grid option contains a negative number or zero.\n                    Please make sure that all values in the paginationPageSizeSelector array are positive."),!1}return!0},e.prototype.destroy=function(){this.toggleSelectDisplay(!1),t.prototype.destroy.call(this)},Fm([nt("localeService")],e.prototype,"localeService",void 0),Fm([nt("gridOptionsService")],e.prototype,"gridOptionsService",void 0),Fm([nt("paginationProxy")],e.prototype,"paginationProxy",void 0),Fm([J],e.prototype,"init",null),e}(Sr),Vm=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},jm=function(t,e,n){if(n||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))};function Bm(t,e,n){if(!e)return M("No gridOptions provided to createGrid"),{};var o=$v.getCoercedGridOptions(e),r=(new Ym).create(t,o,(function(e){var n=new tg(t);e.createBean(n)}),void 0,n);if(!Object.isFrozen(e)&&!(null===n||void 0===n?void 0:n.frameworkOverrides)){var i="https://ag-grid.com/javascript-data-grid/grid-interface/#grid-api";Object.defineProperty(e,"api",{get:function(){M("gridOptions.api is no longer supported. See ".concat(i,"."))},configurable:!0}),Object.defineProperty(e,"columnApi",{get:function(){M("gridOptions.columnApi is no longer supported and all methods moved to the grid api. See ".concat(i,"."))},configurable:!0})}return r}var Wm,zm=function(){function t(t,e,n){var o=this;if(L("Since v31 new Grid(...) is deprecated. Use createGrid instead: `const gridApi = createGrid(...)`. The grid api is returned from createGrid and will not be available on gridOptions."),e){this.gridOptions=e;var r=(new Ym).create(t,e,(function(e){var n=new tg(t);e.createBean(n).addDestroyFunc((function(){o.destroy()}))}),void 0,n);this.gridOptions.api=r,this.gridOptions.columnApi=new Af(r)}else M("No gridOptions provided to the grid")}return t.prototype.destroy=function(){var t;this.gridOptions&&(null===(t=this.gridOptions.api)||void 0===t||t.destroy(),delete this.gridOptions.api,delete this.gridOptions.columnApi)},t}(),Um=1,Ym=function(){function t(){}return t.prototype.create=function(t,e,n,o,r){var i,s=!!e.debug,a=null!==(i=e.gridId)&&void 0!==i?i:String(Um++),l=this.getRegisteredModules(r,a),u=this.createBeansList(e.rowModelType,l,a),c=this.createProvidedBeans(t,e,r);if(u){var d={providedBeanInstances:c,beanClasses:u,debug:s,gridId:a},p=new Zf("Context",(function(){return d.debug})),h=new X(d,p),f=h.getBean("beans");return this.registerModuleUserComponents(f,l),this.registerStackComponents(f,l),this.registerControllers(f,l),n(h),f.syncService.start(),o&&o(h),f.gridApi}M("Failed to create grid.")},t.prototype.registerControllers=function(t,e){e.forEach((function(e){e.controllers&&e.controllers.forEach((function(e){return t.ctrlsFactory.register(e)}))}))},t.prototype.registerStackComponents=function(t,e){var n=this.createAgStackComponentsList(e);t.agStackComponentsRegistry.setupComponents(n)},t.prototype.getRegisteredModules=function(t,e){var n=t?t.modules:null,o=Z.__getRegisteredModules(e),r=[],i={},s=function(t,e,n){var o;i[(o=e).moduleName]||(i[o.moduleName]=!0,r.push(o),Z.__register(o,t,n)),e.dependantModules&&e.dependantModules.forEach((function(e){return s(t,e,n)}))};return n&&n.forEach((function(t){return s(!0,t,e)})),o&&o.forEach((function(t){return s(!Z.__isPackageBased(),t,void 0)})),r},t.prototype.registerModuleUserComponents=function(t,e){this.extractModuleEntity(e,(function(t){return t.userComponents?t.userComponents:[]})).forEach((function(e){t.userComponentRegistry.registerDefaultComponent(e.componentName,e.componentClass)}))},t.prototype.createProvidedBeans=function(t,e,n){var o=n?n.frameworkOverrides:null;i(o)&&(o=new vf);var r={gridOptions:e,eGridDiv:t,globalEventListener:n?n.globalEventListener:null,globalSyncEventListener:n?n.globalSyncEventListener:null,frameworkOverrides:o};return n&&n.providedBeanInstances&&Object.assign(r,n.providedBeanInstances),r},t.prototype.createAgStackComponentsList=function(t){var e=[{componentName:"AgCheckbox",componentClass:ui},{componentName:"AgRadioButton",componentClass:di},{componentName:"AgToggleButton",componentClass:oh},{componentName:"AgInputTextField",componentClass:Ni},{componentName:"AgInputTextArea",componentClass:ih},{componentName:"AgInputNumberField",componentClass:Ii},{componentName:"AgInputDateField",componentClass:ah},{componentName:"AgInputRange",componentClass:uh},{componentName:"AgRichSelect",componentClass:Th},{componentName:"AgSelect",componentClass:ri},{componentName:"AgSlider",componentClass:Ph},{componentName:"AgGridBody",componentClass:uc},{componentName:"AgHeaderRoot",componentClass:tp},{componentName:"AgSortIndicator",componentClass:ss},{componentName:"AgPagination",componentClass:Kg},{componentName:"AgPageSizeSelector",componentClass:Hm},{componentName:"AgOverlayWrapper",componentClass:Qg},{componentName:"AgGroupComponent",componentClass:Ah},{componentName:"AgPanel",componentClass:Yh},{componentName:"AgDialog",componentClass:Qh},{componentName:"AgRowContainer",componentClass:Lc},{componentName:"AgFakeHorizontalScroll",componentClass:kv},{componentName:"AgFakeVerticalScroll",componentClass:rm},{componentName:"AgAutocomplete",componentClass:hf}],n=this.extractModuleEntity(t,(function(t){return t.agStackComponents?t.agStackComponents:[]}));return e=e.concat(n)},t.prototype.createBeansList=function(t,e,n){void 0===t&&(t="clientSide");var o=e.filter((function(e){return!e.rowModel||e.rowModel===t})),r={clientSide:z.ClientSideRowModelModule,infinite:z.InfiniteRowModelModule,serverSide:z.ServerSideRowModelModule,viewport:z.ViewportRowModelModule};if(r[t]){if(Z.__assertRegistered(r[t],"rowModelType = '".concat(t,"'"),n)){var i=[iu,Jg,nv,gv,yg,fl,Aa,Tg,Pg,pp,tl,jg,op,em,Lm,jp,il,Oe,ut,$v,rf,Df,bl,Ce,Zd,$p,kp,Vf,qt,Wf,Of,Cc,bg,Ff,Kf,_e,_p,sp,zs,Af,ug,gc,Ig,bf,Gp,eh,pc,ig,pg,gg,zg,oe,Eg,gp,pv,Fe,mv,Cv,qp,_v,Ov,Iv,Vv,Rv,pm,gm,ml,ym,bm,xm,Cp,km],s=this.extractModuleEntity(o,(function(t){return t.beans?t.beans:[]}));i.push.apply(i,jm([],Vm(s),!1));var a=[];return i.forEach((function(t){a.indexOf(t)<0&&a.push(t)})),a}}else M("Could not find row model for rowModelType = "+t)},t.prototype.extractModuleEntity=function(t,e){return[].concat.apply([],jm([],Vm(t.map(e)),!1))},t}(),Km=function(){function t(){}return t.prototype.wrap=function(t,e,n,o){var r=this;void 0===n&&(n=[]);var i=this.createWrapper(t,o);return e.forEach((function(t){r.createMethod(i,t,!0)})),n.forEach((function(t){r.createMethod(i,t,!1)})),i},t.prototype.unwrap=function(t){return t},t.prototype.createMethod=function(t,e,n){t.addMethod(e,this.createMethodProxy(t,e,n))},t.prototype.createMethodProxy=function(t,e,n){return function(){return t.hasMethod(e)?t.callMethod(e,arguments):(n&&console.warn("AG Grid: Framework component is missing the method "+e+"()"),null)}},t}(),Zm={columnGroup:["column","stackedColumn","normalizedColumn"],barGroup:["bar","stackedBar","normalizedBar"],pieGroup:["pie","doughnut"],lineGroup:["line"],scatterGroup:["scatter","bubble"],areaGroup:["area","stackedArea","normalizedArea"],histogramGroup:["histogram"],combinationGroup:["columnLineCombo","areaColumnCombo","customCombo"]},qm=["chartSettings","chartData","chartFormat"],Qm=["chartUnlink","chartLink","chartDownload"],Xm={settings:"chartSettings",data:"chartData",format:"chartFormat"},$m=0;!function(t){t.InsideBase="insideBase",t.InsideEnd="insideEnd",t.Center="center",t.OutsideEnd="outsideEnd"}(Wm||(Wm={}));var Jm="undefined"===typeof n.g?{}:n.g;Jm.HTMLElement="undefined"===typeof HTMLElement?{}:HTMLElement,Jm.HTMLButtonElement="undefined"===typeof HTMLButtonElement?{}:HTMLButtonElement,Jm.HTMLSelectElement="undefined"===typeof HTMLSelectElement?{}:HTMLSelectElement,Jm.HTMLInputElement="undefined"===typeof HTMLInputElement?{}:HTMLInputElement,Jm.Node="undefined"===typeof Node?{}:Node,Jm.MouseEvent="undefined"===typeof MouseEvent?{}:MouseEvent;var ty,ey=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},ny=function(t,e,n){if(n||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},oy=function(){function t(e,n,o,r,i,s){this.nextId=0,this.allNodesMap={},this.dataLoaded=!1,this.rootNode=e,this.gridOptionsService=n,this.eventService=o,this.columnModel=r,this.beans=s,this.selectionService=i,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=t.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[]}return t.prototype.getCopyOfNodesMap=function(){return ur.cloneObject(this.allNodesMap)},t.prototype.getRowNode=function(t){return this.allNodesMap[t]},t.prototype.setRowData=function(e){var n=this;if("string"!==typeof e){this.dataLoaded=!0,this.dispatchRowDataUpdateStartedEvent(e);var o=this.rootNode,r=this.rootNode.sibling;o.childrenAfterFilter=null,o.childrenAfterGroup=null,o.childrenAfterAggFilter=null,o.childrenAfterSort=null,o.childrenMapped=null,o.updateHasChildren(),this.nextId=0,this.allNodesMap={},e?o.allLeafChildren=e.map((function(e){return n.createNode(e,n.rootNode,t.TOP_LEVEL)})):(o.allLeafChildren=[],o.childrenAfterGroup=[]),r&&(r.childrenAfterFilter=o.childrenAfterFilter,r.childrenAfterGroup=o.childrenAfterGroup,r.childrenAfterAggFilter=o.childrenAfterAggFilter,r.childrenAfterSort=o.childrenAfterSort,r.childrenMapped=o.childrenMapped,r.allLeafChildren=o.allLeafChildren)}else console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first")},t.prototype.updateRowData=function(t,e){this.dataLoaded=!0,this.dispatchRowDataUpdateStartedEvent(t.add);var n={remove:[],update:[],add:[]},o=[];return this.executeRemove(t,n,o),this.executeUpdate(t,n,o),this.executeAdd(t,n),this.updateSelection(o,"rowDataChanged"),e&&ur.sortRowNodesByOrder(this.rootNode.allLeafChildren,e),n},t.prototype.hasData=function(){return this.dataLoaded},t.prototype.dispatchRowDataUpdateStartedEvent=function(t){var e={type:$t.EVENT_ROW_DATA_UPDATE_STARTED,firstRowData:(null===t||void 0===t?void 0:t.length)?t[0]:null};this.eventService.dispatchEvent(e)},t.prototype.updateSelection=function(t,e){var n=t.length>0;if(n&&this.selectionService.setNodesSelected({newValue:!1,nodes:t,suppressFinishActions:!0,source:e}),this.selectionService.updateGroupsFromChildrenSelections(e),n){var o={type:$t.EVENT_SELECTION_CHANGED,source:e};this.eventService.dispatchEvent(o)}},t.prototype.executeAdd=function(e,n){var o,r=this,i=e.add,s=e.addIndex;if(!ur.missingOrEmpty(i)){var a=i.map((function(e){return r.createNode(e,r.rootNode,t.TOP_LEVEL)}));if("number"===typeof s&&s>=0){var l=this.rootNode.allLeafChildren,u=l.length,c=s;if(this.gridOptionsService.get("treeData")&&s>0&&u>0)for(var d=0;d<u;d++)if((null===(o=l[d])||void 0===o?void 0:o.rowIndex)==s-1){c=d+1;break}var p=l.slice(0,c),h=l.slice(c,l.length);this.rootNode.allLeafChildren=ny(ny(ny([],ey(p),!1),ey(a),!1),ey(h),!1)}else this.rootNode.allLeafChildren=ny(ny([],ey(this.rootNode.allLeafChildren),!1),ey(a),!1);this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),n.add=a}},t.prototype.executeRemove=function(t,e,n){var o=this,r=t.remove;if(!ur.missingOrEmpty(r)){var i={};r.forEach((function(t){var r=o.lookupRowNode(t);r&&(r.isSelected()&&n.push(r),r.clearRowTopAndRowIndex(),i[r.id]=!0,delete o.allNodesMap[r.id],e.remove.push(r))})),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter((function(t){return!i[t.id]})),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}},t.prototype.executeUpdate=function(e,n,o){var r=this,i=e.update;ur.missingOrEmpty(i)||i.forEach((function(e){var i=r.lookupRowNode(e);i&&(i.updateData(e),!i.selectable&&i.isSelected()&&o.push(i),r.setMasterForRow(i,e,t.TOP_LEVEL,!1),n.update.push(i))}))},t.prototype.lookupRowNode=function(t){var e,n=this.gridOptionsService.getCallback("getRowId");if(n){var o=n({data:t,level:0});if(!(e=this.allNodesMap[o]))return console.error("AG Grid: could not find row id=".concat(o,", data item was not found for this id")),null}else if(!(e=this.rootNode.allLeafChildren.find((function(e){return e.data===t}))))return console.error("AG Grid: could not find data item as object was not found",t),console.error("Consider using getRowId to help the Grid find matching row data"),null;return e||null},t.prototype.createNode=function(t,e,n){var o=new ks(this.beans);o.group=!1,this.setMasterForRow(o,t,n,!0);var r=this.gridOptionsService.get("suppressParentsInRowNodes");return e&&!r&&(o.parent=e),o.level=n,o.setDataAndId(t,this.nextId.toString()),this.allNodesMap[o.id]&&console.warn("AG Grid: duplicate node id '".concat(o.id,"' detected from getRowId callback, this could cause issues in your grid.")),this.allNodesMap[o.id]=o,this.nextId++,o},t.prototype.setMasterForRow=function(t,e,n,o){if(this.gridOptionsService.get("treeData"))t.setMaster(!1),o&&(t.expanded=!1);else{if(this.gridOptionsService.get("masterDetail")){var r=this.gridOptionsService.get("isRowMaster");r?t.setMaster(r(e)):t.setMaster(!0)}else t.setMaster(!1);if(o){var i=this.columnModel.getRowGroupColumns(),s=n+(i?i.length:0);t.expanded=!!t.master&&this.isExpanded(s)}}},t.prototype.isExpanded=function(t){var e=this.gridOptionsService.get("groupDefaultExpanded");return-1===e||t<e},t.TOP_LEVEL=0,t.ROOT_NODE_ID="ROOT_NODE_ID",t}(),ry=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),iy=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},sy=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},ay=function(t,e,n){if(n||2===arguments.length)for(var o,r=0,i=e.length;r<i;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))};!function(t){t[t.Normal=0]="Normal",t[t.AfterFilter=1]="AfterFilter",t[t.AfterFilterAndSort=2]="AfterFilterAndSort",t[t.PivotNodes=3]="PivotNodes"}(ty||(ty={}));var ly,uy=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onRowHeightChanged_debounced=ur.debounce(e.onRowHeightChanged.bind(e),100),e.rowsToDisplay=[],e.hasStarted=!1,e.shouldSkipSettingDataOnStart=!1,e}return ry(e,t),e.prototype.init=function(){var t=this,e=this.refreshModel.bind(this,{step:Kd.EVERYTHING}),n=!this.gridOptionsService.get("suppressAnimationFrame"),o=this.refreshModel.bind(this,{step:Kd.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:n});this.addManagedListener(this.eventService,$t.EVENT_NEW_COLUMNS_LOADED,o),this.addManagedListener(this.eventService,$t.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.addManagedListener(this.eventService,$t.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,$t.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:Kd.PIVOT})),this.addManagedListener(this.eventService,$t.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,$t.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,$t.EVENT_COLUMN_PIVOT_MODE_CHANGED,e),this.addManagedListener(this.eventService,$t.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanges.bind(this)),this.addManagedListener(this.eventService,$t.EVENT_GRID_READY,(function(){return t.onGridReady()})),this.addPropertyListeners(),this.rootNode=new ks(this.beans),this.nodeManager=new oy(this.rootNode,this.gridOptionsService,this.eventService,this.columnModel,this.selectionService,this.beans)},e.prototype.addPropertyListeners=function(){var t=this,e=new Set(["treeData","masterDetail"]),n=new Set(["suppressParentsInRowNodes","groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType"]),o=new Set(["excludeChildrenWhenTreeDataFiltering"]),r=new Set(["removePivotHeaderRowWhenSingleValueColumn","pivotRowTotals","pivotColumnGroupTotals","suppressExpandablePivotGroups"]),i=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","groupIncludeTotalFooter","suppressAggFilteredOnly"]),s=new Set(["postSortRows","groupDisplayType","accentedSort"]),a=new Set([]),l=new Set(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter"]),u=ay(ay(ay(ay(ay(ay(ay(ay(ay([],sy(e),!1),sy(n),!1),sy(o),!1),sy(r),!1),sy(r),!1),sy(i),!1),sy(s),!1),sy(a),!1),sy(l),!1);this.addManagedPropertyListeners(u,(function(u){var c,d=null===(c=u.changeSet)||void 0===c?void 0:c.properties;if(d){var p=function(t){return d.some((function(e){return t.has(e)}))};p(e)?t.setRowData(t.rootNode.allLeafChildren.map((function(t){return t.data}))):p(n)?t.refreshModel({step:Kd.EVERYTHING}):p(o)?t.refreshModel({step:Kd.FILTER}):p(r)?t.refreshModel({step:Kd.PIVOT}):p(i)?t.refreshModel({step:Kd.AGGREGATE}):p(s)?t.refreshModel({step:Kd.SORT}):p(a)?t.refreshModel({step:Kd.FILTER_AGGREGATES}):p(l)&&t.refreshModel({step:Kd.MAP})}})),this.addManagedPropertyListener("rowHeight",(function(){return t.resetRowHeights()}))},e.prototype.start=function(){this.hasStarted=!0,this.shouldSkipSettingDataOnStart?this.dispatchUpdateEventsAndRefresh():this.setInitialData()},e.prototype.setInitialData=function(){var t=this.gridOptionsService.get("rowData");t&&(this.shouldSkipSettingDataOnStart=!0,this.setRowData(t))},e.prototype.ensureRowHeightsValid=function(t,e,n,o){var r,i=!1;do{r=!1;for(var s=this.getRowIndexAtPixel(t),a=this.getRowIndexAtPixel(e),l=Math.max(s,n),u=Math.min(a,o),c=l;c<=u;c++){var d=this.getRow(c);if(d.rowHeightEstimated){var p=this.gridOptionsService.getRowHeightForNode(d);d.setRowHeight(p.height),r=!0,i=!0}}r&&this.setRowTopAndRowIndex()}while(r);return i},e.prototype.setRowTopAndRowIndex=function(){for(var t=this.environment.getDefaultRowHeight(),e=0,n=new Set,o=this.gridOptionsService.isDomLayout("normal"),r=0;r<this.rowsToDisplay.length;r++){var i=this.rowsToDisplay[r];if(null!=i.id&&n.add(i.id),null==i.rowHeight){var s=this.gridOptionsService.getRowHeightForNode(i,o,t);i.setRowHeight(s.height,s.estimated)}i.setRowTop(e),i.setRowIndex(r),e+=i.rowHeight}return n},e.prototype.clearRowTopAndRowIndex=function(t,e){var n=t.isActive(),o=function(t){t&&null!=t.id&&!e.has(t.id)&&t.clearRowTopAndRowIndex()},r=function(t){if(o(t),o(t.detailNode),o(t.sibling),t.hasChildren()&&t.childrenAfterGroup){var e=-1==t.level;n&&!e&&!t.expanded||t.childrenAfterGroup.forEach(r)}};r(this.rootNode)},e.prototype.ensureRowsAtPixel=function(t,e,n){var o=this;void 0===n&&(n=0);var r=this.getRowIndexAtPixel(e),i=this.getRow(r),s=!this.gridOptionsService.get("suppressAnimationFrame");return i!==t[0]&&(t.forEach((function(t){ur.removeFromArray(o.rootNode.allLeafChildren,t)})),t.forEach((function(t,e){ur.insertIntoArray(o.rootNode.allLeafChildren,t,Math.max(r+n,0)+e)})),this.refreshModel({step:Kd.EVERYTHING,keepRenderedRows:!0,keepEditingRows:!0,animate:s}),!0)},e.prototype.highlightRowAtPixel=function(t,e){var n=null!=e?this.getRowIndexAtPixel(e):null,o=null!=n?this.getRow(n):null;if(o&&t&&o!==t&&null!=e){var r=this.getHighlightPosition(e,o);this.lastHighlightedRow&&this.lastHighlightedRow!==o&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),o.setHighlighted(r),this.lastHighlightedRow=o}else this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)},e.prototype.getHighlightPosition=function(t,e){if(!e){var n=this.getRowIndexAtPixel(t);if(!(e=this.getRow(n||0)))return nl.Below}return t-e.rowTop<e.rowHeight/2?nl.Above:nl.Below},e.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},e.prototype.isLastRowIndexKnown=function(){return!0},e.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},e.prototype.getTopLevelRowCount=function(){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;var t=this.rootNode.childrenAfterAggFilter;return t?t.length:0},e.prototype.getTopLevelRowDisplayedIndex=function(t){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return t;var e=this.rootNode.childrenAfterSort[t];if(this.gridOptionsService.get("groupHideOpenParents"))for(;e.expanded&&e.childrenAfterSort&&e.childrenAfterSort.length>0;)e=e.childrenAfterSort[0];return e.rowIndex},e.prototype.getRowBounds=function(t){if(ur.missing(this.rowsToDisplay))return null;var e=this.rowsToDisplay[t];return e?{rowTop:e.rowTop,rowHeight:e.rowHeight}:null},e.prototype.onRowGroupOpened=function(){var t=this.gridOptionsService.isAnimateRows();this.refreshModel({step:Kd.MAP,keepRenderedRows:!0,animate:t})},e.prototype.onFilterChanged=function(t){if(!t.afterDataChange){var e=this.gridOptionsService.isAnimateRows(),n=0===t.columns.length||t.columns.some((function(t){return t.isPrimary()}))?Kd.FILTER:Kd.FILTER_AGGREGATES;this.refreshModel({step:n,keepRenderedRows:!0,animate:e})}},e.prototype.onSortChanged=function(){var t=this.gridOptionsService.isAnimateRows();this.refreshModel({step:Kd.SORT,keepRenderedRows:!0,animate:t,keepEditingRows:!0})},e.prototype.getType=function(){return"clientSide"},e.prototype.onValueChanged=function(){this.columnModel.isPivotActive()?this.refreshModel({step:Kd.PIVOT}):this.refreshModel({step:Kd.AGGREGATE})},e.prototype.createChangePath=function(t){var e=ur.missingOrEmpty(t),n=new Wp(!1,this.rootNode);return(e||this.gridOptionsService.get("treeData"))&&n.setInactive(),n},e.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(t){if(!this.gridOptionsService.get("suppressModelUpdateAfterUpdateTransaction"))return!1;if(null==t.rowNodeTransactions)return!1;var e=t.rowNodeTransactions.filter((function(t){return null!=t.add&&t.add.length>0||null!=t.remove&&t.remove.length>0}));return null==e||0==e.length},e.prototype.buildRefreshModelParams=function(t){var e=Kd.EVERYTHING,n={everything:Kd.EVERYTHING,group:Kd.EVERYTHING,filter:Kd.FILTER,map:Kd.MAP,aggregate:Kd.AGGREGATE,sort:Kd.SORT,pivot:Kd.PIVOT};if(ur.exists(t)&&(e=n[t]),!ur.missing(e))return{step:e,keepRenderedRows:!0,keepEditingRows:!0,animate:!this.gridOptionsService.get("suppressAnimationFrame")};console.error("AG Grid: invalid step ".concat(t,", available steps are ").concat(Object.keys(n).join(", ")))},e.prototype.refreshModel=function(t){if(this.hasStarted){var e="object"===typeof t&&"step"in t?t:this.buildRefreshModelParams(t);if(e&&!this.isSuppressModelUpdateAfterUpdateTransaction(e)){var n=this.createChangePath(e.rowNodeTransactions);switch(e.step){case Kd.EVERYTHING:this.doRowGrouping(e.rowNodeTransactions,e.rowNodeOrder,n,!!e.afterColumnsChanged);case Kd.FILTER:this.doFilter(n);case Kd.PIVOT:this.doPivot(n);case Kd.AGGREGATE:this.doAggregate(n);case Kd.FILTER_AGGREGATES:this.doFilterAggregates(n);case Kd.SORT:this.doSort(e.rowNodeTransactions,n);case Kd.MAP:this.doRowsToDisplay()}var o=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(n,o);var r={type:$t.EVENT_MODEL_UPDATED,animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1,keepUndoRedoStack:e.keepUndoRedoStack};this.eventService.dispatchEvent(r)}}},e.prototype.isEmpty=function(){var t=ur.missing(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return ur.missing(this.rootNode)||t||!this.columnModel.isReady()},e.prototype.isRowsToRender=function(){return ur.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},e.prototype.getNodesInRangeForSelection=function(t,e){var n=!e,o=!1,r=[],i=this.gridOptionsService.get("groupSelectsChildren");return this.forEachNodeAfterFilterAndSort((function(s){if(!o)if(n&&(s===e||s===t)&&(o=!0,s.group&&i))r.push.apply(r,ay([],sy(s.allLeafChildren),!1));else{if(!n){if(s!==e&&s!==t)return;n=!0}(!s.group||!i)&&r.push(s)}})),r},e.prototype.setDatasource=function(t){console.error("AG Grid: should never call setDatasource on clientSideRowController")},e.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},e.prototype.getRootNode=function(){return this.rootNode},e.prototype.getRow=function(t){return this.rowsToDisplay[t]},e.prototype.isRowPresent=function(t){return this.rowsToDisplay.indexOf(t)>=0},e.prototype.getRowIndexAtPixel=function(t){if(this.isEmpty()||0===this.rowsToDisplay.length)return-1;var e=0,n=this.rowsToDisplay.length-1;if(t<=0)return 0;if(ur.last(this.rowsToDisplay).rowTop<=t)return this.rowsToDisplay.length-1;for(var o=-1,r=-1;;){var i=Math.floor((e+n)/2),s=this.rowsToDisplay[i];if(this.isRowInPixel(s,t))return i;if(s.rowTop<t?e=i+1:s.rowTop>t&&(n=i-1),o===e&&r===n)return i;o=e,r=n}},e.prototype.isRowInPixel=function(t,e){var n=t.rowTop,o=t.rowTop+t.rowHeight;return n<=e&&o>e},e.prototype.forEachLeafNode=function(t){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach((function(e,n){return t(e,n)}))},e.prototype.forEachNode=function(t,e){void 0===e&&(e=!1),this.recursivelyWalkNodesAndCallback({nodes:ay([],sy(this.rootNode.childrenAfterGroup||[]),!1),callback:t,recursionType:ty.Normal,index:0,includeFooterNodes:e})},e.prototype.forEachNodeAfterFilter=function(t,e){void 0===e&&(e=!1),this.recursivelyWalkNodesAndCallback({nodes:ay([],sy(this.rootNode.childrenAfterAggFilter||[]),!1),callback:t,recursionType:ty.AfterFilter,index:0,includeFooterNodes:e})},e.prototype.forEachNodeAfterFilterAndSort=function(t,e){void 0===e&&(e=!1),this.recursivelyWalkNodesAndCallback({nodes:ay([],sy(this.rootNode.childrenAfterSort||[]),!1),callback:t,recursionType:ty.AfterFilterAndSort,index:0,includeFooterNodes:e})},e.prototype.forEachPivotNode=function(t,e){void 0===e&&(e=!1),this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:t,recursionType:ty.PivotNodes,index:0,includeFooterNodes:e})},e.prototype.recursivelyWalkNodesAndCallback=function(t){for(var e,n=t.nodes,o=t.callback,r=t.recursionType,i=t.includeFooterNodes,s=t.index,a=0;a<n.length;a++){var l=n[a];if(o(l,s++),l.hasChildren()&&!l.footer){var u=null;switch(r){case ty.Normal:u=l.childrenAfterGroup;break;case ty.AfterFilter:u=l.childrenAfterAggFilter;break;case ty.AfterFilterAndSort:u=l.childrenAfterSort;break;case ty.PivotNodes:u=l.leafGroup?null:l.childrenAfterSort}u&&(s=this.recursivelyWalkNodesAndCallback({nodes:ay([],sy(u),!1),callback:o,recursionType:r,index:s,includeFooterNodes:i}))}}var c=null===(e=n[0])||void 0===e?void 0:e.parent;if(!i||!c)return s;if(c===this.rootNode){if(!this.gridOptionsService.get("groupIncludeTotalFooter"))return s}else if(!this.gridOptionsService.getGroupIncludeFooter()({node:c}))return s;return c.createFooter(),o(c.sibling,s++),s},e.prototype.doAggregate=function(t){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:t})},e.prototype.doFilterAggregates=function(t){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:t}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter},e.prototype.expandOrCollapseAll=function(t){var e=this.gridOptionsService.get("treeData"),n=this.columnModel.isPivotActive(),o=function(r){r&&r.forEach((function(r){var i=function(){r.expanded=t,o(r.childrenAfterGroup)};e?ur.exists(r.childrenAfterGroup)&&i():n?!r.leafGroup&&i():r.group&&i()}))};this.rootNode&&o(this.rootNode.childrenAfterGroup),this.refreshModel({step:Kd.MAP});var r=t?"expandAll":"collapseAll",i={type:$t.EVENT_EXPAND_COLLAPSE_ALL,source:r};this.eventService.dispatchEvent(i)},e.prototype.doSort=function(t,e){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:t,changedPath:e})},e.prototype.doRowGrouping=function(t,e,n,o){if(this.groupStage){if(t?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:t,rowNodeOrder:e,changedPath:n}):this.groupStage.execute({rowNode:this.rootNode,changedPath:n,afterColumnsChanged:o}),this.gridOptionsService.get("groupSelectsChildren")&&this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",n)){var r={type:$t.EVENT_SELECTION_CHANGED,source:"rowGroupChanged"};this.eventService.dispatchEvent(r)}}else this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren();this.eventService.dispatchEventOnce({type:$t.EVENT_ROW_COUNT_READY})},e.prototype.doFilter=function(t){this.filterStage.execute({rowNode:this.rootNode,changedPath:t})},e.prototype.doPivot=function(t){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:t})},e.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},e.prototype.getRowNode=function(t){if("string"==typeof t&&0==t.indexOf(ks.ID_PREFIX_ROW_GROUP)){var e=void 0;return this.forEachNode((function(n){n.id===t&&(e=n)})),e}return this.nodeManager.getRowNode(t)},e.prototype.setRowData=function(t){this.selectionService.reset("rowDataChanged"),this.nodeManager.setRowData(t),this.hasStarted&&this.dispatchUpdateEventsAndRefresh()},e.prototype.dispatchUpdateEventsAndRefresh=function(){var t={type:$t.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(t),this.refreshModel({step:Kd.EVERYTHING,newData:!0})},e.prototype.batchUpdateRowData=function(t,e){var n=this;if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];var o=this.gridOptionsService.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout((function(){n.executeBatchUpdateRowData()}),o)}this.rowDataTransactionBatch.push({rowDataTransaction:t,callback:e})},e.prototype.flushAsyncTransactions=function(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())},e.prototype.executeBatchUpdateRowData=function(){var t=this;this.valueCache.onDataChanged();var e=[],n=[],o=!1;if(this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach((function(r){var i=t.nodeManager.updateRowData(r.rowDataTransaction,void 0);n.push(i),r.callback&&e.push(r.callback.bind(null,i)),"number"===typeof r.rowDataTransaction.addIndex&&(o=!0)})),this.commonUpdateRowData(n,void 0,o),e.length>0&&window.setTimeout((function(){e.forEach((function(t){return t()}))}),0),n.length>0){var r={type:$t.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:n};this.eventService.dispatchEvent(r)}this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0},e.prototype.updateRowData=function(t,e){this.valueCache.onDataChanged();var n=this.nodeManager.updateRowData(t,e),o="number"===typeof t.addIndex;return this.commonUpdateRowData([n],e,o),n},e.prototype.createRowNodeOrder=function(){if(!this.gridOptionsService.get("suppressMaintainUnsortedOrder")){var t={};if(this.rootNode&&this.rootNode.allLeafChildren)for(var e=0;e<this.rootNode.allLeafChildren.length;e++){t[this.rootNode.allLeafChildren[e].id]=e}return t}},e.prototype.commonUpdateRowData=function(t,e,n){if(this.hasStarted){var o=!this.gridOptionsService.get("suppressAnimationFrame");n&&(e=this.createRowNodeOrder());var r={type:$t.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(r),this.refreshModel({step:Kd.EVERYTHING,rowNodeTransactions:t,rowNodeOrder:e,keepRenderedRows:!0,keepEditingRows:!0,animate:o})}},e.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},e.prototype.onRowHeightChanged=function(){this.refreshModel({step:Kd.MAP,keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})},e.prototype.onRowHeightChangedDebounced=function(){this.onRowHeightChanged_debounced()},e.prototype.resetRowHeights=function(){var t=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),t&&this.onRowHeightChanged()},e.prototype.resetRowHeightsForAllRowNodes=function(){var t=!1;return this.forEachNode((function(e){e.setRowHeight(e.rowHeight,!0);var n=e.detailNode;n&&n.setRowHeight(n.rowHeight,!0),e.sibling&&e.sibling.setRowHeight(e.sibling.rowHeight,!0),t=!0})),t},e.prototype.onGridStylesChanges=function(){this.columnModel.isAutoRowHeightActive()||this.resetRowHeights()},e.prototype.onGridReady=function(){this.hasStarted||this.setInitialData()},e.prototype.isRowDataLoaded=function(){return this.nodeManager.hasData()},iy([nt("columnModel")],e.prototype,"columnModel",void 0),iy([nt("selectionService")],e.prototype,"selectionService",void 0),iy([nt("filterManager")],e.prototype,"filterManager",void 0),iy([nt("valueCache")],e.prototype,"valueCache",void 0),iy([nt("beans")],e.prototype,"beans",void 0),iy([nt("filterStage")],e.prototype,"filterStage",void 0),iy([nt("sortStage")],e.prototype,"sortStage",void 0),iy([nt("flattenStage")],e.prototype,"flattenStage",void 0),iy([ot("groupStage")],e.prototype,"groupStage",void 0),iy([ot("aggregationStage")],e.prototype,"aggregationStage",void 0),iy([ot("pivotStage")],e.prototype,"pivotStage",void 0),iy([ot("filterAggregatesStage")],e.prototype,"filterAggregatesStage",void 0),iy([J],e.prototype,"init",null),e=iy([et("rowModel")],e)}(Ut),cy=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),dy=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},py=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return cy(e,t),e.prototype.execute=function(t){var e=t.changedPath;this.filterService.filter(e)},dy([nt("filterService")],e.prototype,"filterService",void 0),e=dy([et("filterStage")],e)}(Ut),hy=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),fy=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},gy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return hy(e,t),e.prototype.execute=function(t){var e=this,n=this.sortController.getSortOptions(),o=ur.exists(n)&&n.length>0,r=o&&ur.exists(t.rowNodeTransactions)&&this.gridOptionsService.get("deltaSort"),i=n.some((function(t){return e.gridOptionsService.isColumnsSortingCoupledToGroup()?t.column.isPrimary()&&t.column.isRowGroupActive():!!t.column.getColDef().showRowGroup}));this.sortService.sort(n,o,r,t.rowNodeTransactions,t.changedPath,i)},fy([nt("sortService")],e.prototype,"sortService",void 0),fy([nt("sortController")],e.prototype,"sortController",void 0),e=fy([et("sortStage")],e)}(Ut),vy=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),my=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},yy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return vy(e,t),e.prototype.execute=function(t){var e=t.rowNode,n=[],o=this.columnModel.isPivotMode(),r=o&&e.leafGroup,i=r?[e]:e.childrenAfterSort,s=this.getFlattenDetails();return this.recursivelyAddToRowsToDisplay(s,i,n,o,0),!r&&n.length>0&&s.groupIncludeTotalFooter&&(e.createFooter(),this.addRowNodeToRowsToDisplay(s,e.sibling,n,0)),n},e.prototype.getFlattenDetails=function(){var t=this.gridOptionsService.get("groupRemoveSingleChildren");return{groupRemoveLowestSingleChildren:!t&&this.gridOptionsService.get("groupRemoveLowestSingleChildren"),groupRemoveSingleChildren:t,isGroupMultiAutoColumn:this.gridOptionsService.isGroupMultiAutoColumn(),hideOpenParents:this.gridOptionsService.get("groupHideOpenParents"),groupIncludeTotalFooter:this.gridOptionsService.get("groupIncludeTotalFooter"),getGroupIncludeFooter:this.gridOptionsService.getGroupIncludeFooter()}},e.prototype.recursivelyAddToRowsToDisplay=function(t,e,n,o,r){if(!ur.missingOrEmpty(e))for(var i=0;i<e.length;i++){var s=e[i],a=s.hasChildren(),l=o&&!a,u=t.groupRemoveSingleChildren&&a&&1===s.childrenAfterGroup.length,c=t.groupRemoveLowestSingleChildren&&a&&s.leafGroup&&1===s.childrenAfterGroup.length,d=o&&s.leafGroup,p=t.hideOpenParents&&s.expanded&&!s.master&&!d;if(!l&&!p&&!u&&!c&&this.addRowNodeToRowsToDisplay(t,s,n,r),!o||!s.leafGroup)if(a){var h=u||c;if(s.expanded||h){var f=h?r:r+1;this.recursivelyAddToRowsToDisplay(t,s.childrenAfterSort,n,o,f),t.getGroupIncludeFooter({node:s})?(s.createFooter(),this.addRowNodeToRowsToDisplay(t,s.sibling,n,f)):s.destroyFooter()}}else if(s.master&&s.expanded){var g=this.createDetailNode(s);this.addRowNodeToRowsToDisplay(t,g,n,r)}}},e.prototype.addRowNodeToRowsToDisplay=function(t,e,n,o){n.push(e),e.setUiLevel(t.isGroupMultiAutoColumn?0:o)},e.prototype.createDetailNode=function(t){if(ur.exists(t.detailNode))return t.detailNode;var e=new ks(this.beans);return e.detail=!0,e.selectable=!1,e.parent=t,ur.exists(t.id)&&(e.id="detail_"+t.id),e.data=t.data,e.level=t.level+1,t.detailNode=e,e},my([nt("columnModel")],e.prototype,"columnModel",void 0),my([nt("beans")],e.prototype,"beans",void 0),e=my([et("flattenStage")],e)}(Ut),Cy=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),wy=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},by=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Cy(e,t),e.prototype.sort=function(t,e,n,o,r,i){var s=this,a=this.gridOptionsService.get("groupMaintainOrder"),l=this.columnModel.getAllGridColumns().some((function(t){return t.isRowGroupActive()})),u={};n&&o&&(u=this.calculateDirtyNodes(o));var c=this.columnModel.isPivotMode(),d=this.gridOptionsService.getCallback("postSortRows");r&&r.forEachChangedNodeDepthFirst((function(o){s.pullDownGroupDataForHideOpenParents(o.childrenAfterAggFilter,!0);var p=c&&o.leafGroup;if(a&&l&&!o.leafGroup&&!i){var h=o.childrenAfterAggFilter.slice(0);if(o.childrenAfterSort){var f={};o.childrenAfterSort.forEach((function(t,e){f[t.id]=e})),h.sort((function(t,e){var n,o;return(null!==(n=f[t.id])&&void 0!==n?n:0)-(null!==(o=f[e.id])&&void 0!==o?o:0)}))}o.childrenAfterSort=h}else o.childrenAfterSort=!e||p?o.childrenAfterAggFilter.slice(0):n?s.doDeltaSort(o,u,r,t):s.rowNodeSorter.doFullSort(o.childrenAfterAggFilter,t);if(o.sibling&&(o.sibling.childrenAfterSort=o.childrenAfterSort),s.updateChildIndexes(o),d){var g={nodes:o.childrenAfterSort};d(g)}})),this.updateGroupDataForHideOpenParents(r)},e.prototype.calculateDirtyNodes=function(t){var e={},n=function(t){t&&t.forEach((function(t){return e[t.id]=!0}))};return t&&t.forEach((function(t){n(t.add),n(t.update),n(t.remove)})),e},e.prototype.doDeltaSort=function(t,e,n,o){var r=this,i=t.childrenAfterAggFilter,s=t.childrenAfterSort;if(!s)return this.rowNodeSorter.doFullSort(i,o);var a={},l=[];i.forEach((function(t){e[t.id]||!n.canSkip(t)?l.push(t):a[t.id]=!0}));var u=s.filter((function(t){return a[t.id]})),c=function(t,e){return{currentPos:e,rowNode:t}},d=l.map(c).sort((function(t,e){return r.rowNodeSorter.compareRowNodes(o,t,e)}));return this.mergeSortedArrays(o,d,u.map(c)).map((function(t){return t.rowNode}))},e.prototype.mergeSortedArrays=function(t,e,n){for(var o=[],r=0,i=0;r<e.length&&i<n.length;){this.rowNodeSorter.compareRowNodes(t,e[r],n[i])<0?o.push(e[r++]):o.push(n[i++])}for(;r<e.length;)o.push(e[r++]);for(;i<n.length;)o.push(n[i++]);return o},e.prototype.updateChildIndexes=function(t){if(!ur.missing(t.childrenAfterSort))for(var e=t.childrenAfterSort,n=0;n<e.length;n++){var o=e[n],r=0===n,i=n===t.childrenAfterSort.length-1;o.setFirstChild(r),o.setLastChild(i),o.setChildIndex(n)}},e.prototype.updateGroupDataForHideOpenParents=function(t){var e=this;if(this.gridOptionsService.get("groupHideOpenParents")){if(this.gridOptionsService.get("treeData"))return ur.warnOnce("The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them."),!1;var n=function(t){e.pullDownGroupDataForHideOpenParents(t.childrenAfterSort,!1),t.childrenAfterSort.forEach((function(t){t.hasChildren()&&n(t)}))};t&&t.executeFromRootNode((function(t){return n(t)}))}},e.prototype.pullDownGroupDataForHideOpenParents=function(t,e){var n=this;this.gridOptionsService.get("groupHideOpenParents")&&!ur.missing(t)&&t.forEach((function(t){n.columnModel.getGroupDisplayColumns().forEach((function(o){var r=o.getColDef().showRowGroup;if("string"===typeof r){var i=r,s=n.columnModel.getPrimaryColumn(i);if(!(s===t.rowGroupColumn))if(e)t.setGroupValue(o.getId(),void 0);else{var a=t.getFirstChildOfFirstChild(s);a&&t.setGroupValue(o.getId(),a.key)}}else console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup")}))}))},wy([nt("columnModel")],e.prototype,"columnModel",void 0),wy([nt("rowNodeSorter")],e.prototype,"rowNodeSorter",void 0),e=wy([et("sortService")],e)}(Ut),_y=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Sy=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ey=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _y(e,t),e.prototype.filter=function(t){var e=this.filterManager.isChildFilterPresent();this.filterNodes(e,t)},e.prototype.filterNodes=function(t,e){var n=this,o=function(e,o){e.hasChildren()?e.childrenAfterFilter=t&&!o?e.childrenAfterGroup.filter((function(t){var e=t.childrenAfterFilter&&t.childrenAfterFilter.length>0,o=t.data&&n.filterManager.doesRowPassFilter({rowNode:t});return e||o})):e.childrenAfterGroup:e.childrenAfterFilter=e.childrenAfterGroup,e.sibling&&(e.sibling.childrenAfterFilter=e.childrenAfterFilter)};if(this.doingTreeDataFiltering()){var r=function(t,e){if(t.childrenAfterGroup)for(var i=0;i<t.childrenAfterGroup.length;i++){var s=t.childrenAfterGroup[i],a=e||n.filterManager.doesRowPassFilter({rowNode:s});s.childrenAfterGroup?r(t.childrenAfterGroup[i],a):o(s,a)}o(t,e)};e.executeFromRootNode((function(t){return r(t,!1)}))}else{e.forEachChangedNodeDepthFirst((function(t){return o(t,!1)}),!0)}},e.prototype.doingTreeDataFiltering=function(){return this.gridOptionsService.get("treeData")&&!this.gridOptionsService.get("excludeChildrenWhenTreeDataFiltering")},Sy([nt("filterManager")],e.prototype,"filterManager",void 0),e=Sy([et("filterService")],e)}(Ut),Oy=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),xy=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ty=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},Ry=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Oy(e,t),e.prototype.postConstruct=function(){var t=this;"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel,this.addManagedPropertyListener("rowData",(function(){return t.onRowDataUpdated()})))},e.prototype.isActive=function(){var t=this.gridOptionsService.exists("getRowId");return!this.gridOptionsService.get("resetRowDataOnUpdate")&&t},e.prototype.setRowData=function(t){var e=this.createTransactionForRowData(t);if(e){var n=Ty(e,2),o=n[0],r=n[1];this.clientSideRowModel.updateRowData(o,r)}},e.prototype.createTransactionForRowData=function(t){if(ur.missing(this.clientSideRowModel))console.error("AG Grid: ImmutableService only works with ClientSideRowModel");else{var e=this.gridOptionsService.getCallback("getRowId");if(null!=e){var n={remove:[],update:[],add:[]},o=this.clientSideRowModel.getCopyOfNodesMap(),r=this.gridOptionsService.get("suppressMaintainUnsortedOrder")?void 0:{};return ur.exists(t)&&t.forEach((function(t,i){var s=e({data:t,level:0}),a=o[s];(r&&(r[s]=i),a)?(a.data!==t&&n.update.push(t),o[s]=void 0):n.add.push(t)})),ur.iterateObject(o,(function(t,e){e&&n.remove.push(e.data)})),[n,r]}console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!")}},e.prototype.onRowDataUpdated=function(){var t=this.gridOptionsService.get("rowData");t&&(this.isActive()?this.setRowData(t):(this.selectionService.reset("rowDataChanged"),this.clientSideRowModel.setRowData(t)))},xy([nt("rowModel")],e.prototype,"rowModel",void 0),xy([nt("rowRenderer")],e.prototype,"rowRenderer",void 0),xy([nt("selectionService")],e.prototype,"selectionService",void 0),xy([J],e.prototype,"postConstruct",null),e=xy([et("immutableService")],e)}(Ut),Dy={version:"31.0.1",moduleName:z.ClientSideRowModelModule,rowModel:"clientSide",beans:[uy,py,gy,yy,by,Ey,Ry]},Py=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ly=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},My=function(t){function e(e,n,o){var r=t.call(this,e)||this;return r.parentCache=n,r.params=o,r.startRow=e*o.blockSize,r.endRow=r.startRow+o.blockSize,r}return Py(e,t),e.prototype.postConstruct=function(){this.createRowNodes()},e.prototype.getBlockStateJson=function(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}},e.prototype.setDataAndId=function(t,e,n){ur.exists(e)?t.setDataAndId(e,n.toString()):t.setDataAndId(void 0,void 0)},e.prototype.loadFromDatasource=function(){var t=this,e=this.createLoadParams();ur.missing(this.params.datasource.getRows)?console.warn("AG Grid: datasource is missing getRows method"):window.setTimeout((function(){t.params.datasource.getRows(e)}),0)},e.prototype.processServerFail=function(){},e.prototype.createLoadParams=function(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsService.context}},e.prototype.forEachNode=function(t,e,n){var o=this;this.rowNodes.forEach((function(r,i){o.startRow+i<n&&t(r,e.next())}))},e.prototype.getLastAccessed=function(){return this.lastAccessed},e.prototype.getRow=function(t,e){void 0===e&&(e=!1),e||(this.lastAccessed=this.params.lastAccessedSequence.next());var n=t-this.startRow;return this.rowNodes[n]},e.prototype.getStartRow=function(){return this.startRow},e.prototype.getEndRow=function(){return this.endRow},e.prototype.createRowNodes=function(){this.rowNodes=[];for(var t=0;t<this.params.blockSize;t++){var e=this.startRow+t,n=new ks(this.beans);n.setRowHeight(this.params.rowHeight),n.uiLevel=0,n.setRowIndex(e),n.setRowTop(this.params.rowHeight*e),this.rowNodes.push(n)}},e.prototype.processServerResult=function(t){var e=this;this.rowNodes.forEach((function(n,o){var r=t.rowData?t.rowData[o]:void 0;!n.id&&n.alreadyRendered&&r&&(e.rowNodes[o]=new ks(e.beans),e.rowNodes[o].setRowIndex(n.rowIndex),e.rowNodes[o].setRowTop(n.rowTop),e.rowNodes[o].setRowHeight(n.rowHeight),n.clearRowTopAndRowIndex()),e.setDataAndId(e.rowNodes[o],r,e.startRow+o)}));var n=null!=t.rowCount&&t.rowCount>=0?t.rowCount:void 0;this.parentCache.pageLoaded(this,n)},e.prototype.destroyRowNodes=function(){this.rowNodes.forEach((function(t){t.clearRowTopAndRowIndex()}))},Ly([nt("beans")],e.prototype,"beans",void 0),Ly([J],e.prototype,"postConstruct",null),Ly([tt],e.prototype,"destroyRowNodes",null),e}(Up),Ay=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ky=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Ny=function(t,e){return function(n,o){e(n,o,t)}},Fy=function(t){function e(e){var n=t.call(this)||this;return n.lastRowIndexKnown=!1,n.blocks={},n.blockCount=0,n.rowCount=e.initialRowCount,n.params=e,n}return Ay(e,t),e.prototype.setBeans=function(t){this.logger=t.create("InfiniteCache")},e.prototype.getRow=function(t,e){void 0===e&&(e=!1);var n=Math.floor(t/this.params.blockSize),o=this.blocks[n];if(!o){if(e)return;o=this.createBlock(n)}return o.getRow(t)},e.prototype.createBlock=function(t){var e=this.createBean(new My(t,this,this.params));return this.blocks[e.getId()]=e,this.blockCount++,this.purgeBlocksIfNeeded(e),this.params.rowNodeBlockLoader.addBlock(e),e},e.prototype.refreshCache=function(){0==this.blockCount?this.purgeCache():(this.getBlocksInOrder().forEach((function(t){return t.setStateWaitingToLoad()})),this.params.rowNodeBlockLoader.checkBlockToLoad())},e.prototype.destroyAllBlocks=function(){var t=this;this.getBlocksInOrder().forEach((function(e){return t.destroyBlock(e)}))},e.prototype.getRowCount=function(){return this.rowCount},e.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},e.prototype.pageLoaded=function(t,e){this.isAlive()&&(this.logger.log("onPageLoaded: page = ".concat(t.getId(),", lastRow = ").concat(e)),this.checkRowCount(t,e),this.onCacheUpdated())},e.prototype.purgeBlocksIfNeeded=function(t){var n=this,o=this.getBlocksInOrder().filter((function(e){return e!=t}));o.sort((function(t,e){return e.getLastAccessed()-t.getLastAccessed()}));var r=this.params.maxBlocksInCache>0,i=r?this.params.maxBlocksInCache-1:null,s=e.MAX_EMPTY_BLOCKS_TO_KEEP-1;o.forEach((function(t,e){if(t.getState()===My.STATE_WAITING_TO_LOAD&&e>=s||!!r&&e>=i){if(n.isBlockCurrentlyDisplayed(t))return;if(n.isBlockFocused(t))return;n.removeBlockFromCache(t)}}))},e.prototype.isBlockFocused=function(t){var e=this.focusService.getFocusCellToUseAfterRefresh();if(!e)return!1;if(null!=e.rowPinned)return!1;var n=t.getStartRow(),o=t.getEndRow();return e.rowIndex>=n&&e.rowIndex<o},e.prototype.isBlockCurrentlyDisplayed=function(t){var e=t.getStartRow(),n=t.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(e,n)},e.prototype.removeBlockFromCache=function(t){t&&this.destroyBlock(t)},e.prototype.checkRowCount=function(t,e){if("number"===typeof e&&e>=0)this.rowCount=e,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var n=(t.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<n&&(this.rowCount=n)}},e.prototype.setRowCount=function(t,e){this.rowCount=t,ur.exists(e)&&(this.lastRowIndexKnown=e),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()},e.prototype.forEachNodeDeep=function(t){var e=this,n=new cr;this.getBlocksInOrder().forEach((function(o){return o.forEachNode(t,n,e.rowCount)}))},e.prototype.getBlocksInOrder=function(){return ur.getAllValuesInObject(this.blocks).sort((function(t,e){return t.getId()-e.getId()}))},e.prototype.destroyBlock=function(t){delete this.blocks[t.getId()],this.destroyBean(t),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(t)},e.prototype.onCacheUpdated=function(){if(this.isAlive()){this.destroyAllBlocksPastVirtualRowCount();var t={type:$t.EVENT_STORE_UPDATED};this.eventService.dispatchEvent(t)}},e.prototype.destroyAllBlocksPastVirtualRowCount=function(){var t=this,e=[];this.getBlocksInOrder().forEach((function(n){n.getId()*t.params.blockSize>=t.rowCount&&e.push(n)})),e.length>0&&e.forEach((function(e){return t.destroyBlock(e)}))},e.prototype.purgeCache=function(){var t=this;this.getBlocksInOrder().forEach((function(e){return t.removeBlockFromCache(e)})),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()},e.prototype.getRowNodesInRange=function(t,e){var n=this,o=[],r=-1,i=!1,s=new cr;ur.missing(t)&&(i=!0);var a=!1;return this.getBlocksInOrder().forEach((function(l){a||(i&&r+1!==l.getId()?a=!0:(r=l.getId(),l.forEachNode((function(n){var r=n===t||n===e;(i||r)&&o.push(n),r&&(i=!i)}),s,n.rowCount)))})),a||i?[]:o},e.MAX_EMPTY_BLOCKS_TO_KEEP=2,ky([nt("rowRenderer")],e.prototype,"rowRenderer",void 0),ky([nt("focusService")],e.prototype,"focusService",void 0),ky([Ny(0,it("loggerFactory"))],e.prototype,"setBeans",null),ky([tt],e.prototype,"destroyAllBlocks",null),e}(Ut),Iy=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Gy=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Hy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Iy(e,t),e.prototype.getRowBounds=function(t){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*t}},e.prototype.ensureRowHeightsValid=function(t,e,n,o){return!1},e.prototype.init=function(){var t=this;this.gridOptionsService.isRowModelType("infinite")&&(this.rowHeight=this.gridOptionsService.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc((function(){return t.destroyCache()})),this.verifyProps())},e.prototype.verifyProps=function(){this.gridOptionsService.exists("initialGroupOrderComparator")&&ur.warnOnce("initialGroupOrderComparator cannot be used with Infinite Row Model as sorting is done on the server side")},e.prototype.start=function(){this.setDatasource(this.gridOptionsService.get("datasource"))},e.prototype.destroyDatasource=function(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)},e.prototype.addEventListeners=function(){var t=this;this.addManagedListener(this.eventService,$t.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,$t.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,$t.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,$t.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this)),this.addManagedPropertyListener("datasource",(function(){return t.setDatasource(t.gridOptionsService.get("datasource"))})),this.addManagedPropertyListener("cacheBlockSize",(function(){return t.resetCache()})),this.addManagedPropertyListener("rowHeight",(function(){t.rowHeight=t.gridOptionsService.getRowHeightAsNumber(),t.cacheParams.rowHeight=t.rowHeight,t.updateRowHeights()}))},e.prototype.onFilterChanged=function(){this.reset()},e.prototype.onSortChanged=function(){this.reset()},e.prototype.onColumnEverything=function(){(!this.cacheParams||this.isSortModelDifferent())&&this.reset()},e.prototype.isSortModelDifferent=function(){return!ur.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},e.prototype.getType=function(){return"infinite"},e.prototype.setDatasource=function(t){this.destroyDatasource(),this.datasource=t,t&&this.reset()},e.prototype.isEmpty=function(){return!this.infiniteCache},e.prototype.isRowsToRender=function(){return!!this.infiniteCache},e.prototype.getNodesInRangeForSelection=function(t,e){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(t,e):[]},e.prototype.reset=function(){this.datasource&&(null!=this.gridOptionsService.getCallback("getRowId")||this.selectionService.reset("rowDataChanged"),this.resetCache())},e.prototype.createModelUpdatedEvent=function(){return{type:$t.EVENT_MODEL_UPDATED,newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1}},e.prototype.resetCache=function(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.gridOptionsService.get("infiniteInitialRowCount"),maxBlocksInCache:this.gridOptionsService.get("maxBlocksInCache"),rowHeight:this.gridOptionsService.getRowHeightAsNumber(),overflowSize:this.gridOptionsService.get("cacheOverflowSize"),blockSize:this.gridOptionsService.get("cacheBlockSize"),lastAccessedSequence:new cr},this.infiniteCache=this.createBean(new Fy(this.cacheParams)),this.eventService.dispatchEventOnce({type:$t.EVENT_ROW_COUNT_READY});var t=this.createModelUpdatedEvent();this.eventService.dispatchEvent(t)},e.prototype.updateRowHeights=function(){var t=this;this.forEachNode((function(e){e.setRowHeight(t.rowHeight),e.setRowTop(t.rowHeight*e.rowIndex)}));var e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)},e.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))},e.prototype.onCacheUpdated=function(){var t=this.createModelUpdatedEvent();this.eventService.dispatchEvent(t)},e.prototype.getRow=function(t){if(this.infiniteCache&&!(t>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(t)},e.prototype.getRowNode=function(t){var e;return this.forEachNode((function(n){n.id===t&&(e=n)})),e},e.prototype.forEachNode=function(t){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(t)},e.prototype.getTopLevelRowCount=function(){return this.getRowCount()},e.prototype.getTopLevelRowDisplayedIndex=function(t){return t},e.prototype.getRowIndexAtPixel=function(t){if(0!==this.rowHeight){var e=Math.floor(t/this.rowHeight),n=this.getRowCount()-1;return e>n?n:e}return 0},e.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getRowCount():0},e.prototype.isRowPresent=function(t){return!!this.getRowNode(t.id)},e.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},e.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},e.prototype.isLastRowIndexKnown=function(){return!!this.infiniteCache&&this.infiniteCache.isLastRowIndexKnown()},e.prototype.setRowCount=function(t,e){this.infiniteCache&&this.infiniteCache.setRowCount(t,e)},Gy([nt("filterManager")],e.prototype,"filterManager",void 0),Gy([nt("sortController")],e.prototype,"sortController",void 0),Gy([nt("selectionService")],e.prototype,"selectionService",void 0),Gy([nt("rowRenderer")],e.prototype,"rowRenderer",void 0),Gy([nt("rowNodeBlockLoader")],e.prototype,"rowNodeBlockLoader",void 0),Gy([J],e.prototype,"init",null),Gy([tt],e.prototype,"destroyDatasource",null),e=Gy([et("rowModel")],e)}(Ut),Vy={version:"31.0.1",moduleName:z.InfiniteRowModelModule,rowModel:"infinite",beans:[Hy]},jy=function(){function t(){}return t.prototype.setBeans=function(t){this.beans=t},t.prototype.getFileName=function(t){var e=this.getDefaultFileExtension();return null!=t&&t.length||(t=this.getDefaultFileName()),-1===t.indexOf(".")?"".concat(t,".").concat(e):t},t.prototype.getData=function(t){var e=this.createSerializingSession(t);return this.beans.gridSerializer.serialize(e,t)},t.prototype.getDefaultFileName=function(){return"export.".concat(this.getDefaultFileExtension())},t}(),By=function(){function t(t){this.groupColumns=[];var e=t.columnModel,n=t.valueService,o=t.gridOptionsService,r=t.valueFormatterService,i=t.valueParserService,s=t.processCellCallback,a=t.processHeaderCallback,l=t.processGroupHeaderCallback,u=t.processRowGroupCallback;this.columnModel=e,this.valueService=n,this.gridOptionsService=o,this.valueFormatterService=r,this.valueParserService=i,this.processCellCallback=s,this.processHeaderCallback=a,this.processGroupHeaderCallback=l,this.processRowGroupCallback=u}return t.prototype.prepare=function(t){this.groupColumns=t.filter((function(t){return!!t.getColDef().showRowGroup}))},t.prototype.extractHeaderValue=function(t){var e=this.getHeaderName(this.processHeaderCallback,t);return null!=e?e:""},t.prototype.extractRowCellValue=function(t,e,n,o,r){var i=this.gridOptionsService.get("groupHideOpenParents")&&!r.footer||!this.shouldRenderGroupSummaryCell(r,t,e)?this.valueService.getValue(t,r):this.createValueForGroupNode(r);return this.processCell({accumulatedRowIndex:n,rowNode:r,column:t,value:i,processCellCallback:this.processCellCallback,type:o})},t.prototype.shouldRenderGroupSummaryCell=function(t,e,n){var o;if(!(t&&t.group))return!1;if(-1!==this.groupColumns.indexOf(e)){if(null!=(null===(o=t.groupData)||void 0===o?void 0:o[e.getId()]))return!0;if(this.gridOptionsService.isRowModelType("serverSide")&&t.group)return!0;if(t.footer&&-1===t.level){var r=e.getColDef();return null==r||!0===r.showRowGroup||r.showRowGroup===this.columnModel.getRowGroupColumns()[0].getId()}}var i=this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotMode());return 0===n&&i},t.prototype.getHeaderName=function(t,e){return t?t({column:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}):this.columnModel.getDisplayNameForColumn(e,"csv",!0)},t.prototype.createValueForGroupNode=function(t){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:t,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context});var e=t.footer,n=[t.key];if(!this.gridOptionsService.isGroupMultiAutoColumn())for(;t.parent;)t=t.parent,n.push(t.key);var o=n.reverse().join(" -> ");return e?"Total ".concat(o):o},t.prototype.processCell=function(t){var e,n=this,o=t.accumulatedRowIndex,r=t.rowNode,i=t.column,s=t.value,a=t.processCellCallback,l=t.type;return a?{value:null!==(e=a({accumulatedRowIndex:o,column:i,node:r,value:s,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,type:l,parseValue:function(t){return n.valueParserService.parseValue(i,r,t,n.valueService.getValue(i,r))},formatValue:function(t){var e;return null!==(e=n.valueFormatterService.formatValue(i,r,t))&&void 0!==e?e:t}}))&&void 0!==e?e:""}:!1!==i.getColDef().useValueFormatterForExport?{value:null!==s&&void 0!==s?s:"",valueFormatted:this.valueFormatterService.formatValue(i,r,s)}:{value:null!==s&&void 0!==s?s:""}},t}(),Wy=function(){function t(){}return t.download=function(t,e){var n=document.defaultView||window;if(n){var o=document.createElement("a"),r=n.URL.createObjectURL(e);o.setAttribute("href",r),o.setAttribute("download",t),o.style.display="none",document.body.appendChild(o),o.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:n})),document.body.removeChild(o),n.setTimeout((function(){n.URL.revokeObjectURL(r)}),0)}else console.warn("AG Grid: There is no `window` associated with the current `document`")},t}(),zy=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Uy=function(t){function e(e){var n=t.call(this,e)||this;n.isFirstLine=!0,n.result="";var o=e.suppressQuotes,r=e.columnSeparator;return n.suppressQuotes=o,n.columnSeparator=r,n}return zy(e,t),e.prototype.addCustomContent=function(t){var e=this;t&&("string"===typeof t?(/^\s*\n/.test(t)||this.beginNewLine(),t=t.replace(/\r?\n/g,"\r\n"),this.result+=t):t.forEach((function(t){e.beginNewLine(),t.forEach((function(t,n){0!==n&&(e.result+=e.columnSeparator),e.result+=e.putInQuotes(t.data.value||""),t.mergeAcross&&e.appendEmptyCells(t.mergeAcross)}))})))},e.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},e.prototype.onNewHeaderGroupingRowColumn=function(t,e,n,o){0!=n&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(e),this.appendEmptyCells(o)},e.prototype.appendEmptyCells=function(t){for(var e=1;e<=t;e++)this.result+=this.columnSeparator+this.putInQuotes("")},e.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},e.prototype.onNewHeaderRowColumn=function(t,e){0!=e&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(t))},e.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},e.prototype.onNewBodyRowColumn=function(t,e,n){var o;0!=e&&(this.result+=this.columnSeparator);var r=this.extractRowCellValue(t,e,e,"csv",n);this.result+=this.putInQuotes(null!==(o=r.valueFormatted)&&void 0!==o?o:r.value)},e.prototype.putInQuotes=function(t){return this.suppressQuotes?t:null===t||void 0===t?'""':("string"===typeof t?e=t:"function"===typeof t.toString?e=t.toString():(console.warn("AG Grid: unknown value type during csv conversion"),e=""),'"'+e.replace(/"/g,'""')+'"');var e},e.prototype.parse=function(){return this.result},e.prototype.beginNewLine=function(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1},e}(By),Yy=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ky=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Zy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Yy(e,t),e.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsService:this.gridOptionsService})},e.prototype.getMergedParams=function(t){var e=this.gridOptionsService.get("defaultCsvExportParams");return Object.assign({},e,t)},e.prototype.export=function(t){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";var e=this.getMergedParams(t),n=this.getData(e),o=new Blob(["\ufeff",n],{type:"text/plain"});return Wy.download(this.getFileName(e.fileName),o),n},e.prototype.exportDataAsCsv=function(t){return this.export(t)},e.prototype.getDataAsCsv=function(t,e){void 0===e&&(e=!1);var n=e?Object.assign({},t):this.getMergedParams(t);return this.getData(n)},e.prototype.getDefaultFileExtension=function(){return"csv"},e.prototype.createSerializingSession=function(t){var e=this,n=e.columnModel,o=e.valueService,r=e.gridOptionsService,i=e.valueFormatterService,s=e.valueParserService,a=t,l=a.processCellCallback,u=a.processHeaderCallback,c=a.processGroupHeaderCallback,d=a.processRowGroupCallback,p=a.suppressQuotes,h=a.columnSeparator;return new Uy({columnModel:n,valueService:o,gridOptionsService:r,valueFormatterService:i,valueParserService:s,processCellCallback:l||void 0,processHeaderCallback:u||void 0,processGroupHeaderCallback:c||void 0,processRowGroupCallback:d||void 0,suppressQuotes:p||!1,columnSeparator:h||","})},e.prototype.isExportSuppressed=function(){return this.gridOptionsService.get("suppressCsvExport")},Ky([nt("columnModel")],e.prototype,"columnModel",void 0),Ky([nt("valueService")],e.prototype,"valueService",void 0),Ky([nt("gridSerializer")],e.prototype,"gridSerializer",void 0),Ky([nt("gridOptionsService")],e.prototype,"gridOptionsService",void 0),Ky([nt("valueFormatterService")],e.prototype,"valueFormatterService",void 0),Ky([nt("valueParserService")],e.prototype,"valueParserService",void 0),Ky([J],e.prototype,"postConstruct",null),e=Ky([et("csvCreator")],e)}(jy),qy=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Qy=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t[t.HEADER_GROUPING=0]="HEADER_GROUPING",t[t.HEADER=1]="HEADER",t[t.BODY=2]="BODY"}(ly||(ly={}));var Xy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return qy(e,t),e.prototype.serialize=function(t,e){void 0===e&&(e={});var n=e.allColumns,o=e.columnKeys,r=e.skipRowGroups,i=this.getColumnsToExport(n,r,o);return ur.compose(this.prepareSession(i),this.prependContent(e),this.exportColumnGroups(e,i),this.exportHeaders(e,i),this.processPinnedTopRows(e,i),this.processRows(e,i),this.processPinnedBottomRows(e,i),this.appendContent(e))(t).parse()},e.prototype.processRow=function(t,e,n,o){var r=e.shouldRowBeSkipped||function(){return!1},i=this.gridOptionsService.context,s=this.gridOptionsService.api,a=this.gridOptionsService.columnApi,l=this.gridOptionsService.get("groupRemoveSingleChildren"),u=this.gridOptionsService.get("groupRemoveLowestSingleChildren"),c=null!=e.rowPositions||!!e.onlySelected,d=this.gridOptionsService.get("groupHideOpenParents")&&!c,p=this.columnModel.isPivotMode()?o.leafGroup:!o.group,h=!!o.footer;e.skipRowGroups;var f=u&&o.leafGroup,g=1===o.allChildrenCount&&(l||f);if(!(!p&&!h&&(e.skipRowGroups||g||d)||e.onlySelected&&!o.isSelected()||e.skipPinnedTop&&"top"===o.rowPinned||e.skipPinnedBottom&&"bottom"===o.rowPinned)&&((!(-1===o.level)||p||h)&&!r({node:o,api:s,columnApi:a,context:i}))){var v=t.onNewBodyRow(o);if(n.forEach((function(t,e){v.onColumn(t,e,o)})),e.getCustomContentBelowRow){var m=e.getCustomContentBelowRow({node:o,api:s,columnApi:a,context:i});m&&t.addCustomContent(m)}}},e.prototype.appendContent=function(t){return function(e){var n=t.appendContent;return n&&e.addCustomContent(n),e}},e.prototype.prependContent=function(t){return function(e){var n=t.prependContent;return n&&e.addCustomContent(n),e}},e.prototype.prepareSession=function(t){return function(e){return e.prepare(t),e}},e.prototype.exportColumnGroups=function(t,e){var n=this;return function(o){if(!t.skipColumnGroupHeaders){var r=new Jt,i=n.displayedGroupCreator.createDisplayedGroups(e,r,null);n.recursivelyAddHeaderGroups(i,o,t.processGroupHeaderCallback)}return o}},e.prototype.exportHeaders=function(t,e){return function(n){if(!t.skipColumnHeaders){var o=n.onNewHeaderRow();e.forEach((function(t,e){o.onColumn(t,e,void 0)}))}return n}},e.prototype.processPinnedTopRows=function(t,e){var n=this;return function(o){var r=n.processRow.bind(n,o,t,e);return t.rowPositions?t.rowPositions.filter((function(t){return"top"===t.rowPinned})).sort((function(t,e){return t.rowIndex-e.rowIndex})).map((function(t){return n.pinnedRowModel.getPinnedTopRow(t.rowIndex)})).forEach(r):n.pinnedRowModel.forEachPinnedTopRow(r),o}},e.prototype.processRows=function(t,e){var n=this;return function(o){var r=n.rowModel,i=r.getType(),s="clientSide"===i,a="serverSide"===i,l=!s&&t.onlySelected,u=n.processRow.bind(n,o,t,e),c=t.exportedRows,d=void 0===c?"filteredAndSorted":c;if(t.rowPositions)t.rowPositions.filter((function(t){return null==t.rowPinned})).sort((function(t,e){return t.rowIndex-e.rowIndex})).map((function(t){return r.getRow(t.rowIndex)})).forEach(u);else if(n.columnModel.isPivotMode())s?r.forEachPivotNode(u,!0):a?r.forEachNodeAfterFilterAndSort(u,!0):r.forEachNode(u);else if(t.onlySelectedAllPages||l){var p=n.selectionService.getSelectedNodes();n.replicateSortedOrder(p),p.forEach(u)}else"all"===d?r.forEachNode(u):s||a?r.forEachNodeAfterFilterAndSort(u,!0):r.forEachNode(u);return o}},e.prototype.replicateSortedOrder=function(t){var e=this,n=this.sortController.getSortOptions(),o=function(t,r){var i,s,a,l;return null!=t.rowIndex&&null!=r.rowIndex?t.rowIndex-r.rowIndex:t.level===r.level?(null===(i=t.parent)||void 0===i?void 0:i.id)===(null===(s=r.parent)||void 0===s?void 0:s.id)?e.rowNodeSorter.compareRowNodes(n,{rowNode:t,currentPos:null!==(a=t.rowIndex)&&void 0!==a?a:-1},{rowNode:r,currentPos:null!==(l=r.rowIndex)&&void 0!==l?l:-1}):o(t.parent,r.parent):t.level>r.level?o(t.parent,r):o(t,r.parent)};t.sort(o)},e.prototype.processPinnedBottomRows=function(t,e){var n=this;return function(o){var r=n.processRow.bind(n,o,t,e);return t.rowPositions?t.rowPositions.filter((function(t){return"bottom"===t.rowPinned})).sort((function(t,e){return t.rowIndex-e.rowIndex})).map((function(t){return n.pinnedRowModel.getPinnedBottomRow(t.rowIndex)})).forEach(r):n.pinnedRowModel.forEachPinnedBottomRow(r),o}},e.prototype.getColumnsToExport=function(t,e,n){void 0===t&&(t=!1),void 0===e&&(e=!1);var o=this.columnModel.isPivotMode();if(n&&n.length)return this.columnModel.getGridColumns(n);var r=this.gridOptionsService.get("treeData"),i=[];t&&!o?i=(r?this.columnModel.getGridColumns([ne]):[]).concat(this.columnModel.getAllGridColumns()):i=this.columnModel.getAllDisplayedColumns();return e&&!r&&(i=i.filter((function(t){return t.getColId()!==ne}))),i},e.prototype.recursivelyAddHeaderGroups=function(t,e,n){var o=[];t.forEach((function(t){var e=t;e.getChildren&&e.getChildren().forEach((function(t){return o.push(t)}))})),t.length>0&&t[0]instanceof Xt&&this.doAddHeaderHeader(e,t,n),o&&o.length>0&&this.recursivelyAddHeaderGroups(o,e,n)},e.prototype.doAddHeaderHeader=function(t,e,n){var o=this,r=t.onNewHeaderGroupingRow(),i=0;e.forEach((function(t){var e,s=t;e=n?n({columnGroup:s,api:o.gridOptionsService.api,columnApi:o.gridOptionsService.columnApi,context:o.gridOptionsService.context}):o.columnModel.getDisplayNameForColumnGroup(s,"header");var a=s.getLeafColumns().reduce((function(t,e,n,o){var r=ur.last(t);return"open"===e.getColumnGroupShow()?r&&null==r[1]||(r=[n],t.push(r)):r&&null==r[1]&&(r[1]=n-1),n===o.length-1&&r&&null==r[1]&&(r[1]=n),t}),[]);r.onColumn(s,e||"",i++,s.getLeafColumns().length-1,a)}))},Qy([nt("displayedGroupCreator")],e.prototype,"displayedGroupCreator",void 0),Qy([nt("columnModel")],e.prototype,"columnModel",void 0),Qy([nt("rowModel")],e.prototype,"rowModel",void 0),Qy([nt("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Qy([nt("selectionService")],e.prototype,"selectionService",void 0),Qy([nt("rowNodeSorter")],e.prototype,"rowNodeSorter",void 0),Qy([nt("sortController")],e.prototype,"sortController",void 0),e=Qy([et("gridSerializer")],e)}(Ut),$y={version:"31.0.1",moduleName:z.CsvExportModule,beans:[Zy,Xy]},Jy="\r\n",tC=function(){function t(){}return t.createHeader=function(t){void 0===t&&(t={});var e=["version"];t.version||(t.version="1.0"),t.encoding&&e.push("encoding"),t.standalone&&e.push("standalone");var n=e.map((function(e){return"".concat(e,'="').concat(t[e],'"')})).join(" ");return"".concat("<?","xml ").concat(n," ").concat("?>")},t.createXml=function(t,e){var n=this,o="";t.properties&&(t.properties.prefixedAttributes&&t.properties.prefixedAttributes.forEach((function(t){Object.keys(t.map).forEach((function(r){o+=n.returnAttributeIfPopulated(t.prefix+r,t.map[r],e)}))})),t.properties.rawMap&&Object.keys(t.properties.rawMap).forEach((function(r){o+=n.returnAttributeIfPopulated(r,t.properties.rawMap[r],e)})));var r="<"+t.name+o;return t.children||null!=t.textNode?null!=t.textNode?r+">"+t.textNode+"</"+t.name+">"+Jy:(r+=">\r\n",t.children&&t.children.forEach((function(t){r+=n.createXml(t,e)})),r+"</"+t.name+">"+Jy):r+"/>"+Jy},t.returnAttributeIfPopulated=function(t,e,n){if(!e&&""!==e&&0!==e)return"";var o=e;return"boolean"===typeof e&&n&&(o=n(e))," ".concat(t,'="').concat(o,'"')},t}(),eC=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nC=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),oC=function(){function t(){}return t.addFolders=function(t){t.forEach(this.addFolder.bind(this))},t.addFolder=function(t){this.folders.push({path:t,created:new Date,isBase64:!1})},t.addFile=function(t,e,n){void 0===n&&(n=!1),this.files.push({path:t,created:new Date,content:e,isBase64:n})},t.getContent=function(t){void 0===t&&(t="application/zip");var e=this.buildFileStream(),n=this.buildUint8Array(e);return this.clearStream(),new Blob([n],{type:t})},t.clearStream=function(){this.folders=[],this.files=[]},t.buildFileStream=function(t){var e,n;void 0===t&&(t="");var o=this.folders.concat(this.files),r=o.length,i="",s=0,a=0;try{for(var l=eC(o),u=l.next();!u.done;u=l.next()){var c=u.value,d=this.getHeader(c,s),p=d.fileHeader,h=d.folderHeader,f=d.content;s+=p.length+f.length,a+=h.length,t+=p+f,i+=h}}catch(g){e={error:g}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return t+i+this.buildFolderEnd(r,a,s)},t.getHeader=function(t,e){var n=t.content,o=t.path,r=t.created,i=t.isBase64,s=ur.utf8_encode,a=ur.decToHex,l=s(o),u=l!==o,c=this.convertTime(r),d=this.convertDate(r),p="";if(u){var h=a(1,1)+a(this.getFromCrc32Table(l),4)+l;p="up"+a(h.length,2)+h}var f=n?this.getConvertedContent(n,i):{size:0,content:""},g=f.size,v=f.content,m="\n\0"+(u?"\0\b":"\0\0")+"\0\0"+a(c,2)+a(d,2)+a(g?this.getFromCrc32Table(v):0,4)+a(g,4)+a(g,4)+a(l.length,2)+a(p.length,2);return{fileHeader:"PK\x03\x04"+m+l+p,folderHeader:"PK\x01\x02\x14\0"+m+"\0\0\0\0\0\0"+(n?"\0\0\0\0":"\x10\0\0\0")+a(e,4)+l+p,content:v||""}},t.getConvertedContent=function(t,e){return void 0===e&&(e=!1),e&&(t=t.split(";base64,")[1]),{size:(t=e?atob(t):t).length,content:t}},t.buildFolderEnd=function(t,e,n){var o=ur.decToHex;return"PK\x05\x06\0\0\0\0"+o(t,2)+o(t,2)+o(e,4)+o(n,4)+"\0\0"},t.buildUint8Array=function(t){for(var e=new Uint8Array(t.length),n=0;n<e.length;n++)e[n]=t.charCodeAt(n);return e},t.getFromCrc32Table=function(t){if(!t.length)return 0;for(var e=t.length,n=new Uint8Array(e),o=0;o<e;o++)n[o]=t.charCodeAt(o);var r=-1,i=0;for(o=0;o<e;o++)i=n[o],r=r>>>8^nC[255&(r^i)];return-1^r},t.convertTime=function(t){var e=t.getHours();return e<<=6,e|=t.getMinutes(),e<<=5,e|=t.getSeconds()/2},t.convertDate=function(t){var e=t.getFullYear()-1980;return e<<=4,e|=t.getMonth()+1,e<<=5,e|=t.getDate()},t.folders=[],t.files=[],t}(),rC=[Dy,Vy,$y];Z.registerModules(rC)},7945:function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},r.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return s(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.AgGridReact=void 0;var l=a(n(2791)),u=n(2553),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.apiListeners=[],e.setGridApi=function(t,n){e.api=t,e.columnApi=n,e.apiListeners.forEach((function(e){return e(t)}))},e}return o(e,t),e.prototype.registerApiListener=function(t){this.apiListeners.push(t)},e.prototype.componentWillUnmount=function(){this.apiListeners.length=0},e.prototype.render=function(){return l.default.createElement(u.AgGridReactUi,r({},this.props,{setGridApi:this.setGridApi}))},e}(l.Component);e.AgGridReact=c},4340:function(t,e,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),r=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||o(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.AgGridReact=void 0;var i=n(7945);Object.defineProperty(e,"AgGridReact",{enumerable:!0,get:function(){return i.AgGridReact}}),r(n(7736),e)},2553:function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},r.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return s(e,t),e},l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AgGridReactUi=void 0;var u=n(7520),c=a(n(2791)),d=n(8665),p=n(3365),h=n(9575),f=l(n(3970));e.AgGridReactUi=function(t){var e,n,o=c.useRef(),i=c.useRef(null),s=c.useRef(null),a=c.useRef([]),l=c.useRef([]),d=c.useRef(t),v=c.useRef(!1),m=c.useState(void 0),y=m[0],C=m[1],w=c.useState(0)[1],b=c.useCallback((function(e){if(i.current=e,!i.current)return a.current.forEach((function(t){return t()})),void(a.current.length=0);var n=t.modules||[];s.current||(s.current=new p.PortalManager((function(){return w((function(t){return t+1}))}),t.componentWrappingElement,t.maxComponentCreationTimeMs),a.current.push((function(){var t;null===(t=s.current)||void 0===t||t.destroy(),s.current=null})));var r={providedBeanInstances:{frameworkComponentWrapper:new g(s.current)},modules:n,frameworkOverrides:new h.ReactFrameworkOverrides},c=u.ComponentUtil.combineAttributesAndGridOptions(t.gridOptions,t),d=new u.GridCoreCreator;o.current=d.create(i.current,c,(function(e){C(e),a.current.push((function(){e.destroy()})),e.getBean(u.CtrlsService.NAME).whenReady((function(){if(!e.isDestroyed()){var n=o.current;n&&t.setGridApi&&t.setGridApi(n,new u.ColumnApi(n))}}))}),(function(t){t.getBean(u.CtrlsService.NAME).whenReady((function(){l.current.forEach((function(t){return t()})),l.current.length=0,v.current=!0}))}),r)}),[]),_=c.useMemo((function(){return r({height:"100%"},t.containerStyle||{})}),[t.containerStyle]),S=c.useCallback((function(t){v.current?t():l.current.push(t)}),[]);return c.useEffect((function(){var e=function(t,e){var n={};return Object.keys(e).forEach((function(o){var r=e[o];t[o]!==r&&(n[o]=r)})),n}(d.current,t);d.current=t,S((function(){o.current&&u.ComponentUtil.processOnChange(e,o.current)}))}),[t]),c.default.createElement("div",{style:_,className:t.className,ref:b},y&&!y.isDestroyed()?c.default.createElement(f.default,{context:y}):null,null!==(n=null===(e=s.current)||void 0===e?void 0:e.getPortals())&&void 0!==n?n:null)};var g=function(t){function e(e){var n=t.call(this)||this;return n.parent=e,n}return o(e,t),e.prototype.createWrapper=function(t,e){return new d.NewReactComponent(t,this.parent,e)},e}(u.BaseComponentWrapper)},2724:function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.BeansContext=void 0;var r=o(n(2791));e.BeansContext=r.default.createContext({})},7627:function(t,e,n){"use strict";var o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0});var a=s(n(2791)),l=n(6817),u=n(7520),c=n(2724),d=n(2553);e.default=a.forwardRef((function(t,e){var n=a.useContext(c.BeansContext),r=n.ctrlsFactory,i=n.context,s=n.gridOptionsService,p=n.resizeObserverService,h=n.clientSideRowModel,f=n.serverSideRowModel,g=a.useState((function(){return new l.CssClasses})),v=g[0],m=g[1],y=a.useState((function(){return new l.CssClasses})),C=y[0],w=y[1],b=a.useState(),_=b[0],S=b[1],E=a.useState(),O=E[0],x=E[1],T=a.useRef(),R=a.useRef(null),D=a.useRef(),P=a.useMemo((function(){return u.ModuleRegistry.__getGridRegisteredModules(t.api.getGridId())}),[t]),L=a.useMemo((function(){return v.toString()+" ag-details-row"}),[v]),M=a.useMemo((function(){return C.toString()+" ag-details-grid"}),[C]);e&&a.useImperativeHandle(e,(function(){return{refresh:function(){var t,e;return null!==(e=null===(t=T.current)||void 0===t?void 0:t.refresh())&&void 0!==e&&e}}})),t.template&&u._.doOnce((function(){return console.warn("AG Grid: detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://ag-grid.com/react-data-grid/master-detail-custom-detail/")}),"React_detailCellRenderer.template");var A=a.useCallback((function(e){if(R.current=e,!R.current)return i.destroyBean(T.current),void(D.current&&D.current());var n={addOrRemoveCssClass:function(t,e){return m((function(n){return n.setClass(t,e)}))},addOrRemoveDetailGridCssClass:function(t,e){return w((function(n){return n.setClass(t,e)}))},setDetailGrid:function(t){return S(t)},setRowData:function(t){return x(t)},getGui:function(){return R.current}},o=r.getInstance("detailCellRenderer");if(o&&(i.createBean(o),o.init(n,t),T.current=o,s.get("detailRowAutoHeight"))){var a=function(){if(null!=R.current){var e=R.current.clientHeight;if(null!=e&&e>0){setTimeout((function(){t.node.setRowHeight(e),h?h.onRowHeightChanged():f&&f.onRowHeightChanged()}),0)}}};D.current=p.observeResize(R.current,a),a()}}),[]),k=a.useCallback((function(t,e){var n;null===(n=T.current)||void 0===n||n.registerDetailWithMaster(t,e)}),[]);return a.default.createElement("div",{className:L,ref:A},_&&a.default.createElement(d.AgGridReactUi,o({className:M},_,{modules:P,rowData:O,setGridApi:k})))}))},5728:function(t,e,n){"use strict";var o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0});var a=n(7520),l=s(n(2791)),u=n(2724),c=n(8285),d=n(6817),p=l.forwardRef((function(t,e){var n,r=l.useContext(u.BeansContext).context,i=l.useRef(null),s=l.useRef(null),h=l.useRef(null),f=l.useRef(null),g=l.useRef(null),v=l.useRef(),m=l.useState(),y=m[0],C=m[1],w=l.useState(),b=w[0],_=w[1],S=l.useState(),E=S[0],O=S[1],x=l.useState((function(){return new d.CssClasses})),T=x[0],R=x[1],D=l.useState((function(){return new d.CssClasses("ag-hidden")})),P=D[0],L=D[1],M=l.useState((function(){return new d.CssClasses("ag-hidden")})),A=M[0],k=M[1],N=l.useState((function(){return new d.CssClasses("ag-invisible")})),F=N[0],I=N[1];l.useImperativeHandle(e,(function(){return{refresh:function(){return!1}}})),l.useLayoutEffect((function(){return c.showJsComp(y,r,s.current)}),[y]);var G=l.useCallback((function(e){if(i.current=e,!i.current)return r.destroyBean(v.current),void(v.current=null);var n={setInnerRenderer:function(t,e){C(t),O(e)},setChildCount:function(t){return _(t)},addOrRemoveCssClass:function(t,e){return R((function(n){return n.setClass(t,e)}))},setContractedDisplayed:function(t){return k((function(e){return e.setClass("ag-hidden",!t)}))},setExpandedDisplayed:function(t){return L((function(e){return e.setClass("ag-hidden",!t)}))},setCheckboxVisible:function(t){return I((function(e){return e.setClass("ag-invisible",!t)}))}};v.current=r.createBean(new a.GroupCellRendererCtrl),v.current.init(n,i.current,h.current,f.current,g.current,p,t)}),[]),H=l.useMemo((function(){return"ag-cell-wrapper "+T.toString()}),[T]),V=l.useMemo((function(){return"ag-group-expanded "+P.toString()}),[P]),j=l.useMemo((function(){return"ag-group-contracted "+A.toString()}),[A]),B=l.useMemo((function(){return"ag-group-checkbox "+F.toString()}),[F]),W=y&&y.componentFromFramework,z=W?y.componentClass:void 0,U=null==y&&null!=E,Y=a._.escapeString(E,!0);return l.default.createElement("span",{className:H,ref:G,role:null===(n=v.current)||void 0===n?void 0:n.getCellAriaRole()},l.default.createElement("span",{className:V,ref:f}),l.default.createElement("span",{className:j,ref:g}),l.default.createElement("span",{className:B,ref:h}),l.default.createElement("span",{className:"ag-group-value",ref:s},U&&l.default.createElement(l.default.Fragment,null,Y),W&&l.default.createElement(z,o({},y.params))),l.default.createElement("span",{className:"ag-group-child-count"},b))}));e.default=p},4148:function(t,e,n){"use strict";var o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return i(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.CellCompState=void 0;var l=n(7520),u=s(n(2791)),c=n(6817),d=a(n(7664)),p=a(n(3930)),h=n(2724),f=n(8285);!function(t){t[t.ShowValue=0]="ShowValue",t[t.EditValue=1]="EditValue"}(e.CellCompState||(e.CellCompState={}));e.default=u.memo((function(t){var e=u.useContext(h.BeansContext).context,n=t.cellCtrl,r=t.printLayout,i=t.editingRow,s=n.getTabIndex(),a=n.getColumnIdSanitised(),g=n.getInstanceId(),v=u.useState((function(){return n.getIsCellRenderer()?void 0:{compDetails:void 0,value:n.getValueToDisplay(),force:!1}})),m=v[0],y=v[1],C=u.useState(),w=C[0],b=C[1],_=u.useState(1),S=_[0],E=_[1],O=u.useState(),x=O[0],T=O[1],R=u.useState(!1),D=R[0],P=R[1],L=u.useState(!1),M=L[0],A=L[1],k=u.useState(!1),N=k[0],F=k[1],I=u.useState(),G=I[0],H=I[1],V=u.useMemo((function(){return n.isForceWrapper()}),[n]),j=u.useMemo((function(){return n.getCellAriaRole()}),[n]),B=u.useRef(null),W=u.useRef(null),z=u.useRef(),U=u.useRef(),Y=u.useRef(),K=u.useRef([]),Z=u.useRef(),q=u.useState(0),Q=q[0],X=q[1],$=u.useCallback((function(t){Z.current=t,X((function(t){return t+1}))}),[]),J=V||null!=m&&(D||N||M),tt=u.useCallback((function(t,e){(U.current=e,e)&&(!function(t,e,n){var o=n.getColumn();if(!t&&e.isPopup&&e.isPopup()){var r="AG Grid: Found an issue in column "+o.getColId()+". If using React, specify an editor is a popup using colDef.cellEditorPopup=true. AG Grid React cannot depend on the editor component specifying if it's in a popup (via the isPopup() method on the editor), as React needs to know this information BEFORE the component is created.";l._.doOnce((function(){return console.warn(r)}),"jsEditorComp-isPopup-"+n.getColumn().getColId())}if(t&&e.getPopupPosition&&null!=e.getPopupPosition()){var i="AG Grid: Found an issue in column "+o.getColId()+". If using React, specify an editor popup position using colDef.cellEditorPopupPosition=true. AG Grid React cannot depend on the editor component specifying it's position (via the getPopupPosition() method on the editor), as React needs to know this information BEFORE the component is created.";l._.doOnce((function(){return console.warn(i)}),"jsEditorComp-getPopupPosition-"+n.getColumn().getColId())}}(t,e,n),e.isCancelBeforeStart&&e.isCancelBeforeStart()&&setTimeout((function(){n.stopEditing(!0),n.focusCell(!0)})))}),[n]),et=u.useCallback((function(t){return tt(!0,t)}),[tt]),nt=u.useCallback((function(t){return tt(!1,t)}),[tt]),ot=u.useRef();ot.current||(ot.current=new l.CssClassManager((function(){return B.current}))),p.default(m,J,Z.current,Q,z,B);var rt=u.useRef();u.useLayoutEffect((function(){var t=rt.current,e=m;if(rt.current=m,null!=t&&null!=t.compDetails&&null!=e&&null!=e.compDetails){var n=t.compDetails,o=e.compDetails;if(n.componentClass==o.componentClass)if(null!=W.current&&null!=W.current.refresh)1!=W.current.refresh(o.params)&&E((function(t){return t+1}))}}),[m]),u.useLayoutEffect((function(){if(w&&!w.compDetails.componentFromFramework){var t=w.compDetails,n=!0===w.popup,o=f.createSyncJsComp(t);if(o){var r=o.getGui();if(tt(n,o),!n){var i=(V?Y:B).current;null===i||void 0===i||i.appendChild(r),o.afterGuiAttached&&o.afterGuiAttached()}return H(o),function(){e.destroyBean(o),tt(n,void 0),H(void 0),r&&r.parentElement&&r.parentElement.removeChild(r)}}}}),[w]);var it=u.useCallback((function(t){if(Y.current=t,!Y.current)return K.current.forEach((function(t){return t()})),void(K.current=[]);var o=function(t){var n;if(t){var o=t.getGui();null===(n=Y.current)||void 0===n||n.insertAdjacentElement("afterbegin",o),K.current.push((function(){e.destroyBean(t),l._.removeFromParent(o)}))}return t};D&&o(n.createSelectionCheckbox());N&&o(n.createDndSource()),M&&o(n.createRowDragComp())}),[n,e,N,M,D]),st=u.useCallback((function(t){if(B.current=t,B.current&&n){var e={addOrRemoveCssClass:function(t,e){return ot.current.addOrRemoveCssClass(t,e)},setUserStyles:function(t){return T(t)},getFocusableElement:function(){return B.current},setIncludeSelection:function(t){return P(t)},setIncludeRowDrag:function(t){return A(t)},setIncludeDndSource:function(t){return F(t)},getCellEditor:function(){return U.current||null},getCellRenderer:function(){return W.current?W.current:z.current},getParentOfValue:function(){return Z.current?Z.current:Y.current?Y.current:B.current},setRenderDetails:function(t,e,n){y((function(o){return(null===o||void 0===o?void 0:o.compDetails)!==t||(null===o||void 0===o?void 0:o.value)!==e||(null===o||void 0===o?void 0:o.force)!==n?{value:e,compDetails:t,force:n}:o}))},setEditDetails:function(t,e,n){t?(b({compDetails:t,popup:e,popupPosition:n}),e||y(void 0)):b(void 0)}},o=Y.current||void 0;n.setComp(e,B.current,o,r,i)}}),[]),at=u.useMemo((function(){return!!(m&&m.compDetails&&m.compDetails.componentFromFramework&&c.isComponentStateless(m.compDetails.componentClass))}),[m]);u.useLayoutEffect((function(){var t;B.current&&(ot.current.addOrRemoveCssClass("ag-cell-value",!J),ot.current.addOrRemoveCssClass("ag-cell-inline-editing",!!w&&!w.popup),ot.current.addOrRemoveCssClass("ag-cell-popup-editing",!!w&&!!w.popup),ot.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!w||!!w.popup),null===(t=n.getRowCtrl())||void 0===t||t.setInlineEditingCss(!!w),n.shouldRestoreFocus()&&!n.isEditing()&&B.current.focus({preventScroll:!0}))}));var lt=function(){return u.default.createElement(u.default.Fragment,null,null!=m&&function(t,e,n,r,i,s,a){var l=t.compDetails,c=t.value,d=!l,p=l&&l.componentFromFramework,h=l&&l.componentClass,f=(null===c||void 0===c?void 0:c.toString)?c.toString():c,g=function(){return u.default.createElement(u.default.Fragment,null,d&&u.default.createElement(u.default.Fragment,null,f),p&&!s&&u.default.createElement(h,o({},l.params,{key:e,ref:r})),p&&s&&u.default.createElement(h,o({},l.params,{key:e})))};return u.default.createElement(u.default.Fragment,null,i?u.default.createElement("span",{role:"presentation",id:"cell-"+n,className:"ag-cell-value",ref:a},g()):g())}(m,S,g,W,J,at,$),null!=w&&function(t,e,n,r,i,s){var a=t.compDetails,l=a.componentClass,c=a.componentFromFramework&&!t.popup,p=a.componentFromFramework&&t.popup,h=!a.componentFromFramework&&t.popup;return u.default.createElement(u.default.Fragment,null,c&&u.default.createElement(l,o({},t.compDetails.params,{ref:e})),p&&u.default.createElement(d.default,{editDetails:t,cellCtrl:i,eParentCell:r,wrappedContent:u.default.createElement(l,o({},t.compDetails.params,{ref:n}))}),h&&s&&u.default.createElement(d.default,{editDetails:t,cellCtrl:i,eParentCell:r,jsChildComp:s}))}(w,nt,et,B.current,n,G))};return u.default.createElement("div",{ref:st,style:x,tabIndex:s,role:j,"col-id":a},J?u.default.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:it},lt()):lt())}))},7664:function(t,e,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return r(e,t),e};Object.defineProperty(e,"__esModule",{value:!0});var s=n(7520),a=i(n(2791)),l=n(4164),u=n(2724),c=n(1622);e.default=a.memo((function(t){var e=a.useState(),n=e[0],o=e[1],r=a.useContext(u.BeansContext),i=r.context,d=r.popupService,p=r.localeService,h=r.gridOptionsService;return c.useEffectOnce((function(){var e=t.editDetails,n=t.cellCtrl,r=t.eParentCell,a=e.compDetails,l=h.get("stopEditingWhenCellsLoseFocus"),u=i.createBean(new s.PopupEditorWrapper(a.params)),c=u.getGui();if(t.jsChildComp){var f=t.jsChildComp.getGui();f&&c.appendChild(f)}var g={column:n.getColumn(),rowNode:n.getRowNode(),type:"popupCellEditor",eventSource:r,ePopup:c,position:e.popupPosition,keepWithinBounds:!0},v=d.positionPopupByComponent.bind(d,g),m=p.getLocaleTextFunc(),y=d.addPopup({modal:l,eChild:c,closeOnEsc:!0,closedCallback:function(){n.onPopupEditorClosed()},anchorToElement:r,positionCallback:v,ariaLabel:m("ariaLabelCellEditor","Cell Editor")}),C=y?y.hideFunc:void 0;return o(u),t.jsChildComp&&t.jsChildComp.afterGuiAttached&&t.jsChildComp.afterGuiAttached(),function(){null!=C&&C(),i.destroyBean(u)}})),a.default.createElement(a.default.Fragment,null,n&&t.wrappedContent&&l.createPortal(t.wrappedContent,n.getGui()))}))},3930:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(2791),r=n(2724);e.default=function(t,e,n,i,s,a){var l=o.useContext(r.BeansContext).context,u=o.useCallback((function(){var t=s.current;if(t){var e=t.getGui();e&&e.parentElement&&e.parentElement.removeChild(e),l.destroyBean(t),s.current=void 0}}),[]);o.useEffect((function(){var o=null!=t,r=t&&t.compDetails&&!t.compDetails.componentFromFramework;if(o&&r&&!(e&&null==n)){var i=t.compDetails;if(s.current){var l=s.current,c=!!(null!=l.refresh&&0==t.force)&&l.refresh(i.params);if(!0===c||void 0===c)return;u()}var d=i.newAgStackInstance();if(d){var p=d.resolveNow(null,(function(t){return t}));if(p){var h=p.getGui();if(h)(e?n:a.current).appendChild(h),s.current=p}}}else u()}),[t,e,i]),o.useEffect((function(){return u}),[])}},6556:function(t,e,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return r(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=n(7520),l=i(n(2791)),u=n(2724),c=s(n(332)),d=s(n(1008)),p=s(n(961)),h=n(6817);e.default=l.memo((function(){var t=l.useContext(u.BeansContext),e=t.context,n=t.agStackComponentsRegistry,o=t.resizeObserverService,r=l.useState(""),i=r[0],s=r[1],f=l.useState(0),g=f[0],v=f[1],m=l.useState(0),y=m[0],C=m[1],w=l.useState("0px"),b=w[0],_=w[1],S=l.useState("0px"),E=S[0],O=S[1],x=l.useState("100%"),T=x[0],R=x[1],D=l.useState(""),P=D[0],L=D[1],M=l.useState(""),A=M[0],k=M[1],N=l.useState(null),F=N[0],I=N[1],G=l.useState(""),H=G[0],V=G[1],j=l.useState(null),B=j[0],W=j[1],z=l.useState("ag-layout-normal"),U=z[0],Y=z[1],K=l.useRef();K.current||(K.current=new a.CssClassManager((function(){return Z.current})));var Z=l.useRef(null),q=l.useRef(null),Q=l.useRef(null),X=l.useRef(null),$=l.useRef(null),J=l.useRef(null),tt=l.useRef([]),et=l.useRef([]);d.default(" AG Grid Body ",Z),d.default(" AG Pinned Top ",q),d.default(" AG Sticky Top ",Q),d.default(" AG Middle ",$),d.default(" AG Pinned Bottom ",J);var nt=l.useCallback((function(t){if(Z.current=t,!Z.current)return e.destroyBeans(tt.current),et.current.forEach((function(t){return t()})),tt.current=[],void(et.current=[]);if(e){var r=function(t){var o=n.getComponentClass(t),r=e.createBean(new o);return tt.current.push(r),r},i=function(t,e){t.appendChild(e),et.current.push((function(){return t.removeChild(e)}))};i(Z.current,document.createComment(" AG Fake Horizontal Scroll ")),i(Z.current,r("AG-FAKE-HORIZONTAL-SCROLL").getGui()),i(Z.current,document.createComment(" AG Overlay Wrapper ")),i(Z.current,r("AG-OVERLAY-WRAPPER").getGui()),X.current&&(i(X.current,document.createComment(" AG Fake Vertical Scroll ")),i(X.current,r("AG-FAKE-VERTICAL-SCROLL").getGui()));var l={setRowAnimationCssOnBodyViewport:s,setColumnCount:function(t){Z.current&&a._.setAriaColCount(Z.current,t)},setRowCount:function(t){Z.current&&a._.setAriaRowCount(Z.current,t)},setTopHeight:v,setBottomHeight:C,setStickyTopHeight:_,setStickyTopTop:O,setStickyTopWidth:R,setTopDisplay:L,setBottomDisplay:k,setColumnMovingCss:function(t,e){return K.current.addOrRemoveCssClass(t,e)},updateLayoutClasses:Y,setAlwaysVerticalScrollClass:I,setPinnedTopBottomOverflowY:V,setCellSelectableCss:function(t,e){return W(e?t:null)},setBodyViewportWidth:function(t){$.current&&($.current.style.width=t)},registerBodyViewportResizeListener:function(t){if($.current){var e=o.observeResize($.current,t);et.current.push((function(){return e()}))}}},u=e.createBean(new a.GridBodyCtrl);tt.current.push(u),u.setComp(l,Z.current,$.current,q.current,J.current,Q.current)}}),[]),ot=l.useMemo((function(){return h.classesList("ag-root","ag-unselectable",U)}),[U]),rt=l.useMemo((function(){return h.classesList("ag-body-viewport",i,U,F,B)}),[i,U,F,B]),it=l.useMemo((function(){return h.classesList("ag-body",U)}),[U]),st=l.useMemo((function(){return h.classesList("ag-floating-top",B)}),[B]),at=l.useMemo((function(){return h.classesList("ag-sticky-top",B)}),[B]),lt=l.useMemo((function(){return h.classesList("ag-floating-bottom",B)}),[B]),ut=l.useMemo((function(){return{height:g,minHeight:g,display:P,overflowY:H}}),[g,P,H]),ct=l.useMemo((function(){return{height:b,top:E,width:T}}),[b,E,T]),dt=l.useMemo((function(){return{height:y,minHeight:y,display:A,overflowY:H}}),[y,A,H]),pt=function(t){return l.default.createElement(p.default,{name:t,key:t+"-container"})},ht=function(t){var e=t.section,n=t.children,o=t.className,r=t.style;return l.default.createElement("div",{ref:e,className:o,role:"presentation",style:r},n.map(pt))};return l.default.createElement("div",{ref:nt,className:ot,role:"treegrid"},l.default.createElement(c.default,null),ht({section:q,className:st,style:ut,children:[a.RowContainerName.TOP_LEFT,a.RowContainerName.TOP_CENTER,a.RowContainerName.TOP_RIGHT,a.RowContainerName.TOP_FULL_WIDTH]}),l.default.createElement("div",{className:it,ref:X,role:"presentation"},ht({section:$,className:rt,children:[a.RowContainerName.LEFT,a.RowContainerName.CENTER,a.RowContainerName.RIGHT,a.RowContainerName.FULL_WIDTH]})),ht({section:Q,className:at,style:ct,children:[a.RowContainerName.STICKY_TOP_LEFT,a.RowContainerName.STICKY_TOP_CENTER,a.RowContainerName.STICKY_TOP_RIGHT,a.RowContainerName.STICKY_TOP_FULL_WIDTH]}),ht({section:J,className:lt,style:dt,children:[a.RowContainerName.BOTTOM_LEFT,a.RowContainerName.BOTTOM_CENTER,a.RowContainerName.BOTTOM_RIGHT,a.RowContainerName.BOTTOM_FULL_WIDTH]}))}))},3970:function(t,e,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return r(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=n(7520),l=i(n(2791)),u=n(2724),c=s(n(6556)),d=s(n(1008)),p=s(n(2051)),h=n(6817);e.default=l.memo((function(t){var e=t.context,n=l.useState(""),o=n[0],r=n[1],i=l.useState(""),s=i[0],f=(i[1],l.useState("")),g=f[0],v=f[1],m=l.useState(null),y=m[0],C=m[1],w=l.useState(null),b=w[0],_=w[1],S=l.useState(!1),E=S[0],O=S[1],x=l.useState(),T=x[0],R=x[1],D=l.useRef(null),P=l.useRef(null),L=l.useRef(),M=l.useState(null),A=M[0],k=M[1],N=l.useRef((function(){})),F=l.useCallback((function(){}),[]),I=l.useMemo((function(){return e.isDestroyed()?null:e.getBean("beans")}),[e]);d.default(" AG Grid ",P);var G=l.useCallback((function(t){if(P.current=t,!P.current)return e.destroyBean(D.current),void(D.current=null);if(!e.isDestroyed()){D.current=e.createBean(new a.GridCtrl);var n=D.current;N.current=n.focusInnerElement.bind(n);var o={destroyGridUi:function(){},setRtlClass:r,forceFocusOutOfContainer:function(){var t;null===(t=L.current)||void 0===t||t.forceFocusOutOfContainer()},updateLayoutClasses:v,getFocusableContainers:function(){var t,e,n=[],o=null===(t=P.current)||void 0===t?void 0:t.querySelector(".ag-root"),r=null===(e=P.current)||void 0===e?void 0:e.querySelector(".ag-side-bar:not(.ag-hidden)");return o&&n.push(o),r&&n.push(r),n},setCursor:C,setUserSelect:_};n.setComp(o,P.current,P.current),O(!0)}}),[]);l.useEffect((function(){if(T&&I&&D.current&&A&&P.current){var t=D.current,n=[],o=I.agStackComponentsRegistry,r=o.getComponentClass("AG-GRID-HEADER-DROP-ZONES"),i=o.getComponentClass("AG-SIDE-BAR"),s=o.getComponentClass("AG-STATUS-BAR"),a=o.getComponentClass("AG-WATERMARK"),l=o.getComponentClass("AG-PAGINATION"),u=[],c=P.current;if(t.showDropZones()&&r){var d=e.createBean(new r),p=d.getGui();c.insertAdjacentElement("afterbegin",p),u.push(p),n.push(d)}if(t.showSideBar()&&i){var h=e.createBean(new i),f=(p=h.getGui(),A.querySelector(".ag-tab-guard-bottom"));f&&(f.insertAdjacentElement("beforebegin",p),u.push(p)),n.push(h)}if(t.showStatusBar()&&s){var g=e.createBean(new s);p=g.getGui();c.insertAdjacentElement("beforeend",p),u.push(p),n.push(g)}if(l){var v=e.createBean(new l);p=v.getGui();c.insertAdjacentElement("beforeend",p),u.push(p),n.push(v)}if(t.showWatermark()&&a){var m=e.createBean(new a);p=m.getGui();c.insertAdjacentElement("beforeend",p),u.push(p),n.push(m)}return function(){e.destroyBeans(n),u.forEach((function(t){t.parentElement&&t.parentElement.removeChild(t)}))}}}),[T,A,I]);var H=l.useMemo((function(){return h.classesList("ag-root-wrapper",o,s,g)}),[o,s,g]),V=l.useMemo((function(){return h.classesList("ag-root-wrapper-body","ag-focus-managed",g)}),[g]),j=l.useMemo((function(){return{userSelect:null!=b?b:"",WebkitUserSelect:null!=b?b:"",cursor:null!=y?y:""}}),[b,y]),B=l.useCallback((function(t){L.current=t,R(null!==t)}),[]);return l.default.createElement("div",{ref:G,className:H,style:j,role:"presentation"},l.default.createElement("div",{className:V,ref:k,role:"presentation"},E&&A&&I&&l.default.createElement(u.BeansContext.Provider,{value:I},l.default.createElement(p.default,{ref:B,eFocusableElement:A,onTabKeyDown:F,gridCtrl:D.current},l.default.createElement(c.default,null)))))}))},332:function(t,e,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return r(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(n(2791)),l=n(2724),u=n(7520),c=n(6817),d=s(n(1212));e.default=a.memo((function(){var t=a.useState((function(){return new c.CssClasses})),e=t[0],n=t[1],o=a.useState(),r=o[0],i=o[1],s=a.useContext(l.BeansContext).context,p=a.useRef(null),h=a.useRef(null),f=a.useCallback((function(t){if(p.current=t,!t)return s.destroyBean(h.current),void(h.current=null);var e={addOrRemoveCssClass:function(t,e){return n((function(n){return n.setClass(t,e)}))},setHeightAndMinHeight:function(t){return i(t)}};h.current=s.createBean(new u.GridHeaderCtrl),h.current.setComp(e,p.current,p.current)}),[]),g=a.useMemo((function(){return"ag-header "+e.toString()}),[e]),v=a.useMemo((function(){return{height:r,minHeight:r}}),[r]);return a.default.createElement("div",{ref:f,className:g,style:v,role:"presentation"},a.default.createElement(d.default,{pinned:"left"}),a.default.createElement(d.default,{pinned:null}),a.default.createElement(d.default,{pinned:"right"}))}))},273:function(t,e,n){"use strict";var o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0});var a=s(n(2791)),l=n(2724),u=n(7520),c=n(6817),d=n(8285);e.default=a.memo((function(t){var e=t.ctrl,n=a.useContext(l.BeansContext).context,r=e.getColId(),i=a.useState(),s=i[0],p=i[1],h=a.useRef(null),f=a.useRef(null),g=a.useRef(null),v=a.useRef(),m=a.useRef();m.current||(m.current=new u.CssClassManager((function(){return h.current})));var y=a.useCallback((function(t){var n;if(h.current=t,h.current){var o={setWidth:function(t){h.current&&(h.current.style.width=t)},addOrRemoveCssClass:function(t,e){return m.current.addOrRemoveCssClass(t,e)},setAriaDescription:function(t){h.current&&u._.setAriaDescription(h.current,t)},setAriaSort:function(t){h.current&&(t?u._.setAriaSort(h.current,t):u._.removeAriaSort(h.current))},setUserCompDetails:function(t){return p(t)},getUserCompInstance:function(){return v.current||void 0}};e.setComp(o,h.current,f.current,g.current);var r=e.getSelectAllGui();null===(n=f.current)||void 0===n||n.insertAdjacentElement("afterend",r)}}),[]);a.useLayoutEffect((function(){return d.showJsComp(s,n,g.current,v)}),[s]),a.useEffect((function(){e.setDragSource(h.current)}),[s]);var C=a.useMemo((function(){return!!((null===s||void 0===s?void 0:s.componentFromFramework)&&c.isComponentStateless(s.componentClass))}),[s]),w=s&&s.componentFromFramework,b=s&&s.componentClass;return a.default.createElement("div",{ref:y,className:"ag-header-cell","col-id":r,role:"columnheader",tabIndex:-1},a.default.createElement("div",{ref:f,className:"ag-header-cell-resize",role:"presentation"}),a.default.createElement("div",{ref:g,className:"ag-header-cell-comp-wrapper",role:"presentation"},w&&C&&a.default.createElement(b,o({},s.params)),w&&!C&&a.default.createElement(b,o({},s.params,{ref:v}))))}))},1478:function(t,e,n){"use strict";var o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0});var a=s(n(2791)),l=n(2724),u=n(7520),c=n(6817),d=n(8285);e.default=a.memo((function(t){var e=a.useContext(l.BeansContext).context,n=a.useState((function(){return new c.CssClasses("ag-header-cell","ag-floating-filter")})),r=n[0],i=n[1],s=a.useState((function(){return new c.CssClasses})),p=s[0],h=s[1],f=a.useState((function(){return new c.CssClasses("ag-floating-filter-button","ag-hidden")})),g=f[0],v=f[1],m=a.useState("false"),y=m[0],C=m[1],w=a.useState(),b=w[0],_=w[1],S=a.useRef(null),E=a.useRef(null),O=a.useRef(null),x=a.useRef(null),T=a.useRef(),R=a.useRef(),D=function(t){null!=t&&T.current&&T.current(t)},P=t.ctrl,L=a.useCallback((function(t){if(S.current=t,S.current){R.current=new u.AgPromise((function(t){T.current=t}));var e={addOrRemoveCssClass:function(t,e){return i((function(n){return n.setClass(t,e)}))},addOrRemoveBodyCssClass:function(t,e){return h((function(n){return n.setClass(t,e)}))},setButtonWrapperDisplayed:function(t){v((function(e){return e.setClass("ag-hidden",!t)})),C(t?"false":"true")},setWidth:function(t){S.current&&(S.current.style.width=t)},setCompDetails:function(t){return _(t)},getFloatingFilterComp:function(){return R.current?R.current:null},setMenuIcon:function(t){var e;return null===(e=x.current)||void 0===e?void 0:e.appendChild(t)}};P.setComp(e,S.current,x.current,E.current)}}),[]);a.useLayoutEffect((function(){return d.showJsComp(b,e,E.current,D)}),[b]);var M=a.useMemo((function(){return r.toString()}),[r]),A=a.useMemo((function(){return p.toString()}),[p]),k=a.useMemo((function(){return g.toString()}),[g]),N=a.useMemo((function(){return!!(b&&b.componentFromFramework&&c.isComponentStateless(b.componentClass))}),[b]),F=b&&b.componentFromFramework,I=b&&b.componentClass;return a.default.createElement("div",{ref:L,className:M,role:"gridcell",tabIndex:-1},a.default.createElement("div",{ref:E,className:A,role:"presentation"},F&&N&&a.default.createElement(I,o({},b.params)),F&&!N&&a.default.createElement(I,o({},b.params,{ref:D}))),a.default.createElement("div",{ref:O,"aria-hidden":y,className:k,role:"presentation"},a.default.createElement("button",{ref:x,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))}))},5267:function(t,e,n){"use strict";var o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0});var a=s(n(2791)),l=n(2724),u=n(8285),c=n(6817);e.default=a.memo((function(t){var e=a.useContext(l.BeansContext).context,n=t.ctrl,r=a.useState((function(){return new c.CssClasses})),i=r[0],s=r[1],d=a.useState((function(){return new c.CssClasses})),p=d[0],h=d[1],f=a.useState("false"),g=f[0],v=f[1],m=a.useState(),y=m[0],C=m[1],w=a.useState(),b=w[0],_=w[1],S=a.useMemo((function(){return n.getColId()}),[]),E=a.useRef(null),O=a.useRef(null),x=a.useRef(),T=a.useCallback((function(t){if(E.current=t,E.current){var e={setWidth:function(t){E.current&&(E.current.style.width=t)},addOrRemoveCssClass:function(t,e){return s((function(n){return n.setClass(t,e)}))},setUserCompDetails:function(t){return _(t)},setResizableDisplayed:function(t){h((function(e){return e.setClass("ag-hidden",!t)})),v(t?"false":"true")},setAriaExpanded:function(t){return C(t)},getUserCompInstance:function(){return x.current||void 0}};n.setComp(e,E.current,O.current)}}),[]);a.useLayoutEffect((function(){return u.showJsComp(b,e,E.current)}),[b]),a.useEffect((function(){E.current&&n.setDragSource(E.current)}),[b]);var R=a.useMemo((function(){return"ag-header-group-cell "+i.toString()}),[i]),D=a.useMemo((function(){return"ag-header-cell-resize "+p.toString()}),[p]),P=b&&b.componentFromFramework,L=b&&b.componentClass;return a.default.createElement("div",{ref:T,className:R,"col-id":S,role:"columnheader",tabIndex:-1,"aria-expanded":y},P&&a.default.createElement(L,o({},b.params,{ref:x})),a.default.createElement("div",{ref:O,"aria-hidden":g,className:D}))}))},9979:function(t,e,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return r(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=n(7520),l=i(n(2791)),u=s(n(273)),c=s(n(5267)),d=s(n(1478)),p=n(6817);e.default=l.memo((function(t){var e=t.ctrl,n=l.useMemo((function(){return e.getTopAndHeight()}),[]),o=n.topOffset,r=n.rowHeight,i=e.getAriaRowIndex(),s=e.getHeaderRowClass(),h=l.useMemo((function(){return e.getTransform()}),[]),f=l.useState((function(){return r+"px"})),g=f[0],v=f[1],m=l.useState((function(){return o+"px"})),y=m[0],C=m[1],w=l.useState((function(){return e.getHeaderCtrls()})),b=w[0],_=w[1],S=l.useRef(null),E=l.useCallback((function(t){if(S.current=t,t){var n={setHeight:function(t){return v(t)},setTop:function(t){return C(t)},setHeaderCtrls:function(t,e,n){p.agFlushSync(n,(function(){_((function(n){return p.getNextValueIfDifferent(n,t,e)}))}))},setWidth:function(t){S.current&&(S.current.style.width=t)}};e.setComp(n,!1)}}),[]),O=l.useMemo((function(){return{transform:h,height:g,top:y}}),[h,g,y]),x=l.useCallback((function(t){switch(e.getType()){case a.HeaderRowType.COLUMN_GROUP:return l.default.createElement(c.default,{ctrl:t,key:t.getInstanceId()});case a.HeaderRowType.FLOATING_FILTER:return l.default.createElement(d.default,{ctrl:t,key:t.getInstanceId()});default:return l.default.createElement(u.default,{ctrl:t,key:t.getInstanceId()})}}),[]);return l.default.createElement("div",{ref:E,className:s,role:"row",style:O,"aria-rowindex":i},b.map(x))}))},1212:function(t,e,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return r(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(n(2791)),l=n(2724),u=n(7520),c=s(n(9979));e.default=a.memo((function(t){var e=a.useState(!0),n=e[0],o=e[1],r=a.useState([]),i=r[0],s=r[1],d=a.useContext(l.BeansContext).context,p=a.useRef(null),h=a.useRef(null),f=a.useRef(null),g="left"===t.pinned,v="right"===t.pinned,m=!g&&!v,y=a.useCallback((function(e){if(p.current=e,!p.current)return d.destroyBean(f.current),void(f.current=null);var n={setDisplayed:o,setCtrls:function(t){return s(t)},setCenterWidth:function(t){h.current&&(h.current.style.width=t)},setViewportScrollLeft:function(t){p.current&&(p.current.scrollLeft=t)},setPinnedContainerWidth:function(t){p.current&&(p.current.style.width=t,p.current.style.minWidth=t,p.current.style.maxWidth=t)}};f.current=d.createBean(new u.HeaderRowContainerCtrl(t.pinned)),f.current.setComp(n,p.current)}),[]),C=n?"":"ag-hidden",w=function(){return i.map((function(t){return a.default.createElement(c.default,{ctrl:t,key:t.getInstanceId()})}))};return a.default.createElement(a.default.Fragment,null,g&&a.default.createElement("div",{ref:y,className:"ag-pinned-left-header "+C,"aria-hidden":!n,role:"presentation"},w()),v&&a.default.createElement("div",{ref:y,className:"ag-pinned-right-header "+C,"aria-hidden":!n,role:"presentation"},w()),m&&a.default.createElement("div",{ref:y,className:"ag-header-viewport "+C,role:"presentation"},a.default.createElement("div",{ref:h,className:"ag-header-container",role:"rowgroup"},w())))}))},8285:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createSyncJsComp=e.showJsComp=void 0;e.showJsComp=function(t,e,o,r){if(!(!t||t.componentFromFramework||e.isDestroyed())){var i=t.newAgStackInstance();if(i){var s,a,l=!1;return i.then((function(t){l?e.destroyBean(t):(a=(s=t).getGui(),o.appendChild(a),n(r,s))})),function(){l=!0,s&&(a&&a.parentElement&&a.parentElement.removeChild(a),e.destroyBean(s),r&&n(r,void 0))}}}};var n=function(t,e){t&&(t instanceof Function?t(e):t.current=e)};e.createSyncJsComp=function(t){var e=t.newAgStackInstance();if(e)return e.resolveNow(null,(function(t){return t}))}},1008:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(2791);e.default=function(t,e){o.useEffect((function(){var n=e.current;if(n){var o=n.parentElement;if(o){var r=document.createComment(t);return o.insertBefore(r,n),function(){o.removeChild(r)}}}}),[t])}},2939:function(t,e,n){"use strict";var o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return i(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var l=s(n(2791)),u=n(7520),c=n(8285),d=n(6817),p=n(2724),h=a(n(4148));e.default=l.memo((function(t){var e=l.useContext(p.BeansContext).context,n=t.rowCtrl,r=t.containerType,i=n.getTabIndex(),s=l.useRef(n.getDomOrder()),a=n.isFullWidth(),f=n.getRowNode().displayed,g=l.useState((function(){return f?n.getRowIndex():null})),v=g[0],m=g[1],y=l.useState((function(){return n.getRowId()})),C=y[0],w=y[1],b=l.useState((function(){return n.getBusinessKey()})),_=b[0],S=b[1],E=l.useState((function(){return n.getRowStyles()})),O=E[0],x=E[1],T=l.useState((function(){return null})),R=T[0],D=T[1],P=l.useState(),L=P[0],M=P[1],A=l.useState((function(){return f?n.getInitialRowTop(r):void 0})),k=A[0],N=A[1],F=l.useState((function(){return f?n.getInitialTransform(r):void 0})),I=F[0],G=F[1],H=l.useRef(null),V=l.useRef(),j=l.useRef(!1),B=l.useState(0),W=B[0],z=B[1];l.useEffect((function(){var t;if(!j.current&&L&&!(W>10)){var e=null===(t=H.current)||void 0===t?void 0:t.firstChild;e?(n.setupDetailRowAutoHeight(e),j.current=!0):z((function(t){return t+1}))}}),[L,W]);var U=l.useRef();U.current||(U.current=new u.CssClassManager((function(){return H.current})));var Y=l.useCallback((function(t){if(H.current=t,H.current){if(n.isAlive()){var e={setTop:N,setTransform:G,addOrRemoveCssClass:function(t,e){return U.current.addOrRemoveCssClass(t,e)},setDomOrder:function(t){return s.current=t},setRowIndex:m,setRowId:w,setRowBusinessKey:S,setUserStyles:x,setCellCtrls:function(t,e){d.agFlushSync(e,(function(){D((function(e){return d.getNextValueIfDifferent(e,t,s.current)}))}))},showFullWidth:function(t){return M(t)},getFullWidthCellRenderer:function(){return V.current}};n.setComp(e,H.current,r)}}else n.unsetComp(r)}),[]);l.useLayoutEffect((function(){return c.showJsComp(L,e,H.current,V)}),[L]);var K=l.useMemo((function(){var t={top:k,transform:I};return Object.assign(t,O),t}),[k,I,O]),Z=a&&L&&L.componentFromFramework,q=!a&&null!=R,Q=l.useMemo((function(){return!!((null===L||void 0===L?void 0:L.componentFromFramework)&&d.isComponentStateless(L.componentClass))}),[L]);return l.default.createElement("div",{ref:Y,role:"row",style:K,"row-index":v,"row-id":C,"row-business-key":_,tabIndex:i},q&&(null===R||void 0===R?void 0:R.map((function(t){return l.default.createElement(h.default,{cellCtrl:t,editingRow:n.isEditing(),printLayout:n.isPrintLayout(),key:t.getInstanceId()})}))),Z&&function(){var t=L.componentClass;return l.default.createElement(l.default.Fragment,null,Q&&l.default.createElement(t,o({},L.params)),!Q&&l.default.createElement(t,o({},L.params,{ref:V})))}())}))},961:function(t,e,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return r(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=n(7520),l=i(n(2791)),u=n(6817),c=s(n(1008)),d=s(n(2939)),p=n(2724);e.default=l.memo((function(t){var e=l.useContext(p.BeansContext).context,n=t.name,o=l.useMemo((function(){return a.getRowContainerTypeForName(n)}),[n]),r=l.useRef(null),i=l.useRef(null),s=l.useRef([]),h=l.useState((function(){return[]})),f=h[0],g=h[1],v=l.useRef(!1),m=l.useRef(),y=l.useMemo((function(){return a.RowContainerCtrl.getRowContainerCssClasses(n)}),[n]),C=l.useMemo((function(){return u.classesList(y.viewport)}),[y]),w=l.useMemo((function(){return u.classesList(y.container)}),[y]),b=n===a.RowContainerName.CENTER||n===a.RowContainerName.TOP_CENTER||n===a.RowContainerName.BOTTOM_CENTER||n===a.RowContainerName.STICKY_TOP_CENTER,_=b?r:i;c.default(" AG Row Container "+n+" ",_);var S=l.useCallback((function(){return b?null!=r.current&&null!=i.current:null!=i.current}),[]),E=l.useCallback((function(){return b?null==r.current&&null==i.current:null==i.current}),[]),O=l.useCallback((function(){if(E()&&(e.destroyBean(m.current),m.current=null),S()){var t=function(t){u.agFlushSync(t,(function(){g((function(t){return u.getNextValueIfDifferent(t,s.current,v.current)}))}))},o={setViewportHeight:function(t){r.current&&(r.current.style.height=t)},setRowCtrls:function(e,n){var o=n&&s.current.length>0&&e.length>0;s.current=e,t(o)},setDomOrder:function(e){v.current!=e&&(v.current=e,t(!1))},setContainerWidth:function(t){i.current&&(i.current.style.width=t)}};m.current=e.createBean(new a.RowContainerCtrl(n)),m.current.setComp(o,i.current,r.current)}}),[S,E]),x=l.useCallback((function(t){i.current=t,O()}),[O]),T=l.useCallback((function(t){r.current=t,O()}),[O]),R=function(){return l.default.createElement("div",{className:w,ref:x,role:f.length?"rowgroup":"presentation"},f.map((function(t){return l.default.createElement(d.default,{rowCtrl:t,containerType:o,key:t.getInstanceId()})})))};return l.default.createElement(l.default.Fragment,null,b?l.default.createElement("div",{className:C,ref:T,role:"presentation"},R()):R())}))},2051:function(t,e,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return r(e,t),e};Object.defineProperty(e,"__esModule",{value:!0});var s=i(n(2791)),a=n(7520),l=n(2724),u=s.forwardRef((function(t,e){var n=t.children,o=t.eFocusableElement,r=t.onTabKeyDown,i=t.gridCtrl,u=s.useContext(l.BeansContext).context,c=s.useRef(null),d=s.useRef(null),p=s.useRef(),h=function(t){var e=null==t?void 0:parseInt(t,10).toString();[c,d].forEach((function(t){var n,o;void 0===e?null===(n=t.current)||void 0===n||n.removeAttribute("tabindex"):null===(o=t.current)||void 0===o||o.setAttribute("tabindex",e)}))};s.useImperativeHandle(e,(function(){return{forceFocusOutOfContainer:function(){var t;null===(t=p.current)||void 0===t||t.forceFocusOutOfContainer()}}}));var f=s.useCallback((function(){if(!c.current&&!d.current)return u.destroyBean(p.current),void(p.current=null);if(c.current&&d.current){var t={setTabIndex:h};p.current=u.createBean(new a.TabGuardCtrl({comp:t,eTopGuard:c.current,eBottomGuard:d.current,eFocusableElement:o,onTabKeyDown:r,focusInnerElement:function(t){return i.focusInnerElement(t)}}))}}),[]),g=s.useCallback((function(t){c.current=t,f()}),[f]),v=s.useCallback((function(t){d.current=t,f()}),[f]),m=function(t){var e="top"===t?a.TabGuardClassNames.TAB_GUARD_TOP:a.TabGuardClassNames.TAB_GUARD_BOTTOM;return s.default.createElement("div",{className:a.TabGuardClassNames.TAB_GUARD+" "+e,role:"presentation",ref:"top"===t?g:v})};return s.default.createElement(s.default.Fragment,null,m("top"),n,m("bottom"))}));e.default=s.memo(u)},1622:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useEffectOnce=void 0;var o=n(2791);e.useEffectOnce=function(t){var e=o.useRef(t),n=o.useRef(),r=o.useRef(!1),i=o.useRef(!1),s=o.useState(0)[1];r.current&&(i.current=!0),o.useEffect((function(){return r.current||(n.current=e.current(),r.current=!0),s((function(t){return t+1})),function(){i.current&&n.current&&n.current()}}),[])}},6817:function(t,e,n){"use strict";var o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)},r=this&&this.__spreadArray||function(t,e){for(var n=0,o=e.length,r=t.length;n<o;n++,r++)t[r]=e[n];return t},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.getNextValueIfDifferent=e.agFlushSync=e.isComponentStateless=e.CssClasses=e.classesList=void 0;var s=i(n(4164));e.classesList=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter((function(t){return null!=t&&""!==t})).join(" ")};var a=function(){function t(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.classesMap={},e.forEach((function(e){t.classesMap[e]=!0}))}return t.prototype.setClass=function(e,n){if(!!this.classesMap[e]==n)return this;var r=new t;return r.classesMap=o({},this.classesMap),r.classesMap[e]=n,r},t.prototype.toString=function(){var t=this;return Object.keys(this.classesMap).filter((function(e){return t.classesMap[e]})).join(" ")},t}();e.CssClasses=a;e.isComponentStateless=function(t){return"function"===typeof t&&!(t.prototype&&t.prototype.isReactComponent)||"object"===typeof t&&t.$$typeof===("function"===typeof Symbol&&Symbol.for?Symbol.for("react.memo"):60115)};var l=null!=s.default.createRoot&&null!=s.default.flushSync;e.agFlushSync=function(t,e){l&&t?s.default.flushSync(e):e()},e.getNextValueIfDifferent=function(t,e,n){if(null==e||null==t)return e;if(t===e||0===e.length&&0===t.length)return t;if(n||0===t.length&&e.length>0||t.length>0&&0===e.length)return e;for(var o=[],i=[],s=new Map,a=new Map,l=0;l<e.length;l++){var u=e[l];a.set(u.getInstanceId(),u)}for(l=0;l<t.length;l++){u=t[l];s.set(u.getInstanceId(),u),a.has(u.getInstanceId())&&o.push(u)}for(l=0;l<e.length;l++){var c=(u=e[l]).getInstanceId();s.has(c)||i.push(u)}return o.length===t.length&&0===i.length?t:0===o.length&&i.length===e.length?e:r(r([],o),i)}},7736:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ChangeDetectionStrategyType=void 0,function(t){t.IdentityCheck="IdentityCheck",t.DeepValueCheck="DeepValueCheck",t.NoCheck="NoCheck"}(e.ChangeDetectionStrategyType||(e.ChangeDetectionStrategyType={}))},3507:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=0;e.default=function(){return"agPortalKey_"+ ++n}},8665:function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},r.apply(this,arguments)},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.NewReactComponent=void 0;var s=n(2791),a=n(4164),l=n(7520),u=n(294),c=n(8340),d=i(n(3507)),p=function(t){function e(e,n,o){var r=t.call(this,e,n,o)||this;return r.oldPortal=null,r.key=d.default(),r.portalKey=d.default(),r}return o(e,t),e.prototype.init=function(t){var e=this;return this.eParentElement=this.createParentElement(t),this.params=t,this.createOrUpdatePortal(t),new l.AgPromise((function(t){return e.createReactComponent(t)}))},e.prototype.createOrUpdatePortal=function(t){var e=this;this.isStatelessComponent()||(t.ref=function(t){e.componentInstance=t,e.addParentContainerStyleAndClasses()}),this.reactElement=s.createElement(this.reactComponent,r(r({},t),{key:this.key})),this.portal=a.createPortal(this.reactElement,this.eParentElement,this.portalKey)},e.prototype.createReactComponent=function(t){this.portalManager.mountReactPortal(this.portal,this,(function(e){t(e)}))},e.prototype.isNullValue=function(){return this.valueRenderedIsNull(this.params)},e.prototype.rendered=function(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!(this.isStatelessComponent()||!this.getFrameworkComponentInstance())},e.prototype.valueRenderedIsNull=function(t){if(!this.componentType.cellRenderer)return!1;var e=console.error;try{return console.error=function(){},""===c.renderToStaticMarkup(s.createElement(this.reactComponent,t))}catch(n){}finally{console.error=e}return!1},e.prototype.refreshComponent=function(t){this.oldPortal=this.portal,this.createOrUpdatePortal(t),this.portalManager.updateReactPortal(this.oldPortal,this.portal)},e.prototype.fallbackMethod=function(t,e){var n=this[t+"Component"];if(n)return n.bind(this)(e)},e.prototype.fallbackMethodAvailable=function(t){return!!this[t+"Component"]},e}(u.ReactComponent);e.NewReactComponent=p},3365:function(t,e){"use strict";var n=this&&this.__spreadArray||function(t,e){for(var n=0,o=e.length,r=t.length;n<o;n++,r++)t[r]=e[n];return t};Object.defineProperty(e,"__esModule",{value:!0}),e.PortalManager=e.LegacyPortalManager=void 0;var o=function(){function t(e,n,o){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=n||"div",this.parent=e,this.maxComponentCreationTimeMs=o||t.MAX_COMPONENT_CREATION_TIME_IN_MS}return t.prototype.getPortals=function(){return this.portals},t.prototype.destroy=function(){this.destroyed=!0},t.prototype.destroyPortal=function(t){this.portals=this.portals.filter((function(e){return e!==t})),this.batchUpdate()},t.prototype.getComponentWrappingElement=function(){return this.wrappingElement},t.prototype.mountReactPortal=function(t,e,o){this.portals=n(n([],this.portals),[t]),this.waitForInstance(e,o),this.batchUpdate()},t.prototype.updateReactPortal=function(t,e){this.portals[this.portals.indexOf(t)]=e,this.batchUpdate()},t.prototype.batchUpdate=function(){var t=this;this.hasPendingPortalUpdate||(setTimeout((function(){t.destroyed||t.parent.forceUpdate((function(){t.hasPendingPortalUpdate=!1}))})),this.hasPendingPortalUpdate=!0)},t.prototype.waitForInstance=function(t,e,n){var o=this;if(void 0===n&&(n=Date.now()),this.destroyed)e(null);else if(t.rendered())e(t);else{if(Date.now()-n>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return t.isNullValue()?void e(t):void console.error("AG Grid: React Component '"+t.getReactComponentName()+"' not created within "+this.maxComponentCreationTimeMs+"ms");window.setTimeout((function(){o.waitForInstance(t,e,n)}))}},t.MAX_COMPONENT_CREATION_TIME_IN_MS=1e3,t}();e.LegacyPortalManager=o;var r=function(){function t(e,n,o){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=n||"div",this.refresher=e,this.maxComponentCreationTimeMs=o||t.MAX_COMPONENT_CREATION_TIME_IN_MS}return t.prototype.getPortals=function(){return this.portals},t.prototype.destroy=function(){this.destroyed=!0},t.prototype.destroyPortal=function(t){this.portals=this.portals.filter((function(e){return e!==t})),this.batchUpdate()},t.prototype.getComponentWrappingElement=function(){return this.wrappingElement},t.prototype.mountReactPortal=function(t,e,o){this.portals=n(n([],this.portals),[t]),this.waitForInstance(e,o),this.batchUpdate()},t.prototype.updateReactPortal=function(t,e){this.portals[this.portals.indexOf(t)]=e,this.batchUpdate()},t.prototype.batchUpdate=function(){var t=this;this.hasPendingPortalUpdate||(setTimeout((function(){t.destroyed||(t.refresher(),t.hasPendingPortalUpdate=!1)})),this.hasPendingPortalUpdate=!0)},t.prototype.waitForInstance=function(t,e,n){var o=this;if(void 0===n&&(n=Date.now()),this.destroyed)e(null);else if(t.rendered())e(t);else{if(Date.now()-n>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return t.isNullValue()?void e(t):void console.error("AG Grid: React Component '"+t.getReactComponentName()+"' not created within "+this.maxComponentCreationTimeMs+"ms");window.setTimeout((function(){o.waitForInstance(t,e,n)}))}},t.MAX_COMPONENT_CREATION_TIME_IN_MS=1e3,t}();e.PortalManager=r},294:function(t,e){"use strict";var n=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.ReactComponent=void 0;var o=function(t){function e(e,n,o){var r=t.call(this)||this;return r.portal=null,r.reactComponent=e,r.portalManager=n,r.componentType=o,r.statelessComponent=r.isStateless(r.reactComponent),r}return n(e,t),e.prototype.getGui=function(){return this.eParentElement},e.prototype.destroy=function(){return this.componentInstance&&"function"==typeof this.componentInstance.destroy&&this.componentInstance.destroy(),this.portalManager.destroyPortal(this.portal)},e.prototype.createParentElement=function(t){var e=this.portalManager.getComponentWrappingElement(),n=document.createElement(e||"div");return n.classList.add("ag-react-container"),t.reactContainer=n,n},e.prototype.addParentContainerStyleAndClasses=function(){var t=this;this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle()),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses()&&this.componentInstance.getReactContainerClasses().forEach((function(e){return t.eParentElement.classList.add(e)})))},e.prototype.statelessComponentRendered=function(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0},e.prototype.getFrameworkComponentInstance=function(){return this.componentInstance},e.prototype.isStatelessComponent=function(){return this.statelessComponent},e.prototype.getReactComponentName=function(){return this.reactComponent.name},e.prototype.getMemoType=function(){return this.hasSymbol()?Symbol.for("react.memo"):60115},e.prototype.hasSymbol=function(){return"function"===typeof Symbol&&Symbol.for},e.prototype.isStateless=function(t){return"function"===typeof t&&!(t.prototype&&t.prototype.isReactComponent)||"object"===typeof t&&t.$$typeof===this.getMemoType()},e.prototype.hasMethod=function(t){var e=this.getFrameworkComponentInstance();return!!e&&null!==e[t]||this.fallbackMethodAvailable(t)},e.prototype.callMethod=function(t,e){var n=this,o=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(t,e&&e[0]?e[0]:{});if(o){var r=o[t];return r?r.apply(o,e):this.fallbackMethodAvailable(t)?this.fallbackMethod(t,e&&e[0]?e[0]:{}):void 0}setTimeout((function(){return n.callMethod(t,e)}))},e.prototype.addMethod=function(t,e){this[t]=e},e}((function(){}));e.ReactComponent=o},9575:function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ReactFrameworkOverrides=void 0;var i=n(7520),s=r(n(5728)),a=r(n(7627)),l=function(t){function e(){var e=t.call(this,"react")||this;return e.frameworkComponents={agGroupCellRenderer:s.default,agGroupRowRenderer:s.default,agDetailCellRenderer:a.default},e.renderingEngine="react",e}return o(e,t),e.prototype.frameworkComponent=function(t){return this.frameworkComponents[t]},e.prototype.isFrameworkComponent=function(t){if(!t)return!1;var e=t.prototype;return!(e&&"getGui"in e)},e}(i.VanillaFrameworkOverrides);e.ReactFrameworkOverrides=l},1694:(t,e)=>{var n;!function(){"use strict";var o={}.hasOwnProperty;function r(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];if(n){var i=typeof n;if("string"===i||"number"===i)t.push(n);else if(Array.isArray(n)){if(n.length){var s=r.apply(null,n);s&&t.push(s)}}else if("object"===i){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){t.push(n.toString());continue}for(var a in n)o.call(n,a)&&n[a]&&t.push(a)}}}return t.join(" ")}t.exports?(r.default=r,t.exports=r):void 0===(n=function(){return r}.apply(e,[]))||(t.exports=n)}()},6674:(t,e,n)=>{"use strict";n.d(e,{Z:()=>d});var o={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};const r=function(t,e,n){var r,i=o[t];return r="string"===typeof i?i:1===e?i.one:i.other.replace("{{count}}",e.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function i(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}var s={date:i({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:i({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:i({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var a={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function l(t){return function(e,n){var o;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&t.formattingValues){var r=t.defaultFormattingWidth||t.defaultWidth,i=null!==n&&void 0!==n&&n.width?String(n.width):r;o=t.formattingValues[i]||t.formattingValues[r]}else{var s=t.defaultWidth,a=null!==n&&void 0!==n&&n.width?String(n.width):t.defaultWidth;o=t.values[a]||t.values[s]}return o[t.argumentCallback?t.argumentCallback(e):e]}}function u(t){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.width,r=o&&t.matchPatterns[o]||t.matchPatterns[t.defaultMatchWidth],i=e.match(r);if(!i)return null;var s,a=i[0],l=o&&t.parsePatterns[o]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(l)?function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n;return}(l,(function(t){return t.test(a)})):function(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n;return}(l,(function(t){return t.test(a)}));return s=t.valueCallback?t.valueCallback(u):u,{value:s=n.valueCallback?n.valueCallback(s):s,rest:e.slice(a.length)}}}var c;const d={code:"en-US",formatDistance:r,formatLong:s,formatRelative:function(t,e,n,o){return a[t]},localize:{ordinalNumber:function(t,e){var n=Number(t),o=n%100;if(o>20||o<10)switch(o%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:l({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:l({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:l({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:l({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:l({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(c={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(t){return parseInt(t,10)}},function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.match(c.matchPattern);if(!n)return null;var o=n[0],r=t.match(c.parsePattern);if(!r)return null;var i=c.valueCallback?c.valueCallback(r[0]):r[0];return{value:i=e.valueCallback?e.valueCallback(i):i,rest:t.slice(o.length)}}),era:u({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:u({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:u({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:u({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:u({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}}},4408:(t,e,n)=>{"use strict";n.d(e,{j:()=>r});var o={};function r(){return o}},3462:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var o=function(t,e){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},r=function(t,e){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}};const i={p:r,P:function(t,e){var n,i=t.match(/(P+)(p+)?/)||[],s=i[1],a=i[2];if(!a)return o(t,e);switch(s){case"P":n=e.dateTime({width:"short"});break;case"PP":n=e.dateTime({width:"medium"});break;case"PPP":n=e.dateTime({width:"long"});break;default:n=e.dateTime({width:"full"})}return n.replace("{{date}}",o(s,e)).replace("{{time}}",r(a,e))}}},4697:(t,e,n)=>{"use strict";function o(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}n.d(e,{Z:()=>o})},9153:(t,e,n)=>{"use strict";n.d(e,{Z:()=>l});var o=n(8527),r=n(9853),i=n(5611),s=n(4522);var a=6048e5;function l(t){(0,s.Z)(1,arguments);var e=(0,o.default)(t),n=(0,r.Z)(e).getTime()-function(t){(0,s.Z)(1,arguments);var e=(0,i.Z)(t),n=new Date(0);return n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0),(0,r.Z)(n)}(e).getTime();return Math.round(n/a)+1}},5611:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var o=n(8527),r=n(4522),i=n(9853);function s(t){(0,r.Z)(1,arguments);var e=(0,o.default)(t),n=e.getUTCFullYear(),s=new Date(0);s.setUTCFullYear(n+1,0,4),s.setUTCHours(0,0,0,0);var a=(0,i.Z)(s),l=new Date(0);l.setUTCFullYear(n,0,4),l.setUTCHours(0,0,0,0);var u=(0,i.Z)(l);return e.getTime()>=a.getTime()?n+1:e.getTime()>=u.getTime()?n:n-1}},9934:(t,e,n)=>{"use strict";n.d(e,{Z:()=>c});var o=n(8527),r=n(1230),i=n(9726),s=n(4522),a=n(9297),l=n(4408);var u=6048e5;function c(t,e){(0,s.Z)(1,arguments);var n=(0,o.default)(t),c=(0,r.Z)(n,e).getTime()-function(t,e){var n,o,u,c,d,p,h,f;(0,s.Z)(1,arguments);var g=(0,l.j)(),v=(0,a.Z)(null!==(n=null!==(o=null!==(u=null!==(c=null===e||void 0===e?void 0:e.firstWeekContainsDate)&&void 0!==c?c:null===e||void 0===e||null===(d=e.locale)||void 0===d||null===(p=d.options)||void 0===p?void 0:p.firstWeekContainsDate)&&void 0!==u?u:g.firstWeekContainsDate)&&void 0!==o?o:null===(h=g.locale)||void 0===h||null===(f=h.options)||void 0===f?void 0:f.firstWeekContainsDate)&&void 0!==n?n:1),m=(0,i.Z)(t,e),y=new Date(0);return y.setUTCFullYear(m,0,v),y.setUTCHours(0,0,0,0),(0,r.Z)(y,e)}(n,e).getTime();return Math.round(c/u)+1}},9726:(t,e,n)=>{"use strict";n.d(e,{Z:()=>l});var o=n(8527),r=n(4522),i=n(1230),s=n(9297),a=n(4408);function l(t,e){var n,l,u,c,d,p,h,f;(0,r.Z)(1,arguments);var g=(0,o.default)(t),v=g.getUTCFullYear(),m=(0,a.j)(),y=(0,s.Z)(null!==(n=null!==(l=null!==(u=null!==(c=null===e||void 0===e?void 0:e.firstWeekContainsDate)&&void 0!==c?c:null===e||void 0===e||null===(d=e.locale)||void 0===d||null===(p=d.options)||void 0===p?void 0:p.firstWeekContainsDate)&&void 0!==u?u:m.firstWeekContainsDate)&&void 0!==l?l:null===(h=m.locale)||void 0===h||null===(f=h.options)||void 0===f?void 0:f.firstWeekContainsDate)&&void 0!==n?n:1);if(!(y>=1&&y<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var C=new Date(0);C.setUTCFullYear(v+1,0,y),C.setUTCHours(0,0,0,0);var w=(0,i.Z)(C,e),b=new Date(0);b.setUTCFullYear(v,0,y),b.setUTCHours(0,0,0,0);var _=(0,i.Z)(b,e);return g.getTime()>=w.getTime()?v+1:g.getTime()>=_.getTime()?v:v-1}},8552:(t,e,n)=>{"use strict";n.d(e,{Do:()=>s,Iu:()=>i,qp:()=>a});var o=["D","DD"],r=["YY","YYYY"];function i(t){return-1!==o.indexOf(t)}function s(t){return-1!==r.indexOf(t)}function a(t,e,n){if("YYYY"===t)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===t)throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===t)throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===t)throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}},4522:(t,e,n)=>{"use strict";function o(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}n.d(e,{Z:()=>o})},9853:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var o=n(8527),r=n(4522);function i(t){(0,r.Z)(1,arguments);var e=(0,o.default)(t),n=e.getUTCDay(),i=(n<1?7:0)+n-1;return e.setUTCDate(e.getUTCDate()-i),e.setUTCHours(0,0,0,0),e}},1230:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var o=n(8527),r=n(4522),i=n(9297),s=n(4408);function a(t,e){var n,a,l,u,c,d,p,h;(0,r.Z)(1,arguments);var f=(0,s.j)(),g=(0,i.Z)(null!==(n=null!==(a=null!==(l=null!==(u=null===e||void 0===e?void 0:e.weekStartsOn)&&void 0!==u?u:null===e||void 0===e||null===(c=e.locale)||void 0===c||null===(d=c.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==l?l:f.weekStartsOn)&&void 0!==a?a:null===(p=f.locale)||void 0===p||null===(h=p.options)||void 0===h?void 0:h.weekStartsOn)&&void 0!==n?n:0);if(!(g>=0&&g<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var v=(0,o.default)(t),m=v.getUTCDay(),y=(m<g?7:0)+m-g;return v.setUTCDate(v.getUTCDate()-y),v.setUTCHours(0,0,0,0),v}},9297:(t,e,n)=>{"use strict";function o(t){if(null===t||!0===t||!1===t)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}n.d(e,{Z:()=>o})},9040:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var o=n(9297),r=n(8527),i=n(4522);function s(t,e){(0,i.Z)(2,arguments);var n=(0,r.default)(t),s=(0,o.Z)(e);return isNaN(s)?new Date(NaN):s?(n.setDate(n.getDate()+s),n):n}},2074:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>a});var o=n(9297),r=n(4377),i=n(4522),s=36e5;function a(t,e){(0,i.Z)(2,arguments);var n=(0,o.Z)(e);return(0,r.Z)(t,n*s)}},4377:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var o=n(9297),r=n(8527),i=n(4522);function s(t,e){(0,i.Z)(2,arguments);var n=(0,r.default)(t).getTime(),s=(0,o.Z)(e);return new Date(n+s)}},1518:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>a});var o=n(9297),r=n(4377),i=n(4522),s=6e4;function a(t,e){(0,i.Z)(2,arguments);var n=(0,o.Z)(e);return(0,r.Z)(t,n*s)}},1104:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var o=n(9297),r=n(8527),i=n(4522);function s(t,e){(0,i.Z)(2,arguments);var n=(0,r.default)(t),s=(0,o.Z)(e);if(isNaN(s))return new Date(NaN);if(!s)return n;var a=n.getDate(),l=new Date(n.getTime());return l.setMonth(n.getMonth()+s+1,0),a>=l.getDate()?l:(n.setFullYear(l.getFullYear(),l.getMonth(),a),n)}},6689:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var o=n(9297),r=n(1104),i=n(4522);function s(t,e){(0,i.Z)(2,arguments);var n=3*(0,o.Z)(e);return(0,r.default)(t,n)}},20:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var o=n(9297),r=n(9040),i=n(4522);function s(t,e){(0,i.Z)(2,arguments);var n=7*(0,o.Z)(e);return(0,r.default)(t,n)}},5105:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var o=n(9297),r=n(1104),i=n(4522);function s(t,e){(0,i.Z)(2,arguments);var n=(0,o.Z)(e);return(0,r.default)(t,12*n)}},2729:(t,e,n)=>{"use strict";n.d(e,{qk:()=>i,vh:()=>r,yJ:()=>o});Math.pow(10,8);var o=6e4,r=36e5,i=1e3},9759:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>a});var o=n(4697),r=n(8347),i=n(4522),s=864e5;function a(t,e){(0,i.Z)(2,arguments);var n=(0,r.default)(t),a=(0,r.default)(e),l=n.getTime()-(0,o.Z)(n),u=a.getTime()-(0,o.Z)(a);return Math.round((l-u)/s)}},5951:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});var o=n(8527),r=n(4522);function i(t,e){(0,r.Z)(2,arguments);var n=(0,o.default)(t),i=(0,o.default)(e);return 12*(n.getFullYear()-i.getFullYear())+(n.getMonth()-i.getMonth())}},7415:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});var o=n(8527),r=n(4522);function i(t,e){(0,r.Z)(2,arguments);var n=(0,o.default)(t),i=(0,o.default)(e);return n.getFullYear()-i.getFullYear()}},786:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});var o=n(8527),r=n(4522);function i(t){(0,r.Z)(1,arguments);var e=(0,o.default)(t);return e.setHours(23,59,59,999),e}},4888:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});var o=n(8527),r=n(4522);function i(t){(0,r.Z)(1,arguments);var e=(0,o.default)(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}},4565:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>a});var o=n(4408),r=n(8527),i=n(9297),s=n(4522);function a(t,e){var n,a,l,u,c,d,p,h;(0,s.Z)(1,arguments);var f=(0,o.j)(),g=(0,i.Z)(null!==(n=null!==(a=null!==(l=null!==(u=null===e||void 0===e?void 0:e.weekStartsOn)&&void 0!==u?u:null===e||void 0===e||null===(c=e.locale)||void 0===c||null===(d=c.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==l?l:f.weekStartsOn)&&void 0!==a?a:null===(p=f.locale)||void 0===p||null===(h=p.options)||void 0===h?void 0:h.weekStartsOn)&&void 0!==n?n:0);if(!(g>=0&&g<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var v=(0,r.default)(t),m=v.getDay(),y=6+(m<g?-7:0)-(m-g);return v.setDate(v.getDate()+y),v.setHours(23,59,59,999),v}},4675:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});var o=n(8527),r=n(4522);function i(t){(0,r.Z)(1,arguments);var e=(0,o.default)(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}},1951:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>k});var o=n(9314),r=n(1633),i=n(8527),s=n(4522);var a=n(9153),l=n(5611),u=n(9934),c=n(9726);function d(t,e){for(var n=t<0?"-":"",o=Math.abs(t).toString();o.length<e;)o="0"+o;return n+o}const p={y:function(t,e){var n=t.getUTCFullYear(),o=n>0?n:1-n;return d("yy"===e?o%100:o,e.length)},M:function(t,e){var n=t.getUTCMonth();return"M"===e?String(n+1):d(n+1,2)},d:function(t,e){return d(t.getUTCDate(),e.length)},a:function(t,e){var n=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(t,e){return d(t.getUTCHours()%12||12,e.length)},H:function(t,e){return d(t.getUTCHours(),e.length)},m:function(t,e){return d(t.getUTCMinutes(),e.length)},s:function(t,e){return d(t.getUTCSeconds(),e.length)},S:function(t,e){var n=e.length,o=t.getUTCMilliseconds();return d(Math.floor(o*Math.pow(10,n-3)),e.length)}};var h="midnight",f="noon",g="morning",v="afternoon",m="evening",y="night";function C(t,e){var n=t>0?"-":"+",o=Math.abs(t),r=Math.floor(o/60),i=o%60;if(0===i)return n+String(r);var s=e||"";return n+String(r)+s+d(i,2)}function w(t,e){return t%60===0?(t>0?"-":"+")+d(Math.abs(t)/60,2):b(t,e)}function b(t,e){var n=e||"",o=t>0?"-":"+",r=Math.abs(t);return o+d(Math.floor(r/60),2)+n+d(r%60,2)}const _={G:function(t,e,n){var o=t.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(o,{width:"abbreviated"});case"GGGGG":return n.era(o,{width:"narrow"});default:return n.era(o,{width:"wide"})}},y:function(t,e,n){if("yo"===e){var o=t.getUTCFullYear(),r=o>0?o:1-o;return n.ordinalNumber(r,{unit:"year"})}return p.y(t,e)},Y:function(t,e,n,o){var r=(0,c.Z)(t,o),i=r>0?r:1-r;return"YY"===e?d(i%100,2):"Yo"===e?n.ordinalNumber(i,{unit:"year"}):d(i,e.length)},R:function(t,e){return d((0,l.Z)(t),e.length)},u:function(t,e){return d(t.getUTCFullYear(),e.length)},Q:function(t,e,n){var o=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"Q":return String(o);case"QQ":return d(o,2);case"Qo":return n.ordinalNumber(o,{unit:"quarter"});case"QQQ":return n.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(o,{width:"narrow",context:"formatting"});default:return n.quarter(o,{width:"wide",context:"formatting"})}},q:function(t,e,n){var o=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"q":return String(o);case"qq":return d(o,2);case"qo":return n.ordinalNumber(o,{unit:"quarter"});case"qqq":return n.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(o,{width:"narrow",context:"standalone"});default:return n.quarter(o,{width:"wide",context:"standalone"})}},M:function(t,e,n){var o=t.getUTCMonth();switch(e){case"M":case"MM":return p.M(t,e);case"Mo":return n.ordinalNumber(o+1,{unit:"month"});case"MMM":return n.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(o,{width:"narrow",context:"formatting"});default:return n.month(o,{width:"wide",context:"formatting"})}},L:function(t,e,n){var o=t.getUTCMonth();switch(e){case"L":return String(o+1);case"LL":return d(o+1,2);case"Lo":return n.ordinalNumber(o+1,{unit:"month"});case"LLL":return n.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(o,{width:"narrow",context:"standalone"});default:return n.month(o,{width:"wide",context:"standalone"})}},w:function(t,e,n,o){var r=(0,u.Z)(t,o);return"wo"===e?n.ordinalNumber(r,{unit:"week"}):d(r,e.length)},I:function(t,e,n){var o=(0,a.Z)(t);return"Io"===e?n.ordinalNumber(o,{unit:"week"}):d(o,e.length)},d:function(t,e,n){return"do"===e?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):p.d(t,e)},D:function(t,e,n){var o=function(t){(0,s.Z)(1,arguments);var e=(0,i.default)(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var o=n-e.getTime();return Math.floor(o/864e5)+1}(t);return"Do"===e?n.ordinalNumber(o,{unit:"dayOfYear"}):d(o,e.length)},E:function(t,e,n){var o=t.getUTCDay();switch(e){case"E":case"EE":case"EEE":return n.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(o,{width:"short",context:"formatting"});default:return n.day(o,{width:"wide",context:"formatting"})}},e:function(t,e,n,o){var r=t.getUTCDay(),i=(r-o.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return d(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(t,e,n,o){var r=t.getUTCDay(),i=(r-o.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return d(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(t,e,n){var o=t.getUTCDay(),r=0===o?7:o;switch(e){case"i":return String(r);case"ii":return d(r,e.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(o,{width:"short",context:"formatting"});default:return n.day(o,{width:"wide",context:"formatting"})}},a:function(t,e,n){var o=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,e,n){var o,r=t.getUTCHours();switch(o=12===r?f:0===r?h:r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,e,n){var o,r=t.getUTCHours();switch(o=r>=17?m:r>=12?v:r>=4?g:y,e){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,e,n){if("ho"===e){var o=t.getUTCHours()%12;return 0===o&&(o=12),n.ordinalNumber(o,{unit:"hour"})}return p.h(t,e)},H:function(t,e,n){return"Ho"===e?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):p.H(t,e)},K:function(t,e,n){var o=t.getUTCHours()%12;return"Ko"===e?n.ordinalNumber(o,{unit:"hour"}):d(o,e.length)},k:function(t,e,n){var o=t.getUTCHours();return 0===o&&(o=24),"ko"===e?n.ordinalNumber(o,{unit:"hour"}):d(o,e.length)},m:function(t,e,n){return"mo"===e?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):p.m(t,e)},s:function(t,e,n){return"so"===e?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):p.s(t,e)},S:function(t,e){return p.S(t,e)},X:function(t,e,n,o){var r=(o._originalDate||t).getTimezoneOffset();if(0===r)return"Z";switch(e){case"X":return w(r);case"XXXX":case"XX":return b(r);default:return b(r,":")}},x:function(t,e,n,o){var r=(o._originalDate||t).getTimezoneOffset();switch(e){case"x":return w(r);case"xxxx":case"xx":return b(r);default:return b(r,":")}},O:function(t,e,n,o){var r=(o._originalDate||t).getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+C(r,":");default:return"GMT"+b(r,":")}},z:function(t,e,n,o){var r=(o._originalDate||t).getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+C(r,":");default:return"GMT"+b(r,":")}},t:function(t,e,n,o){var r=o._originalDate||t;return d(Math.floor(r.getTime()/1e3),e.length)},T:function(t,e,n,o){return d((o._originalDate||t).getTime(),e.length)}};var S=n(3462),E=n(4697),O=n(8552),x=n(9297),T=n(4408),R=n(6674),D=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,P=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,L=/^'([^]*?)'?$/,M=/''/g,A=/[a-zA-Z]/;function k(t,e,n){var a,l,u,c,d,p,h,f,g,v,m,y,C,w,b,k,N,F;(0,s.Z)(2,arguments);var I=String(e),G=(0,T.j)(),H=null!==(a=null!==(l=null===n||void 0===n?void 0:n.locale)&&void 0!==l?l:G.locale)&&void 0!==a?a:R.Z,V=(0,x.Z)(null!==(u=null!==(c=null!==(d=null!==(p=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==p?p:null===n||void 0===n||null===(h=n.locale)||void 0===h||null===(f=h.options)||void 0===f?void 0:f.firstWeekContainsDate)&&void 0!==d?d:G.firstWeekContainsDate)&&void 0!==c?c:null===(g=G.locale)||void 0===g||null===(v=g.options)||void 0===v?void 0:v.firstWeekContainsDate)&&void 0!==u?u:1);if(!(V>=1&&V<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var j=(0,x.Z)(null!==(m=null!==(y=null!==(C=null!==(w=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==w?w:null===n||void 0===n||null===(b=n.locale)||void 0===b||null===(k=b.options)||void 0===k?void 0:k.weekStartsOn)&&void 0!==C?C:G.weekStartsOn)&&void 0!==y?y:null===(N=G.locale)||void 0===N||null===(F=N.options)||void 0===F?void 0:F.weekStartsOn)&&void 0!==m?m:0);if(!(j>=0&&j<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!H.localize)throw new RangeError("locale must contain localize property");if(!H.formatLong)throw new RangeError("locale must contain formatLong property");var B=(0,i.default)(t);if(!(0,o.default)(B))throw new RangeError("Invalid time value");var W=(0,E.Z)(B),z=(0,r.Z)(B,W),U={firstWeekContainsDate:V,weekStartsOn:j,locale:H,_originalDate:B};return I.match(P).map((function(t){var e=t[0];return"p"===e||"P"===e?(0,S.Z[e])(t,H.formatLong):t})).join("").match(D).map((function(o){if("''"===o)return"'";var r=o[0];if("'"===r)return function(t){var e=t.match(L);if(!e)return t;return e[1].replace(M,"'")}(o);var i=_[r];if(i)return null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||!(0,O.Do)(o)||(0,O.qp)(o,e,String(t)),null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!(0,O.Iu)(o)||(0,O.qp)(o,e,String(t)),i(z,o,H.localize,U);if(r.match(A))throw new RangeError("Format string contains an unescaped latin alphabet character `"+r+"`");return o})).join("")}},6114:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});var o=n(8527),r=n(4522);function i(t){return(0,r.Z)(1,arguments),(0,o.default)(t).getDate()}},467:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});var o=n(8527),r=n(4522);function i(t){return(0,r.Z)(1,arguments),(0,o.default)(t).getDay()}},1537:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});var o=n(8527),r=n(4522);function i(t){return(0,r.Z)(1,arguments),(0,o.default)(t).getHours()}},6975:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>u});var o=n(8527),r=n(3629),i=n(4522);function s(t){return(0,i.Z)(1,arguments),(0,r.default)(t,{weekStartsOn:1})}function a(t){(0,i.Z)(1,arguments);var e=function(t){(0,i.Z)(1,arguments);var e=(0,o.default)(t),n=e.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var a=s(r),l=new Date(0);l.setFullYear(n,0,4),l.setHours(0,0,0,0);var u=s(l);return e.getTime()>=a.getTime()?n+1:e.getTime()>=u.getTime()?n:n-1}(t),n=new Date(0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),s(n)}var l=6048e5;function u(t){(0,i.Z)(1,arguments);var e=(0,o.default)(t),n=s(e).getTime()-a(e).getTime();return Math.round(n/l)+1}},4424:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});var o=n(8527),r=n(4522);function i(t){return(0,r.Z)(1,arguments),(0,o.default)(t).getMinutes()}},3747:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});var o=n(8527),r=n(4522);function i(t){return(0,r.Z)(1,arguments),(0,o.default)(t).getMonth()}},639:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});var o=n(8527),r=n(4522);function i(t){(0,r.Z)(1,arguments);var e=(0,o.default)(t);return Math.floor(e.getMonth()/3)+1}},2295:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});var o=n(8527),r=n(4522);function i(t){return(0,r.Z)(1,arguments),(0,o.default)(t).getSeconds()}},4460:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});var o=n(8527),r=n(4522);function i(t){return(0,r.Z)(1,arguments),(0,o.default)(t).getTime()}},2599:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});var o=n(8527),r=n(4522);function i(t){return(0,r.Z)(1,arguments),(0,o.default)(t).getFullYear()}},9420:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});var o=n(8527),r=n(4522);function i(t,e){(0,r.Z)(2,arguments);var n=(0,o.default)(t),i=(0,o.default)(e);return n.getTime()>i.getTime()}},9579:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});var o=n(8527),r=n(4522);function i(t,e){(0,r.Z)(2,arguments);var n=(0,o.default)(t),i=(0,o.default)(e);return n.getTime()<i.getTime()}},6971:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});var o=n(1002),r=n(4522);function i(t){return(0,r.Z)(1,arguments),t instanceof Date||"object"===(0,o.Z)(t)&&"[object Date]"===Object.prototype.toString.call(t)}},7508:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});var o=n(8527),r=n(4522);function i(t,e){(0,r.Z)(2,arguments);var n=(0,o.default)(t),i=(0,o.default)(e);return n.getTime()===i.getTime()}},4690:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});var o=n(8347),r=n(4522);function i(t,e){(0,r.Z)(2,arguments);var n=(0,o.default)(t),i=(0,o.default)(e);return n.getTime()===i.getTime()}},5375:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});var o=n(8527),r=n(4522);function i(t,e){(0,r.Z)(2,arguments);var n=(0,o.default)(t),i=(0,o.default)(e);return n.getFullYear()===i.getFullYear()&&n.getMonth()===i.getMonth()}},4845:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});var o=n(3006),r=n(4522);function i(t,e){(0,r.Z)(2,arguments);var n=(0,o.default)(t),i=(0,o.default)(e);return n.getTime()===i.getTime()}},1750:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});var o=n(8527),r=n(4522);function i(t,e){(0,r.Z)(2,arguments);var n=(0,o.default)(t),i=(0,o.default)(e);return n.getFullYear()===i.getFullYear()}},9314:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var o=n(6971),r=n(8527),i=n(4522);function s(t){if((0,i.Z)(1,arguments),!(0,o.default)(t)&&"number"!==typeof t)return!1;var e=(0,r.default)(t);return!isNaN(Number(e))}},7262:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});var o=n(8527),r=n(4522);function i(t,e){(0,r.Z)(2,arguments);var n=(0,o.default)(t).getTime(),i=(0,o.default)(e.start).getTime(),s=(0,o.default)(e.end).getTime();if(!(i<=s))throw new RangeError("Invalid interval");return n>=i&&n<=s}},9333:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var o=n(1002),r=n(8527),i=n(4522);function s(t){var e,n;if((0,i.Z)(1,arguments),t&&"function"===typeof t.forEach)e=t;else{if("object"!==(0,o.Z)(t)||null===t)return new Date(NaN);e=Array.prototype.slice.call(t)}return e.forEach((function(t){var e=(0,r.default)(t);(void 0===n||n<e||isNaN(Number(e)))&&(n=e)})),n||new Date(NaN)}},1056:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var o=n(1002),r=n(8527),i=n(4522);function s(t){var e,n;if((0,i.Z)(1,arguments),t&&"function"===typeof t.forEach)e=t;else{if("object"!==(0,o.Z)(t)||null===t)return new Date(NaN);e=Array.prototype.slice.call(t)}return e.forEach((function(t){var e=(0,r.default)(t);(void 0===n||n>e||isNaN(e.getDate()))&&(n=e)})),n||new Date(NaN)}},2673:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>ne});var o=n(1002);function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function i(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var o=0,i=function(){};return{s:i,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){l=!0,s=t},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw s}}}}var s=n(6674),a=n(1633),l=n(8527);function u(t,e){if(null==t)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}var c=n(3462),d=n(4697),p=n(8552),h=n(9297),f=n(4522);function g(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var v=n(9611);function m(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&(0,v.Z)(t,e)}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function C(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y(t);if(e){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===(0,o.Z)(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return g(t)}(this,n)}}function w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var b=n(9142);function _(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(0,b.Z)(o.key),o)}}function S(t,e,n){return e&&_(t.prototype,e),n&&_(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var E=n(4942),O=function(){function t(){w(this,t),(0,E.Z)(this,"priority",void 0),(0,E.Z)(this,"subPriority",0)}return S(t,[{key:"validate",value:function(t,e){return!0}}]),t}(),x=function(t){m(n,t);var e=C(n);function n(t,o,r,i,s){var a;return w(this,n),(a=e.call(this)).value=t,a.validateValue=o,a.setValue=r,a.priority=i,s&&(a.subPriority=s),a}return S(n,[{key:"validate",value:function(t,e){return this.validateValue(t,this.value,e)}},{key:"set",value:function(t,e,n){return this.setValue(t,e,this.value,n)}}]),n}(O),T=function(t){m(n,t);var e=C(n);function n(){var t;w(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r)),(0,E.Z)(g(t),"priority",10),(0,E.Z)(g(t),"subPriority",-1),t}return S(n,[{key:"set",value:function(t,e){if(e.timestampIsSet)return t;var n=new Date(0);return n.setFullYear(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()),n.setHours(t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()),n}}]),n}(O),R=function(){function t(){w(this,t),(0,E.Z)(this,"incompatibleTokens",void 0),(0,E.Z)(this,"priority",void 0),(0,E.Z)(this,"subPriority",void 0)}return S(t,[{key:"run",value:function(t,e,n,o){var r=this.parse(t,e,n,o);return r?{setter:new x(r.value,this.validate,this.set,this.priority,this.subPriority),rest:r.rest}:null}},{key:"validate",value:function(t,e,n){return!0}}]),t}(),D=function(t){m(n,t);var e=C(n);function n(){var t;w(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r)),(0,E.Z)(g(t),"priority",140),(0,E.Z)(g(t),"incompatibleTokens",["R","u","t","T"]),t}return S(n,[{key:"parse",value:function(t,e,n){switch(e){case"G":case"GG":case"GGG":return n.era(t,{width:"abbreviated"})||n.era(t,{width:"narrow"});case"GGGGG":return n.era(t,{width:"narrow"});default:return n.era(t,{width:"wide"})||n.era(t,{width:"abbreviated"})||n.era(t,{width:"narrow"})}}},{key:"set",value:function(t,e,n){return e.era=n,t.setUTCFullYear(n,0,1),t.setUTCHours(0,0,0,0),t}}]),n}(R),P=n(2729),L=/^(1[0-2]|0?\d)/,M=/^(3[0-1]|[0-2]?\d)/,A=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,k=/^(5[0-3]|[0-4]?\d)/,N=/^(2[0-3]|[0-1]?\d)/,F=/^(2[0-4]|[0-1]?\d)/,I=/^(1[0-1]|0?\d)/,G=/^(1[0-2]|0?\d)/,H=/^[0-5]?\d/,V=/^[0-5]?\d/,j=/^\d/,B=/^\d{1,2}/,W=/^\d{1,3}/,z=/^\d{1,4}/,U=/^-?\d+/,Y=/^-?\d/,K=/^-?\d{1,2}/,Z=/^-?\d{1,3}/,q=/^-?\d{1,4}/,Q=/^([+-])(\d{2})(\d{2})?|Z/,X=/^([+-])(\d{2})(\d{2})|Z/,$=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,J=/^([+-])(\d{2}):(\d{2})|Z/,tt=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function et(t,e){return t?{value:e(t.value),rest:t.rest}:t}function nt(t,e){var n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function ot(t,e){var n=e.match(t);if(!n)return null;if("Z"===n[0])return{value:0,rest:e.slice(1)};var o="+"===n[1]?1:-1,r=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,s=n[5]?parseInt(n[5],10):0;return{value:o*(r*P.vh+i*P.yJ+s*P.qk),rest:e.slice(n[0].length)}}function rt(t){return nt(U,t)}function it(t,e){switch(t){case 1:return nt(j,e);case 2:return nt(B,e);case 3:return nt(W,e);case 4:return nt(z,e);default:return nt(new RegExp("^\\d{1,"+t+"}"),e)}}function st(t,e){switch(t){case 1:return nt(Y,e);case 2:return nt(K,e);case 3:return nt(Z,e);case 4:return nt(q,e);default:return nt(new RegExp("^-?\\d{1,"+t+"}"),e)}}function at(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function lt(t,e){var n,o=e>0,r=o?e:1-e;if(r<=50)n=t||100;else{var i=r+50;n=t+100*Math.floor(i/100)-(t>=i%100?100:0)}return o?n:1-n}function ut(t){return t%400===0||t%4===0&&t%100!==0}var ct=function(t){m(n,t);var e=C(n);function n(){var t;w(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r)),(0,E.Z)(g(t),"priority",130),(0,E.Z)(g(t),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),t}return S(n,[{key:"parse",value:function(t,e,n){var o=function(t){return{year:t,isTwoDigitYear:"yy"===e}};switch(e){case"y":return et(it(4,t),o);case"yo":return et(n.ordinalNumber(t,{unit:"year"}),o);default:return et(it(e.length,t),o)}}},{key:"validate",value:function(t,e){return e.isTwoDigitYear||e.year>0}},{key:"set",value:function(t,e,n){var o=t.getUTCFullYear();if(n.isTwoDigitYear){var r=lt(n.year,o);return t.setUTCFullYear(r,0,1),t.setUTCHours(0,0,0,0),t}var i="era"in e&&1!==e.era?1-n.year:n.year;return t.setUTCFullYear(i,0,1),t.setUTCHours(0,0,0,0),t}}]),n}(R),dt=n(9726),pt=n(1230),ht=function(t){m(n,t);var e=C(n);function n(){var t;w(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r)),(0,E.Z)(g(t),"priority",130),(0,E.Z)(g(t),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),t}return S(n,[{key:"parse",value:function(t,e,n){var o=function(t){return{year:t,isTwoDigitYear:"YY"===e}};switch(e){case"Y":return et(it(4,t),o);case"Yo":return et(n.ordinalNumber(t,{unit:"year"}),o);default:return et(it(e.length,t),o)}}},{key:"validate",value:function(t,e){return e.isTwoDigitYear||e.year>0}},{key:"set",value:function(t,e,n,o){var r=(0,dt.Z)(t,o);if(n.isTwoDigitYear){var i=lt(n.year,r);return t.setUTCFullYear(i,0,o.firstWeekContainsDate),t.setUTCHours(0,0,0,0),(0,pt.Z)(t,o)}var s="era"in e&&1!==e.era?1-n.year:n.year;return t.setUTCFullYear(s,0,o.firstWeekContainsDate),t.setUTCHours(0,0,0,0),(0,pt.Z)(t,o)}}]),n}(R),ft=n(9853),gt=function(t){m(n,t);var e=C(n);function n(){var t;w(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r)),(0,E.Z)(g(t),"priority",130),(0,E.Z)(g(t),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),t}return S(n,[{key:"parse",value:function(t,e){return st("R"===e?4:e.length,t)}},{key:"set",value:function(t,e,n){var o=new Date(0);return o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0),(0,ft.Z)(o)}}]),n}(R),vt=function(t){m(n,t);var e=C(n);function n(){var t;w(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r)),(0,E.Z)(g(t),"priority",130),(0,E.Z)(g(t),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),t}return S(n,[{key:"parse",value:function(t,e){return st("u"===e?4:e.length,t)}},{key:"set",value:function(t,e,n){return t.setUTCFullYear(n,0,1),t.setUTCHours(0,0,0,0),t}}]),n}(R),mt=function(t){m(n,t);var e=C(n);function n(){var t;w(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r)),(0,E.Z)(g(t),"priority",120),(0,E.Z)(g(t),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),t}return S(n,[{key:"parse",value:function(t,e,n){switch(e){case"Q":case"QQ":return it(e.length,t);case"Qo":return n.ordinalNumber(t,{unit:"quarter"});case"QQQ":return n.quarter(t,{width:"abbreviated",context:"formatting"})||n.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(t,{width:"narrow",context:"formatting"});default:return n.quarter(t,{width:"wide",context:"formatting"})||n.quarter(t,{width:"abbreviated",context:"formatting"})||n.quarter(t,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(t,e){return e>=1&&e<=4}},{key:"set",value:function(t,e,n){return t.setUTCMonth(3*(n-1),1),t.setUTCHours(0,0,0,0),t}}]),n}(R),yt=function(t){m(n,t);var e=C(n);function n(){var t;w(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r)),(0,E.Z)(g(t),"priority",120),(0,E.Z)(g(t),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),t}return S(n,[{key:"parse",value:function(t,e,n){switch(e){case"q":case"qq":return it(e.length,t);case"qo":return n.ordinalNumber(t,{unit:"quarter"});case"qqq":return n.quarter(t,{width:"abbreviated",context:"standalone"})||n.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(t,{width:"narrow",context:"standalone"});default:return n.quarter(t,{width:"wide",context:"standalone"})||n.quarter(t,{width:"abbreviated",context:"standalone"})||n.quarter(t,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(t,e){return e>=1&&e<=4}},{key:"set",value:function(t,e,n){return t.setUTCMonth(3*(n-1),1),t.setUTCHours(0,0,0,0),t}}]),n}(R),Ct=function(t){m(n,t);var e=C(n);function n(){var t;w(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r)),(0,E.Z)(g(t),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),(0,E.Z)(g(t),"priority",110),t}return S(n,[{key:"parse",value:function(t,e,n){var o=function(t){return t-1};switch(e){case"M":return et(nt(L,t),o);case"MM":return et(it(2,t),o);case"Mo":return et(n.ordinalNumber(t,{unit:"month"}),o);case"MMM":return n.month(t,{width:"abbreviated",context:"formatting"})||n.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(t,{width:"narrow",context:"formatting"});default:return n.month(t,{width:"wide",context:"formatting"})||n.month(t,{width:"abbreviated",context:"formatting"})||n.month(t,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(t,e){return e>=0&&e<=11}},{key:"set",value:function(t,e,n){return t.setUTCMonth(n,1),t.setUTCHours(0,0,0,0),t}}]),n}(R),wt=function(t){m(n,t);var e=C(n);function n(){var t;w(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r)),(0,E.Z)(g(t),"priority",110),(0,E.Z)(g(t),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),t}return S(n,[{key:"parse",value:function(t,e,n){var o=function(t){return t-1};switch(e){case"L":return et(nt(L,t),o);case"LL":return et(it(2,t),o);case"Lo":return et(n.ordinalNumber(t,{unit:"month"}),o);case"LLL":return n.month(t,{width:"abbreviated",context:"standalone"})||n.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(t,{width:"narrow",context:"standalone"});default:return n.month(t,{width:"wide",context:"standalone"})||n.month(t,{width:"abbreviated",context:"standalone"})||n.month(t,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(t,e){return e>=0&&e<=11}},{key:"set",value:function(t,e,n){return t.setUTCMonth(n,1),t.setUTCHours(0,0,0,0),t}}]),n}(R),bt=n(9934);var _t=function(t){m(n,t);var e=C(n);function n(){var t;w(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r)),(0,E.Z)(g(t),"priority",100),(0,E.Z)(g(t),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),t}return S(n,[{key:"parse",value:function(t,e,n){switch(e){case"w":return nt(k,t);case"wo":return n.ordinalNumber(t,{unit:"week"});default:return it(e.length,t)}}},{key:"validate",value:function(t,e){return e>=1&&e<=53}},{key:"set",value:function(t,e,n,o){return(0,pt.Z)(function(t,e,n){(0,f.Z)(2,arguments);var o=(0,l.default)(t),r=(0,h.Z)(e),i=(0,bt.Z)(o,n)-r;return o.setUTCDate(o.getUTCDate()-7*i),o}(t,n,o),o)}}]),n}(R),St=n(9153);var Et=function(t){m(n,t);var e=C(n);function n(){var t;w(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r)),(0,E.Z)(g(t),"priority",100),(0,E.Z)(g(t),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),t}return S(n,[{key:"parse",value:function(t,e,n){switch(e){case"I":return nt(k,t);case"Io":return n.ordinalNumber(t,{unit:"week"});default:return it(e.length,t)}}},{key:"validate",value:function(t,e){return e>=1&&e<=53}},{key:"set",value:function(t,e,n){return(0,ft.Z)(function(t,e){(0,f.Z)(2,arguments);var n=(0,l.default)(t),o=(0,h.Z)(e),r=(0,St.Z)(n)-o;return n.setUTCDate(n.getUTCDate()-7*r),n}(t,n))}}]),n}(R),Ot=[31,28,31,30,31,30,31,31,30,31,30,31],xt=[31,29,31,30,31,30,31,31,30,31,30,31],Tt=function(t){m(n,t);var e=C(n);function n(){var t;w(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r)),(0,E.Z)(g(t),"priority",90),(0,E.Z)(g(t),"subPriority",1),(0,E.Z)(g(t),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),t}return S(n,[{key:"parse",value:function(t,e,n){switch(e){case"d":return nt(M,t);case"do":return n.ordinalNumber(t,{unit:"date"});default:return it(e.length,t)}}},{key:"validate",value:function(t,e){var n=ut(t.getUTCFullYear()),o=t.getUTCMonth();return n?e>=1&&e<=xt[o]:e>=1&&e<=Ot[o]}},{key:"set",value:function(t,e,n){return t.setUTCDate(n),t.setUTCHours(0,0,0,0),t}}]),n}(R),Rt=function(t){m(n,t);var e=C(n);function n(){var t;w(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r)),(0,E.Z)(g(t),"priority",90),(0,E.Z)(g(t),"subpriority",1),(0,E.Z)(g(t),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),t}return S(n,[{key:"parse",value:function(t,e,n){switch(e){case"D":case"DD":return nt(A,t);case"Do":return n.ordinalNumber(t,{unit:"date"});default:return it(e.length,t)}}},{key:"validate",value:function(t,e){return ut(t.getUTCFullYear())?e>=1&&e<=366:e>=1&&e<=365}},{key:"set",value:function(t,e,n){return t.setUTCMonth(0,n),t.setUTCHours(0,0,0,0),t}}]),n}(R),Dt=n(4408);function Pt(t,e,n){var o,r,i,s,a,u,c,d;(0,f.Z)(2,arguments);var p=(0,Dt.j)(),g=(0,h.Z)(null!==(o=null!==(r=null!==(i=null!==(s=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==s?s:null===n||void 0===n||null===(a=n.locale)||void 0===a||null===(u=a.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==i?i:p.weekStartsOn)&&void 0!==r?r:null===(c=p.locale)||void 0===c||null===(d=c.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==o?o:0);if(!(g>=0&&g<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var v=(0,l.default)(t),m=(0,h.Z)(e),y=((m%7+7)%7<g?7:0)+m-v.getUTCDay();return v.setUTCDate(v.getUTCDate()+y),v}var Lt=function(t){m(n,t);var e=C(n);function n(){var t;w(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r)),(0,E.Z)(g(t),"priority",90),(0,E.Z)(g(t),"incompatibleTokens",["D","i","e","c","t","T"]),t}return S(n,[{key:"parse",value:function(t,e,n){switch(e){case"E":case"EE":case"EEE":return n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});default:return n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(t,e){return e>=0&&e<=6}},{key:"set",value:function(t,e,n,o){return(t=Pt(t,n,o)).setUTCHours(0,0,0,0),t}}]),n}(R),Mt=function(t){m(n,t);var e=C(n);function n(){var t;w(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r)),(0,E.Z)(g(t),"priority",90),(0,E.Z)(g(t),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),t}return S(n,[{key:"parse",value:function(t,e,n,o){var r=function(t){var e=7*Math.floor((t-1)/7);return(t+o.weekStartsOn+6)%7+e};switch(e){case"e":case"ee":return et(it(e.length,t),r);case"eo":return et(n.ordinalNumber(t,{unit:"day"}),r);case"eee":return n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"eeeee":return n.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});default:return n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(t,e){return e>=0&&e<=6}},{key:"set",value:function(t,e,n,o){return(t=Pt(t,n,o)).setUTCHours(0,0,0,0),t}}]),n}(R),At=function(t){m(n,t);var e=C(n);function n(){var t;w(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r)),(0,E.Z)(g(t),"priority",90),(0,E.Z)(g(t),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),t}return S(n,[{key:"parse",value:function(t,e,n,o){var r=function(t){var e=7*Math.floor((t-1)/7);return(t+o.weekStartsOn+6)%7+e};switch(e){case"c":case"cc":return et(it(e.length,t),r);case"co":return et(n.ordinalNumber(t,{unit:"day"}),r);case"ccc":return n.day(t,{width:"abbreviated",context:"standalone"})||n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"});case"ccccc":return n.day(t,{width:"narrow",context:"standalone"});case"cccccc":return n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"});default:return n.day(t,{width:"wide",context:"standalone"})||n.day(t,{width:"abbreviated",context:"standalone"})||n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(t,e){return e>=0&&e<=6}},{key:"set",value:function(t,e,n,o){return(t=Pt(t,n,o)).setUTCHours(0,0,0,0),t}}]),n}(R);var kt=function(t){m(n,t);var e=C(n);function n(){var t;w(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r)),(0,E.Z)(g(t),"priority",90),(0,E.Z)(g(t),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),t}return S(n,[{key:"parse",value:function(t,e,n){var o=function(t){return 0===t?7:t};switch(e){case"i":case"ii":return it(e.length,t);case"io":return n.ordinalNumber(t,{unit:"day"});case"iii":return et(n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),o);case"iiiii":return et(n.day(t,{width:"narrow",context:"formatting"}),o);case"iiiiii":return et(n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),o);default:return et(n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),o)}}},{key:"validate",value:function(t,e){return e>=1&&e<=7}},{key:"set",value:function(t,e,n){return t=function(t,e){(0,f.Z)(2,arguments);var n=(0,h.Z)(e);n%7===0&&(n-=7);var o=(0,l.default)(t),r=((n%7+7)%7<1?7:0)+n-o.getUTCDay();return o.setUTCDate(o.getUTCDate()+r),o}(t,n),t.setUTCHours(0,0,0,0),t}}]),n}(R),Nt=function(t){m(n,t);var e=C(n);function n(){var t;w(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r)),(0,E.Z)(g(t),"priority",80),(0,E.Z)(g(t),"incompatibleTokens",["b","B","H","k","t","T"]),t}return S(n,[{key:"parse",value:function(t,e,n){switch(e){case"a":case"aa":case"aaa":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(t,{width:"narrow",context:"formatting"});default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(t,e,n){return t.setUTCHours(at(n),0,0,0),t}}]),n}(R),Ft=function(t){m(n,t);var e=C(n);function n(){var t;w(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r)),(0,E.Z)(g(t),"priority",80),(0,E.Z)(g(t),"incompatibleTokens",["a","B","H","k","t","T"]),t}return S(n,[{key:"parse",value:function(t,e,n){switch(e){case"b":case"bb":case"bbb":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(t,{width:"narrow",context:"formatting"});default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(t,e,n){return t.setUTCHours(at(n),0,0,0),t}}]),n}(R),It=function(t){m(n,t);var e=C(n);function n(){var t;w(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r)),(0,E.Z)(g(t),"priority",80),(0,E.Z)(g(t),"incompatibleTokens",["a","b","t","T"]),t}return S(n,[{key:"parse",value:function(t,e,n){switch(e){case"B":case"BB":case"BBB":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(t,{width:"narrow",context:"formatting"});default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(t,e,n){return t.setUTCHours(at(n),0,0,0),t}}]),n}(R),Gt=function(t){m(n,t);var e=C(n);function n(){var t;w(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r)),(0,E.Z)(g(t),"priority",70),(0,E.Z)(g(t),"incompatibleTokens",["H","K","k","t","T"]),t}return S(n,[{key:"parse",value:function(t,e,n){switch(e){case"h":return nt(G,t);case"ho":return n.ordinalNumber(t,{unit:"hour"});default:return it(e.length,t)}}},{key:"validate",value:function(t,e){return e>=1&&e<=12}},{key:"set",value:function(t,e,n){var o=t.getUTCHours()>=12;return o&&n<12?t.setUTCHours(n+12,0,0,0):o||12!==n?t.setUTCHours(n,0,0,0):t.setUTCHours(0,0,0,0),t}}]),n}(R),Ht=function(t){m(n,t);var e=C(n);function n(){var t;w(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r)),(0,E.Z)(g(t),"priority",70),(0,E.Z)(g(t),"incompatibleTokens",["a","b","h","K","k","t","T"]),t}return S(n,[{key:"parse",value:function(t,e,n){switch(e){case"H":return nt(N,t);case"Ho":return n.ordinalNumber(t,{unit:"hour"});default:return it(e.length,t)}}},{key:"validate",value:function(t,e){return e>=0&&e<=23}},{key:"set",value:function(t,e,n){return t.setUTCHours(n,0,0,0),t}}]),n}(R),Vt=function(t){m(n,t);var e=C(n);function n(){var t;w(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r)),(0,E.Z)(g(t),"priority",70),(0,E.Z)(g(t),"incompatibleTokens",["h","H","k","t","T"]),t}return S(n,[{key:"parse",value:function(t,e,n){switch(e){case"K":return nt(I,t);case"Ko":return n.ordinalNumber(t,{unit:"hour"});default:return it(e.length,t)}}},{key:"validate",value:function(t,e){return e>=0&&e<=11}},{key:"set",value:function(t,e,n){return t.getUTCHours()>=12&&n<12?t.setUTCHours(n+12,0,0,0):t.setUTCHours(n,0,0,0),t}}]),n}(R),jt=function(t){m(n,t);var e=C(n);function n(){var t;w(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r)),(0,E.Z)(g(t),"priority",70),(0,E.Z)(g(t),"incompatibleTokens",["a","b","h","H","K","t","T"]),t}return S(n,[{key:"parse",value:function(t,e,n){switch(e){case"k":return nt(F,t);case"ko":return n.ordinalNumber(t,{unit:"hour"});default:return it(e.length,t)}}},{key:"validate",value:function(t,e){return e>=1&&e<=24}},{key:"set",value:function(t,e,n){var o=n<=24?n%24:n;return t.setUTCHours(o,0,0,0),t}}]),n}(R),Bt=function(t){m(n,t);var e=C(n);function n(){var t;w(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r)),(0,E.Z)(g(t),"priority",60),(0,E.Z)(g(t),"incompatibleTokens",["t","T"]),t}return S(n,[{key:"parse",value:function(t,e,n){switch(e){case"m":return nt(H,t);case"mo":return n.ordinalNumber(t,{unit:"minute"});default:return it(e.length,t)}}},{key:"validate",value:function(t,e){return e>=0&&e<=59}},{key:"set",value:function(t,e,n){return t.setUTCMinutes(n,0,0),t}}]),n}(R),Wt=function(t){m(n,t);var e=C(n);function n(){var t;w(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r)),(0,E.Z)(g(t),"priority",50),(0,E.Z)(g(t),"incompatibleTokens",["t","T"]),t}return S(n,[{key:"parse",value:function(t,e,n){switch(e){case"s":return nt(V,t);case"so":return n.ordinalNumber(t,{unit:"second"});default:return it(e.length,t)}}},{key:"validate",value:function(t,e){return e>=0&&e<=59}},{key:"set",value:function(t,e,n){return t.setUTCSeconds(n,0),t}}]),n}(R),zt=function(t){m(n,t);var e=C(n);function n(){var t;w(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r)),(0,E.Z)(g(t),"priority",30),(0,E.Z)(g(t),"incompatibleTokens",["t","T"]),t}return S(n,[{key:"parse",value:function(t,e){return et(it(e.length,t),(function(t){return Math.floor(t*Math.pow(10,3-e.length))}))}},{key:"set",value:function(t,e,n){return t.setUTCMilliseconds(n),t}}]),n}(R),Ut=function(t){m(n,t);var e=C(n);function n(){var t;w(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r)),(0,E.Z)(g(t),"priority",10),(0,E.Z)(g(t),"incompatibleTokens",["t","T","x"]),t}return S(n,[{key:"parse",value:function(t,e){switch(e){case"X":return ot(Q,t);case"XX":return ot(X,t);case"XXXX":return ot($,t);case"XXXXX":return ot(tt,t);default:return ot(J,t)}}},{key:"set",value:function(t,e,n){return e.timestampIsSet?t:new Date(t.getTime()-n)}}]),n}(R),Yt=function(t){m(n,t);var e=C(n);function n(){var t;w(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r)),(0,E.Z)(g(t),"priority",10),(0,E.Z)(g(t),"incompatibleTokens",["t","T","X"]),t}return S(n,[{key:"parse",value:function(t,e){switch(e){case"x":return ot(Q,t);case"xx":return ot(X,t);case"xxxx":return ot($,t);case"xxxxx":return ot(tt,t);default:return ot(J,t)}}},{key:"set",value:function(t,e,n){return e.timestampIsSet?t:new Date(t.getTime()-n)}}]),n}(R),Kt=function(t){m(n,t);var e=C(n);function n(){var t;w(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r)),(0,E.Z)(g(t),"priority",40),(0,E.Z)(g(t),"incompatibleTokens","*"),t}return S(n,[{key:"parse",value:function(t){return rt(t)}},{key:"set",value:function(t,e,n){return[new Date(1e3*n),{timestampIsSet:!0}]}}]),n}(R),Zt=function(t){m(n,t);var e=C(n);function n(){var t;w(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r)),(0,E.Z)(g(t),"priority",20),(0,E.Z)(g(t),"incompatibleTokens","*"),t}return S(n,[{key:"parse",value:function(t){return rt(t)}},{key:"set",value:function(t,e,n){return[new Date(n),{timestampIsSet:!0}]}}]),n}(R),qt={G:new D,y:new ct,Y:new ht,R:new gt,u:new vt,Q:new mt,q:new yt,M:new Ct,L:new wt,w:new _t,I:new Et,d:new Tt,D:new Rt,E:new Lt,e:new Mt,c:new At,i:new kt,a:new Nt,b:new Ft,B:new It,h:new Gt,H:new Ht,K:new Vt,k:new jt,m:new Bt,s:new Wt,S:new zt,X:new Ut,x:new Yt,t:new Kt,T:new Zt},Qt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Xt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,$t=/^'([^]*?)'?$/,Jt=/''/g,te=/\S/,ee=/[a-zA-Z]/;function ne(t,e,n,r){var g,v,m,y,C,w,b,_,S,E,O,x,R,D,P,L,M,A;(0,f.Z)(3,arguments);var k=String(t),N=String(e),F=(0,Dt.j)(),I=null!==(g=null!==(v=null===r||void 0===r?void 0:r.locale)&&void 0!==v?v:F.locale)&&void 0!==g?g:s.Z;if(!I.match)throw new RangeError("locale must contain match property");var G=(0,h.Z)(null!==(m=null!==(y=null!==(C=null!==(w=null===r||void 0===r?void 0:r.firstWeekContainsDate)&&void 0!==w?w:null===r||void 0===r||null===(b=r.locale)||void 0===b||null===(_=b.options)||void 0===_?void 0:_.firstWeekContainsDate)&&void 0!==C?C:F.firstWeekContainsDate)&&void 0!==y?y:null===(S=F.locale)||void 0===S||null===(E=S.options)||void 0===E?void 0:E.firstWeekContainsDate)&&void 0!==m?m:1);if(!(G>=1&&G<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var H=(0,h.Z)(null!==(O=null!==(x=null!==(R=null!==(D=null===r||void 0===r?void 0:r.weekStartsOn)&&void 0!==D?D:null===r||void 0===r||null===(P=r.locale)||void 0===P||null===(L=P.options)||void 0===L?void 0:L.weekStartsOn)&&void 0!==R?R:F.weekStartsOn)&&void 0!==x?x:null===(M=F.locale)||void 0===M||null===(A=M.options)||void 0===A?void 0:A.weekStartsOn)&&void 0!==O?O:0);if(!(H>=0&&H<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===N)return""===k?(0,l.default)(n):new Date(NaN);var V,j={firstWeekContainsDate:G,weekStartsOn:H,locale:I},B=[new T],W=N.match(Xt).map((function(t){var e=t[0];return e in c.Z?(0,c.Z[e])(t,I.formatLong):t})).join("").match(Qt),z=[],U=i(W);try{var Y=function(){var e=V.value;null!==r&&void 0!==r&&r.useAdditionalWeekYearTokens||!(0,p.Do)(e)||(0,p.qp)(e,N,t),null!==r&&void 0!==r&&r.useAdditionalDayOfYearTokens||!(0,p.Iu)(e)||(0,p.qp)(e,N,t);var n=e[0],o=qt[n];if(o){var i=o.incompatibleTokens;if(Array.isArray(i)){var s=z.find((function(t){return i.includes(t.token)||t.token===n}));if(s)throw new RangeError("The format string mustn't contain `".concat(s.fullToken,"` and `").concat(e,"` at the same time"))}else if("*"===o.incompatibleTokens&&z.length>0)throw new RangeError("The format string mustn't contain `".concat(e,"` and any other token at the same time"));z.push({token:n,fullToken:e});var a=o.run(k,e,I.match,j);if(!a)return{v:new Date(NaN)};B.push(a.setter),k=a.rest}else{if(n.match(ee))throw new RangeError("Format string contains an unescaped latin alphabet character `"+n+"`");if("''"===e?e="'":"'"===n&&(e=e.match($t)[1].replace(Jt,"'")),0!==k.indexOf(e))return{v:new Date(NaN)};k=k.slice(e.length)}};for(U.s();!(V=U.n()).done;){var K=Y();if("object"===(0,o.Z)(K))return K.v}}catch(nt){U.e(nt)}finally{U.f()}if(k.length>0&&te.test(k))return new Date(NaN);var Z=B.map((function(t){return t.priority})).sort((function(t,e){return e-t})).filter((function(t,e,n){return n.indexOf(t)===e})).map((function(t){return B.filter((function(e){return e.priority===t})).sort((function(t,e){return e.subPriority-t.subPriority}))})).map((function(t){return t[0]})),q=(0,l.default)(n);if(isNaN(q.getTime()))return new Date(NaN);var Q,X=(0,a.Z)(q,(0,d.Z)(q)),$={},J=i(Z);try{for(J.s();!(Q=J.n()).done;){var tt=Q.value;if(!tt.validate(X,j))return new Date(NaN);var et=tt.set(X,$,j);Array.isArray(et)?(X=et[0],u($,et[1])):X=et}}catch(nt){J.e(nt)}finally{J.f()}return X}},9831:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var o=n(2729),r=n(4522),i=n(9297);function s(t,e){var n;(0,r.Z)(1,arguments);var s=(0,i.Z)(null!==(n=null===e||void 0===e?void 0:e.additionalDigits)&&void 0!==n?n:2);if(2!==s&&1!==s&&0!==s)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!==typeof t&&"[object String]"!==Object.prototype.toString.call(t))return new Date(NaN);var g,v=function(t){var e,n={},o=t.split(a.dateTimeDelimiter);if(o.length>2)return n;/:/.test(o[0])?e=o[0]:(n.date=o[0],e=o[1],a.timeZoneDelimiter.test(n.date)&&(n.date=t.split(a.timeZoneDelimiter)[0],e=t.substr(n.date.length,t.length)));if(e){var r=a.timezone.exec(e);r?(n.time=e.replace(r[1],""),n.timezone=r[1]):n.time=e}return n}(t);if(v.date){var m=function(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),o=t.match(n);if(!o)return{year:NaN,restDateString:""};var r=o[1]?parseInt(o[1]):null,i=o[2]?parseInt(o[2]):null;return{year:null===i?r:100*i,restDateString:t.slice((o[1]||o[2]).length)}}(v.date,s);g=function(t,e){if(null===e)return new Date(NaN);var n=t.match(l);if(!n)return new Date(NaN);var o=!!n[4],r=d(n[1]),i=d(n[2])-1,s=d(n[3]),a=d(n[4]),u=d(n[5])-1;if(o)return function(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}(0,a,u)?function(t,e,n){var o=new Date(0);o.setUTCFullYear(t,0,4);var r=o.getUTCDay()||7,i=7*(e-1)+n+1-r;return o.setUTCDate(o.getUTCDate()+i),o}(e,a,u):new Date(NaN);var c=new Date(0);return function(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(h[e]||(f(t)?29:28))}(e,i,s)&&function(t,e){return e>=1&&e<=(f(t)?366:365)}(e,r)?(c.setUTCFullYear(e,i,Math.max(r,s)),c):new Date(NaN)}(m.restDateString,m.year)}if(!g||isNaN(g.getTime()))return new Date(NaN);var y,C=g.getTime(),w=0;if(v.time&&(w=function(t){var e=t.match(u);if(!e)return NaN;var n=p(e[1]),r=p(e[2]),i=p(e[3]);if(!function(t,e,n){if(24===t)return 0===e&&0===n;return n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}(n,r,i))return NaN;return n*o.vh+r*o.yJ+1e3*i}(v.time),isNaN(w)))return new Date(NaN);if(!v.timezone){var b=new Date(C+w),_=new Date(0);return _.setFullYear(b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()),_.setHours(b.getUTCHours(),b.getUTCMinutes(),b.getUTCSeconds(),b.getUTCMilliseconds()),_}return y=function(t){if("Z"===t)return 0;var e=t.match(c);if(!e)return 0;var n="+"===e[1]?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;if(!function(t,e){return e>=0&&e<=59}(0,i))return NaN;return n*(r*o.vh+i*o.yJ)}(v.timezone),isNaN(y)?new Date(NaN):new Date(C+w+y)}var a={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},l=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,u=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,c=/^([+-])(\d{2})(?::?(\d{2}))?$/;function d(t){return t?parseInt(t):1}function p(t){return t&&parseFloat(t.replace(",","."))||0}var h=[31,null,31,30,31,30,31,31,30,31,30,31];function f(t){return t%400===0||t%4===0&&t%100!==0}},7152:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>l});var o=n(1002),r=n(8527),i=n(2363),s=n(9297),a=n(4522);function l(t,e){if((0,a.Z)(2,arguments),"object"!==(0,o.Z)(e)||null===e)throw new RangeError("values parameter must be an object");var n=(0,r.default)(t);return isNaN(n.getTime())?new Date(NaN):(null!=e.year&&n.setFullYear(e.year),null!=e.month&&(n=(0,i.default)(n,e.month)),null!=e.date&&n.setDate((0,s.Z)(e.date)),null!=e.hours&&n.setHours((0,s.Z)(e.hours)),null!=e.minutes&&n.setMinutes((0,s.Z)(e.minutes)),null!=e.seconds&&n.setSeconds((0,s.Z)(e.seconds)),null!=e.milliseconds&&n.setMilliseconds((0,s.Z)(e.milliseconds)),n)}},2618:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var o=n(9297),r=n(8527),i=n(4522);function s(t,e){(0,i.Z)(2,arguments);var n=(0,r.default)(t),s=(0,o.Z)(e);return n.setHours(s),n}},7227:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var o=n(9297),r=n(8527),i=n(4522);function s(t,e){(0,i.Z)(2,arguments);var n=(0,r.default)(t),s=(0,o.Z)(e);return n.setMinutes(s),n}},2363:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var o=n(9297),r=n(8527),i=n(4522);function s(t,e){(0,i.Z)(2,arguments);var n=(0,r.default)(t),s=(0,o.Z)(e),a=n.getFullYear(),l=n.getDate(),u=new Date(0);u.setFullYear(a,s,15),u.setHours(0,0,0,0);var c=function(t){(0,i.Z)(1,arguments);var e=(0,r.default)(t),n=e.getFullYear(),o=e.getMonth(),s=new Date(0);return s.setFullYear(n,o+1,0),s.setHours(0,0,0,0),s.getDate()}(u);return n.setMonth(s,Math.min(l,c)),n}},5765:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>a});var o=n(9297),r=n(8527),i=n(2363),s=n(4522);function a(t,e){(0,s.Z)(2,arguments);var n=(0,r.default)(t),a=(0,o.Z)(e)-(Math.floor(n.getMonth()/3)+1);return(0,i.default)(n,n.getMonth()+3*a)}},9292:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var o=n(9297),r=n(8527),i=n(4522);function s(t,e){(0,i.Z)(2,arguments);var n=(0,r.default)(t),s=(0,o.Z)(e);return n.setSeconds(s),n}},5617:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var o=n(9297),r=n(8527),i=n(4522);function s(t,e){(0,i.Z)(2,arguments);var n=(0,r.default)(t),s=(0,o.Z)(e);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(s),n)}},8347:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});var o=n(8527),r=n(4522);function i(t){(0,r.Z)(1,arguments);var e=(0,o.default)(t);return e.setHours(0,0,0,0),e}},5719:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});var o=n(8527),r=n(4522);function i(t){(0,r.Z)(1,arguments);var e=(0,o.default)(t);return e.setDate(1),e.setHours(0,0,0,0),e}},3006:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});var o=n(8527),r=n(4522);function i(t){(0,r.Z)(1,arguments);var e=(0,o.default)(t),n=e.getMonth(),i=n-n%3;return e.setMonth(i,1),e.setHours(0,0,0,0),e}},3629:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>a});var o=n(8527),r=n(9297),i=n(4522),s=n(4408);function a(t,e){var n,a,l,u,c,d,p,h;(0,i.Z)(1,arguments);var f=(0,s.j)(),g=(0,r.Z)(null!==(n=null!==(a=null!==(l=null!==(u=null===e||void 0===e?void 0:e.weekStartsOn)&&void 0!==u?u:null===e||void 0===e||null===(c=e.locale)||void 0===c||null===(d=c.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==l?l:f.weekStartsOn)&&void 0!==a?a:null===(p=f.locale)||void 0===p||null===(h=p.options)||void 0===h?void 0:h.weekStartsOn)&&void 0!==n?n:0);if(!(g>=0&&g<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var v=(0,o.default)(t),m=v.getDay(),y=(m<g?7:0)+m-g;return v.setDate(v.getDate()-y),v.setHours(0,0,0,0),v}},7235:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});var o=n(8527),r=n(4522);function i(t){(0,r.Z)(1,arguments);var e=(0,o.default)(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}},6753:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var o=n(9040),r=n(4522),i=n(9297);function s(t,e){(0,r.Z)(2,arguments);var n=(0,i.Z)(e);return(0,o.default)(t,-n)}},1633:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var o=n(4377),r=n(4522),i=n(9297);function s(t,e){(0,r.Z)(2,arguments);var n=(0,i.Z)(e);return(0,o.Z)(t,-n)}},8030:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var o=n(9297),r=n(1104),i=n(4522);function s(t,e){(0,i.Z)(2,arguments);var n=(0,o.Z)(e);return(0,r.default)(t,-n)}},6794:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var o=n(9297),r=n(6689),i=n(4522);function s(t,e){(0,i.Z)(2,arguments);var n=(0,o.Z)(e);return(0,r.default)(t,-n)}},7503:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var o=n(9297),r=n(20),i=n(4522);function s(t,e){(0,i.Z)(2,arguments);var n=(0,o.Z)(e);return(0,r.default)(t,-n)}},7602:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var o=n(9297),r=n(5105),i=n(4522);function s(t,e){(0,i.Z)(2,arguments);var n=(0,o.Z)(e);return(0,r.default)(t,-n)}},8527:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});var o=n(1002),r=n(4522);function i(t){(0,r.Z)(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||"object"===(0,o.Z)(t)&&"[object Date]"===e?new Date(t.getTime()):"number"===typeof t||"[object Number]"===e?new Date(t):("string"!==typeof t&&"[object String]"!==e||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}},8262:t=>{"use strict";t.exports=function t(e,n){if(e===n)return!0;if(e&&n&&"object"==typeof e&&"object"==typeof n){if(e.constructor!==n.constructor)return!1;var o,r,i;if(Array.isArray(e)){if((o=e.length)!=n.length)return!1;for(r=o;0!==r--;)if(!t(e[r],n[r]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if((o=(i=Object.keys(e)).length)!==Object.keys(n).length)return!1;for(r=o;0!==r--;)if(!Object.prototype.hasOwnProperty.call(n,i[r]))return!1;for(r=o;0!==r--;){var s=i[r];if(!t(e[s],n[s]))return!1}return!0}return e!==e&&n!==n}},2176:t=>{"use strict";t.exports=function(t,e,n,o,r,i,s,a){if(!t){var l;if(void 0===e)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,o,r,i,s,a],c=0;(l=new Error(e.replace(/%s/g,(function(){return u[c++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},8192:()=>{var t,e;t=window,e=document,L.drawVersion="1.0.4",L.Draw={},L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:"Cancel"},finish:{title:"Finish drawing",text:"Finish"},undo:{title:"Delete last point drawn",text:"Delete last point"},buttons:{polyline:"Draw a polyline",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Draw a marker",circlemarker:"Draw a circlemarker"}},handlers:{circle:{tooltip:{start:"Click and drag to draw circle."},radius:"Radius"},circlemarker:{tooltip:{start:"Click map to place circle marker."}},marker:{tooltip:{start:"Click map to place marker."}},polygon:{tooltip:{start:"Click to start drawing shape.",cont:"Click to continue drawing shape.",end:"Click first point to close this shape."}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start drawing line.",cont:"Click to continue drawing line.",end:"Click last point to finish line."}},rectangle:{tooltip:{start:"Click and drag to draw rectangle."}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"Save changes",text:"Save"},cancel:{title:"Cancel editing, discards all changes",text:"Cancel"},clearAll:{title:"Clear all layers",text:"Clear All"}},buttons:{edit:"Edit layers",editDisabled:"No layers to edit",remove:"Delete layers",removeDisabled:"No layers to delete"}},handlers:{edit:{tooltip:{text:"Drag handles or markers to edit features.",subtext:"Click cancel to undo changes."}},remove:{tooltip:{text:"Click on a feature to remove."}}}}},L.Draw.Event={},L.Draw.Event.CREATED="draw:created",L.Draw.Event.EDITED="draw:edited",L.Draw.Event.DELETED="draw:deleted",L.Draw.Event.DRAWSTART="draw:drawstart",L.Draw.Event.DRAWSTOP="draw:drawstop",L.Draw.Event.DRAWVERTEX="draw:drawvertex",L.Draw.Event.EDITSTART="draw:editstart",L.Draw.Event.EDITMOVE="draw:editmove",L.Draw.Event.EDITRESIZE="draw:editresize",L.Draw.Event.EDITVERTEX="draw:editvertex",L.Draw.Event.EDITSTOP="draw:editstop",L.Draw.Event.DELETESTART="draw:deletestart",L.Draw.Event.DELETESTOP="draw:deletestop",L.Draw.Event.TOOLBAROPENED="draw:toolbaropened",L.Draw.Event.TOOLBARCLOSED="draw:toolbarclosed",L.Draw.Event.MARKERCONTEXT="draw:markercontext",L.Draw=L.Draw||{},L.Draw.Feature=L.Handler.extend({initialize:function(t,e){this._map=t,this._container=t._container,this._overlayPane=t._panes.overlayPane,this._popupPane=t._panes.popupPane,e&&e.shapeOptions&&(e.shapeOptions=L.Util.extend({},this.options.shapeOptions,e.shapeOptions)),L.setOptions(this,e);var n=L.version.split(".");1===parseInt(n[0],10)&&parseInt(n[1],10)>=2?L.Draw.Feature.include(L.Evented.prototype):L.Draw.Feature.include(L.Mixin.Events)},enable:function(){this._enabled||(L.Handler.prototype.enable.call(this),this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DRAWSTART,{layerType:this.type}))},disable:function(){this._enabled&&(L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DRAWSTOP,{layerType:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var t=this._map;t&&(L.DomUtil.disableTextSelection(),t.getContainer().focus(),this._tooltip=new L.Draw.Tooltip(this._map),L.DomEvent.on(this._container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,L.DomEvent.off(this._container,"keyup",this._cancelDrawing,this))},setOptions:function(t){L.setOptions(this,t)},_fireCreatedEvent:function(t){this._map.fire(L.Draw.Event.CREATED,{layer:t,layerType:this.type})},_cancelDrawing:function(t){27===t.keyCode&&(this._map.fire("draw:canceled",{layerType:this.type}),this.disable())}}),L.Draw.Polyline=L.Draw.Feature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),guidelineDistance:20,maxGuideLineLength:4e3,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!1,clickable:!0},metric:!0,feet:!0,nautic:!1,showLength:!0,zIndexOffset:2e3,factor:1,maxPoints:0},initialize:function(t,e){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error,e&&e.drawError&&(e.drawError=L.Util.extend({},this.options.drawError,e.drawError)),this.type=L.Draw.Polyline.TYPE,L.Draw.Feature.prototype.initialize.call(this,t,e)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._markers=[],this._markerGroup=new L.LayerGroup,this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("mouseout",this._onMouseOut,this).on("mousemove",this._onMouseMove,this).on("mousedown",this._onMouseDown,this).on("mouseup",this._onMouseUp,this).addTo(this._map),this._map.on("mouseup",this._onMouseUp,this).on("mousemove",this._onMouseMove,this).on("zoomlevelschange",this._onZoomEnd,this).on("touchstart",this._onTouch,this).on("zoomend",this._onZoomEnd,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._clearHideErrorTimeout(),this._cleanUpShape(),this._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers,this._map.removeLayer(this._poly),delete this._poly,this._mouseMarker.off("mousedown",this._onMouseDown,this).off("mouseout",this._onMouseOut,this).off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._clearGuides(),this._map.off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this).off("zoomlevelschange",this._onZoomEnd,this).off("zoomend",this._onZoomEnd,this).off("touchstart",this._onTouch,this).off("click",this._onTouch,this)},deleteLastVertex:function(){if(!(this._markers.length<=1)){var t=this._markers.pop(),e=this._poly,n=e.getLatLngs(),o=n.splice(-1,1)[0];this._poly.setLatLngs(n),this._markerGroup.removeLayer(t),e.getLatLngs().length<2&&this._map.removeLayer(e),this._vertexChanged(o,!1)}},addVertex:function(t){this._markers.length>=2&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(t)?this._showErrorTooltip():(this._errorShown&&this._hideErrorTooltip(),this._markers.push(this._createMarker(t)),this._poly.addLatLng(t),2===this._poly.getLatLngs().length&&this._map.addLayer(this._poly),this._vertexChanged(t,!0))},completeShape:function(){this._markers.length<=1||!this._shapeIsValid()||(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_finishShape:function(){var t=this._poly._defaultShape?this._poly._defaultShape():this._poly.getLatLngs(),e=this._poly.newLatLngIntersects(t[t.length-1]);!this.options.allowIntersection&&e||!this._shapeIsValid()?this._showErrorTooltip():(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_shapeIsValid:function(){return!0},_onZoomEnd:function(){null!==this._markers&&this._updateGuide()},_onMouseMove:function(t){var e=this._map.mouseEventToLayerPoint(t.originalEvent),n=this._map.layerPointToLatLng(e);this._currentLatLng=n,this._updateTooltip(n),this._updateGuide(e),this._mouseMarker.setLatLng(n),L.DomEvent.preventDefault(t.originalEvent)},_vertexChanged:function(t,e){this._map.fire(L.Draw.Event.DRAWVERTEX,{layers:this._markerGroup}),this._updateFinishHandler(),this._updateRunningMeasure(t,e),this._clearGuides(),this._updateTooltip()},_onMouseDown:function(t){if(!this._clickHandled&&!this._touchHandled&&!this._disableMarkers){this._onMouseMove(t),this._clickHandled=!0,this._disableNewMarkers();var e=t.originalEvent,n=e.clientX,o=e.clientY;this._startPoint.call(this,n,o)}},_startPoint:function(t,e){this._mouseDownOrigin=L.point(t,e)},_onMouseUp:function(t){var e=t.originalEvent,n=e.clientX,o=e.clientY;this._endPoint.call(this,n,o,t),this._clickHandled=null},_endPoint:function(e,n,o){if(this._mouseDownOrigin){var r=L.point(e,n).distanceTo(this._mouseDownOrigin),i=this._calculateFinishDistance(o.latlng);this.options.maxPoints>1&&this.options.maxPoints==this._markers.length+1?(this.addVertex(o.latlng),this._finishShape()):i<10&&L.Browser.touch?this._finishShape():Math.abs(r)<9*(t.devicePixelRatio||1)&&this.addVertex(o.latlng),this._enableNewMarkers()}this._mouseDownOrigin=null},_onTouch:function(t){var e,n,o=t.originalEvent;!o.touches||!o.touches[0]||this._clickHandled||this._touchHandled||this._disableMarkers||(e=o.touches[0].clientX,n=o.touches[0].clientY,this._disableNewMarkers(),this._touchHandled=!0,this._startPoint.call(this,e,n),this._endPoint.call(this,e,n,t),this._touchHandled=null),this._clickHandled=null},_onMouseOut:function(){this._tooltip&&this._tooltip._onMouseOut.call(this._tooltip)},_calculateFinishDistance:function(t){var e;if(this._markers.length>0){var n;if(this.type===L.Draw.Polyline.TYPE)n=this._markers[this._markers.length-1];else{if(this.type!==L.Draw.Polygon.TYPE)return 1/0;n=this._markers[0]}var o=this._map.latLngToContainerPoint(n.getLatLng()),r=new L.Marker(t,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset}),i=this._map.latLngToContainerPoint(r.getLatLng());e=o.distanceTo(i)}else e=1/0;return e},_updateFinishHandler:function(){var t=this._markers.length;t>1&&this._markers[t-1].on("click",this._finishShape,this),t>2&&this._markers[t-2].off("click",this._finishShape,this)},_createMarker:function(t){var e=new L.Marker(t,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(e),e},_updateGuide:function(t){var e=this._markers?this._markers.length:0;e>0&&(t=t||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[e-1].getLatLng()),t))},_updateTooltip:function(t){var e=this._getTooltipText();t&&this._tooltip.updatePosition(t),this._errorShown||this._tooltip.updateContent(e)},_drawGuide:function(t,e){var n,o,r,i=Math.floor(Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))),s=this.options.guidelineDistance,a=this.options.maxGuideLineLength,l=i>a?i-a:s;for(this._guidesContainer||(this._guidesContainer=L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane));l<i;l+=this.options.guidelineDistance)n=l/i,o={x:Math.floor(t.x*(1-n)+n*e.x),y:Math.floor(t.y*(1-n)+n*e.y)},(r=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer)).style.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(r,o)},_updateGuideColor:function(t){if(this._guidesContainer)for(var e=0,n=this._guidesContainer.childNodes.length;e<n;e++)this._guidesContainer.childNodes[e].style.backgroundColor=t},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_getTooltipText:function(){var t,e,n=this.options.showLength;return 0===this._markers.length?t={text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(e=n?this._getMeasurementString():"",t=1===this._markers.length?{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:e}:{text:L.drawLocal.draw.handlers.polyline.tooltip.end,subtext:e}),t},_updateRunningMeasure:function(t,e){var n,o,r=this._markers.length;1===this._markers.length?this._measurementRunningTotal=0:(n=r-(e?2:1),o=L.GeometryUtil.isVersion07x()?t.distanceTo(this._markers[n].getLatLng())*(this.options.factor||1):this._map.distance(t,this._markers[n].getLatLng())*(this.options.factor||1),this._measurementRunningTotal+=o*(e?1:-1))},_getMeasurementString:function(){var t,e=this._currentLatLng,n=this._markers[this._markers.length-1].getLatLng();return t=L.GeometryUtil.isVersion07x()?n&&e&&e.distanceTo?this._measurementRunningTotal+e.distanceTo(n)*(this.options.factor||1):this._measurementRunningTotal||0:n&&e?this._measurementRunningTotal+this._map.distance(e,n)*(this.options.factor||1):this._measurementRunningTotal||0,L.GeometryUtil.readableDistance(t,this.options.metric,this.options.feet,this.options.nautic,this.options.precision)},_showErrorTooltip:function(){this._errorShown=!0,this._tooltip.showAsError().updateContent({text:this.options.drawError.message}),this._updateGuideColor(this.options.drawError.color),this._poly.setStyle({color:this.options.drawError.color}),this._clearHideErrorTimeout(),this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,this),this.options.drawError.timeout)},_hideErrorTooltip:function(){this._errorShown=!1,this._clearHideErrorTimeout(),this._tooltip.removeError().updateContent(this._getTooltipText()),this._updateGuideColor(this.options.shapeOptions.color),this._poly.setStyle({color:this.options.shapeOptions.color})},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_disableNewMarkers:function(){this._disableMarkers=!0},_enableNewMarkers:function(){setTimeout(function(){this._disableMarkers=!1}.bind(this),50)},_cleanUpShape:function(){this._markers.length>1&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_fireCreatedEvent:function(){var t=new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,t)}}),L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,showLength:!1,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},metric:!0,feet:!0,nautic:!1,precision:{}},initialize:function(t,e){L.Draw.Polyline.prototype.initialize.call(this,t,e),this.type=L.Draw.Polygon.TYPE},_updateFinishHandler:function(){var t=this._markers.length;1===t&&this._markers[0].on("click",this._finishShape,this),t>2&&(this._markers[t-1].on("dblclick",this._finishShape,this),t>3&&this._markers[t-2].off("dblclick",this._finishShape,this))},_getTooltipText:function(){var t,e;return 0===this._markers.length?t=L.drawLocal.draw.handlers.polygon.tooltip.start:this._markers.length<3?(t=L.drawLocal.draw.handlers.polygon.tooltip.cont,e=this._getMeasurementString()):(t=L.drawLocal.draw.handlers.polygon.tooltip.end,e=this._getMeasurementString()),{text:t,subtext:e}},_getMeasurementString:function(){var t=this._area,e="";return t||this.options.showLength?(this.options.showLength&&(e=L.Draw.Polyline.prototype._getMeasurementString.call(this)),t&&(e+="<br>"+L.GeometryUtil.readableArea(t,this.options.metric,this.options.precision)),e):null},_shapeIsValid:function(){return this._markers.length>=3},_vertexChanged:function(t,e){var n;!this.options.allowIntersection&&this.options.showArea&&(n=this._poly.getLatLngs(),this._area=L.GeometryUtil.geodesicArea(n)),L.Draw.Polyline.prototype._vertexChanged.call(this,t,e)},_cleanUpShape:function(){var t=this._markers.length;t>0&&(this._markers[0].off("click",this._finishShape,this),t>2&&this._markers[t-1].off("dblclick",this._finishShape,this))}}),L.SimpleShape={},L.Draw.SimpleShape=L.Draw.Feature.extend({options:{repeatMode:!1},initialize:function(t,e){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end,L.Draw.Feature.prototype.initialize.call(this,t,e)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._mapDraggable=this._map.dragging.enabled(),this._mapDraggable&&this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._onMouseDown,this).on("mousemove",this._onMouseMove,this).on("touchstart",this._onMouseDown,this).on("touchmove",this._onMouseMove,this),e.addEventListener("touchstart",L.DomEvent.preventDefault,{passive:!1}))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._mapDraggable&&this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this).off("touchstart",this._onMouseDown,this).off("touchmove",this._onMouseMove,this),L.DomEvent.off(e,"mouseup",this._onMouseUp,this),L.DomEvent.off(e,"touchend",this._onMouseUp,this),e.removeEventListener("touchstart",L.DomEvent.preventDefault),this._shape&&(this._map.removeLayer(this._shape),delete this._shape)),this._isDrawing=!1},_getTooltipText:function(){return{text:this._endLabelText}},_onMouseDown:function(t){this._isDrawing=!0,this._startLatLng=t.latlng,L.DomEvent.on(e,"mouseup",this._onMouseUp,this).on(e,"touchend",this._onMouseUp,this).preventDefault(t.originalEvent)},_onMouseMove:function(t){var e=t.latlng;this._tooltip.updatePosition(e),this._isDrawing&&(this._tooltip.updateContent(this._getTooltipText()),this._drawShape(e))},_onMouseUp:function(){this._shape&&this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()}}),L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showArea:!0,metric:!0},initialize:function(t,e){this.type=L.Draw.Rectangle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,t,e)},disable:function(){this._enabled&&(this._isCurrentlyTwoClickDrawing=!1,L.Draw.SimpleShape.prototype.disable.call(this))},_onMouseUp:function(t){this._shape||this._isCurrentlyTwoClickDrawing?this._isCurrentlyTwoClickDrawing&&!function(t,e){for(;(t=t.parentElement)&&!t.classList.contains(e););return t}(t.target,"leaflet-pane")||L.Draw.SimpleShape.prototype._onMouseUp.call(this):this._isCurrentlyTwoClickDrawing=!0},_drawShape:function(t){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,t)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,t),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var t=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,t)},_getTooltipText:function(){var t,e,n,o=L.Draw.SimpleShape.prototype._getTooltipText.call(this),r=this._shape,i=this.options.showArea;return r&&(t=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),e=L.GeometryUtil.geodesicArea(t),n=i?L.GeometryUtil.readableArea(e,this.options.metric):""),{text:o.text,subtext:n}}}),L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,repeatMode:!1,zIndexOffset:2e3},initialize:function(t,e){this.type=L.Draw.Marker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.marker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,t,e)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._tooltip.updateContent({text:this._initialLabelText}),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onTouch,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._map.off("click",this._onClick,this).off("click",this._onTouch,this),this._marker&&(this._marker.off("click",this._onClick,this),this._map.removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))},_onMouseMove:function(t){var e=t.latlng;this._tooltip.updatePosition(e),this._mouseMarker.setLatLng(e),this._marker?(e=this._mouseMarker.getLatLng(),this._marker.setLatLng(e)):(this._marker=this._createMarker(e),this._marker.on("click",this._onClick,this),this._map.on("click",this._onClick,this).addLayer(this._marker))},_createMarker:function(t){return new L.Marker(t,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset})},_onClick:function(){this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_onTouch:function(t){this._onMouseMove(t),this._onClick()},_fireCreatedEvent:function(){var t=new L.Marker.Touch(this._marker.getLatLng(),{icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,t)}}),L.Draw.CircleMarker=L.Draw.Marker.extend({statics:{TYPE:"circlemarker"},options:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0,zIndexOffset:2e3},initialize:function(t,e){this.type=L.Draw.CircleMarker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circlemarker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,t,e)},_fireCreatedEvent:function(){var t=new L.CircleMarker(this._marker.getLatLng(),this.options);L.Draw.Feature.prototype._fireCreatedEvent.call(this,t)},_createMarker:function(t){return new L.CircleMarker(t,this.options)}}),L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showRadius:!0,metric:!0,feet:!0,nautic:!1},initialize:function(t,e){this.type=L.Draw.Circle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,t,e)},_drawShape:function(t){if(L.GeometryUtil.isVersion07x())var e=this._startLatLng.distanceTo(t);else e=this._map.distance(this._startLatLng,t);this._shape?this._shape.setRadius(e):(this._shape=new L.Circle(this._startLatLng,e,this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var t=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,t)},_onMouseMove:function(t){var e,n=t.latlng,o=this.options.showRadius,r=this.options.metric;if(this._tooltip.updatePosition(n),this._isDrawing){this._drawShape(n),e=this._shape.getRadius().toFixed(1);var i="";o&&(i=L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(e,r,this.options.feet,this.options.nautic)),this._tooltip.updateContent({text:this._endLabelText,subtext:i})}}}),L.Edit=L.Edit||{},L.Edit.Marker=L.Handler.extend({initialize:function(t,e){this._marker=t,L.setOptions(this,e)},addHooks:function(){var t=this._marker;t.dragging.enable(),t.on("dragend",this._onDragEnd,t),this._toggleMarkerHighlight()},removeHooks:function(){var t=this._marker;t.dragging.disable(),t.off("dragend",this._onDragEnd,t),this._toggleMarkerHighlight()},_onDragEnd:function(t){var e=t.target;e.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:e})},_toggleMarkerHighlight:function(){var t=this._marker._icon;t&&(t.style.display="none",L.DomUtil.hasClass(t,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(t,"leaflet-edit-marker-selected"),this._offsetMarker(t,-4)):(L.DomUtil.addClass(t,"leaflet-edit-marker-selected"),this._offsetMarker(t,4)),t.style.display="")},_offsetMarker:function(t,e){var n=parseInt(t.style.marginTop,10)-e,o=parseInt(t.style.marginLeft,10)-e;t.style.marginTop=n+"px",t.style.marginLeft=o+"px"}}),L.Marker.addInitHook((function(){L.Edit.Marker&&(this.editing=new L.Edit.Marker(this),this.options.editable&&this.editing.enable())})),L.Edit=L.Edit||{},L.Edit.Poly=L.Handler.extend({initialize:function(t){this.latlngs=[t._latlngs],t._holes&&(this.latlngs=this.latlngs.concat(t._holes)),this._poly=t,this._poly.on("revert-edited",this._updateLatLngs,this)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._poly._latlngs)?this._poly._latlngs:this._poly._latlngs[0]:this._poly._latlngs},_eachVertexHandler:function(t){for(var e=0;e<this._verticesHandlers.length;e++)t(this._verticesHandlers[e])},addHooks:function(){this._initHandlers(),this._eachVertexHandler((function(t){t.addHooks()}))},removeHooks:function(){this._eachVertexHandler((function(t){t.removeHooks()}))},updateMarkers:function(){this._eachVertexHandler((function(t){t.updateMarkers()}))},_initHandlers:function(){this._verticesHandlers=[];for(var t=0;t<this.latlngs.length;t++)this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly,this.latlngs[t],this._poly.options.poly))},_updateLatLngs:function(t){this.latlngs=[t.layer._latlngs],t.layer._holes&&(this.latlngs=this.latlngs.concat(t.layer._holes))}}),L.Edit.PolyVerticesEdit=L.Handler.extend({options:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),drawError:{color:"#b00b00",timeout:1e3}},initialize:function(t,e,n){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this._poly=t,n&&n.drawError&&(n.drawError=L.Util.extend({},this.options.drawError,n.drawError)),this._latlngs=e,L.setOptions(this,n)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]:this._latlngs},addHooks:function(){var t=this._poly,e=t._path;t instanceof L.Polygon||(t.options.fill=!1,t.options.editing&&(t.options.editing.fill=!1)),e&&t.options.editing&&t.options.editing.className&&(t.options.original.className&&t.options.original.className.split(" ").forEach((function(t){L.DomUtil.removeClass(e,t)})),t.options.editing.className.split(" ").forEach((function(t){L.DomUtil.addClass(e,t)}))),t.setStyle(t.options.editing),this._poly._map&&(this._map=this._poly._map,this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){var t=this._poly,e=t._path;e&&t.options.editing&&t.options.editing.className&&(t.options.editing.className.split(" ").forEach((function(t){L.DomUtil.removeClass(e,t)})),t.options.original.className&&t.options.original.className.split(" ").forEach((function(t){L.DomUtil.addClass(e,t)}))),t.setStyle(t.options.original),t._map&&(t._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._markers=[];var t,e,n,o,r,i,s=this._defaultShape();for(t=0,n=s.length;t<n;t++)(o=this._createMarker(s[t],t)).on("click",this._onMarkerClick,this),o.on("contextmenu",this._onContextMenu,this),this._markers.push(o);for(t=0,e=n-1;t<n;e=t++)(0!==t||L.Polygon&&this._poly instanceof L.Polygon)&&(r=this._markers[e],i=this._markers[t],this._createMiddleMarker(r,i),this._updatePrevNext(r,i))},_createMarker:function(t,e){var n=new L.Marker.Touch(t,{draggable:!0,icon:this.options.icon});return n._origLatLng=t,n._index=e,n.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._fireEdit,this).on("touchmove",this._onTouchMove,this).on("touchend",this._fireEdit,this).on("MSPointerMove",this._onTouchMove,this).on("MSPointerUp",this._fireEdit,this),this._markerGroup.addLayer(n),n},_onMarkerDragStart:function(){this._poly.fire("editstart")},_spliceLatLngs:function(){var t=this._defaultShape(),e=[].splice.apply(t,arguments);return this._poly._convertLatLngs(t,!0),this._poly.redraw(),e},_removeMarker:function(t){var e=t._index;this._markerGroup.removeLayer(t),this._markers.splice(e,1),this._spliceLatLngs(e,1),this._updateIndexes(e,-1),t.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._fireEdit,this).off("touchmove",this._onMarkerDrag,this).off("touchend",this._fireEdit,this).off("click",this._onMarkerClick,this).off("MSPointerMove",this._onTouchMove,this).off("MSPointerUp",this._fireEdit,this)},_fireEdit:function(){this._poly.edited=!0,this._poly.fire("edit"),this._poly._map.fire(L.Draw.Event.EDITVERTEX,{layers:this._markerGroup,poly:this._poly})},_onMarkerDrag:function(t){var e=t.target,n=this._poly,o=L.LatLngUtil.cloneLatLng(e._origLatLng);if(L.extend(e._origLatLng,e._latlng),n.options.poly){var r=n._map._editTooltip;if(!n.options.poly.allowIntersection&&n.intersects()){L.extend(e._origLatLng,o),e.setLatLng(o);var i=n.options.color;n.setStyle({color:this.options.drawError.color}),r&&r.updateContent({text:L.drawLocal.draw.handlers.polyline.error}),setTimeout((function(){n.setStyle({color:i}),r&&r.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext})}),1e3)}}e._middleLeft&&e._middleLeft.setLatLng(this._getMiddleLatLng(e._prev,e)),e._middleRight&&e._middleRight.setLatLng(this._getMiddleLatLng(e,e._next)),this._poly._bounds._southWest=L.latLng(1/0,1/0),this._poly._bounds._northEast=L.latLng(-1/0,-1/0);var s=this._poly.getLatLngs();this._poly._convertLatLngs(s,!0),this._poly.redraw(),this._poly.fire("editdrag")},_onMarkerClick:function(t){var e=L.Polygon&&this._poly instanceof L.Polygon?4:3,n=t.target;this._defaultShape().length<e||(this._removeMarker(n),this._updatePrevNext(n._prev,n._next),n._middleLeft&&this._markerGroup.removeLayer(n._middleLeft),n._middleRight&&this._markerGroup.removeLayer(n._middleRight),n._prev&&n._next?this._createMiddleMarker(n._prev,n._next):n._prev?n._next||(n._prev._middleRight=null):n._next._middleLeft=null,this._fireEdit())},_onContextMenu:function(t){var e=t.target;this._poly,this._poly._map.fire(L.Draw.Event.MARKERCONTEXT,{marker:e,layers:this._markerGroup,poly:this._poly}),L.DomEvent.stopPropagation},_onTouchMove:function(t){var e=this._map.mouseEventToLayerPoint(t.originalEvent.touches[0]),n=this._map.layerPointToLatLng(e),o=t.target;L.extend(o._origLatLng,n),o._middleLeft&&o._middleLeft.setLatLng(this._getMiddleLatLng(o._prev,o)),o._middleRight&&o._middleRight.setLatLng(this._getMiddleLatLng(o,o._next)),this._poly.redraw(),this.updateMarkers()},_updateIndexes:function(t,e){this._markerGroup.eachLayer((function(n){n._index>t&&(n._index+=e)}))},_createMiddleMarker:function(t,e){var n,o,r,i=this._getMiddleLatLng(t,e),s=this._createMarker(i);s.setOpacity(.6),t._middleRight=e._middleLeft=s,o=function(){s.off("touchmove",o,this);var r=e._index;s._index=r,s.off("click",n,this).on("click",this._onMarkerClick,this),i.lat=s.getLatLng().lat,i.lng=s.getLatLng().lng,this._spliceLatLngs(r,0,i),this._markers.splice(r,0,s),s.setOpacity(1),this._updateIndexes(r,1),e._index++,this._updatePrevNext(t,s),this._updatePrevNext(s,e),this._poly.fire("editstart")},r=function(){s.off("dragstart",o,this),s.off("dragend",r,this),s.off("touchmove",o,this),this._createMiddleMarker(t,s),this._createMiddleMarker(s,e)},n=function(){o.call(this),r.call(this),this._fireEdit()},s.on("click",n,this).on("dragstart",o,this).on("dragend",r,this).on("touchmove",o,this),this._markerGroup.addLayer(s)},_updatePrevNext:function(t,e){t&&(t._next=e),e&&(e._prev=t)},_getMiddleLatLng:function(t,e){var n=this._poly._map,o=n.project(t.getLatLng()),r=n.project(e.getLatLng());return n.unproject(o._add(r)._divideBy(2))}}),L.Polyline.addInitHook((function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this),this.options.editable&&this.editing.enable()),this.on("add",(function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()})),this.on("remove",(function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})))})),L.Edit=L.Edit||{},L.Edit.SimpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"}),touchMoveIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"}),touchResizeIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"})},initialize:function(t,e){L.Browser.touch&&(this.options.moveIcon=this.options.touchMoveIcon,this.options.resizeIcon=this.options.touchResizeIcon),this._shape=t,L.Util.setOptions(this,e)},addHooks:function(){var t=this._shape;this._shape._map&&(this._map=this._shape._map,t.setStyle(t.options.editing),t._map&&(this._map=t._map,this._markerGroup||this._initMarkers(),this._map.addLayer(this._markerGroup)))},removeHooks:function(){var t=this._shape;if(t.setStyle(t.options.original),t._map){this._unbindMarker(this._moveMarker);for(var e=0,n=this._resizeMarkers.length;e<n;e++)this._unbindMarker(this._resizeMarkers[e]);this._resizeMarkers=null,this._map.removeLayer(this._markerGroup),delete this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._createMoveMarker(),this._createResizeMarker()},_createMoveMarker:function(){},_createResizeMarker:function(){},_createMarker:function(t,e){var n=new L.Marker.Touch(t,{draggable:!0,icon:e,zIndexOffset:10});return this._bindMarker(n),this._markerGroup.addLayer(n),n},_bindMarker:function(t){t.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this).on("touchstart",this._onTouchStart,this).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onTouchEnd,this).on("MSPointerUp",this._onTouchEnd,this)},_unbindMarker:function(t){t.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this).off("touchstart",this._onTouchStart,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onTouchEnd,this).off("MSPointerUp",this._onTouchEnd,this)},_onMarkerDragStart:function(t){t.target.setOpacity(0),this._shape.fire("editstart")},_fireEdit:function(){this._shape.edited=!0,this._shape.fire("edit")},_onMarkerDrag:function(t){var e=t.target,n=e.getLatLng();e===this._moveMarker?this._move(n):this._resize(n),this._shape.redraw(),this._shape.fire("editdrag")},_onMarkerDragEnd:function(t){t.target.setOpacity(1),this._fireEdit()},_onTouchStart:function(t){if(L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,t),"function"==typeof this._getCorners){var e=this._getCorners(),n=t.target,o=n._cornerIndex;n.setOpacity(0),this._oppositeCorner=e[(o+2)%4],this._toggleCornerMarkers(0,o)}this._shape.fire("editstart")},_onTouchMove:function(t){var e=this._map.mouseEventToLayerPoint(t.originalEvent.touches[0]),n=this._map.layerPointToLatLng(e);return t.target===this._moveMarker?this._move(n):this._resize(n),this._shape.redraw(),!1},_onTouchEnd:function(t){t.target.setOpacity(1),this.updateMarkers(),this._fireEdit()},_move:function(){},_resize:function(){}}),L.Edit=L.Edit||{},L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var t=this._shape.getBounds().getCenter();this._moveMarker=this._createMarker(t,this.options.moveIcon)},_createResizeMarker:function(){var t=this._getCorners();this._resizeMarkers=[];for(var e=0,n=t.length;e<n;e++)this._resizeMarkers.push(this._createMarker(t[e],this.options.resizeIcon)),this._resizeMarkers[e]._cornerIndex=e},_onMarkerDragStart:function(t){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,t);var e=this._getCorners(),n=t.target._cornerIndex;this._oppositeCorner=e[(n+2)%4],this._toggleCornerMarkers(0,n)},_onMarkerDragEnd:function(t){var e,n=t.target;n===this._moveMarker&&(e=this._shape.getBounds().getCenter(),n.setLatLng(e)),this._toggleCornerMarkers(1),this._repositionCornerMarkers(),L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this,t)},_move:function(t){for(var e,n=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),o=this._shape.getBounds().getCenter(),r=[],i=0,s=n.length;i<s;i++)e=[n[i].lat-o.lat,n[i].lng-o.lng],r.push([t.lat+e[0],t.lng+e[1]]);this._shape.setLatLngs(r),this._repositionCornerMarkers(),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})},_resize:function(t){var e;this._shape.setBounds(L.latLngBounds(t,this._oppositeCorner)),e=this._shape.getBounds(),this._moveMarker.setLatLng(e.getCenter()),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})},_getCorners:function(){var t=this._shape.getBounds();return[t.getNorthWest(),t.getNorthEast(),t.getSouthEast(),t.getSouthWest()]},_toggleCornerMarkers:function(t){for(var e=0,n=this._resizeMarkers.length;e<n;e++)this._resizeMarkers[e].setOpacity(t)},_repositionCornerMarkers:function(){for(var t=this._getCorners(),e=0,n=this._resizeMarkers.length;e<n;e++)this._resizeMarkers[e].setLatLng(t[e])}}),L.Rectangle.addInitHook((function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())})),L.Edit=L.Edit||{},L.Edit.CircleMarker=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var t=this._shape.getLatLng();this._moveMarker=this._createMarker(t,this.options.moveIcon)},_createResizeMarker:function(){this._resizeMarkers=[]},_move:function(t){if(this._resizeMarkers.length){var e=this._getResizeMarkerPoint(t);this._resizeMarkers[0].setLatLng(e)}this._shape.setLatLng(t),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})}}),L.CircleMarker.addInitHook((function(){L.Edit.CircleMarker&&(this.editing=new L.Edit.CircleMarker(this),this.options.editable&&this.editing.enable()),this.on("add",(function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()})),this.on("remove",(function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))})),L.Edit=L.Edit||{},L.Edit.Circle=L.Edit.CircleMarker.extend({_createResizeMarker:function(){var t=this._shape.getLatLng(),e=this._getResizeMarkerPoint(t);this._resizeMarkers=[],this._resizeMarkers.push(this._createMarker(e,this.options.resizeIcon))},_getResizeMarkerPoint:function(t){var e=this._shape._radius*Math.cos(Math.PI/4),n=this._map.project(t);return this._map.unproject([n.x+e,n.y-e])},_resize:function(t){var e=this._moveMarker.getLatLng();L.GeometryUtil.isVersion07x()?radius=e.distanceTo(t):radius=this._map.distance(e,t),this._shape.setRadius(radius),this._map.editTooltip&&this._map._editTooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.subtext+"<br />"+L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(radius,!0,this.options.feet,this.options.nautic)}),this._shape.setRadius(radius),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})}}),L.Circle.addInitHook((function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable())})),L.Map.mergeOptions({touchExtend:!0}),L.Map.TouchExtend=L.Handler.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane},addHooks:function(){L.DomEvent.on(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.on(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.on(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.on(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.on(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.on(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.on(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.on(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.on(this._container,"touchleave",this._onTouchLeave,this))},removeHooks:function(){L.DomEvent.off(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.off(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.off(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.off(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.off(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.off(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.off(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.off(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.off(this._container,"touchleave",this._onTouchLeave,this))},_touchEvent:function(t,e){var n={};if(void 0!==t.touches){if(!t.touches.length)return;n=t.touches[0]}else{if("touch"!==t.pointerType)return;if(n=t,!this._filterClick(t))return}var o=this._map.mouseEventToContainerPoint(n),r=this._map.mouseEventToLayerPoint(n),i=this._map.layerPointToLatLng(r);this._map.fire(e,{latlng:i,layerPoint:r,containerPoint:o,pageX:n.pageX,pageY:n.pageY,originalEvent:t})},_filterClick:function(t){var e=t.timeStamp||t.originalEvent.timeStamp,n=L.DomEvent._lastClick&&e-L.DomEvent._lastClick;return n&&n>100&&n<500||t.target._simulatedClick&&!t._simulated?(L.DomEvent.stop(t),!1):(L.DomEvent._lastClick=e,!0)},_onTouchStart:function(t){this._map._loaded&&this._touchEvent(t,"touchstart")},_onTouchEnd:function(t){this._map._loaded&&this._touchEvent(t,"touchend")},_onTouchCancel:function(t){if(this._map._loaded){var e="touchcancel";this._detectIE()&&(e="pointercancel"),this._touchEvent(t,e)}},_onTouchLeave:function(t){this._map._loaded&&this._touchEvent(t,"touchleave")},_onTouchMove:function(t){this._map._loaded&&this._touchEvent(t,"touchmove")},_detectIE:function(){var e=t.navigator.userAgent,n=e.indexOf("MSIE ");if(n>0)return parseInt(e.substring(n+5,e.indexOf(".",n)),10);if(e.indexOf("Trident/")>0){var o=e.indexOf("rv:");return parseInt(e.substring(o+3,e.indexOf(".",o)),10)}var r=e.indexOf("Edge/");return r>0&&parseInt(e.substring(r+5,e.indexOf(".",r)),10)}}),L.Map.addInitHook("addHandler","touchExtend",L.Map.TouchExtend),L.Marker.Touch=L.Marker.extend({_initInteraction:function(){return this.addInteractiveTarget?L.Marker.prototype._initInteraction.apply(this):this._initInteractionLegacy()},_initInteractionLegacy:function(){if(this.options.clickable){var t=this._icon,e=["dblclick","mousedown","mouseover","mouseout","contextmenu","touchstart","touchend","touchmove"];this._detectIE?e.concat(["MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"]):e.concat(["touchcancel"]),L.DomUtil.addClass(t,"leaflet-clickable"),L.DomEvent.on(t,"click",this._onMouseClick,this),L.DomEvent.on(t,"keypress",this._onKeyPress,this);for(var n=0;n<e.length;n++)L.DomEvent.on(t,e[n],this._fireMouseEvent,this);L.Handler.MarkerDrag&&(this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_detectIE:function(){var e=t.navigator.userAgent,n=e.indexOf("MSIE ");if(n>0)return parseInt(e.substring(n+5,e.indexOf(".",n)),10);if(e.indexOf("Trident/")>0){var o=e.indexOf("rv:");return parseInt(e.substring(o+3,e.indexOf(".",o)),10)}var r=e.indexOf("Edge/");return r>0&&parseInt(e.substring(r+5,e.indexOf(".",r)),10)}}),L.LatLngUtil={cloneLatLngs:function(t){for(var e=[],n=0,o=t.length;n<o;n++)Array.isArray(t[n])?e.push(L.LatLngUtil.cloneLatLngs(t[n])):e.push(this.cloneLatLng(t[n]));return e},cloneLatLng:function(t){return L.latLng(t.lat,t.lng)}},function(){var t={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2};L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(t){var e,n,o=t.length,r=0,i=Math.PI/180;if(o>2){for(var s=0;s<o;s++)e=t[s],r+=((n=t[(s+1)%o]).lng-e.lng)*i*(2+Math.sin(e.lat*i)+Math.sin(n.lat*i));r=6378137*r*6378137/2}return Math.abs(r)},formattedNumber:function(t,e){var n=parseFloat(t).toFixed(e),o=L.drawLocal.format&&L.drawLocal.format.numeric,r=o&&o.delimiters,i=r&&r.thousands,s=r&&r.decimal;if(i||s){var a=n.split(".");n=i?a[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+i):a[0],s=s||".",a.length>1&&(n=n+s+a[1])}return n},readableArea:function(e,n,o){var r,i;return o=L.Util.extend({},t,o),n?(i=["ha","m"],type=typeof n,"string"===type?i=[n]:"boolean"!==type&&(i=n),r=e>=1e6&&-1!==i.indexOf("km")?L.GeometryUtil.formattedNumber(1e-6*e,o.km)+" km\xb2":e>=1e4&&-1!==i.indexOf("ha")?L.GeometryUtil.formattedNumber(1e-4*e,o.ha)+" ha":L.GeometryUtil.formattedNumber(e,o.m)+" m\xb2"):r=(e/=.836127)>=3097600?L.GeometryUtil.formattedNumber(e/3097600,o.mi)+" mi\xb2":e>=4840?L.GeometryUtil.formattedNumber(e/4840,o.ac)+" acres":L.GeometryUtil.formattedNumber(e,o.yd)+" yd\xb2",r},readableDistance:function(e,n,o,r,i){var s;switch(i=L.Util.extend({},t,i),n?"string"==typeof n?n:"metric":o?"feet":r?"nauticalMile":"yards"){case"metric":s=e>1e3?L.GeometryUtil.formattedNumber(e/1e3,i.km)+" km":L.GeometryUtil.formattedNumber(e,i.m)+" m";break;case"feet":e*=3.28083,s=L.GeometryUtil.formattedNumber(e,i.ft)+" ft";break;case"nauticalMile":e*=.53996,s=L.GeometryUtil.formattedNumber(e/1e3,i.nm)+" nm";break;default:s=(e*=1.09361)>1760?L.GeometryUtil.formattedNumber(e/1760,i.mi)+" miles":L.GeometryUtil.formattedNumber(e,i.yd)+" yd"}return s},isVersion07x:function(){var t=L.version.split(".");return 0===parseInt(t[0],10)&&7===parseInt(t[1],10)}})}(),L.Util.extend(L.LineUtil,{segmentsIntersect:function(t,e,n,o){return this._checkCounterclockwise(t,n,o)!==this._checkCounterclockwise(e,n,o)&&this._checkCounterclockwise(t,e,n)!==this._checkCounterclockwise(t,e,o)},_checkCounterclockwise:function(t,e,n){return(n.y-t.y)*(e.x-t.x)>(e.y-t.y)*(n.x-t.x)}}),L.Polyline.include({intersects:function(){var t,e,n,o=this._getProjectedPoints(),r=o?o.length:0;if(this._tooFewPointsForIntersection())return!1;for(t=r-1;t>=3;t--)if(e=o[t-1],n=o[t],this._lineSegmentsIntersectsRange(e,n,t-2))return!0;return!1},newLatLngIntersects:function(t,e){return!!this._map&&this.newPointIntersects(this._map.latLngToLayerPoint(t),e)},newPointIntersects:function(t,e){var n=this._getProjectedPoints(),o=n?n.length:0,r=n?n[o-1]:null,i=o-2;return!this._tooFewPointsForIntersection(1)&&this._lineSegmentsIntersectsRange(r,t,i,e?1:0)},_tooFewPointsForIntersection:function(t){var e=this._getProjectedPoints(),n=e?e.length:0;return!e||(n+=t||0)<=3},_lineSegmentsIntersectsRange:function(t,e,n,o){var r,i,s=this._getProjectedPoints();o=o||0;for(var a=n;a>o;a--)if(r=s[a-1],i=s[a],L.LineUtil.segmentsIntersect(t,e,r,i))return!0;return!1},_getProjectedPoints:function(){if(!this._defaultShape)return this._originalPoints;for(var t=[],e=this._defaultShape(),n=0;n<e.length;n++)t.push(this._map.latLngToLayerPoint(e[n]));return t}}),L.Polygon.include({intersects:function(){var t,e,n,o,r=this._getProjectedPoints();return!this._tooFewPointsForIntersection()&&(!!L.Polyline.prototype.intersects.call(this)||(t=r.length,e=r[0],n=r[t-1],o=t-2,this._lineSegmentsIntersectsRange(n,e,o,1)))}}),L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(t){if(L.version<"0.7")throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");var e;L.Control.prototype.initialize.call(this,t),this._toolbars={},L.DrawToolbar&&this.options.draw&&(e=new L.DrawToolbar(this.options.draw),this._toolbars[L.DrawToolbar.TYPE]=e,this._toolbars[L.DrawToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.EditToolbar&&this.options.edit&&(e=new L.EditToolbar(this.options.edit),this._toolbars[L.EditToolbar.TYPE]=e,this._toolbars[L.EditToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.toolbar=this},onAdd:function(t){var e,n=L.DomUtil.create("div","leaflet-draw"),o=!1;for(var r in this._toolbars)this._toolbars.hasOwnProperty(r)&&(e=this._toolbars[r].addToolbar(t))&&(o||(L.DomUtil.hasClass(e,"leaflet-draw-toolbar-top")||L.DomUtil.addClass(e.childNodes[0],"leaflet-draw-toolbar-top"),o=!0),n.appendChild(e));return n},onRemove:function(){for(var t in this._toolbars)this._toolbars.hasOwnProperty(t)&&this._toolbars[t].removeToolbar()},setDrawingOptions:function(t){for(var e in this._toolbars)this._toolbars[e]instanceof L.DrawToolbar&&this._toolbars[e].setOptions(t)},_toolbarEnabled:function(t){var e=t.target;for(var n in this._toolbars)this._toolbars[n]!==e&&this._toolbars[n].disable()}}),L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1}),L.Map.addInitHook((function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))})),L.Toolbar=L.Class.extend({initialize:function(t){L.setOptions(this,t),this._modes={},this._actionButtons=[],this._activeMode=null;var e=L.version.split(".");1===parseInt(e[0],10)&&parseInt(e[1],10)>=2?L.Toolbar.include(L.Evented.prototype):L.Toolbar.include(L.Mixin.Events)},enabled:function(){return null!==this._activeMode},disable:function(){this.enabled()&&this._activeMode.handler.disable()},addToolbar:function(t){var e,n=L.DomUtil.create("div","leaflet-draw-section"),o=0,r=this._toolbarClass||"",i=this.getModeHandlers(t);for(this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar"),this._map=t,e=0;e<i.length;e++)i[e].enabled&&this._initModeHandler(i[e].handler,this._toolbarContainer,o++,r,i[e].title);if(o)return this._lastButtonIndex=--o,this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions"),n.appendChild(this._toolbarContainer),n.appendChild(this._actionsContainer),n},removeToolbar:function(){for(var t in this._modes)this._modes.hasOwnProperty(t)&&(this._disposeButton(this._modes[t].button,this._modes[t].handler.enable,this._modes[t].handler),this._modes[t].handler.disable(),this._modes[t].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};for(var e=0,n=this._actionButtons.length;e<n;e++)this._disposeButton(this._actionButtons[e].button,this._actionButtons[e].callback,this);this._actionButtons=[],this._actionsContainer=null},_initModeHandler:function(t,e,n,o,r){var i=t.type;this._modes[i]={},this._modes[i].handler=t,this._modes[i].button=this._createButton({type:i,title:r,className:o+"-"+i,container:e,callback:this._modes[i].handler.enable,context:this._modes[i].handler}),this._modes[i].buttonIndex=n,this._modes[i].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_detectIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!t.MSStream},_createButton:function(t){var e=L.DomUtil.create("a",t.className||"",t.container),n=L.DomUtil.create("span","sr-only",t.container);e.href="#",e.appendChild(n),t.title&&(e.title=t.title,n.innerHTML=t.title),t.text&&(e.innerHTML=t.text,n.innerHTML=t.text);var o=this._detectIOS()?"touchstart":"click";return L.DomEvent.on(e,"click",L.DomEvent.stopPropagation).on(e,"mousedown",L.DomEvent.stopPropagation).on(e,"dblclick",L.DomEvent.stopPropagation).on(e,"touchstart",L.DomEvent.stopPropagation).on(e,"click",L.DomEvent.preventDefault).on(e,o,t.callback,t.context),e},_disposeButton:function(t,e){var n=this._detectIOS()?"touchstart":"click";L.DomEvent.off(t,"click",L.DomEvent.stopPropagation).off(t,"mousedown",L.DomEvent.stopPropagation).off(t,"dblclick",L.DomEvent.stopPropagation).off(t,"touchstart",L.DomEvent.stopPropagation).off(t,"click",L.DomEvent.preventDefault).off(t,n,e)},_handlerActivated:function(t){this.disable(),this._activeMode=this._modes[t.handler],L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._showActionsToolbar(),this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar(),L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._activeMode=null,this.fire("disable")},_createActions:function(t){var e,n,o,r,i=this._actionsContainer,s=this.getActions(t),a=s.length;for(n=0,o=this._actionButtons.length;n<o;n++)this._disposeButton(this._actionButtons[n].button,this._actionButtons[n].callback);for(this._actionButtons=[];i.firstChild;)i.removeChild(i.firstChild);for(var l=0;l<a;l++)"enabled"in s[l]&&!s[l].enabled||(e=L.DomUtil.create("li","",i),r=this._createButton({title:s[l].title,text:s[l].text,container:e,callback:s[l].callback,context:s[l].context}),this._actionButtons.push({button:r,callback:s[l].callback}))},_showActionsToolbar:function(){var t=this._activeMode.buttonIndex,e=this._lastButtonIndex,n=this._activeMode.button.offsetTop-1;this._createActions(this._activeMode.handler),this._actionsContainer.style.top=n+"px",0===t&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-top")),t===e&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom")),this._actionsContainer.style.display="block",this._map.fire(L.Draw.Event.TOOLBAROPENED)},_hideActionsToolbar:function(){this._actionsContainer.style.display="none",L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom"),this._map.fire(L.Draw.Event.TOOLBARCLOSED)}}),L.Draw=L.Draw||{},L.Draw.Tooltip=L.Class.extend({initialize:function(t){this._map=t,this._popupPane=t._panes.popupPane,this._visible=!1,this._container=t.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null,this._singleLineLabel=!1,this._map.on("mouseout",this._onMouseOut,this)},dispose:function(){this._map.off("mouseout",this._onMouseOut,this),this._container&&(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(t){return this._container?(t.subtext=t.subtext||"",0!==t.subtext.length||this._singleLineLabel?t.subtext.length>0&&this._singleLineLabel&&(L.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(t.subtext.length>0?'<span class="leaflet-draw-tooltip-subtext">'+t.subtext+"</span><br />":"")+"<span>"+t.text+"</span>",t.text||t.subtext?(this._visible=!0,this._container.style.visibility="inherit"):(this._visible=!1,this._container.style.visibility="hidden"),this):this},updatePosition:function(t){var e=this._map.latLngToLayerPoint(t),n=this._container;return this._container&&(this._visible&&(n.style.visibility="inherit"),L.DomUtil.setPosition(n,e)),this},showAsError:function(){return this._container&&L.DomUtil.addClass(this._container,"leaflet-error-draw-tooltip"),this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this},_onMouseOut:function(){this._container&&(this._container.style.visibility="hidden")}}),L.DrawToolbar=L.Toolbar.extend({statics:{TYPE:"draw"},options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{},circlemarker:{}},initialize:function(t){for(var e in this.options)this.options.hasOwnProperty(e)&&t[e]&&(t[e]=L.extend({},this.options[e],t[e]));this._toolbarClass="leaflet-draw-draw",L.Toolbar.prototype.initialize.call(this,t)},getModeHandlers:function(t){return[{enabled:this.options.polyline,handler:new L.Draw.Polyline(t,this.options.polyline),title:L.drawLocal.draw.toolbar.buttons.polyline},{enabled:this.options.polygon,handler:new L.Draw.Polygon(t,this.options.polygon),title:L.drawLocal.draw.toolbar.buttons.polygon},{enabled:this.options.rectangle,handler:new L.Draw.Rectangle(t,this.options.rectangle),title:L.drawLocal.draw.toolbar.buttons.rectangle},{enabled:this.options.circle,handler:new L.Draw.Circle(t,this.options.circle),title:L.drawLocal.draw.toolbar.buttons.circle},{enabled:this.options.marker,handler:new L.Draw.Marker(t,this.options.marker),title:L.drawLocal.draw.toolbar.buttons.marker},{enabled:this.options.circlemarker,handler:new L.Draw.CircleMarker(t,this.options.circlemarker),title:L.drawLocal.draw.toolbar.buttons.circlemarker}]},getActions:function(t){return[{enabled:t.completeShape,title:L.drawLocal.draw.toolbar.finish.title,text:L.drawLocal.draw.toolbar.finish.text,callback:t.completeShape,context:t},{enabled:t.deleteLastVertex,title:L.drawLocal.draw.toolbar.undo.title,text:L.drawLocal.draw.toolbar.undo.text,callback:t.deleteLastVertex,context:t},{title:L.drawLocal.draw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]},setOptions:function(t){for(var e in L.setOptions(this,t),this._modes)this._modes.hasOwnProperty(e)&&t.hasOwnProperty(e)&&this._modes[e].handler.setOptions(t[e])}}),L.EditToolbar=L.Toolbar.extend({statics:{TYPE:"edit"},options:{edit:{selectedPathOptions:{dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1,maintainColor:!1}},remove:{},poly:null,featureGroup:null},initialize:function(t){t.edit&&(void 0===t.edit.selectedPathOptions&&(t.edit.selectedPathOptions=this.options.edit.selectedPathOptions),t.edit.selectedPathOptions=L.extend({},this.options.edit.selectedPathOptions,t.edit.selectedPathOptions)),t.remove&&(t.remove=L.extend({},this.options.remove,t.remove)),t.poly&&(t.poly=L.extend({},this.options.poly,t.poly)),this._toolbarClass="leaflet-draw-edit",L.Toolbar.prototype.initialize.call(this,t),this._selectedFeatureCount=0},getModeHandlers:function(t){var e=this.options.featureGroup;return[{enabled:this.options.edit,handler:new L.EditToolbar.Edit(t,{featureGroup:e,selectedPathOptions:this.options.edit.selectedPathOptions,poly:this.options.poly}),title:L.drawLocal.edit.toolbar.buttons.edit},{enabled:this.options.remove,handler:new L.EditToolbar.Delete(t,{featureGroup:e}),title:L.drawLocal.edit.toolbar.buttons.remove}]},getActions:function(t){var e=[{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,callback:this._save,context:this},{title:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this}];return t.removeAllLayers&&e.push({title:L.drawLocal.edit.toolbar.actions.clearAll.title,text:L.drawLocal.edit.toolbar.actions.clearAll.text,callback:this._clearAllLayers,context:this}),e},addToolbar:function(t){var e=L.Toolbar.prototype.addToolbar.call(this,t);return this._checkDisabled(),this.options.featureGroup.on("layeradd layerremove",this._checkDisabled,this),e},removeToolbar:function(){this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this),L.Toolbar.prototype.removeToolbar.call(this)},disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.call(this))},_save:function(){this._activeMode.handler.save(),this._activeMode&&this._activeMode.handler.disable()},_clearAllLayers:function(){this._activeMode.handler.removeAllLayers(),this._activeMode&&this._activeMode.handler.disable()},_checkDisabled:function(){var t,e=0!==this.options.featureGroup.getLayers().length;this.options.edit&&(t=this._modes[L.EditToolbar.Edit.TYPE].button,e?L.DomUtil.removeClass(t,"leaflet-disabled"):L.DomUtil.addClass(t,"leaflet-disabled"),t.setAttribute("title",e?L.drawLocal.edit.toolbar.buttons.edit:L.drawLocal.edit.toolbar.buttons.editDisabled)),this.options.remove&&(t=this._modes[L.EditToolbar.Delete.TYPE].button,e?L.DomUtil.removeClass(t,"leaflet-disabled"):L.DomUtil.addClass(t,"leaflet-disabled"),t.setAttribute("title",e?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}}),L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},initialize:function(t,e){if(L.Handler.prototype.initialize.call(this,t),L.setOptions(this,e),this._featureGroup=e.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps={},this.type=L.EditToolbar.Edit.TYPE;var n=L.version.split(".");1===parseInt(n[0],10)&&parseInt(n[1],10)>=2?L.EditToolbar.Edit.include(L.Evented.prototype):L.EditToolbar.Edit.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.EDITSTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this))},disable:function(){this._enabled&&(this._featureGroup.off("layeradd",this._enableLayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.EDITSTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var t=this._map;t&&(t.getContainer().focus(),this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),t._editTooltip=this._tooltip,this._updateTooltip(),this._map.on("mousemove",this._onMouseMove,this).on("touchmove",this._onMouseMove,this).on("MSPointerMove",this._onMouseMove,this).on(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},removeHooks:function(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this).off("touchmove",this._onMouseMove,this).off("MSPointerMove",this._onMouseMove,this).off(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},revertLayers:function(){this._featureGroup.eachLayer((function(t){this._revertLayer(t)}),this)},save:function(){var t=new L.LayerGroup;this._featureGroup.eachLayer((function(e){e.edited&&(t.addLayer(e),e.edited=!1)})),this._map.fire(L.Draw.Event.EDITED,{layers:t})},_backupLayer:function(t){var e=L.Util.stamp(t);this._uneditedLayerProps[e]||(t instanceof L.Polyline||t instanceof L.Polygon||t instanceof L.Rectangle?this._uneditedLayerProps[e]={latlngs:L.LatLngUtil.cloneLatLngs(t.getLatLngs())}:t instanceof L.Circle?this._uneditedLayerProps[e]={latlng:L.LatLngUtil.cloneLatLng(t.getLatLng()),radius:t.getRadius()}:(t instanceof L.Marker||t instanceof L.CircleMarker)&&(this._uneditedLayerProps[e]={latlng:L.LatLngUtil.cloneLatLng(t.getLatLng())}))},_getTooltipText:function(){return{text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}},_updateTooltip:function(){this._tooltip.updateContent(this._getTooltipText())},_revertLayer:function(t){var e=L.Util.stamp(t);t.edited=!1,this._uneditedLayerProps.hasOwnProperty(e)&&(t instanceof L.Polyline||t instanceof L.Polygon||t instanceof L.Rectangle?t.setLatLngs(this._uneditedLayerProps[e].latlngs):t instanceof L.Circle?(t.setLatLng(this._uneditedLayerProps[e].latlng),t.setRadius(this._uneditedLayerProps[e].radius)):(t instanceof L.Marker||t instanceof L.CircleMarker)&&t.setLatLng(this._uneditedLayerProps[e].latlng),t.fire("revert-edited",{layer:t}))},_enableLayerEdit:function(t){var e,n,o=t.layer||t.target||t;this._backupLayer(o),this.options.poly&&(n=L.Util.extend({},this.options.poly),o.options.poly=n),this.options.selectedPathOptions&&((e=L.Util.extend({},this.options.selectedPathOptions)).maintainColor&&(e.color=o.options.color,e.fillColor=o.options.fillColor),o.options.original=L.extend({},o.options),o.options.editing=e),o instanceof L.Marker?(o.editing&&o.editing.enable(),o.dragging.enable(),o.on("dragend",this._onMarkerDragEnd).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onMarkerDragEnd,this).on("MSPointerUp",this._onMarkerDragEnd,this)):o.editing.enable()},_disableLayerEdit:function(t){var e=t.layer||t.target||t;e.edited=!1,e.editing&&e.editing.disable(),delete e.options.editing,delete e.options.original,this._selectedPathOptions&&(e instanceof L.Marker?this._toggleMarkerHighlight(e):(e.setStyle(e.options.previousOptions),delete e.options.previousOptions)),e instanceof L.Marker?(e.dragging.disable(),e.off("dragend",this._onMarkerDragEnd,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onMarkerDragEnd,this).off("MSPointerUp",this._onMarkerDragEnd,this)):e.editing.disable()},_onMouseMove:function(t){this._tooltip.updatePosition(t.latlng)},_onMarkerDragEnd:function(t){var e=t.target;e.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:e})},_onTouchMove:function(t){var e=t.originalEvent.changedTouches[0],n=this._map.mouseEventToLayerPoint(e),o=this._map.layerPointToLatLng(n);t.target.setLatLng(o)},_hasAvailableLayers:function(){return 0!==this._featureGroup.getLayers().length}}),L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},initialize:function(t,e){if(L.Handler.prototype.initialize.call(this,t),L.Util.setOptions(this,e),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this.type=L.EditToolbar.Delete.TYPE;var n=L.version.split(".");1===parseInt(n[0],10)&&parseInt(n[1],10)>=2?L.EditToolbar.Delete.include(L.Evented.prototype):L.EditToolbar.Delete.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DELETESTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._deletableLayers.on("layeradd",this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this))},disable:function(){this._enabled&&(this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DELETESTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var t=this._map;t&&(t.getContainer().focus(),this._deletableLayers.eachLayer(this._enableLayerDelete,this),this._deletedLayers=new L.LayerGroup,this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._deletedLayers.eachLayer((function(t){this._deletableLayers.addLayer(t),t.fire("revert-deleted",{layer:t})}),this)},save:function(){this._map.fire(L.Draw.Event.DELETED,{layers:this._deletedLayers})},removeAllLayers:function(){this._deletableLayers.eachLayer((function(t){this._removeLayer({layer:t})}),this),this.save()},_enableLayerDelete:function(t){(t.layer||t.target||t).on("click",this._removeLayer,this)},_disableLayerDelete:function(t){var e=t.layer||t.target||t;e.off("click",this._removeLayer,this),this._deletedLayers.removeLayer(e)},_removeLayer:function(t){var e=t.layer||t.target||t;this._deletableLayers.removeLayer(e),this._deletedLayers.addLayer(e),e.fire("deleted")},_onMouseMove:function(t){this._tooltip.updatePosition(t.latlng)},_hasAvailableLayers:function(){return 0!==this._deletableLayers.getLayers().length}})},8559:function(t,e){!function(t){"use strict";var e="1.9.4";function n(t){var e,n,o,r;for(n=1,o=arguments.length;n<o;n++)for(e in r=arguments[n])t[e]=r[e];return t}var o=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function r(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var o=n.call(arguments,2);return function(){return t.apply(e,o.length?o.concat(n.call(arguments)):arguments)}}var i=0;function s(t){return"_leaflet_id"in t||(t._leaflet_id=++i),t._leaflet_id}function a(t,e,n){var o,r,i,s;return s=function(){o=!1,r&&(i.apply(n,r),r=!1)},i=function(){o?r=arguments:(t.apply(n,arguments),setTimeout(s,e),o=!0)},i}function l(t,e,n){var o=e[1],r=e[0],i=o-r;return t===o&&n?t:((t-r)%i+i)%i+r}function u(){return!1}function c(t,e){if(!1===e)return t;var n=Math.pow(10,void 0===e?6:e);return Math.round(t*n)/n}function d(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function p(t){return d(t).split(/\s+/)}function h(t,e){for(var n in Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?o(t.options):{}),e)t.options[n]=e[n];return t.options}function f(t,e,n){var o=[];for(var r in t)o.push(encodeURIComponent(n?r.toUpperCase():r)+"="+encodeURIComponent(t[r]));return(e&&-1!==e.indexOf("?")?"&":"?")+o.join("&")}var g=/\{ *([\w_ -]+) *\}/g;function v(t,e){return t.replace(g,(function(t,n){var o=e[n];if(void 0===o)throw new Error("No value provided for variable "+t);return"function"===typeof o&&(o=o(e)),o}))}var m=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function y(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}var C="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function w(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var b=0;function _(t){var e=+new Date,n=Math.max(0,16-(e-b));return b=e+n,window.setTimeout(t,n)}var S=window.requestAnimationFrame||w("RequestAnimationFrame")||_,E=window.cancelAnimationFrame||w("CancelAnimationFrame")||w("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function O(t,e,n){if(!n||S!==_)return S.call(window,r(t,e));t.call(e)}function x(t){t&&E.call(window,t)}var T={__proto__:null,extend:n,create:o,bind:r,get lastId(){return i},stamp:s,throttle:a,wrapNum:l,falseFn:u,formatNum:c,trim:d,splitWords:p,setOptions:h,getParamString:f,template:v,isArray:m,indexOf:y,emptyImageUrl:C,requestFn:S,cancelFn:E,requestAnimFrame:O,cancelAnimFrame:x};function R(){}function D(t){if("undefined"!==typeof L&&L&&L.Mixin){t=m(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}R.extend=function(t){var e=function(){h(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},r=e.__super__=this.prototype,i=o(r);for(var s in i.constructor=e,e.prototype=i,this)Object.prototype.hasOwnProperty.call(this,s)&&"prototype"!==s&&"__super__"!==s&&(e[s]=this[s]);return t.statics&&n(e,t.statics),t.includes&&(D(t.includes),n.apply(null,[i].concat(t.includes))),n(i,t),delete i.statics,delete i.includes,i.options&&(i.options=r.options?o(r.options):{},n(i.options,t.options)),i._initHooks=[],i.callInitHooks=function(){if(!this._initHooksCalled){r.callInitHooks&&r.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=i._initHooks.length;t<e;t++)i._initHooks[t].call(this)}},e},R.include=function(t){var e=this.prototype.options;return n(this.prototype,t),t.options&&(this.prototype.options=e,this.mergeOptions(t.options)),this},R.mergeOptions=function(t){return n(this.prototype.options,t),this},R.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"===typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var P={on:function(t,e,n){if("object"===typeof t)for(var o in t)this._on(o,t[o],e);else for(var r=0,i=(t=p(t)).length;r<i;r++)this._on(t[r],e,n);return this},off:function(t,e,n){if(arguments.length)if("object"===typeof t)for(var o in t)this._off(o,t[o],e);else{t=p(t);for(var r=1===arguments.length,i=0,s=t.length;i<s;i++)r?this._off(t[i]):this._off(t[i],e,n)}else delete this._events;return this},_on:function(t,e,n,o){if("function"===typeof e){if(!1===this._listens(t,e,n)){n===this&&(n=void 0);var r={fn:e,ctx:n};o&&(r.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(r)}}else console.warn("wrong listener type: "+typeof e)},_off:function(t,e,n){var o,r,i;if(this._events&&(o=this._events[t]))if(1!==arguments.length)if("function"===typeof e){var s=this._listens(t,e,n);if(!1!==s){var a=o[s];this._firingCount&&(a.fn=u,this._events[t]=o=o.slice()),o.splice(s,1)}}else console.warn("wrong listener type: "+typeof e);else{if(this._firingCount)for(r=0,i=o.length;r<i;r++)o[r].fn=u;delete this._events[t]}},fire:function(t,e,o){if(!this.listens(t,o))return this;var r=n({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var i=this._events[t];if(i){this._firingCount=this._firingCount+1||1;for(var s=0,a=i.length;s<a;s++){var l=i[s],u=l.fn;l.once&&this.off(t,u,l.ctx),u.call(l.ctx||this,r)}this._firingCount--}}return o&&this._propagateEvent(r),this},listens:function(t,e,n,o){"string"!==typeof t&&console.warn('"string" type argument expected');var r=e;"function"!==typeof e&&(o=!!e,r=void 0,n=void 0);var i=this._events&&this._events[t];if(i&&i.length&&!1!==this._listens(t,r,n))return!0;if(o)for(var s in this._eventParents)if(this._eventParents[s].listens(t,e,n,o))return!0;return!1},_listens:function(t,e,n){if(!this._events)return!1;var o=this._events[t]||[];if(!e)return!!o.length;n===this&&(n=void 0);for(var r=0,i=o.length;r<i;r++)if(o[r].fn===e&&o[r].ctx===n)return r;return!1},once:function(t,e,n){if("object"===typeof t)for(var o in t)this._on(o,t[o],e,!0);else for(var r=0,i=(t=p(t)).length;r<i;r++)this._on(t[r],e,n,!0);return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[s(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[s(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,n({layer:t.target,propagatedFrom:t.target},t),!0)}};P.addEventListener=P.on,P.removeEventListener=P.clearAllEventListeners=P.off,P.addOneTimeEventListener=P.once,P.fireEvent=P.fire,P.hasEventListeners=P.listens;var M=R.extend(P);function A(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e}var k=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};function N(t,e,n){return t instanceof A?t:m(t)?new A(t[0],t[1]):void 0===t||null===t?t:"object"===typeof t&&"x"in t&&"y"in t?new A(t.x,t.y):new A(t,e,n)}function F(t,e){if(t)for(var n=e?[t,e]:t,o=0,r=n.length;o<r;o++)this.extend(n[o])}function I(t,e){return!t||t instanceof F?t:new F(t,e)}function G(t,e){if(t)for(var n=e?[t,e]:t,o=0,r=n.length;o<r;o++)this.extend(n[o])}function H(t,e){return t instanceof G?t:new G(t,e)}function V(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==n&&(this.alt=+n)}function j(t,e,n){return t instanceof V?t:m(t)&&"object"!==typeof t[0]?3===t.length?new V(t[0],t[1],t[2]):2===t.length?new V(t[0],t[1]):null:void 0===t||null===t?t:"object"===typeof t&&"lat"in t?new V(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new V(t,e,n)}A.prototype={clone:function(){return new A(this.x,this.y)},add:function(t){return this.clone()._add(N(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(N(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new A(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new A(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=k(this.x),this.y=k(this.y),this},distanceTo:function(t){var e=(t=N(t)).x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return(t=N(t)).x===this.x&&t.y===this.y},contains:function(t){return t=N(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+c(this.x)+", "+c(this.y)+")"}},F.prototype={extend:function(t){var e,n;if(!t)return this;if(t instanceof A||"number"===typeof t[0]||"x"in t)e=n=N(t);else if(e=(t=I(t)).min,n=t.max,!e||!n)return this;return this.min||this.max?(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(n.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(n.y,this.max.y)):(this.min=e.clone(),this.max=n.clone()),this},getCenter:function(t){return N((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return N(this.min.x,this.max.y)},getTopRight:function(){return N(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return(t="number"===typeof t[0]||t instanceof A?N(t):I(t))instanceof F?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=I(t);var e=this.min,n=this.max,o=t.min,r=t.max,i=r.x>=e.x&&o.x<=n.x,s=r.y>=e.y&&o.y<=n.y;return i&&s},overlaps:function(t){t=I(t);var e=this.min,n=this.max,o=t.min,r=t.max,i=r.x>e.x&&o.x<n.x,s=r.y>e.y&&o.y<n.y;return i&&s},isValid:function(){return!(!this.min||!this.max)},pad:function(t){var e=this.min,n=this.max,o=Math.abs(e.x-n.x)*t,r=Math.abs(e.y-n.y)*t;return I(N(e.x-o,e.y-r),N(n.x+o,n.y+r))},equals:function(t){return!!t&&(t=I(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight()))}},G.prototype={extend:function(t){var e,n,o=this._southWest,r=this._northEast;if(t instanceof V)e=t,n=t;else{if(!(t instanceof G))return t?this.extend(j(t)||H(t)):this;if(e=t._southWest,n=t._northEast,!e||!n)return this}return o||r?(o.lat=Math.min(e.lat,o.lat),o.lng=Math.min(e.lng,o.lng),r.lat=Math.max(n.lat,r.lat),r.lng=Math.max(n.lng,r.lng)):(this._southWest=new V(e.lat,e.lng),this._northEast=new V(n.lat,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,o=Math.abs(e.lat-n.lat)*t,r=Math.abs(e.lng-n.lng)*t;return new G(new V(e.lat-o,e.lng-r),new V(n.lat+o,n.lng+r))},getCenter:function(){return new V((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new V(this.getNorth(),this.getWest())},getSouthEast:function(){return new V(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"===typeof t[0]||t instanceof V||"lat"in t?j(t):H(t);var e,n,o=this._southWest,r=this._northEast;return t instanceof G?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=o.lat&&n.lat<=r.lat&&e.lng>=o.lng&&n.lng<=r.lng},intersects:function(t){t=H(t);var e=this._southWest,n=this._northEast,o=t.getSouthWest(),r=t.getNorthEast(),i=r.lat>=e.lat&&o.lat<=n.lat,s=r.lng>=e.lng&&o.lng<=n.lng;return i&&s},overlaps:function(t){t=H(t);var e=this._southWest,n=this._northEast,o=t.getSouthWest(),r=t.getNorthEast(),i=r.lat>e.lat&&o.lat<n.lat,s=r.lng>e.lng&&o.lng<n.lng;return i&&s},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=H(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}},V.prototype={equals:function(t,e){return!!t&&(t=j(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+c(this.lat,t)+", "+c(this.lng,t)+")"},distanceTo:function(t){return W.distance(this,j(t))},wrap:function(){return W.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return H([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new V(this.lat,this.lng,this.alt)}};var B={latLngToPoint:function(t,e){var n=this.projection.project(t),o=this.scale(e);return this.transformation._transform(n,o)},pointToLatLng:function(t,e){var n=this.scale(e),o=this.transformation.untransform(t,n);return this.projection.unproject(o)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,n=this.scale(t);return new F(this.transformation.transform(e.min,n),this.transformation.transform(e.max,n))},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?l(t.lng,this.wrapLng,!0):t.lng;return new V(this.wrapLat?l(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),o=e.lat-n.lat,r=e.lng-n.lng;if(0===o&&0===r)return t;var i=t.getSouthWest(),s=t.getNorthEast();return new G(new V(i.lat-o,i.lng-r),new V(s.lat-o,s.lng-r))}},W=n({},B,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,o=t.lat*n,r=e.lat*n,i=Math.sin((e.lat-t.lat)*n/2),s=Math.sin((e.lng-t.lng)*n/2),a=i*i+Math.cos(o)*Math.cos(r)*s*s,l=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return this.R*l}}),z=6378137,U={R:z,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,o=Math.max(Math.min(n,t.lat),-n),r=Math.sin(o*e);return new A(this.R*t.lng*e,this.R*Math.log((1+r)/(1-r))/2)},unproject:function(t){var e=180/Math.PI;return new V((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:function(){var t=z*Math.PI;return new F([-t,-t],[t,t])}()};function Y(t,e,n,o){if(m(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=n,this._d=o}function K(t,e,n,o){return new Y(t,e,n,o)}Y.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new A((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var Z=n({},W,{code:"EPSG:3857",projection:U,transformation:function(){var t=.5/(Math.PI*U.R);return K(t,.5,-t,.5)}()}),q=n({},Z,{code:"EPSG:900913"});function Q(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function X(t,e){var n,o,r,i,s,a,l="";for(n=0,r=t.length;n<r;n++){for(o=0,i=(s=t[n]).length;o<i;o++)l+=(o?"L":"M")+(a=s[o]).x+" "+a.y;l+=e?Ft.svg?"z":"x":""}return l||"M0 0"}var $=document.documentElement.style,J="ActiveXObject"in window,tt=J&&!document.addEventListener,et="msLaunchUri"in navigator&&!("documentMode"in document),nt=Nt("webkit"),ot=Nt("android"),rt=Nt("android 2")||Nt("android 3"),it=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),st=ot&&Nt("Google")&&it<537&&!("AudioNode"in window),at=!!window.opera,lt=!et&&Nt("chrome"),ut=Nt("gecko")&&!nt&&!at&&!J,ct=!lt&&Nt("safari"),dt=Nt("phantom"),pt="OTransition"in $,ht=0===navigator.platform.indexOf("Win"),ft=J&&"transition"in $,gt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!rt,vt="MozPerspective"in $,mt=!window.L_DISABLE_3D&&(ft||gt||vt)&&!pt&&!dt,yt="undefined"!==typeof orientation||Nt("mobile"),Ct=yt&&nt,wt=yt&&gt,bt=!window.PointerEvent&&window.MSPointerEvent,_t=!(!window.PointerEvent&&!bt),St="ontouchstart"in window||!!window.TouchEvent,Et=!window.L_NO_TOUCH&&(St||_t),Ot=yt&&at,xt=yt&&ut,Tt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Rt=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",u,e),window.removeEventListener("testPassiveEventSupport",u,e)}catch(n){}return t}(),Dt=!!document.createElement("canvas").getContext,Pt=!(!document.createElementNS||!Q("svg").createSVGRect),Lt=!!Pt&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(t.firstChild&&t.firstChild.namespaceURI)}(),Mt=!Pt&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"===typeof e.adj}catch(n){return!1}}(),At=0===navigator.platform.indexOf("Mac"),kt=0===navigator.platform.indexOf("Linux");function Nt(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var Ft={ie:J,ielt9:tt,edge:et,webkit:nt,android:ot,android23:rt,androidStock:st,opera:at,chrome:lt,gecko:ut,safari:ct,phantom:dt,opera12:pt,win:ht,ie3d:ft,webkit3d:gt,gecko3d:vt,any3d:mt,mobile:yt,mobileWebkit:Ct,mobileWebkit3d:wt,msPointer:bt,pointer:_t,touch:Et,touchNative:St,mobileOpera:Ot,mobileGecko:xt,retina:Tt,passiveEvents:Rt,canvas:Dt,svg:Pt,vml:Mt,inlineSvg:Lt,mac:At,linux:kt},It=Ft.msPointer?"MSPointerDown":"pointerdown",Gt=Ft.msPointer?"MSPointerMove":"pointermove",Ht=Ft.msPointer?"MSPointerUp":"pointerup",Vt=Ft.msPointer?"MSPointerCancel":"pointercancel",jt={touchstart:It,touchmove:Gt,touchend:Ht,touchcancel:Vt},Bt={touchstart:$t,touchmove:Xt,touchend:Xt,touchcancel:Xt},Wt={},zt=!1;function Ut(t,e,n){return"touchstart"===e&&Qt(),Bt[e]?(n=Bt[e].bind(this,n),t.addEventListener(jt[e],n,!1),n):(console.warn("wrong event specified:",e),u)}function Yt(t,e,n){jt[e]?t.removeEventListener(jt[e],n,!1):console.warn("wrong event specified:",e)}function Kt(t){Wt[t.pointerId]=t}function Zt(t){Wt[t.pointerId]&&(Wt[t.pointerId]=t)}function qt(t){delete Wt[t.pointerId]}function Qt(){zt||(document.addEventListener(It,Kt,!0),document.addEventListener(Gt,Zt,!0),document.addEventListener(Ht,qt,!0),document.addEventListener(Vt,qt,!0),zt=!0)}function Xt(t,e){if(e.pointerType!==(e.MSPOINTER_TYPE_MOUSE||"mouse")){for(var n in e.touches=[],Wt)e.touches.push(Wt[n]);e.changedTouches=[e],t(e)}}function $t(t,e){e.MSPOINTER_TYPE_TOUCH&&e.pointerType===e.MSPOINTER_TYPE_TOUCH&&Ke(e),Xt(t,e)}function Jt(t){var e,n,o={};for(n in t)e=t[n],o[n]=e&&e.bind?e.bind(t):e;return t=o,o.type="dblclick",o.detail=2,o.isTrusted=!1,o._simulated=!0,o}var te=200;function ee(t,e){t.addEventListener("dblclick",e);var n,o=0;function r(t){if(1===t.detail){if("mouse"!==t.pointerType&&(!t.sourceCapabilities||t.sourceCapabilities.firesTouchEvents)){var r=qe(t);if(!r.some((function(t){return t instanceof HTMLLabelElement&&t.attributes.for}))||r.some((function(t){return t instanceof HTMLInputElement||t instanceof HTMLSelectElement}))){var i=Date.now();i-o<=te?2===++n&&e(Jt(t)):n=1,o=i}}}else n=t.detail}return t.addEventListener("click",r),{dblclick:e,simDblclick:r}}function ne(t,e){t.removeEventListener("dblclick",e.dblclick),t.removeEventListener("click",e.simDblclick)}var oe,re,ie,se,ae,le=Oe(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ue=Oe(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ce="webkitTransition"===ue||"OTransition"===ue?ue+"End":"transitionend";function de(t){return"string"===typeof t?document.getElementById(t):t}function pe(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||"auto"===n)&&document.defaultView){var o=document.defaultView.getComputedStyle(t,null);n=o?o[e]:null}return"auto"===n?null:n}function he(t,e,n){var o=document.createElement(t);return o.className=e||"",n&&n.appendChild(o),o}function fe(t){var e=t.parentNode;e&&e.removeChild(t)}function ge(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function ve(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function me(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function ye(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=_e(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}function Ce(t,e){if(void 0!==t.classList)for(var n=p(e),o=0,r=n.length;o<r;o++)t.classList.add(n[o]);else if(!ye(t,e)){var i=_e(t);be(t,(i?i+" ":"")+e)}}function we(t,e){void 0!==t.classList?t.classList.remove(e):be(t,d((" "+_e(t)+" ").replace(" "+e+" "," ")))}function be(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function _e(t){return t.correspondingElement&&(t=t.correspondingElement),void 0===t.className.baseVal?t.className:t.className.baseVal}function Se(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&Ee(t,e)}function Ee(t,e){var n=!1,o="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(o)}catch(r){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+o+"(opacity="+e+")"}function Oe(t){for(var e=document.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1}function xe(t,e,n){var o=e||new A(0,0);t.style[le]=(Ft.ie3d?"translate("+o.x+"px,"+o.y+"px)":"translate3d("+o.x+"px,"+o.y+"px,0)")+(n?" scale("+n+")":"")}function Te(t,e){t._leaflet_pos=e,Ft.any3d?xe(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function Re(t){return t._leaflet_pos||new A(0,0)}if("onselectstart"in document)oe=function(){Ie(window,"selectstart",Ke)},re=function(){He(window,"selectstart",Ke)};else{var De=Oe(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);oe=function(){if(De){var t=document.documentElement.style;ie=t[De],t[De]="none"}},re=function(){De&&(document.documentElement.style[De]=ie,ie=void 0)}}function Pe(){Ie(window,"dragstart",Ke)}function Le(){He(window,"dragstart",Ke)}function Me(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(Ae(),se=t,ae=t.style.outlineStyle,t.style.outlineStyle="none",Ie(window,"keydown",Ae))}function Ae(){se&&(se.style.outlineStyle=ae,se=void 0,ae=void 0,He(window,"keydown",Ae))}function ke(t){do{t=t.parentNode}while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function Ne(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var Fe={__proto__:null,TRANSFORM:le,TRANSITION:ue,TRANSITION_END:ce,get:de,getStyle:pe,create:he,remove:fe,empty:ge,toFront:ve,toBack:me,hasClass:ye,addClass:Ce,removeClass:we,setClass:be,getClass:_e,setOpacity:Se,testProp:Oe,setTransform:xe,setPosition:Te,getPosition:Re,get disableTextSelection(){return oe},get enableTextSelection(){return re},disableImageDrag:Pe,enableImageDrag:Le,preventOutline:Me,restoreOutline:Ae,getSizedParentNode:ke,getScale:Ne};function Ie(t,e,n,o){if(e&&"object"===typeof e)for(var r in e)Be(t,r,e[r],n);else for(var i=0,s=(e=p(e)).length;i<s;i++)Be(t,e[i],n,o);return this}var Ge="_leaflet_events";function He(t,e,n,o){if(1===arguments.length)Ve(t),delete t[Ge];else if(e&&"object"===typeof e)for(var r in e)We(t,r,e[r],n);else if(e=p(e),2===arguments.length)Ve(t,(function(t){return-1!==y(e,t)}));else for(var i=0,s=e.length;i<s;i++)We(t,e[i],n,o);return this}function Ve(t,e){for(var n in t[Ge]){var o=n.split(/\d/)[0];e&&!e(o)||We(t,o,null,null,n)}}var je={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Be(t,e,n,o){var r=e+s(n)+(o?"_"+s(o):"");if(t[Ge]&&t[Ge][r])return this;var i=function(e){return n.call(o||t,e||window.event)},a=i;!Ft.touchNative&&Ft.pointer&&0===e.indexOf("touch")?i=Ut(t,e,i):Ft.touch&&"dblclick"===e?i=ee(t,i):"addEventListener"in t?"touchstart"===e||"touchmove"===e||"wheel"===e||"mousewheel"===e?t.addEventListener(je[e]||e,i,!!Ft.passiveEvents&&{passive:!1}):"mouseenter"===e||"mouseleave"===e?(i=function(e){e=e||window.event,Je(t,e)&&a(e)},t.addEventListener(je[e],i,!1)):t.addEventListener(e,a,!1):t.attachEvent("on"+e,i),t[Ge]=t[Ge]||{},t[Ge][r]=i}function We(t,e,n,o,r){r=r||e+s(n)+(o?"_"+s(o):"");var i=t[Ge]&&t[Ge][r];if(!i)return this;!Ft.touchNative&&Ft.pointer&&0===e.indexOf("touch")?Yt(t,e,i):Ft.touch&&"dblclick"===e?ne(t,i):"removeEventListener"in t?t.removeEventListener(je[e]||e,i,!1):t.detachEvent("on"+e,i),t[Ge][r]=null}function ze(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function Ue(t){return Be(t,"wheel",ze),this}function Ye(t){return Ie(t,"mousedown touchstart dblclick contextmenu",ze),t._leaflet_disable_click=!0,this}function Ke(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Ze(t){return Ke(t),ze(t),this}function qe(t){if(t.composedPath)return t.composedPath();for(var e=[],n=t.target;n;)e.push(n),n=n.parentNode;return e}function Qe(t,e){if(!e)return new A(t.clientX,t.clientY);var n=Ne(e),o=n.boundingClientRect;return new A((t.clientX-o.left)/n.x-e.clientLeft,(t.clientY-o.top)/n.y-e.clientTop)}var Xe=Ft.linux&&Ft.chrome?window.devicePixelRatio:Ft.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function $e(t){return Ft.edge?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/Xe:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}function Je(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(o){return!1}return n!==t}var tn={__proto__:null,on:Ie,off:He,stopPropagation:ze,disableScrollPropagation:Ue,disableClickPropagation:Ye,preventDefault:Ke,stop:Ze,getPropagationPath:qe,getMousePosition:Qe,getWheelDelta:$e,isExternalTarget:Je,addListener:Ie,removeListener:He},en=M.extend({run:function(t,e,n,o){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(o||.5,.2),this._startPos=Re(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=O(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,n=1e3*this._duration;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));e&&n._round(),Te(this._el,n),this.fire("step")},_complete:function(){x(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),nn=M.extend({options:{crs:Z,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=h(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=r(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(j(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ue&&Ft.any3d&&!Ft.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ie(this._proxy,ce,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,o){return e=void 0===e?this._zoom:this._limitZoom(e),t=this._limitCenter(j(t),e,this.options.maxBounds),o=o||{},this._stop(),this._loaded&&!o.reset&&!0!==o&&(void 0!==o.animate&&(o.zoom=n({animate:o.animate},o.zoom),o.pan=n({animate:o.animate,duration:o.duration},o.pan)),this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,o.zoom):this._tryAnimatedPan(t,o.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(t,e,o.pan&&o.pan.noMoveStart),this)},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(Ft.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(Ft.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var o=this.getZoomScale(e),r=this.getSize().divideBy(2),i=(t instanceof A?t:this.latLngToContainerPoint(t)).subtract(r).multiplyBy(1-1/o),s=this.containerPointToLatLng(r.add(i));return this.setView(s,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():H(t);var n=N(e.paddingTopLeft||e.padding||[0,0]),o=N(e.paddingBottomRight||e.padding||[0,0]),r=this.getBoundsZoom(t,!1,n.add(o));if((r="number"===typeof e.maxZoom?Math.min(e.maxZoom,r):r)===1/0)return{center:t.getCenter(),zoom:r};var i=o.subtract(n).divideBy(2),s=this.project(t.getSouthWest(),r),a=this.project(t.getNorthEast(),r);return{center:this.unproject(s.add(a).divideBy(2).add(i),r),zoom:r}},fitBounds:function(t,e){if(!(t=H(t)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(e=e||{},!(t=N(t).round()).x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new en,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){Ce(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,n){if(!1===(n=n||{}).animate||!Ft.any3d)return this.setView(t,e,n);this._stop();var o=this.project(this.getCenter()),r=this.project(t),i=this.getSize(),s=this._zoom;t=j(t),e=void 0===e?s:e;var a=Math.max(i.x,i.y),l=a*this.getZoomScale(s,e),u=r.distanceTo(o)||1,c=1.42,d=c*c;function p(t){var e=(l*l-a*a+(t?-1:1)*d*d*u*u)/(2*(t?l:a)*d*u),n=Math.sqrt(e*e+1)-e;return n<1e-9?-18:Math.log(n)}function h(t){return(Math.exp(t)-Math.exp(-t))/2}function f(t){return(Math.exp(t)+Math.exp(-t))/2}function g(t){return h(t)/f(t)}var v=p(0);function m(t){return a*(f(v)/f(v+c*t))}function y(t){return a*(f(v)*g(v+c*t)-h(v))/d}function C(t){return 1-Math.pow(1-t,1.5)}var w=Date.now(),b=(p(1)-v)/c,_=n.duration?1e3*n.duration:1e3*b*.8;function S(){var n=(Date.now()-w)/_,i=C(n)*b;n<=1?(this._flyToFrame=O(S,this),this._move(this.unproject(o.add(r.subtract(o).multiplyBy(y(i)/u)),s),this.getScaleZoom(a/m(i),s),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}return this._moveStart(!0,n.noMoveStart),S.call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){return t=H(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),o=this._limitCenter(n,this._zoom,H(t));return n.equals(o)||this.panTo(o,e),this._enforcingBounds=!1,this},panInside:function(t,e){var n=N((e=e||{}).paddingTopLeft||e.padding||[0,0]),o=N(e.paddingBottomRight||e.padding||[0,0]),r=this.project(this.getCenter()),i=this.project(t),s=this.getPixelBounds(),a=I([s.min.add(n),s.max.subtract(o)]),l=a.getSize();if(!a.contains(i)){this._enforcingBounds=!0;var u=i.subtract(a.getCenter()),c=a.extend(i).getSize().subtract(l);r.x+=u.x<0?-c.x:c.x,r.y+=u.y<0?-c.y:c.y,this.panTo(this.unproject(r),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=n({animate:!1,pan:!0},!0===t?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var o=this.getSize(),i=e.divideBy(2).round(),s=o.divideBy(2).round(),a=i.subtract(s);return a.x||a.y?(t.animate&&t.pan?this.panBy(a):(t.pan&&this._rawPanBy(a),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(r(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:o})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=n({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=r(this._handleGeolocationResponse,this),o=r(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,o,t):navigator.geolocation.getCurrentPosition(e,o,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var e=new V(t.coords.latitude,t.coords.longitude),n=e.toBounds(2*t.coords.accuracy),o=this._locateOptions;if(o.setView){var r=this.getBoundsZoom(n);this.setView(e,o.maxZoom?Math.min(r,o.maxZoom):r)}var i={latlng:e,bounds:n,timestamp:t.timestamp};for(var s in t.coords)"number"===typeof t.coords[s]&&(i[s]=t.coords[s]);this.fire("locationfound",i)}},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(e){this._container._leaflet_id=void 0,this._containerId=void 0}var t;for(t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),fe(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(x(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)fe(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var n=he("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),e||this._mapPane);return t&&(this._panes[t]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new G(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=H(t),n=N(n||[0,0]);var o=this.getZoom()||0,r=this.getMinZoom(),i=this.getMaxZoom(),s=t.getNorthWest(),a=t.getSouthEast(),l=this.getSize().subtract(n),u=I(this.project(a,o),this.project(s,o)).getSize(),c=Ft.any3d?this.options.zoomSnap:1,d=l.x/u.x,p=l.y/u.y,h=e?Math.max(d,p):Math.min(d,p);return o=this.getScaleZoom(h,o),c&&(o=Math.round(o/(c/100))*(c/100),o=e?Math.ceil(o/c)*c:Math.floor(o/c)*c),Math.max(r,Math.min(i,o))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new A(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new F(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"===typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=void 0===e?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;e=void 0===e?this._zoom:e;var o=n.zoom(t*n.scale(e));return isNaN(o)?1/0:o},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(j(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(N(t),e)},layerPointToLatLng:function(t){var e=N(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(j(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(j(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(H(t))},distance:function(t,e){return this.options.crs.distance(j(t),j(e))},containerPointToLayerPoint:function(t){return N(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return N(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(N(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(j(t)))},mouseEventToContainerPoint:function(t){return Qe(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=de(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");Ie(e,"scroll",this._onScroll,this),this._containerId=s(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ft.any3d,Ce(t,"leaflet-container"+(Ft.touch?" leaflet-touch":"")+(Ft.retina?" leaflet-retina":"")+(Ft.ielt9?" leaflet-oldie":"")+(Ft.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=pe(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&"sticky"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Te(this._mapPane,new A(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ce(t.markerPane,"leaflet-zoom-hide"),Ce(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e,n){Te(this._mapPane,new A(0,0));var o=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var r=this._zoom!==e;this._moveStart(r,n)._move(t,e)._moveEnd(r),this.fire("viewreset"),o&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,n,o){void 0===e&&(e=this._zoom);var r=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),o?n&&n.pinch&&this.fire("zoom",n):((r||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return x(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){Te(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[s(this._container)]=this;var e=t?He:Ie;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),Ft.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){x(this._resizeRequest),this._resizeRequest=O((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var n,o=[],r="mouseout"===e||"mouseover"===e,i=t.target||t.srcElement,a=!1;i;){if((n=this._targets[s(i)])&&("click"===e||"preclick"===e)&&this._draggableMoved(n)){a=!0;break}if(n&&n.listens(e,!0)){if(r&&!Je(i,t))break;if(o.push(n),r)break}if(i===this._container)break;i=i.parentNode}return o.length||a||r||!this.listens(e,!0)||(o=[this]),o},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var e=t.target||t.srcElement;if(!(!this._loaded||e._leaflet_disable_events||"click"===t.type&&this._isClickDisabled(e))){var n=t.type;"mousedown"===n&&Me(e),this._fireDOMEvent(t,n)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,o){if("click"===t.type){var r=n({},t);r.type="preclick",this._fireDOMEvent(r,r.type,o)}var i=this._findEventTargets(t,e);if(o){for(var s=[],a=0;a<o.length;a++)o[a].listens(e,!0)&&s.push(o[a]);i=s.concat(i)}if(i.length){"contextmenu"===e&&Ke(t);var l=i[0],u={originalEvent:t};if("keypress"!==t.type&&"keydown"!==t.type&&"keyup"!==t.type){var c=l.getLatLng&&(!l._radius||l._radius<=10);u.containerPoint=c?this.latLngToContainerPoint(l.getLatLng()):this.mouseEventToContainerPoint(t),u.layerPoint=this.containerPointToLayerPoint(u.containerPoint),u.latlng=c?l.getLatLng():this.layerPointToLatLng(u.layerPoint)}for(a=0;a<i.length;a++)if(i[a].fire(e,u,!0),u.originalEvent._stopped||!1===i[a].options.bubblingMouseEvents&&-1!==y(this._mouseEvents,e))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return Re(this._mapPane)||new A(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var o=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(o)},_latLngBoundsToNewLayerBounds:function(t,e,n){var o=this._getNewPixelOrigin(n,e);return I([this.project(t.getSouthWest(),e)._subtract(o),this.project(t.getNorthWest(),e)._subtract(o),this.project(t.getSouthEast(),e)._subtract(o),this.project(t.getNorthEast(),e)._subtract(o)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var o=this.project(t,e),r=this.getSize().divideBy(2),i=new F(o.subtract(r),o.add(r)),s=this._getBoundsOffset(i,n,e);return Math.abs(s.x)<=1&&Math.abs(s.y)<=1?t:this.unproject(o.add(s),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),o=new F(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(o,e))},_getBoundsOffset:function(t,e,n){var o=I(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),r=o.min.subtract(t.min),i=o.max.subtract(t.max);return new A(this._rebound(r.x,-i.x),this._rebound(r.y,-i.y))},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),o=Ft.any3d?this.options.zoomSnap:1;return o&&(t=Math.round(t/o)*o),Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){we(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(n))&&(this.panBy(n,e),!0)},_createAnimProxy:function(){var t=this._proxy=he("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",(function(t){var e=le,n=this._proxy.style[e];xe(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),n===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){fe(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();xe(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var o=this.getZoomScale(e),r=this._getCenterOffset(t)._divideBy(1-1/o);return!(!0!==n.animate&&!this.getSize().contains(r))&&(O((function(){this._moveStart(!0,n.noMoveStart||!1)._animateZoom(t,e,!0)}),this),!0)},_animateZoom:function(t,e,n,o){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,Ce(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:o}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(r(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&we(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function on(t,e){return new nn(t,e)}var rn=R.extend({options:{position:"topright"},initialize:function(t){h(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),o=t._controlCorners[n];return Ce(e,"leaflet-control"),-1!==n.indexOf("bottom")?o.insertBefore(e,o.firstChild):o.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(fe(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),sn=function(t){return new rn(t)};nn.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",n=this._controlContainer=he("div",e+"control-container",this._container);function o(o,r){var i=e+o+" "+e+r;t[o+r]=he("div",i,n)}o("top","left"),o("top","right"),o("bottom","left"),o("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)fe(this._controlCorners[t]);fe(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var an=rn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,n,o){return n<o?-1:o<n?1:0}},initialize:function(t,e,n){for(var o in h(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,t)this._addLayer(t[o],o);for(o in e)this._addLayer(e[o],o,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return rn.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(s(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){Ce(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(Ce(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):we(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return we(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=he("div",t),n=this.options.collapsed;e.setAttribute("aria-haspopup",!0),Ye(e),Ue(e);var o=this._section=he("section",t+"-list");n&&(this._map.on("click",this.collapse,this),Ie(e,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var r=this._layersLink=he("a",t+"-toggle",e);r.href="#",r.title="Layers",r.setAttribute("role","button"),Ie(r,{keydown:function(t){13===t.keyCode&&this._expandSafely()},click:function(t){Ke(t),this._expandSafely()}},this),n||this.expand(),this._baseLayersList=he("div",t+"-base",o),this._separator=he("div",t+"-separator",o),this._overlaysList=he("div",t+"-overlays",o),e.appendChild(o)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&s(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,n){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:n}),this.options.sortLayers&&this._layers.sort(r((function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)}),this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ge(this._baseLayersList),ge(this._overlaysList),this._layerControlInputs=[];var t,e,n,o,r=0;for(n=0;n<this._layers.length;n++)o=this._layers[n],this._addItem(o),e=e||o.overlay,t=t||!o.overlay,r+=o.overlay?0:1;return this.options.hideSingleBase&&(t=t&&r>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(s(t.target)),n=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",o=document.createElement("div");return o.innerHTML=n,o.firstChild},_addItem:function(t){var e,n=document.createElement("label"),o=this._map.hasLayer(t.layer);t.overlay?((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=o):e=this._createRadioElement("leaflet-base-layers_"+s(this),o),this._layerControlInputs.push(e),e.layerId=s(t.layer),Ie(e,"click",this._onInputClick,this);var r=document.createElement("span");r.innerHTML=" "+t.name;var i=document.createElement("span");return n.appendChild(i),i.appendChild(e),i.appendChild(r),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){if(!this._preventClick){var t,e,n=this._layerControlInputs,o=[],r=[];this._handlingClick=!0;for(var i=n.length-1;i>=0;i--)t=n[i],e=this._getLayer(t.layerId).layer,t.checked?o.push(e):t.checked||r.push(e);for(i=0;i<r.length;i++)this._map.hasLayer(r[i])&&this._map.removeLayer(r[i]);for(i=0;i<o.length;i++)this._map.hasLayer(o[i])||this._map.addLayer(o[i]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t,e,n=this._layerControlInputs,o=this._map.getZoom(),r=n.length-1;r>=0;r--)t=n[r],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&o<e.options.minZoom||void 0!==e.options.maxZoom&&o>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,Ie(t,"click",Ke),this.expand();var e=this;setTimeout((function(){He(t,"click",Ke),e._preventClick=!1}))}}),ln=function(t,e,n){return new an(t,e,n)},un=rn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=he("div",e+" leaflet-bar"),o=this.options;return this._zoomInButton=this._createButton(o.zoomInText,o.zoomInTitle,e+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(o.zoomOutText,o.zoomOutTitle,e+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,n,o,r){var i=he("a",n,o);return i.innerHTML=t,i.href="#",i.title=e,i.setAttribute("role","button"),i.setAttribute("aria-label",e),Ye(i),Ie(i,"click",Ze),Ie(i,"click",r,this),Ie(i,"click",this._refocusOnMap,this),i},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";we(this._zoomInButton,e),we(this._zoomOutButton,e),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(Ce(this._zoomOutButton,e),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(Ce(this._zoomInButton,e),this._zoomInButton.setAttribute("aria-disabled","true"))}});nn.mergeOptions({zoomControl:!0}),nn.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new un,this.addControl(this.zoomControl))}));var cn=function(t){return new un(t)},dn=rn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",n=he("div",e),o=this.options;return this._addScales(o,e+"-line",n),t.on(o.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),n},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=he("div",e,n)),t.imperial&&(this._iScale=he("div",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e,n,o,r=3.2808399*t;r>5280?(e=r/5280,n=this._getRoundNum(e),this._updateScale(this._iScale,n+" mi",n/e)):(o=this._getRoundNum(r),this._updateScale(this._iScale,o+" ft",o/r))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return e*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),pn=function(t){return new dn(t)},hn='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',fn=rn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ft.inlineSvg?hn+" ":"")+"Leaflet</a>"},initialize:function(t){h(this,t),this._attributions={}},onAdd:function(t){for(var e in t.attributionControl=this,this._container=he("div","leaflet-control-attribution"),Ye(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",(function(){this.removeAttribution(t.layer.getAttribution())}),this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(' <span aria-hidden="true">|</span> ')}}});nn.mergeOptions({attributionControl:!0}),nn.addInitHook((function(){this.options.attributionControl&&(new fn).addTo(this)}));var gn=function(t){return new fn(t)};rn.Layers=an,rn.Zoom=un,rn.Scale=dn,rn.Attribution=fn,sn.layers=ln,sn.zoom=cn,sn.scale=pn,sn.attribution=gn;var vn=R.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});vn.addTo=function(t,e){return t.addHandler(e,this),this};var mn={Events:P},yn=Ft.touch?"touchstart mousedown":"mousedown",Cn=M.extend({options:{clickTolerance:3},initialize:function(t,e,n,o){h(this,o),this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(Ie(this._dragStartTarget,yn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Cn._dragging===this&&this.finishDrag(!0),He(this._dragStartTarget,yn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!ye(this._element,"leaflet-zoom-anim")))if(t.touches&&1!==t.touches.length)Cn._dragging===this&&this.finishDrag();else if(!(Cn._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches)&&(Cn._dragging=this,this._preventOutline&&Me(this._element),Pe(),oe(),!this._moving)){this.fire("down");var e=t.touches?t.touches[0]:t,n=ke(this._element);this._startPoint=new A(e.clientX,e.clientY),this._startPos=Re(this._element),this._parentScale=Ne(n);var o="mousedown"===t.type;Ie(document,o?"mousemove":"touchmove",this._onMove,this),Ie(document,o?"mouseup":"touchend touchcancel",this._onUp,this)}},_onMove:function(t){if(this._enabled)if(t.touches&&t.touches.length>1)this._moved=!0;else{var e=t.touches&&1===t.touches.length?t.touches[0]:t,n=new A(e.clientX,e.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,Ke(t),this._moved||(this.fire("dragstart"),this._moved=!0,Ce(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ce(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,this._lastEvent=t,this._updatePosition()))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),Te(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){we(document.body,"leaflet-dragging"),this._lastTarget&&(we(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),He(document,"mousemove touchmove",this._onMove,this),He(document,"mouseup touchend touchcancel",this._onUp,this),Le(),re();var e=this._moved&&this._moving;this._moving=!1,Cn._dragging=!1,e&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function wn(t,e,n){var o,r,i,s,a,l,u,c,d,p=[1,4,2,8];for(r=0,u=t.length;r<u;r++)t[r]._code=An(t[r],e);for(s=0;s<4;s++){for(c=p[s],o=[],r=0,i=(u=t.length)-1;r<u;i=r++)a=t[r],l=t[i],a._code&c?l._code&c||((d=Mn(l,a,c,e,n))._code=An(d,e),o.push(d)):(l._code&c&&((d=Mn(l,a,c,e,n))._code=An(d,e),o.push(d)),o.push(a));t=o}return t}function bn(t,e){var n,o,r,i,s,a,l,u,c;if(!t||0===t.length)throw new Error("latlngs not passed");Fn(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var d=j([0,0]),p=H(t);p.getNorthWest().distanceTo(p.getSouthWest())*p.getNorthEast().distanceTo(p.getNorthWest())<1700&&(d=_n(t));var h=t.length,f=[];for(n=0;n<h;n++){var g=j(t[n]);f.push(e.project(j([g.lat-d.lat,g.lng-d.lng])))}for(a=l=u=0,n=0,o=h-1;n<h;o=n++)r=f[n],i=f[o],s=r.y*i.x-i.y*r.x,l+=(r.x+i.x)*s,u+=(r.y+i.y)*s,a+=3*s;c=0===a?f[0]:[l/a,u/a];var v=e.unproject(N(c));return j([v.lat+d.lat,v.lng+d.lng])}function _n(t){for(var e=0,n=0,o=0,r=0;r<t.length;r++){var i=j(t[r]);e+=i.lat,n+=i.lng,o++}return j([e/o,n/o])}var Sn,En={__proto__:null,clipPolygon:wn,polygonCenter:bn,centroid:_n};function On(t,e){if(!e||!t.length)return t.slice();var n=e*e;return t=Rn(t=Pn(t,n),n)}function xn(t,e,n){return Math.sqrt(Nn(t,e,n,!0))}function Tn(t,e,n){return Nn(t,e,n)}function Rn(t,e){var n=t.length,o=new(typeof Uint8Array!==void 0+""?Uint8Array:Array)(n);o[0]=o[n-1]=1,Dn(t,o,e,0,n-1);var r,i=[];for(r=0;r<n;r++)o[r]&&i.push(t[r]);return i}function Dn(t,e,n,o,r){var i,s,a,l=0;for(s=o+1;s<=r-1;s++)(a=Nn(t[s],t[o],t[r],!0))>l&&(i=s,l=a);l>n&&(e[i]=1,Dn(t,e,n,o,i),Dn(t,e,n,i,r))}function Pn(t,e){for(var n=[t[0]],o=1,r=0,i=t.length;o<i;o++)kn(t[o],t[r])>e&&(n.push(t[o]),r=o);return r<i-1&&n.push(t[i-1]),n}function Ln(t,e,n,o,r){var i,s,a,l=o?Sn:An(t,n),u=An(e,n);for(Sn=u;;){if(!(l|u))return[t,e];if(l&u)return!1;a=An(s=Mn(t,e,i=l||u,n,r),n),i===l?(t=s,l=a):(e=s,u=a)}}function Mn(t,e,n,o,r){var i,s,a=e.x-t.x,l=e.y-t.y,u=o.min,c=o.max;return 8&n?(i=t.x+a*(c.y-t.y)/l,s=c.y):4&n?(i=t.x+a*(u.y-t.y)/l,s=u.y):2&n?(i=c.x,s=t.y+l*(c.x-t.x)/a):1&n&&(i=u.x,s=t.y+l*(u.x-t.x)/a),new A(i,s,r)}function An(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n}function kn(t,e){var n=e.x-t.x,o=e.y-t.y;return n*n+o*o}function Nn(t,e,n,o){var r,i=e.x,s=e.y,a=n.x-i,l=n.y-s,u=a*a+l*l;return u>0&&((r=((t.x-i)*a+(t.y-s)*l)/u)>1?(i=n.x,s=n.y):r>0&&(i+=a*r,s+=l*r)),a=t.x-i,l=t.y-s,o?a*a+l*l:new A(i,s)}function Fn(t){return!m(t[0])||"object"!==typeof t[0][0]&&"undefined"!==typeof t[0][0]}function In(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Fn(t)}function Gn(t,e){var n,o,r,i,s,a,l,u;if(!t||0===t.length)throw new Error("latlngs not passed");Fn(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var c=j([0,0]),d=H(t);d.getNorthWest().distanceTo(d.getSouthWest())*d.getNorthEast().distanceTo(d.getNorthWest())<1700&&(c=_n(t));var p=t.length,h=[];for(n=0;n<p;n++){var f=j(t[n]);h.push(e.project(j([f.lat-c.lat,f.lng-c.lng])))}for(n=0,o=0;n<p-1;n++)o+=h[n].distanceTo(h[n+1])/2;if(0===o)u=h[0];else for(n=0,i=0;n<p-1;n++)if(s=h[n],a=h[n+1],(i+=r=s.distanceTo(a))>o){l=(i-o)/r,u=[a.x-l*(a.x-s.x),a.y-l*(a.y-s.y)];break}var g=e.unproject(N(u));return j([g.lat+c.lat,g.lng+c.lng])}var Hn={__proto__:null,simplify:On,pointToSegmentDistance:xn,closestPointOnSegment:Tn,clipSegment:Ln,_getEdgeIntersection:Mn,_getBitCode:An,_sqClosestPointOnSegment:Nn,isFlat:Fn,_flat:In,polylineCenter:Gn},Vn={project:function(t){return new A(t.lng,t.lat)},unproject:function(t){return new V(t.y,t.x)},bounds:new F([-180,-90],[180,90])},jn={R:6378137,R_MINOR:6356752.314245179,bounds:new F([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,o=t.lat*e,r=this.R_MINOR/n,i=Math.sqrt(1-r*r),s=i*Math.sin(o),a=Math.tan(Math.PI/4-o/2)/Math.pow((1-s)/(1+s),i/2);return o=-n*Math.log(Math.max(a,1e-10)),new A(t.lng*e*n,o)},unproject:function(t){for(var e,n=180/Math.PI,o=this.R,r=this.R_MINOR/o,i=Math.sqrt(1-r*r),s=Math.exp(-t.y/o),a=Math.PI/2-2*Math.atan(s),l=0,u=.1;l<15&&Math.abs(u)>1e-7;l++)e=i*Math.sin(a),e=Math.pow((1-e)/(1+e),i/2),a+=u=Math.PI/2-2*Math.atan(s*e)-a;return new V(a*n,t.x*n/o)}},Bn={__proto__:null,LonLat:Vn,Mercator:jn,SphericalMercator:U},Wn=n({},W,{code:"EPSG:3395",projection:jn,transformation:function(){var t=.5/(Math.PI*jn.R);return K(t,.5,-t,.5)}()}),zn=n({},W,{code:"EPSG:4326",projection:Vn,transformation:K(1/180,1,-1/180,.5)}),Un=n({},B,{projection:Vn,transformation:K(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,o=e.lat-t.lat;return Math.sqrt(n*n+o*o)},infinite:!0});B.Earth=W,B.EPSG3395=Wn,B.EPSG3857=Z,B.EPSG900913=q,B.EPSG4326=zn,B.Simple=Un;var Yn=M.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[s(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[s(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var n=this.getEvents();e.on(n,this),this.once("remove",(function(){e.off(n,this)}),this)}this.onAdd(e),this.fire("add"),e.fire("layeradd",{layer:this})}}});nn.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=s(t);return this._layers[e]||(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t)),this},removeLayer:function(t){var e=s(t);return this._layers[e]?(this._loaded&&t.onRemove(this),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return s(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){for(var e=0,n=(t=t?m(t)?t:[t]:[]).length;e<n;e++)this.addLayer(t[e])},_addZoomLimit:function(t){isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[s(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=s(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,n=this._getZoomSpan();for(var o in this._zoomBoundLayers){var r=this._zoomBoundLayers[o].options;t=void 0===r.minZoom?t:Math.min(t,r.minZoom),e=void 0===r.maxZoom?e:Math.max(e,r.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Kn=Yn.extend({initialize:function(t,e){var n,o;if(h(this,e),this._layers={},t)for(n=0,o=t.length;n<o;n++)this.addLayer(t[n])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return("number"===typeof t?t:this.getLayerId(t))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,n,o=Array.prototype.slice.call(arguments,1);for(e in this._layers)(n=this._layers[e])[t]&&n[t].apply(n,o);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return s(t)}}),Zn=function(t,e){return new Kn(t,e)},qn=Kn.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Kn.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Kn.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new G;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),Qn=function(t,e){return new qn(t,e)},Xn=R.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){h(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var o=this._createImg(n,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(o,t),(this.options.crossOrigin||""===this.options.crossOrigin)&&(o.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),o},_setIconStyles:function(t,e){var n=this.options,o=n[e+"Size"];"number"===typeof o&&(o=[o,o]);var r=N(o),i=N("shadow"===e&&n.shadowAnchor||n.iconAnchor||r&&r.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),i&&(t.style.marginLeft=-i.x+"px",t.style.marginTop=-i.y+"px"),r&&(t.style.width=r.x+"px",t.style.height=r.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return Ft.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function $n(t){return new Xn(t)}var Jn=Xn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return"string"!==typeof Jn.imagePath&&(Jn.imagePath=this._detectIconPath()),(this.options.imagePath||Jn.imagePath)+Xn.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var e=function(t,e,n){var o=e.exec(t);return o&&o[n]};return(t=e(t,/^url\((['"])?(.+)\1\)$/,2))&&e(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=he("div","leaflet-default-icon-path",document.body),e=pe(t,"background-image")||pe(t,"backgroundImage");if(document.body.removeChild(t),e=this._stripUrl(e))return e;var n=document.querySelector('link[href$="leaflet.css"]');return n?n.href.substring(0,n.href.length-11-1):""}}),to=vn.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new Cn(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ce(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&we(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,n=e._map,o=this._marker.options.autoPanSpeed,r=this._marker.options.autoPanPadding,i=Re(e._icon),s=n.getPixelBounds(),a=n.getPixelOrigin(),l=I(s.min._subtract(a).add(r),s.max._subtract(a).subtract(r));if(!l.contains(i)){var u=N((Math.max(l.max.x,i.x)-l.max.x)/(s.max.x-l.max.x)-(Math.min(l.min.x,i.x)-l.min.x)/(s.min.x-l.min.x),(Math.max(l.max.y,i.y)-l.max.y)/(s.max.y-l.max.y)-(Math.min(l.min.y,i.y)-l.min.y)/(s.min.y-l.min.y)).multiplyBy(o);n.panBy(u,{animate:!1}),this._draggable._newPos._add(u),this._draggable._startPos._add(u),Te(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=O(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(x(this._panRequest),this._panRequest=O(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,n=e._shadow,o=Re(e._icon),r=e._map.layerPointToLatLng(o);n&&Te(n,o),e._latlng=r,t.latlng=r,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){x(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),eo=Yn.extend({options:{icon:new Jn,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){h(this,e),this._latlng=j(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=j(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),o=!1;n!==this._icon&&(this._icon&&this._removeIcon(),o=!0,t.title&&(n.title=t.title),"IMG"===n.tagName&&(n.alt=t.alt||"")),Ce(n,e),t.keyboard&&(n.tabIndex="0",n.setAttribute("role","button")),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ie(n,"focus",this._panOnFocus,this);var r=t.icon.createShadow(this._shadow),i=!1;r!==this._shadow&&(this._removeShadow(),i=!0),r&&(Ce(r,e),r.alt=""),this._shadow=r,t.opacity<1&&this._updateOpacity(),o&&this.getPane().appendChild(this._icon),this._initInteraction(),r&&i&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&He(this._icon,"focus",this._panOnFocus,this),fe(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&fe(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&Te(this._icon,t),this._shadow&&Te(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(Ce(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),to)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new to(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&Se(this._icon,t),this._shadow&&Se(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var e=this.options.icon.options,n=e.iconSize?N(e.iconSize):N(0,0),o=e.iconAnchor?N(e.iconAnchor):N(0,0);t.panInside(this._latlng,{paddingTopLeft:o,paddingBottomRight:n.subtract(o)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function no(t,e){return new eo(t,e)}var oo=Yn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return h(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ro=oo.extend({options:{fill:!0,radius:10},initialize:function(t,e){h(this,e),this._latlng=j(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=j(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return oo.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),o=[t+n,e+n];this._pxBounds=new F(this._point.subtract(o),this._point.add(o))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function io(t,e){return new ro(t,e)}var so=ro.extend({initialize:function(t,e,o){if("number"===typeof e&&(e=n({},o,{radius:e})),h(this,e),this._latlng=j(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new G(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:oo.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,o=n.options.crs;if(o.distance===W.distance){var r=Math.PI/180,i=this._mRadius/W.R/r,s=n.project([e+i,t]),a=n.project([e-i,t]),l=s.add(a).divideBy(2),u=n.unproject(l).lat,c=Math.acos((Math.cos(i*r)-Math.sin(e*r)*Math.sin(u*r))/(Math.cos(e*r)*Math.cos(u*r)))/r;(isNaN(c)||0===c)&&(c=i/Math.cos(Math.PI/180*e)),this._point=l.subtract(n.getPixelOrigin()),this._radius=isNaN(c)?0:l.x-n.project([u,t-c]).x,this._radiusY=l.y-s.y}else{var d=o.unproject(o.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(d).x}this._updateBounds()}});function ao(t,e,n){return new so(t,e,n)}var lo=oo.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){h(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,n,o=1/0,r=null,i=Nn,s=0,a=this._parts.length;s<a;s++)for(var l=this._parts[s],u=1,c=l.length;u<c;u++){var d=i(t,e=l[u-1],n=l[u],!0);d<o&&(o=d,r=i(t,e,n))}return r&&(r.distance=Math.sqrt(o)),r},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Gn(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=j(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new G,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Fn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=Fn(t),o=0,r=t.length;o<r;o++)n?(e[o]=j(t[o]),this._bounds.extend(e[o])):e[o]=this._convertLatLngs(t[o]);return e},_project:function(){var t=new F;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new A(t,t);this._rawPxBounds&&(this._pxBounds=new F([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)]))},_projectLatlngs:function(t,e,n){var o,r,i=t[0]instanceof V,s=t.length;if(i){for(r=[],o=0;o<s;o++)r[o]=this._map.latLngToLayerPoint(t[o]),n.extend(r[o]);e.push(r)}else for(o=0;o<s;o++)this._projectLatlngs(t[o],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var e,n,o,r,i,s,a,l=this._parts;for(e=0,o=0,r=this._rings.length;e<r;e++)for(n=0,i=(a=this._rings[e]).length;n<i-1;n++)(s=Ln(a[n],a[n+1],t,n,!0))&&(l[o]=l[o]||[],l[o].push(s[0]),s[1]===a[n+1]&&n!==i-2||(l[o].push(s[1]),o++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,o=t.length;n<o;n++)t[n]=On(t[n],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var n,o,r,i,s,a,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(n=0,i=this._parts.length;n<i;n++)for(o=0,r=(s=(a=this._parts[n]).length)-1;o<s;r=o++)if((e||0!==o)&&xn(t,a[r],a[o])<=l)return!0;return!1}});function uo(t,e){return new lo(t,e)}lo._flat=In;var co=lo.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return bn(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var e=lo.prototype._convertLatLngs.call(this,t),n=e.length;return n>=2&&e[0]instanceof V&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){lo.prototype._setLatLngs.call(this,t),Fn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Fn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new A(e,e);if(t=new F(t.min.subtract(n),t.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var o,r=0,i=this._rings.length;r<i;r++)(o=wn(this._rings[r],t,!0)).length&&this._parts.push(o)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,n,o,r,i,s,a,l,u=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(r=0,a=this._parts.length;r<a;r++)for(i=0,s=(l=(e=this._parts[r]).length)-1;i<l;s=i++)n=e[i],o=e[s],n.y>t.y!==o.y>t.y&&t.x<(o.x-n.x)*(t.y-n.y)/(o.y-n.y)+n.x&&(u=!u);return u||lo.prototype._containsPoint.call(this,t,!0)}});function po(t,e){return new co(t,e)}var ho=qn.extend({initialize:function(t,e){h(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,o,r=m(t)?t:t.features;if(r){for(e=0,n=r.length;e<n;e++)((o=r[e]).geometries||o.geometry||o.features||o.coordinates)&&this.addData(o);return this}var i=this.options;if(i.filter&&!i.filter(t))return this;var s=fo(t,i);return s?(s.feature=bo(t),s.defaultOptions=s.options,this.resetStyle(s),i.onEachFeature&&i.onEachFeature(t,s),this.addLayer(s)):this},resetStyle:function(t){return void 0===t?this.eachLayer(this.resetStyle,this):(t.options=n({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer((function(e){this._setLayerStyle(e,t)}),this)},_setLayerStyle:function(t,e){t.setStyle&&("function"===typeof e&&(e=e(t.feature)),t.setStyle(e))}});function fo(t,e){var n,o,r,i,s="Feature"===t.type?t.geometry:t,a=s?s.coordinates:null,l=[],u=e&&e.pointToLayer,c=e&&e.coordsToLatLng||vo;if(!a&&!s)return null;switch(s.type){case"Point":return go(u,t,n=c(a),e);case"MultiPoint":for(r=0,i=a.length;r<i;r++)n=c(a[r]),l.push(go(u,t,n,e));return new qn(l);case"LineString":case"MultiLineString":return o=mo(a,"LineString"===s.type?0:1,c),new lo(o,e);case"Polygon":case"MultiPolygon":return o=mo(a,"Polygon"===s.type?1:2,c),new co(o,e);case"GeometryCollection":for(r=0,i=s.geometries.length;r<i;r++){var d=fo({geometry:s.geometries[r],type:"Feature",properties:t.properties},e);d&&l.push(d)}return new qn(l);case"FeatureCollection":for(r=0,i=s.features.length;r<i;r++){var p=fo(s.features[r],e);p&&l.push(p)}return new qn(l);default:throw new Error("Invalid GeoJSON object.")}}function go(t,e,n,o){return t?t(e,n):new eo(n,o&&o.markersInheritOptions&&o)}function vo(t){return new V(t[1],t[0],t[2])}function mo(t,e,n){for(var o,r=[],i=0,s=t.length;i<s;i++)o=e?mo(t[i],e-1,n):(n||vo)(t[i]),r.push(o);return r}function yo(t,e){return void 0!==(t=j(t)).alt?[c(t.lng,e),c(t.lat,e),c(t.alt,e)]:[c(t.lng,e),c(t.lat,e)]}function Co(t,e,n,o){for(var r=[],i=0,s=t.length;i<s;i++)r.push(e?Co(t[i],Fn(t[i])?0:e-1,n,o):yo(t[i],o));return!e&&n&&r.length>0&&r.push(r[0].slice()),r}function wo(t,e){return t.feature?n({},t.feature,{geometry:e}):bo(e)}function bo(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}var _o={toGeoJSON:function(t){return wo(this,{type:"Point",coordinates:yo(this.getLatLng(),t)})}};function So(t,e){return new ho(t,e)}eo.include(_o),so.include(_o),ro.include(_o),lo.include({toGeoJSON:function(t){var e=!Fn(this._latlngs);return wo(this,{type:(e?"Multi":"")+"LineString",coordinates:Co(this._latlngs,e?1:0,!1,t)})}}),co.include({toGeoJSON:function(t){var e=!Fn(this._latlngs),n=e&&!Fn(this._latlngs[0]),o=Co(this._latlngs,n?2:e?1:0,!0,t);return e||(o=[o]),wo(this,{type:(n?"Multi":"")+"Polygon",coordinates:o})}}),Kn.include({toMultiPoint:function(t){var e=[];return this.eachLayer((function(n){e.push(n.toGeoJSON(t).geometry.coordinates)})),wo(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var n="GeometryCollection"===e,o=[];return this.eachLayer((function(e){if(e.toGeoJSON){var r=e.toGeoJSON(t);if(n)o.push(r.geometry);else{var i=bo(r);"FeatureCollection"===i.type?o.push.apply(o,i.features):o.push(i)}}})),n?wo(this,{geometries:o,type:"GeometryCollection"}):{type:"FeatureCollection",features:o}}});var Eo=So,Oo=Yn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,n){this._url=t,this._bounds=H(e),h(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ce(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){fe(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&ve(this._image),this},bringToBack:function(){return this._map&&me(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=H(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:he("img");Ce(e,"leaflet-image-layer"),this._zoomAnimated&&Ce(e,"leaflet-zoom-animated"),this.options.className&&Ce(e,this.options.className),e.onselectstart=u,e.onmousemove=u,e.onload=r(this.fire,this,"load"),e.onerror=r(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;xe(this._image,n,e)},_reset:function(){var t=this._image,e=new F(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();Te(t,e.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){Se(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),xo=function(t,e,n){return new Oo(t,e,n)},To=Oo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:he("video");if(Ce(e,"leaflet-image-layer"),this._zoomAnimated&&Ce(e,"leaflet-zoom-animated"),this.options.className&&Ce(e,this.options.className),e.onselectstart=u,e.onmousemove=u,e.onloadeddata=r(this.fire,this,"load"),t){for(var n=e.getElementsByTagName("source"),o=[],i=0;i<n.length;i++)o.push(n[i].src);this._url=n.length>0?o:[e.src]}else{m(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted,e.playsInline=!!this.options.playsInline;for(var s=0;s<this._url.length;s++){var a=he("source");a.src=this._url[s],e.appendChild(a)}}}});function Ro(t,e,n){return new To(t,e,n)}var Do=Oo.extend({_initImage:function(){var t=this._image=this._url;Ce(t,"leaflet-image-layer"),this._zoomAnimated&&Ce(t,"leaflet-zoom-animated"),this.options.className&&Ce(t,this.options.className),t.onselectstart=u,t.onmousemove=u}});function Po(t,e,n){return new Do(t,e,n)}var Lo=Yn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,e){t&&(t instanceof V||m(t))?(this._latlng=j(t),h(this,e)):(h(this,t),this._source=e),this.options.content&&(this._content=this.options.content)},openOn:function(t){return(t=arguments.length?t:this._source._map).hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&Se(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&Se(this._container,1),this.bringToFront(),this.options.interactive&&(Ce(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(Se(this._container,0),this._removeTimeout=setTimeout(r(fe,void 0,this._container),200)):fe(this._container),this.options.interactive&&(we(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=j(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ve(this._container),this},bringToBack:function(){return this._map&&me(this._container),this},_prepareOpen:function(t){var e=this._source;if(!e._map)return!1;if(e instanceof qn){e=null;var n=this._source._layers;for(var o in n)if(n[o]._map){e=n[o];break}if(!e)return!1;this._source=e}if(!t)if(e.getCenter)t=e.getCenter();else if(e.getLatLng)t=e.getLatLng();else{if(!e.getBounds)throw new Error("Unable to get source layer LatLng.");t=e.getBounds().getCenter()}return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"===typeof this._content?this._content(this._source||this):this._content;if("string"===typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=N(this.options.offset),n=this._getAnchor();this._zoomAnimated?Te(this._container,t.add(n)):e=e.add(t).add(n);var o=this._containerBottom=-e.y,r=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=o+"px",this._container.style.left=r+"px"}},_getAnchor:function(){return[0,0]}});nn.include({_initOverlay:function(t,e,n,o){var r=e;return r instanceof t||(r=new t(o).setContent(e)),n&&r.setLatLng(n),r}}),Yn.include({_initOverlay:function(t,e,n,o){var r=n;return r instanceof t?(h(r,o),r._source=this):(r=e&&!o?e:new t(o,this)).setContent(n),r}});var Mo=Lo.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return!(t=arguments.length?t:this._source._map).hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,Lo.prototype.openOn.call(this,t)},onAdd:function(t){Lo.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof oo||this._source.on("preclick",ze))},onRemove:function(t){Lo.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof oo||this._source.off("preclick",ze))},getEvents:function(){var t=Lo.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",e=this._container=he("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=he("div",t+"-content-wrapper",e);if(this._contentNode=he("div",t+"-content",n),Ye(e),Ue(this._contentNode),Ie(e,"contextmenu",ze),this._tipContainer=he("div",t+"-tip-container",e),this._tip=he("div",t+"-tip",this._tipContainer),this.options.closeButton){var o=this._closeButton=he("a",t+"-close-button",e);o.setAttribute("role","button"),o.setAttribute("aria-label","Close popup"),o.href="#close",o.innerHTML='<span aria-hidden="true">&#215;</span>',Ie(o,"click",(function(t){Ke(t),this.close()}),this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var o=t.offsetHeight,r=this.options.maxHeight,i="leaflet-popup-scrolled";r&&o>r?(e.height=r+"px",Ce(t,i)):we(t,i),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();Te(this._container,e.add(n))},_adjustPan:function(){if(this.options.autoPan)if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)this._autopanning=!1;else{var t=this._map,e=parseInt(pe(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+e,o=this._containerWidth,r=new A(this._containerLeft,-n-this._containerBottom);r._add(Re(this._container));var i=t.layerPointToContainerPoint(r),s=N(this.options.autoPanPadding),a=N(this.options.autoPanPaddingTopLeft||s),l=N(this.options.autoPanPaddingBottomRight||s),u=t.getSize(),c=0,d=0;i.x+o+l.x>u.x&&(c=i.x+o-u.x+l.x),i.x-c-a.x<0&&(c=i.x-a.x),i.y+n+l.y>u.y&&(d=i.y+n-u.y+l.y),i.y-d-a.y<0&&(d=i.y-a.y),(c||d)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([c,d]))}},_getAnchor:function(){return N(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ao=function(t,e){return new Mo(t,e)};nn.mergeOptions({closePopupOnClick:!0}),nn.include({openPopup:function(t,e,n){return this._initOverlay(Mo,t,e,n).openOn(this),this},closePopup:function(t){return(t=arguments.length?t:this._popup)&&t.close(),this}}),Yn.include({bindPopup:function(t,e){return this._popup=this._initOverlay(Mo,this._popup,t,e),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof qn||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(this._popup&&this._map){Ze(t);var e=t.layer||t.target;this._popup._source!==e||e instanceof oo?(this._popup._source=e,this.openPopup(t.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var ko=Lo.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){Lo.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){Lo.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=Lo.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=he("div",t),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+s(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e,n,o=this._map,r=this._container,i=o.latLngToContainerPoint(o.getCenter()),s=o.layerPointToContainerPoint(t),a=this.options.direction,l=r.offsetWidth,u=r.offsetHeight,c=N(this.options.offset),d=this._getAnchor();"top"===a?(e=l/2,n=u):"bottom"===a?(e=l/2,n=0):"center"===a?(e=l/2,n=u/2):"right"===a?(e=0,n=u/2):"left"===a?(e=l,n=u/2):s.x<i.x?(a="right",e=0,n=u/2):(a="left",e=l+2*(c.x+d.x),n=u/2),t=t.subtract(N(e,n,!0)).add(c).add(d),we(r,"leaflet-tooltip-right"),we(r,"leaflet-tooltip-left"),we(r,"leaflet-tooltip-top"),we(r,"leaflet-tooltip-bottom"),Ce(r,"leaflet-tooltip-"+a),Te(r,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&Se(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return N(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),No=function(t,e){return new ko(t,e)};nn.include({openTooltip:function(t,e,n){return this._initOverlay(ko,t,e,n).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),Yn.include({bindTooltip:function(t,e){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ko,this._tooltip,t,e),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,n.click=this._openTooltip,this._map?this._addFocusListeners():n.add=this._addFocusListeners),this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),this[e](n),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof qn||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var e="function"===typeof t.getElement&&t.getElement();e&&(Ie(e,"focus",(function(){this._tooltip._source=t,this.openTooltip()}),this),Ie(e,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var e="function"===typeof t.getElement&&t.getElement();e&&e.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(this._tooltip&&this._map)if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var e=this;this._map.once("moveend",(function(){e._openOnceFlag=!1,e._openTooltip(t)}))}else this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e,n,o=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),n=this._map.containerPointToLayerPoint(e),o=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(o)}});var Fo=Xn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),n=this.options;if(n.html instanceof Element?(ge(e),e.appendChild(n.html)):e.innerHTML=!1!==n.html?n.html:"",n.bgPos){var o=N(n.bgPos);e.style.backgroundPosition=-o.x+"px "+-o.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});function Io(t){return new Fo(t)}Xn.Default=Jn;var Go=Yn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ft.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){h(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),fe(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ve(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(me(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=a(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof A?t:new A(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,n=this.getPane().children,o=-t(-1/0,1/0),r=0,i=n.length;r<i;r++)e=n[r].style.zIndex,n[r]!==this._container&&e&&(o=t(o,+e));isFinite(o)&&(this.options.zIndex=o+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ft.ielt9){Se(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var o in this._tiles){var r=this._tiles[o];if(r.current&&r.loaded){var i=Math.min(1,(t-r.loaded)/200);Se(r.el,i),i<1?e=!0:(r.active?n=!0:this._onOpaqueTile(r),r.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),e&&(x(this._fadeFrame),this._fadeFrame=O(this._updateOpacity,this))}},_onOpaqueTile:u,_initContainer:function(){this._container||(this._container=he("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===t?(this._levels[n].el.style.zIndex=e-Math.abs(t-n),this._onUpdateLevel(n)):(fe(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var o=this._levels[t],r=this._map;return o||((o=this._levels[t]={}).el=he("div","leaflet-tile-container leaflet-zoom-animated",this._container),o.el.style.zIndex=e,o.origin=r.project(r.unproject(r.getPixelOrigin()),t).round(),o.zoom=t,this._setZoomTransform(o,r.getCenter(),r.getZoom()),u(o.el.offsetWidth),this._onCreateLevel(o)),this._level=o,o}},_onUpdateLevel:u,_onRemoveLevel:u,_onCreateLevel:u,_pruneTiles:function(){if(this._map){var t,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(e=this._tiles[t]).retain=e.current;for(t in this._tiles)if((e=this._tiles[t]).current&&!e.active){var o=e.coords;this._retainParent(o.x,o.y,o.z,o.z-5)||this._retainChildren(o.x,o.y,o.z,o.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)fe(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,n,o){var r=Math.floor(t/2),i=Math.floor(e/2),s=n-1,a=new A(+r,+i);a.z=+s;var l=this._tileCoordsToKey(a),u=this._tiles[l];return u&&u.active?(u.retain=!0,!0):(u&&u.loaded&&(u.retain=!0),s>o&&this._retainParent(r,i,s,o))},_retainChildren:function(t,e,n,o){for(var r=2*t;r<2*t+2;r++)for(var i=2*e;i<2*e+2;i++){var s=new A(r,i);s.z=n+1;var a=this._tileCoordsToKey(s),l=this._tiles[a];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),n+1<o&&this._retainChildren(r,i,n+1,o))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,n,o){var r=Math.round(e);r=void 0!==this.options.maxZoom&&r>this.options.maxZoom||void 0!==this.options.minZoom&&r<this.options.minZoom?void 0:this._clampZoom(r);var i=this.options.updateWhenZooming&&r!==this._tileZoom;o&&!i||(this._tileZoom=r,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==r&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var o=this._map.getZoomScale(n,t.zoom),r=t.origin.multiplyBy(o).subtract(this._map._getNewPixelOrigin(e,n)).round();Ft.any3d?xe(t.el,r,o):Te(t.el,r)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),o=this._tileZoom,r=this._map.getPixelWorldBounds(this._tileZoom);r&&(this._globalTileRange=this._pxBoundsToTileRange(r)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],o).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],o).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],o).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],o).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),o=e.getZoomScale(n,this._tileZoom),r=e.project(t,this._tileZoom).floor(),i=e.getSize().divideBy(2*o);return new F(r.subtract(i),r.add(i))},_update:function(t){var e=this._map;if(e){var n=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var o=this._getTiledPixelBounds(t),r=this._pxBoundsToTileRange(o),i=r.getCenter(),s=[],a=this.options.keepBuffer,l=new F(r.getBottomLeft().subtract([a,-a]),r.getTopRight().add([a,-a]));if(!(isFinite(r.min.x)&&isFinite(r.min.y)&&isFinite(r.max.x)&&isFinite(r.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var u in this._tiles){var c=this._tiles[u].coords;c.z===this._tileZoom&&l.contains(new A(c.x,c.y))||(this._tiles[u].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(t,n);else{for(var d=r.min.y;d<=r.max.y;d++)for(var p=r.min.x;p<=r.max.x;p++){var h=new A(p,d);if(h.z=this._tileZoom,this._isValidTile(h)){var f=this._tiles[this._tileCoordsToKey(h)];f?f.current=!0:s.push(h)}}if(s.sort((function(t,e){return t.distanceTo(i)-e.distanceTo(i)})),0!==s.length){this._loading||(this._loading=!0,this.fire("loading"));var g=document.createDocumentFragment();for(p=0;p<s.length;p++)this._addTile(s[p],g);this._level.el.appendChild(g)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var o=this._tileCoordsToBounds(t);return H(this.options.bounds).overlaps(o)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,n=this.getTileSize(),o=t.scaleBy(n),r=o.add(n);return[e.unproject(o,t.z),e.unproject(r,t.z)]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),n=new G(e[0],e[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new A(+e[0],+e[1]);return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];e&&(fe(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){Ce(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=u,t.onmousemove=u,Ft.ielt9&&this.options.opacity<1&&Se(t,this.options.opacity)},_addTile:function(t,e){var n=this._getTilePos(t),o=this._tileCoordsToKey(t),i=this.createTile(this._wrapCoords(t),r(this._tileReady,this,t));this._initTile(i),this.createTile.length<2&&O(r(this._tileReady,this,t,null,i)),Te(i,n),this._tiles[o]={el:i,coords:t,current:!0},e.appendChild(i),this.fire("tileloadstart",{tile:i,coords:t})},_tileReady:function(t,e,n){e&&this.fire("tileerror",{error:e,tile:n,coords:t});var o=this._tileCoordsToKey(t);(n=this._tiles[o])&&(n.loaded=+new Date,this._map._fadeAnimated?(Se(n.el,0),x(this._fadeFrame),this._fadeFrame=O(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),e||(Ce(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ft.ielt9||!this._map._fadeAnimated?O(this._pruneTiles,this):setTimeout(r(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new A(this._wrapX?l(t.x,this._wrapX):t.x,this._wrapY?l(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new F(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function Ho(t){return new Go(t)}var Vo=Go.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,e){this._url=t,(e=h(this,e)).detectRetina&&Ft.retina&&e.maxZoom>0?(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom=Math.min(e.maxZoom,e.minZoom+1)):(e.zoomOffset++,e.maxZoom=Math.max(e.minZoom,e.maxZoom-1)),e.minZoom=Math.max(0,e.minZoom)):e.zoomReverse?e.minZoom=Math.min(e.maxZoom,e.minZoom):e.maxZoom=Math.max(e.minZoom,e.maxZoom),"string"===typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&void 0===e&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var n=document.createElement("img");return Ie(n,"load",r(this._tileOnLoad,this,e,n)),Ie(n,"error",r(this._tileOnError,this,e,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"===typeof this.options.referrerPolicy&&(n.referrerPolicy=this.options.referrerPolicy),n.alt="",n.src=this.getTileUrl(t),n},getTileUrl:function(t){var e={r:Ft.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var o=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=o),e["-y"]=o}return v(this._url,n(e,this.options))},_tileOnLoad:function(t,e){Ft.ielt9?setTimeout(r(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var o=this.options.errorTileUrl;o&&e.getAttribute("src")!==o&&(e.src=o),t(n,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom;return this.options.zoomReverse&&(t=e-t),t+this.options.zoomOffset},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=u,e.onerror=u,!e.complete)){e.src=C;var n=this._tiles[t].coords;fe(e),delete this._tiles[t],this.fire("tileabort",{tile:e,coords:n})}},_removeTile:function(t){var e=this._tiles[t];if(e)return e.el.setAttribute("src",C),Go.prototype._removeTile.call(this,t)},_tileReady:function(t,e,n){if(this._map&&(!n||n.getAttribute("src")!==C))return Go.prototype._tileReady.call(this,t,e,n)}});function jo(t,e){return new Vo(t,e)}var Bo=Vo.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var o=n({},this.defaultWmsParams);for(var r in e)r in this.options||(o[r]=e[r]);var i=(e=h(this,e)).detectRetina&&Ft.retina?2:1,s=this.getTileSize();o.width=s.x*i,o.height=s.y*i,this.wmsParams=o},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,Vo.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),n=this._crs,o=I(n.project(e[0]),n.project(e[1])),r=o.min,i=o.max,s=(this._wmsVersion>=1.3&&this._crs===zn?[r.y,r.x,i.y,i.x]:[r.x,r.y,i.x,i.y]).join(","),a=Vo.prototype.getTileUrl.call(this,t);return a+f(this.wmsParams,a,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+s},setParams:function(t,e){return n(this.wmsParams,t),e||this.redraw(),this}});function Wo(t,e){return new Bo(t,e)}Vo.WMS=Bo,jo.wms=Wo;var zo=Yn.extend({options:{padding:.1},initialize:function(t){h(this,t),s(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ce(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),o=this._map.getSize().multiplyBy(.5+this.options.padding),r=this._map.project(this._center,e),i=o.multiplyBy(-n).add(r).subtract(this._map._getNewPixelOrigin(t,e));Ft.any3d?xe(this._container,i,n):Te(this._container,i)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new F(n,n.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Uo=zo.extend({options:{tolerance:0},getEvents:function(){var t=zo.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){zo.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Ie(t,"mousemove",this._onMouseMove,this),Ie(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ie(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){x(this._redrawRequest),delete this._ctx,fe(this._container),He(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){zo.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),o=Ft.retina?2:1;Te(e,t.min),e.width=o*n.x,e.height=o*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px",Ft.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){zo.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[s(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,n=e.next,o=e.prev;n?n.prev=o:this._drawLast=o,o?o.next=n:this._drawFirst=n,delete t._order,delete this._layers[s(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"===typeof t.options.dashArray){var e,n,o=t.options.dashArray.split(/[, ]+/),r=[];for(n=0;n<o.length;n++){if(e=Number(o[n]),isNaN(e))return;r.push(e)}t.options._dashArray=r}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||O(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new F,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var n=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var o=this._drawFirst;o;o=o.next)t=o.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var n,o,r,i,s=t._parts,a=s.length,l=this._ctx;if(a){for(l.beginPath(),n=0;n<a;n++){for(o=0,r=s[n].length;o<r;o++)i=s[n][o],l[o?"lineTo":"moveTo"](i.x,i.y);e&&l.closePath()}this._fillStroke(l,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,n=this._ctx,o=Math.max(Math.round(t._radius),1),r=(Math.max(Math.round(t._radiusY),1)||o)/o;1!==r&&(n.save(),n.scale(1,r)),n.beginPath(),n.arc(e.x,e.y/r,o,0,2*Math.PI,!1),1!==r&&n.restore(),this._fillStroke(n,t)}},_fillStroke:function(t,e){var n=e.options;n.fill&&(t.globalAlpha=n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=n.opacity,t.lineWidth=n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){for(var e,n,o=this._map.mouseEventToLayerPoint(t),r=this._drawFirst;r;r=r.next)(e=r.layer).options.interactive&&e._containsPoint(o)&&("click"!==t.type&&"preclick"!==t.type||!this._map._draggableMoved(e))&&(n=e);this._fireEvent(!!n&&[n],t)},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(we(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var n,o,i=this._drawFirst;i;i=i.next)(n=i.layer).options.interactive&&n._containsPoint(e)&&(o=n);o!==this._hoveredLayer&&(this._handleMouseOut(t),o&&(Ce(this._container,"leaflet-interactive"),this._fireEvent([o],t,"mouseover"),this._hoveredLayer=o)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],t),this._mouseHoverThrottled=!0,setTimeout(r((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var n=e.next,o=e.prev;n&&(n.prev=o,o?o.next=n:n&&(this._drawFirst=n),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))}},_bringToBack:function(t){var e=t._order;if(e){var n=e.next,o=e.prev;o&&(o.next=n,n?n.prev=o:o&&(this._drawLast=o),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}});function Yo(t){return Ft.canvas?new Uo(t):null}var Ko=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Zo={_initContainer:function(){this._container=he("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(zo.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=Ko("shape");Ce(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=Ko("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[s(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;fe(e),t.removeInteractiveTarget(e),delete this._layers[s(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,o=t.options,r=t._container;r.stroked=!!o.stroke,r.filled=!!o.fill,o.stroke?(e||(e=t._stroke=Ko("stroke")),r.appendChild(e),e.weight=o.weight+"px",e.color=o.color,e.opacity=o.opacity,o.dashArray?e.dashStyle=m(o.dashArray)?o.dashArray.join(" "):o.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=o.lineCap.replace("butt","flat"),e.joinstyle=o.lineJoin):e&&(r.removeChild(e),t._stroke=null),o.fill?(n||(n=t._fill=Ko("fill")),r.appendChild(n),n.color=o.fillColor||o.color,n.opacity=o.fillOpacity):n&&(r.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),o=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+o+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){ve(t._container)},_bringToBack:function(t){me(t._container)}},qo=Ft.vml?Ko:Q,Qo=zo.extend({_initContainer:function(){this._container=qo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=qo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){fe(this._container),He(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){zo.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,n.setAttribute("width",e.x),n.setAttribute("height",e.y)),Te(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=qo("path");t.options.className&&Ce(e,t.options.className),t.options.interactive&&Ce(e,"leaflet-interactive"),this._updateStyle(t),this._layers[s(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){fe(t._path),t.removeInteractiveTarget(t._path),delete this._layers[s(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,n=t.options;e&&(n.stroke?(e.setAttribute("stroke",n.color),e.setAttribute("stroke-opacity",n.opacity),e.setAttribute("stroke-width",n.weight),e.setAttribute("stroke-linecap",n.lineCap),e.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?e.setAttribute("stroke-dasharray",n.dashArray):e.removeAttribute("stroke-dasharray"),n.dashOffset?e.setAttribute("stroke-dashoffset",n.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),n.fill?(e.setAttribute("fill",n.fillColor||n.color),e.setAttribute("fill-opacity",n.fillOpacity),e.setAttribute("fill-rule",n.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,X(t._parts,e))},_updateCircle:function(t){var e=t._point,n=Math.max(Math.round(t._radius),1),o="a"+n+","+(Math.max(Math.round(t._radiusY),1)||n)+" 0 1,0 ",r=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+o+2*n+",0 "+o+2*-n+",0 ";this._setPath(t,r)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){ve(t._path)},_bringToBack:function(t){me(t._path)}});function Xo(t){return Ft.svg||Ft.vml?new Qo(t):null}Ft.vml&&Qo.include(Zo),nn.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&Yo(t)||Xo(t)}});var $o=co.extend({initialize:function(t,e){co.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=H(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function Jo(t,e){return new $o(t,e)}Qo.create=qo,Qo.pointsToPath=X,ho.geometryToLayer=fo,ho.coordsToLatLng=vo,ho.coordsToLatLngs=mo,ho.latLngToCoords=yo,ho.latLngsToCoords=Co,ho.getFeature=wo,ho.asFeature=bo,nn.mergeOptions({boxZoom:!0});var tr=vn.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Ie(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){He(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){fe(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),oe(),Pe(),this._startPoint=this._map.mouseEventToContainerPoint(t),Ie(document,{contextmenu:Ze,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=he("div","leaflet-zoom-box",this._container),Ce(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new F(this._point,this._startPoint),n=e.getSize();Te(this._box,e.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(fe(this._box),we(this._container,"leaflet-crosshair")),re(),Le(),He(document,{contextmenu:Ze,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(r(this._resetState,this),0);var e=new G(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});nn.addInitHook("addHandler","boxZoom",tr),nn.mergeOptions({doubleClickZoom:!0});var er=vn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),o=e.options.zoomDelta,r=t.originalEvent.shiftKey?n-o:n+o;"center"===e.options.doubleClickZoom?e.setZoom(r):e.setZoomAround(t.containerPoint,r)}});nn.addInitHook("addHandler","doubleClickZoom",er),nn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var nr=vn.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new Cn(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}Ce(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){we(this._map._container,"leaflet-grab"),we(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=H(this._map.options.maxBounds);this._offsetLimit=I(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,o=this._draggable._newPos.x,r=(o-e+n)%t+e-n,i=(o+e+n)%t-e-n,s=Math.abs(r+n)<Math.abs(i+n)?r:i;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=s},_onDragEnd:function(t){var e=this._map,n=e.options,o=!n.inertia||t.noInertia||this._times.length<2;if(e.fire("dragend",t),o)e.fire("moveend");else{this._prunePositions(+new Date);var r=this._lastPos.subtract(this._positions[0]),i=(this._lastTime-this._times[0])/1e3,s=n.easeLinearity,a=r.multiplyBy(s/i),l=a.distanceTo([0,0]),u=Math.min(n.inertiaMaxSpeed,l),c=a.multiplyBy(u/l),d=u/(n.inertiaDeceleration*s),p=c.multiplyBy(-d/2).round();p.x||p.y?(p=e._limitOffset(p,e.options.maxBounds),O((function(){e.panBy(p,{duration:d,easeLinearity:s,noMoveStart:!0,animate:!0})}))):e.fire("moveend")}}});nn.addInitHook("addHandler","dragging",nr),nn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var or=vn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Ie(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),He(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,n=t.scrollTop||e.scrollTop,o=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(o,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,n,o=this._panKeys={},r=this.keyCodes;for(e=0,n=r.left.length;e<n;e++)o[r.left[e]]=[-1*t,0];for(e=0,n=r.right.length;e<n;e++)o[r.right[e]]=[t,0];for(e=0,n=r.down.length;e<n;e++)o[r.down[e]]=[0,t];for(e=0,n=r.up.length;e<n;e++)o[r.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,n,o=this._zoomKeys={},r=this.keyCodes;for(e=0,n=r.zoomIn.length;e<n;e++)o[r.zoomIn[e]]=t;for(e=0,n=r.zoomOut.length;e<n;e++)o[r.zoomOut[e]]=-t},_addHooks:function(){Ie(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){He(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,n=t.keyCode,o=this._map;if(n in this._panKeys){if(!o._panAnim||!o._panAnim._inProgress)if(e=this._panKeys[n],t.shiftKey&&(e=N(e).multiplyBy(3)),o.options.maxBounds&&(e=o._limitOffset(N(e),o.options.maxBounds)),o.options.worldCopyJump){var r=o.wrapLatLng(o.unproject(o.project(o.getCenter()).add(e)));o.panTo(r)}else o.panBy(e)}else if(n in this._zoomKeys)o.setZoom(o.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!o._popup||!o._popup.options.closeOnEscapeKey)return;o.closePopup()}Ze(t)}}});nn.addInitHook("addHandler","keyboard",or),nn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var rr=vn.extend({addHooks:function(){Ie(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){He(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=$e(t),n=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var o=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(r(this._performZoom,this),o),Ze(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var o=this._delta/(4*this._map.options.wheelPxPerZoomLevel),r=4*Math.log(2/(1+Math.exp(-Math.abs(o))))/Math.LN2,i=n?Math.ceil(r/n)*n:r,s=t._limitZoom(e+(this._delta>0?i:-i))-e;this._delta=0,this._startTime=null,s&&("center"===t.options.scrollWheelZoom?t.setZoom(e+s):t.setZoomAround(this._lastMousePos,e+s))}});nn.addInitHook("addHandler","scrollWheelZoom",rr);var ir=600;nn.mergeOptions({tapHold:Ft.touchNative&&Ft.safari&&Ft.mobile,tapTolerance:15});var sr=vn.extend({addHooks:function(){Ie(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){He(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),1===t.touches.length){var e=t.touches[0];this._startPos=this._newPos=new A(e.clientX,e.clientY),this._holdTimeout=setTimeout(r((function(){this._cancel(),this._isTapValid()&&(Ie(document,"touchend",Ke),Ie(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",e))}),this),ir),Ie(document,"touchend touchcancel contextmenu",this._cancel,this),Ie(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){He(document,"touchend",Ke),He(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),He(document,"touchend touchcancel contextmenu",this._cancel,this),He(document,"touchmove",this._onMove,this)},_onMove:function(t){var e=t.touches[0];this._newPos=new A(e.clientX,e.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,e){var n=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY});n._simulated=!0,e.target.dispatchEvent(n)}});nn.addInitHook("addHandler","tapHold",sr),nn.mergeOptions({touchZoom:Ft.touch,bounceAtZoomLimits:!0});var ar=vn.extend({addHooks:function(){Ce(this._map._container,"leaflet-touch-zoom"),Ie(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){we(this._map._container,"leaflet-touch-zoom"),He(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var n=e.mouseEventToContainerPoint(t.touches[0]),o=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(n.add(o)._divideBy(2))),this._startDist=n.distanceTo(o),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),Ie(document,"touchmove",this._onTouchMove,this),Ie(document,"touchend touchcancel",this._onTouchEnd,this),Ke(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),o=e.mouseEventToContainerPoint(t.touches[1]),i=n.distanceTo(o)/this._startDist;if(this._zoom=e.getScaleZoom(i,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&i<1||this._zoom>e.getMaxZoom()&&i>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===i)return}else{var s=n._add(o)._divideBy(2)._subtract(this._centerPoint);if(1===i&&0===s.x&&0===s.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(s),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),x(this._animRequest);var a=r(e._move,e,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=O(a,this,!0),Ke(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,x(this._animRequest),He(document,"touchmove",this._onTouchMove,this),He(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});nn.addInitHook("addHandler","touchZoom",ar),nn.BoxZoom=tr,nn.DoubleClickZoom=er,nn.Drag=nr,nn.Keyboard=or,nn.ScrollWheelZoom=rr,nn.TapHold=sr,nn.TouchZoom=ar,t.Bounds=F,t.Browser=Ft,t.CRS=B,t.Canvas=Uo,t.Circle=so,t.CircleMarker=ro,t.Class=R,t.Control=rn,t.DivIcon=Fo,t.DivOverlay=Lo,t.DomEvent=tn,t.DomUtil=Fe,t.Draggable=Cn,t.Evented=M,t.FeatureGroup=qn,t.GeoJSON=ho,t.GridLayer=Go,t.Handler=vn,t.Icon=Xn,t.ImageOverlay=Oo,t.LatLng=V,t.LatLngBounds=G,t.Layer=Yn,t.LayerGroup=Kn,t.LineUtil=Hn,t.Map=nn,t.Marker=eo,t.Mixin=mn,t.Path=oo,t.Point=A,t.PolyUtil=En,t.Polygon=co,t.Polyline=lo,t.Popup=Mo,t.PosAnimation=en,t.Projection=Bn,t.Rectangle=$o,t.Renderer=zo,t.SVG=Qo,t.SVGOverlay=Do,t.TileLayer=Vo,t.Tooltip=ko,t.Transformation=Y,t.Util=T,t.VideoOverlay=To,t.bind=r,t.bounds=I,t.canvas=Yo,t.circle=ao,t.circleMarker=io,t.control=sn,t.divIcon=Io,t.extend=n,t.featureGroup=Qn,t.geoJSON=So,t.geoJson=Eo,t.gridLayer=Ho,t.icon=$n,t.imageOverlay=xo,t.latLng=j,t.latLngBounds=H,t.layerGroup=Zn,t.map=on,t.marker=no,t.point=N,t.polygon=po,t.polyline=uo,t.popup=Ao,t.rectangle=Jo,t.setOptions=h,t.stamp=s,t.svg=Xo,t.svgOverlay=Po,t.tileLayer=jo,t.tooltip=No,t.transformation=K,t.version=e,t.videoOverlay=Ro;var lr=window.L;t.noConflict=function(){return window.L=lr,this},window.L=t}(e)},2426:function(t,e,n){(t=n.nmd(t)).exports=function(){"use strict";var e,n;function o(){return e.apply(null,arguments)}function r(t){e=t}function i(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function s(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function a(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function l(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(a(t,e))return!1;return!0}function u(t){return void 0===t}function c(t){return"number"===typeof t||"[object Number]"===Object.prototype.toString.call(t)}function d(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function p(t,e){var n,o=[],r=t.length;for(n=0;n<r;++n)o.push(e(t[n],n));return o}function h(t,e){for(var n in e)a(e,n)&&(t[n]=e[n]);return a(e,"toString")&&(t.toString=e.toString),a(e,"valueOf")&&(t.valueOf=e.valueOf),t}function f(t,e,n,o){return Zn(t,e,n,o,!0).utc()}function g(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function v(t){return null==t._pf&&(t._pf=g()),t._pf}function m(t){if(null==t._isValid){var e=v(t),o=n.call(e.parsedDateParts,(function(t){return null!=t})),r=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&o);if(t._strict&&(r=r&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return r;t._isValid=r}return t._isValid}function y(t){var e=f(NaN);return null!=t?h(v(e),t):v(e).userInvalidated=!0,e}n=Array.prototype.some?Array.prototype.some:function(t){var e,n=Object(this),o=n.length>>>0;for(e=0;e<o;e++)if(e in n&&t.call(this,n[e],e,n))return!0;return!1};var C=o.momentProperties=[],w=!1;function b(t,e){var n,o,r,i=C.length;if(u(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),u(e._i)||(t._i=e._i),u(e._f)||(t._f=e._f),u(e._l)||(t._l=e._l),u(e._strict)||(t._strict=e._strict),u(e._tzm)||(t._tzm=e._tzm),u(e._isUTC)||(t._isUTC=e._isUTC),u(e._offset)||(t._offset=e._offset),u(e._pf)||(t._pf=v(e)),u(e._locale)||(t._locale=e._locale),i>0)for(n=0;n<i;n++)u(r=e[o=C[n]])||(t[o]=r);return t}function _(t){b(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===w&&(w=!0,o.updateOffset(this),w=!1)}function S(t){return t instanceof _||null!=t&&null!=t._isAMomentObject}function E(t){!1===o.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function O(t,e){var n=!0;return h((function(){if(null!=o.deprecationHandler&&o.deprecationHandler(null,t),n){var r,i,s,l=[],u=arguments.length;for(i=0;i<u;i++){if(r="","object"===typeof arguments[i]){for(s in r+="\n["+i+"] ",arguments[0])a(arguments[0],s)&&(r+=s+": "+arguments[0][s]+", ");r=r.slice(0,-2)}else r=arguments[i];l.push(r)}E(t+"\nArguments: "+Array.prototype.slice.call(l).join("")+"\n"+(new Error).stack),n=!1}return e.apply(this,arguments)}),e)}var x,T={};function R(t,e){null!=o.deprecationHandler&&o.deprecationHandler(t,e),T[t]||(E(e),T[t]=!0)}function D(t){return"undefined"!==typeof Function&&t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function P(t){var e,n;for(n in t)a(t,n)&&(D(e=t[n])?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function L(t,e){var n,o=h({},t);for(n in e)a(e,n)&&(s(t[n])&&s(e[n])?(o[n]={},h(o[n],t[n]),h(o[n],e[n])):null!=e[n]?o[n]=e[n]:delete o[n]);for(n in t)a(t,n)&&!a(e,n)&&s(t[n])&&(o[n]=h({},o[n]));return o}function M(t){null!=t&&this.set(t)}o.suppressDeprecationWarnings=!1,o.deprecationHandler=null,x=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)a(t,e)&&n.push(e);return n};var A={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function k(t,e,n){var o=this._calendar[t]||this._calendar.sameElse;return D(o)?o.call(e,n):o}function N(t,e,n){var o=""+Math.abs(t),r=e-o.length;return(t>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+o}var F=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,I=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,G={},H={};function V(t,e,n,o){var r=o;"string"===typeof o&&(r=function(){return this[o]()}),t&&(H[t]=r),e&&(H[e[0]]=function(){return N(r.apply(this,arguments),e[1],e[2])}),n&&(H[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function j(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function B(t){var e,n,o=t.match(F);for(e=0,n=o.length;e<n;e++)H[o[e]]?o[e]=H[o[e]]:o[e]=j(o[e]);return function(e){var r,i="";for(r=0;r<n;r++)i+=D(o[r])?o[r].call(e,t):o[r];return i}}function W(t,e){return t.isValid()?(e=z(e,t.localeData()),G[e]=G[e]||B(e),G[e](t)):t.localeData().invalidDate()}function z(t,e){var n=5;function o(t){return e.longDateFormat(t)||t}for(I.lastIndex=0;n>=0&&I.test(t);)t=t.replace(I,o),I.lastIndex=0,n-=1;return t}var U={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Y(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(F).map((function(t){return"MMMM"===t||"MM"===t||"DD"===t||"dddd"===t?t.slice(1):t})).join(""),this._longDateFormat[t])}var K="Invalid date";function Z(){return this._invalidDate}var q="%d",Q=/\d{1,2}/;function X(t){return this._ordinal.replace("%d",t)}var $={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function J(t,e,n,o){var r=this._relativeTime[n];return D(r)?r(t,e,n,o):r.replace(/%d/i,t)}function tt(t,e){var n=this._relativeTime[t>0?"future":"past"];return D(n)?n(e):n.replace(/%s/i,e)}var et={};function nt(t,e){var n=t.toLowerCase();et[n]=et[n+"s"]=et[e]=t}function ot(t){return"string"===typeof t?et[t]||et[t.toLowerCase()]:void 0}function rt(t){var e,n,o={};for(n in t)a(t,n)&&(e=ot(n))&&(o[e]=t[n]);return o}var it={};function st(t,e){it[t]=e}function at(t){var e,n=[];for(e in t)a(t,e)&&n.push({unit:e,priority:it[e]});return n.sort((function(t,e){return t.priority-e.priority})),n}function lt(t){return t%4===0&&t%100!==0||t%400===0}function ut(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function ct(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=ut(e)),n}function dt(t,e){return function(n){return null!=n?(ht(this,t,n),o.updateOffset(this,e),this):pt(this,t)}}function pt(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function ht(t,e,n){t.isValid()&&!isNaN(n)&&("FullYear"===e&&lt(t.year())&&1===t.month()&&29===t.date()?(n=ct(n),t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),Jt(n,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function ft(t){return D(this[t=ot(t)])?this[t]():this}function gt(t,e){if("object"===typeof t){var n,o=at(t=rt(t)),r=o.length;for(n=0;n<r;n++)this[o[n].unit](t[o[n].unit])}else if(D(this[t=ot(t)]))return this[t](e);return this}var vt,mt=/\d/,yt=/\d\d/,Ct=/\d{3}/,wt=/\d{4}/,bt=/[+-]?\d{6}/,_t=/\d\d?/,St=/\d\d\d\d?/,Et=/\d\d\d\d\d\d?/,Ot=/\d{1,3}/,xt=/\d{1,4}/,Tt=/[+-]?\d{1,6}/,Rt=/\d+/,Dt=/[+-]?\d+/,Pt=/Z|[+-]\d\d:?\d\d/gi,Lt=/Z|[+-]\d\d(?::?\d\d)?/gi,Mt=/[+-]?\d+(\.\d{1,3})?/,At=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function kt(t,e,n){vt[t]=D(e)?e:function(t,o){return t&&n?n:e}}function Nt(t,e){return a(vt,t)?vt[t](e._strict,e._locale):new RegExp(Ft(t))}function Ft(t){return It(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(t,e,n,o,r){return e||n||o||r})))}function It(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}vt={};var Gt={};function Ht(t,e){var n,o,r=e;for("string"===typeof t&&(t=[t]),c(e)&&(r=function(t,n){n[e]=ct(t)}),o=t.length,n=0;n<o;n++)Gt[t[n]]=r}function Vt(t,e){Ht(t,(function(t,n,o,r){o._w=o._w||{},e(t,o._w,o,r)}))}function jt(t,e,n){null!=e&&a(Gt,t)&&Gt[t](e,n._a,n,t)}var Bt,Wt=0,zt=1,Ut=2,Yt=3,Kt=4,Zt=5,qt=6,Qt=7,Xt=8;function $t(t,e){return(t%e+e)%e}function Jt(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=$t(e,12);return t+=(e-n)/12,1===n?lt(t)?29:28:31-n%7%2}Bt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},V("M",["MM",2],"Mo",(function(){return this.month()+1})),V("MMM",0,0,(function(t){return this.localeData().monthsShort(this,t)})),V("MMMM",0,0,(function(t){return this.localeData().months(this,t)})),nt("month","M"),st("month",8),kt("M",_t),kt("MM",_t,yt),kt("MMM",(function(t,e){return e.monthsShortRegex(t)})),kt("MMMM",(function(t,e){return e.monthsRegex(t)})),Ht(["M","MM"],(function(t,e){e[zt]=ct(t)-1})),Ht(["MMM","MMMM"],(function(t,e,n,o){var r=n._locale.monthsParse(t,o,n._strict);null!=r?e[zt]=r:v(n).invalidMonth=t}));var te="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ee="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ne=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,oe=At,re=At;function ie(t,e){return t?i(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||ne).test(e)?"format":"standalone"][t.month()]:i(this._months)?this._months:this._months.standalone}function se(t,e){return t?i(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[ne.test(e)?"format":"standalone"][t.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ae(t,e,n){var o,r,i,s=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],o=0;o<12;++o)i=f([2e3,o]),this._shortMonthsParse[o]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[o]=this.months(i,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(r=Bt.call(this._shortMonthsParse,s))?r:null:-1!==(r=Bt.call(this._longMonthsParse,s))?r:null:"MMM"===e?-1!==(r=Bt.call(this._shortMonthsParse,s))||-1!==(r=Bt.call(this._longMonthsParse,s))?r:null:-1!==(r=Bt.call(this._longMonthsParse,s))||-1!==(r=Bt.call(this._shortMonthsParse,s))?r:null}function le(t,e,n){var o,r,i;if(this._monthsParseExact)return ae.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),o=0;o<12;o++){if(r=f([2e3,o]),n&&!this._longMonthsParse[o]&&(this._longMonthsParse[o]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[o]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[o]||(i="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[o]=new RegExp(i.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[o].test(t))return o;if(n&&"MMM"===e&&this._shortMonthsParse[o].test(t))return o;if(!n&&this._monthsParse[o].test(t))return o}}function ue(t,e){var n;if(!t.isValid())return t;if("string"===typeof e)if(/^\d+$/.test(e))e=ct(e);else if(!c(e=t.localeData().monthsParse(e)))return t;return n=Math.min(t.date(),Jt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function ce(t){return null!=t?(ue(this,t),o.updateOffset(this,!0),this):pt(this,"Month")}function de(){return Jt(this.year(),this.month())}function pe(t){return this._monthsParseExact?(a(this,"_monthsRegex")||fe.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=oe),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function he(t){return this._monthsParseExact?(a(this,"_monthsRegex")||fe.call(this),t?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=re),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function fe(){function t(t,e){return e.length-t.length}var e,n,o=[],r=[],i=[];for(e=0;e<12;e++)n=f([2e3,e]),o.push(this.monthsShort(n,"")),r.push(this.months(n,"")),i.push(this.months(n,"")),i.push(this.monthsShort(n,""));for(o.sort(t),r.sort(t),i.sort(t),e=0;e<12;e++)o[e]=It(o[e]),r[e]=It(r[e]);for(e=0;e<24;e++)i[e]=It(i[e]);this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+o.join("|")+")","i")}function ge(t){return lt(t)?366:365}V("Y",0,0,(function(){var t=this.year();return t<=9999?N(t,4):"+"+t})),V(0,["YY",2],0,(function(){return this.year()%100})),V(0,["YYYY",4],0,"year"),V(0,["YYYYY",5],0,"year"),V(0,["YYYYYY",6,!0],0,"year"),nt("year","y"),st("year",1),kt("Y",Dt),kt("YY",_t,yt),kt("YYYY",xt,wt),kt("YYYYY",Tt,bt),kt("YYYYYY",Tt,bt),Ht(["YYYYY","YYYYYY"],Wt),Ht("YYYY",(function(t,e){e[Wt]=2===t.length?o.parseTwoDigitYear(t):ct(t)})),Ht("YY",(function(t,e){e[Wt]=o.parseTwoDigitYear(t)})),Ht("Y",(function(t,e){e[Wt]=parseInt(t,10)})),o.parseTwoDigitYear=function(t){return ct(t)+(ct(t)>68?1900:2e3)};var ve=dt("FullYear",!0);function me(){return lt(this.year())}function ye(t,e,n,o,r,i,s){var a;return t<100&&t>=0?(a=new Date(t+400,e,n,o,r,i,s),isFinite(a.getFullYear())&&a.setFullYear(t)):a=new Date(t,e,n,o,r,i,s),a}function Ce(t){var e,n;return t<100&&t>=0?((n=Array.prototype.slice.call(arguments))[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function we(t,e,n){var o=7+e-n;return-(7+Ce(t,0,o).getUTCDay()-e)%7+o-1}function be(t,e,n,o,r){var i,s,a=1+7*(e-1)+(7+n-o)%7+we(t,o,r);return a<=0?s=ge(i=t-1)+a:a>ge(t)?(i=t+1,s=a-ge(t)):(i=t,s=a),{year:i,dayOfYear:s}}function _e(t,e,n){var o,r,i=we(t.year(),e,n),s=Math.floor((t.dayOfYear()-i-1)/7)+1;return s<1?o=s+Se(r=t.year()-1,e,n):s>Se(t.year(),e,n)?(o=s-Se(t.year(),e,n),r=t.year()+1):(r=t.year(),o=s),{week:o,year:r}}function Se(t,e,n){var o=we(t,e,n),r=we(t+1,e,n);return(ge(t)-o+r)/7}function Ee(t){return _e(t,this._week.dow,this._week.doy).week}V("w",["ww",2],"wo","week"),V("W",["WW",2],"Wo","isoWeek"),nt("week","w"),nt("isoWeek","W"),st("week",5),st("isoWeek",5),kt("w",_t),kt("ww",_t,yt),kt("W",_t),kt("WW",_t,yt),Vt(["w","ww","W","WW"],(function(t,e,n,o){e[o.substr(0,1)]=ct(t)}));var Oe={dow:0,doy:6};function xe(){return this._week.dow}function Te(){return this._week.doy}function Re(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function De(t){var e=_e(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function Pe(t,e){return"string"!==typeof t?t:isNaN(t)?"number"===typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}function Le(t,e){return"string"===typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Me(t,e){return t.slice(e,7).concat(t.slice(0,e))}V("d",0,"do","day"),V("dd",0,0,(function(t){return this.localeData().weekdaysMin(this,t)})),V("ddd",0,0,(function(t){return this.localeData().weekdaysShort(this,t)})),V("dddd",0,0,(function(t){return this.localeData().weekdays(this,t)})),V("e",0,0,"weekday"),V("E",0,0,"isoWeekday"),nt("day","d"),nt("weekday","e"),nt("isoWeekday","E"),st("day",11),st("weekday",11),st("isoWeekday",11),kt("d",_t),kt("e",_t),kt("E",_t),kt("dd",(function(t,e){return e.weekdaysMinRegex(t)})),kt("ddd",(function(t,e){return e.weekdaysShortRegex(t)})),kt("dddd",(function(t,e){return e.weekdaysRegex(t)})),Vt(["dd","ddd","dddd"],(function(t,e,n,o){var r=n._locale.weekdaysParse(t,o,n._strict);null!=r?e.d=r:v(n).invalidWeekday=t})),Vt(["d","e","E"],(function(t,e,n,o){e[o]=ct(t)}));var Ae="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ke="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ne="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Fe=At,Ie=At,Ge=At;function He(t,e){var n=i(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?Me(n,this._week.dow):t?n[t.day()]:n}function Ve(t){return!0===t?Me(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function je(t){return!0===t?Me(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function Be(t,e,n){var o,r,i,s=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],o=0;o<7;++o)i=f([2e3,1]).day(o),this._minWeekdaysParse[o]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[o]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[o]=this.weekdays(i,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(r=Bt.call(this._weekdaysParse,s))?r:null:"ddd"===e?-1!==(r=Bt.call(this._shortWeekdaysParse,s))?r:null:-1!==(r=Bt.call(this._minWeekdaysParse,s))?r:null:"dddd"===e?-1!==(r=Bt.call(this._weekdaysParse,s))||-1!==(r=Bt.call(this._shortWeekdaysParse,s))||-1!==(r=Bt.call(this._minWeekdaysParse,s))?r:null:"ddd"===e?-1!==(r=Bt.call(this._shortWeekdaysParse,s))||-1!==(r=Bt.call(this._weekdaysParse,s))||-1!==(r=Bt.call(this._minWeekdaysParse,s))?r:null:-1!==(r=Bt.call(this._minWeekdaysParse,s))||-1!==(r=Bt.call(this._weekdaysParse,s))||-1!==(r=Bt.call(this._shortWeekdaysParse,s))?r:null}function We(t,e,n){var o,r,i;if(this._weekdaysParseExact)return Be.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),o=0;o<7;o++){if(r=f([2e3,1]).day(o),n&&!this._fullWeekdaysParse[o]&&(this._fullWeekdaysParse[o]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[o]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[o]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[o]||(i="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[o]=new RegExp(i.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[o].test(t))return o;if(n&&"ddd"===e&&this._shortWeekdaysParse[o].test(t))return o;if(n&&"dd"===e&&this._minWeekdaysParse[o].test(t))return o;if(!n&&this._weekdaysParse[o].test(t))return o}}function ze(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Pe(t,this.localeData()),this.add(t-e,"d")):e}function Ue(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Ye(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=Le(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7}function Ke(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Qe.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=Fe),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function Ze(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Qe.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ie),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function qe(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Qe.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ge),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Qe(){function t(t,e){return e.length-t.length}var e,n,o,r,i,s=[],a=[],l=[],u=[];for(e=0;e<7;e++)n=f([2e3,1]).day(e),o=It(this.weekdaysMin(n,"")),r=It(this.weekdaysShort(n,"")),i=It(this.weekdays(n,"")),s.push(o),a.push(r),l.push(i),u.push(o),u.push(r),u.push(i);s.sort(t),a.sort(t),l.sort(t),u.sort(t),this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function Xe(){return this.hours()%12||12}function $e(){return this.hours()||24}function Je(t,e){V(t,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)}))}function tn(t,e){return e._meridiemParse}function en(t){return"p"===(t+"").toLowerCase().charAt(0)}V("H",["HH",2],0,"hour"),V("h",["hh",2],0,Xe),V("k",["kk",2],0,$e),V("hmm",0,0,(function(){return""+Xe.apply(this)+N(this.minutes(),2)})),V("hmmss",0,0,(function(){return""+Xe.apply(this)+N(this.minutes(),2)+N(this.seconds(),2)})),V("Hmm",0,0,(function(){return""+this.hours()+N(this.minutes(),2)})),V("Hmmss",0,0,(function(){return""+this.hours()+N(this.minutes(),2)+N(this.seconds(),2)})),Je("a",!0),Je("A",!1),nt("hour","h"),st("hour",13),kt("a",tn),kt("A",tn),kt("H",_t),kt("h",_t),kt("k",_t),kt("HH",_t,yt),kt("hh",_t,yt),kt("kk",_t,yt),kt("hmm",St),kt("hmmss",Et),kt("Hmm",St),kt("Hmmss",Et),Ht(["H","HH"],Yt),Ht(["k","kk"],(function(t,e,n){var o=ct(t);e[Yt]=24===o?0:o})),Ht(["a","A"],(function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t})),Ht(["h","hh"],(function(t,e,n){e[Yt]=ct(t),v(n).bigHour=!0})),Ht("hmm",(function(t,e,n){var o=t.length-2;e[Yt]=ct(t.substr(0,o)),e[Kt]=ct(t.substr(o)),v(n).bigHour=!0})),Ht("hmmss",(function(t,e,n){var o=t.length-4,r=t.length-2;e[Yt]=ct(t.substr(0,o)),e[Kt]=ct(t.substr(o,2)),e[Zt]=ct(t.substr(r)),v(n).bigHour=!0})),Ht("Hmm",(function(t,e,n){var o=t.length-2;e[Yt]=ct(t.substr(0,o)),e[Kt]=ct(t.substr(o))})),Ht("Hmmss",(function(t,e,n){var o=t.length-4,r=t.length-2;e[Yt]=ct(t.substr(0,o)),e[Kt]=ct(t.substr(o,2)),e[Zt]=ct(t.substr(r))}));var nn=/[ap]\.?m?\.?/i,on=dt("Hours",!0);function rn(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var sn,an={calendar:A,longDateFormat:U,invalidDate:K,ordinal:q,dayOfMonthOrdinalParse:Q,relativeTime:$,months:te,monthsShort:ee,week:Oe,weekdays:Ae,weekdaysMin:Ne,weekdaysShort:ke,meridiemParse:nn},ln={},un={};function cn(t,e){var n,o=Math.min(t.length,e.length);for(n=0;n<o;n+=1)if(t[n]!==e[n])return n;return o}function dn(t){return t?t.toLowerCase().replace("_","-"):t}function pn(t){for(var e,n,o,r,i=0;i<t.length;){for(e=(r=dn(t[i]).split("-")).length,n=(n=dn(t[i+1]))?n.split("-"):null;e>0;){if(o=fn(r.slice(0,e).join("-")))return o;if(n&&n.length>=e&&cn(r,n)>=e-1)break;e--}i++}return sn}function hn(t){return null!=t.match("^[^/\\\\]*$")}function fn(e){var n=null;if(void 0===ln[e]&&t&&t.exports&&hn(e))try{n=sn._abbr,Object(function(){var t=new Error("Cannot find module 'undefined'");throw t.code="MODULE_NOT_FOUND",t}()),gn(n)}catch(o){ln[e]=null}return ln[e]}function gn(t,e){var n;return t&&((n=u(e)?yn(t):vn(t,e))?sn=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),sn._abbr}function vn(t,e){if(null!==e){var n,o=an;if(e.abbr=t,null!=ln[t])R("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),o=ln[t]._config;else if(null!=e.parentLocale)if(null!=ln[e.parentLocale])o=ln[e.parentLocale]._config;else{if(null==(n=fn(e.parentLocale)))return un[e.parentLocale]||(un[e.parentLocale]=[]),un[e.parentLocale].push({name:t,config:e}),null;o=n._config}return ln[t]=new M(L(o,e)),un[t]&&un[t].forEach((function(t){vn(t.name,t.config)})),gn(t),ln[t]}return delete ln[t],null}function mn(t,e){if(null!=e){var n,o,r=an;null!=ln[t]&&null!=ln[t].parentLocale?ln[t].set(L(ln[t]._config,e)):(null!=(o=fn(t))&&(r=o._config),e=L(r,e),null==o&&(e.abbr=t),(n=new M(e)).parentLocale=ln[t],ln[t]=n),gn(t)}else null!=ln[t]&&(null!=ln[t].parentLocale?(ln[t]=ln[t].parentLocale,t===gn()&&gn(t)):null!=ln[t]&&delete ln[t]);return ln[t]}function yn(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return sn;if(!i(t)){if(e=fn(t))return e;t=[t]}return pn(t)}function Cn(){return x(ln)}function wn(t){var e,n=t._a;return n&&-2===v(t).overflow&&(e=n[zt]<0||n[zt]>11?zt:n[Ut]<1||n[Ut]>Jt(n[Wt],n[zt])?Ut:n[Yt]<0||n[Yt]>24||24===n[Yt]&&(0!==n[Kt]||0!==n[Zt]||0!==n[qt])?Yt:n[Kt]<0||n[Kt]>59?Kt:n[Zt]<0||n[Zt]>59?Zt:n[qt]<0||n[qt]>999?qt:-1,v(t)._overflowDayOfYear&&(e<Wt||e>Ut)&&(e=Ut),v(t)._overflowWeeks&&-1===e&&(e=Qt),v(t)._overflowWeekday&&-1===e&&(e=Xt),v(t).overflow=e),t}var bn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_n=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Sn=/Z|[+-]\d\d(?::?\d\d)?/,En=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],On=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],xn=/^\/?Date\((-?\d+)/i,Tn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Rn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Dn(t){var e,n,o,r,i,s,a=t._i,l=bn.exec(a)||_n.exec(a),u=En.length,c=On.length;if(l){for(v(t).iso=!0,e=0,n=u;e<n;e++)if(En[e][1].exec(l[1])){r=En[e][0],o=!1!==En[e][2];break}if(null==r)return void(t._isValid=!1);if(l[3]){for(e=0,n=c;e<n;e++)if(On[e][1].exec(l[3])){i=(l[2]||" ")+On[e][0];break}if(null==i)return void(t._isValid=!1)}if(!o&&null!=i)return void(t._isValid=!1);if(l[4]){if(!Sn.exec(l[4]))return void(t._isValid=!1);s="Z"}t._f=r+(i||"")+(s||""),jn(t)}else t._isValid=!1}function Pn(t,e,n,o,r,i){var s=[Ln(t),ee.indexOf(e),parseInt(n,10),parseInt(o,10),parseInt(r,10)];return i&&s.push(parseInt(i,10)),s}function Ln(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function Mn(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function An(t,e,n){return!t||ke.indexOf(t)===new Date(e[0],e[1],e[2]).getDay()||(v(n).weekdayMismatch=!0,n._isValid=!1,!1)}function kn(t,e,n){if(t)return Rn[t];if(e)return 0;var o=parseInt(n,10),r=o%100;return(o-r)/100*60+r}function Nn(t){var e,n=Tn.exec(Mn(t._i));if(n){if(e=Pn(n[4],n[3],n[2],n[5],n[6],n[7]),!An(n[1],e,t))return;t._a=e,t._tzm=kn(n[8],n[9],n[10]),t._d=Ce.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),v(t).rfc2822=!0}else t._isValid=!1}function Fn(t){var e=xn.exec(t._i);null===e?(Dn(t),!1===t._isValid&&(delete t._isValid,Nn(t),!1===t._isValid&&(delete t._isValid,t._strict?t._isValid=!1:o.createFromInputFallback(t)))):t._d=new Date(+e[1])}function In(t,e,n){return null!=t?t:null!=e?e:n}function Gn(t){var e=new Date(o.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function Hn(t){var e,n,o,r,i,s=[];if(!t._d){for(o=Gn(t),t._w&&null==t._a[Ut]&&null==t._a[zt]&&Vn(t),null!=t._dayOfYear&&(i=In(t._a[Wt],o[Wt]),(t._dayOfYear>ge(i)||0===t._dayOfYear)&&(v(t)._overflowDayOfYear=!0),n=Ce(i,0,t._dayOfYear),t._a[zt]=n.getUTCMonth(),t._a[Ut]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=s[e]=o[e];for(;e<7;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[Yt]&&0===t._a[Kt]&&0===t._a[Zt]&&0===t._a[qt]&&(t._nextDay=!0,t._a[Yt]=0),t._d=(t._useUTC?Ce:ye).apply(null,s),r=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Yt]=24),t._w&&"undefined"!==typeof t._w.d&&t._w.d!==r&&(v(t).weekdayMismatch=!0)}}function Vn(t){var e,n,o,r,i,s,a,l,u;null!=(e=t._w).GG||null!=e.W||null!=e.E?(i=1,s=4,n=In(e.GG,t._a[Wt],_e(qn(),1,4).year),o=In(e.W,1),((r=In(e.E,1))<1||r>7)&&(l=!0)):(i=t._locale._week.dow,s=t._locale._week.doy,u=_e(qn(),i,s),n=In(e.gg,t._a[Wt],u.year),o=In(e.w,u.week),null!=e.d?((r=e.d)<0||r>6)&&(l=!0):null!=e.e?(r=e.e+i,(e.e<0||e.e>6)&&(l=!0)):r=i),o<1||o>Se(n,i,s)?v(t)._overflowWeeks=!0:null!=l?v(t)._overflowWeekday=!0:(a=be(n,o,r,i,s),t._a[Wt]=a.year,t._dayOfYear=a.dayOfYear)}function jn(t){if(t._f!==o.ISO_8601)if(t._f!==o.RFC_2822){t._a=[],v(t).empty=!0;var e,n,r,i,s,a,l,u=""+t._i,c=u.length,d=0;for(l=(r=z(t._f,t._locale).match(F)||[]).length,e=0;e<l;e++)i=r[e],(n=(u.match(Nt(i,t))||[])[0])&&((s=u.substr(0,u.indexOf(n))).length>0&&v(t).unusedInput.push(s),u=u.slice(u.indexOf(n)+n.length),d+=n.length),H[i]?(n?v(t).empty=!1:v(t).unusedTokens.push(i),jt(i,n,t)):t._strict&&!n&&v(t).unusedTokens.push(i);v(t).charsLeftOver=c-d,u.length>0&&v(t).unusedInput.push(u),t._a[Yt]<=12&&!0===v(t).bigHour&&t._a[Yt]>0&&(v(t).bigHour=void 0),v(t).parsedDateParts=t._a.slice(0),v(t).meridiem=t._meridiem,t._a[Yt]=Bn(t._locale,t._a[Yt],t._meridiem),null!==(a=v(t).era)&&(t._a[Wt]=t._locale.erasConvertYear(a,t._a[Wt])),Hn(t),wn(t)}else Nn(t);else Dn(t)}function Bn(t,e,n){var o;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?((o=t.isPM(n))&&e<12&&(e+=12),o||12!==e||(e=0),e):e}function Wn(t){var e,n,o,r,i,s,a=!1,l=t._f.length;if(0===l)return v(t).invalidFormat=!0,void(t._d=new Date(NaN));for(r=0;r<l;r++)i=0,s=!1,e=b({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],jn(e),m(e)&&(s=!0),i+=v(e).charsLeftOver,i+=10*v(e).unusedTokens.length,v(e).score=i,a?i<o&&(o=i,n=e):(null==o||i<o||s)&&(o=i,n=e,s&&(a=!0));h(t,n||e)}function zn(t){if(!t._d){var e=rt(t._i),n=void 0===e.day?e.date:e.day;t._a=p([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],(function(t){return t&&parseInt(t,10)})),Hn(t)}}function Un(t){var e=new _(wn(Yn(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Yn(t){var e=t._i,n=t._f;return t._locale=t._locale||yn(t._l),null===e||void 0===n&&""===e?y({nullInput:!0}):("string"===typeof e&&(t._i=e=t._locale.preparse(e)),S(e)?new _(wn(e)):(d(e)?t._d=e:i(n)?Wn(t):n?jn(t):Kn(t),m(t)||(t._d=null),t))}function Kn(t){var e=t._i;u(e)?t._d=new Date(o.now()):d(e)?t._d=new Date(e.valueOf()):"string"===typeof e?Fn(t):i(e)?(t._a=p(e.slice(0),(function(t){return parseInt(t,10)})),Hn(t)):s(e)?zn(t):c(e)?t._d=new Date(e):o.createFromInputFallback(t)}function Zn(t,e,n,o,r){var a={};return!0!==e&&!1!==e||(o=e,e=void 0),!0!==n&&!1!==n||(o=n,n=void 0),(s(t)&&l(t)||i(t)&&0===t.length)&&(t=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=r,a._l=n,a._i=t,a._f=e,a._strict=o,Un(a)}function qn(t,e,n,o){return Zn(t,e,n,o,!1)}o.createFromInputFallback=O("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))})),o.ISO_8601=function(){},o.RFC_2822=function(){};var Qn=O("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=qn.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:y()})),Xn=O("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=qn.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:y()}));function $n(t,e){var n,o;if(1===e.length&&i(e[0])&&(e=e[0]),!e.length)return qn();for(n=e[0],o=1;o<e.length;++o)e[o].isValid()&&!e[o][t](n)||(n=e[o]);return n}function Jn(){return $n("isBefore",[].slice.call(arguments,0))}function to(){return $n("isAfter",[].slice.call(arguments,0))}var eo=function(){return Date.now?Date.now():+new Date},no=["year","quarter","month","week","day","hour","minute","second","millisecond"];function oo(t){var e,n,o=!1,r=no.length;for(e in t)if(a(t,e)&&(-1===Bt.call(no,e)||null!=t[e]&&isNaN(t[e])))return!1;for(n=0;n<r;++n)if(t[no[n]]){if(o)return!1;parseFloat(t[no[n]])!==ct(t[no[n]])&&(o=!0)}return!0}function ro(){return this._isValid}function io(){return Do(NaN)}function so(t){var e=rt(t),n=e.year||0,o=e.quarter||0,r=e.month||0,i=e.week||e.isoWeek||0,s=e.day||0,a=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._isValid=oo(e),this._milliseconds=+c+1e3*u+6e4*l+1e3*a*60*60,this._days=+s+7*i,this._months=+r+3*o+12*n,this._data={},this._locale=yn(),this._bubble()}function ao(t){return t instanceof so}function lo(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function uo(t,e,n){var o,r=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),s=0;for(o=0;o<r;o++)(n&&t[o]!==e[o]||!n&&ct(t[o])!==ct(e[o]))&&s++;return s+i}function co(t,e){V(t,0,0,(function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+N(~~(t/60),2)+e+N(~~t%60,2)}))}co("Z",":"),co("ZZ",""),kt("Z",Lt),kt("ZZ",Lt),Ht(["Z","ZZ"],(function(t,e,n){n._useUTC=!0,n._tzm=ho(Lt,t)}));var po=/([\+\-]|\d\d)/gi;function ho(t,e){var n,o,r=(e||"").match(t);return null===r?null:0===(o=60*(n=((r[r.length-1]||[])+"").match(po)||["-",0,0])[1]+ct(n[2]))?0:"+"===n[0]?o:-o}function fo(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(S(t)||d(t)?t.valueOf():qn(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),o.updateOffset(n,!1),n):qn(t).local()}function go(t){return-Math.round(t._d.getTimezoneOffset())}function vo(t,e,n){var r,i=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"===typeof t){if(null===(t=ho(Lt,t)))return this}else Math.abs(t)<16&&!n&&(t*=60);return!this._isUTC&&e&&(r=go(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),i!==t&&(!e||this._changeInProgress?ko(this,Do(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,o.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?i:go(this)}function mo(t,e){return null!=t?("string"!==typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function yo(t){return this.utcOffset(0,t)}function Co(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(go(this),"m")),this}function wo(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var t=ho(Pt,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this}function bo(t){return!!this.isValid()&&(t=t?qn(t).utcOffset():0,(this.utcOffset()-t)%60===0)}function _o(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function So(){if(!u(this._isDSTShifted))return this._isDSTShifted;var t,e={};return b(e,this),(e=Yn(e))._a?(t=e._isUTC?f(e._a):qn(e._a),this._isDSTShifted=this.isValid()&&uo(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Eo(){return!!this.isValid()&&!this._isUTC}function Oo(){return!!this.isValid()&&this._isUTC}function xo(){return!!this.isValid()&&this._isUTC&&0===this._offset}o.updateOffset=function(){};var To=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Ro=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Do(t,e){var n,o,r,i=t,s=null;return ao(t)?i={ms:t._milliseconds,d:t._days,M:t._months}:c(t)||!isNaN(+t)?(i={},e?i[e]=+t:i.milliseconds=+t):(s=To.exec(t))?(n="-"===s[1]?-1:1,i={y:0,d:ct(s[Ut])*n,h:ct(s[Yt])*n,m:ct(s[Kt])*n,s:ct(s[Zt])*n,ms:ct(lo(1e3*s[qt]))*n}):(s=Ro.exec(t))?(n="-"===s[1]?-1:1,i={y:Po(s[2],n),M:Po(s[3],n),w:Po(s[4],n),d:Po(s[5],n),h:Po(s[6],n),m:Po(s[7],n),s:Po(s[8],n)}):null==i?i={}:"object"===typeof i&&("from"in i||"to"in i)&&(r=Mo(qn(i.from),qn(i.to)),(i={}).ms=r.milliseconds,i.M=r.months),o=new so(i),ao(t)&&a(t,"_locale")&&(o._locale=t._locale),ao(t)&&a(t,"_isValid")&&(o._isValid=t._isValid),o}function Po(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Lo(t,e){var n={};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Mo(t,e){var n;return t.isValid()&&e.isValid()?(e=fo(e,t),t.isBefore(e)?n=Lo(t,e):((n=Lo(e,t)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Ao(t,e){return function(n,o){var r;return null===o||isNaN(+o)||(R(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=o,o=r),ko(this,Do(n,o),t),this}}function ko(t,e,n,r){var i=e._milliseconds,s=lo(e._days),a=lo(e._months);t.isValid()&&(r=null==r||r,a&&ue(t,pt(t,"Month")+a*n),s&&ht(t,"Date",pt(t,"Date")+s*n),i&&t._d.setTime(t._d.valueOf()+i*n),r&&o.updateOffset(t,s||a))}Do.fn=so.prototype,Do.invalid=io;var No=Ao(1,"add"),Fo=Ao(-1,"subtract");function Io(t){return"string"===typeof t||t instanceof String}function Go(t){return S(t)||d(t)||Io(t)||c(t)||Vo(t)||Ho(t)||null===t||void 0===t}function Ho(t){var e,n,o=s(t)&&!l(t),r=!1,i=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],u=i.length;for(e=0;e<u;e+=1)n=i[e],r=r||a(t,n);return o&&r}function Vo(t){var e=i(t),n=!1;return e&&(n=0===t.filter((function(e){return!c(e)&&Io(t)})).length),e&&n}function jo(t){var e,n,o=s(t)&&!l(t),r=!1,i=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(e=0;e<i.length;e+=1)n=i[e],r=r||a(t,n);return o&&r}function Bo(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Wo(t,e){1===arguments.length&&(arguments[0]?Go(arguments[0])?(t=arguments[0],e=void 0):jo(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||qn(),r=fo(n,this).startOf("day"),i=o.calendarFormat(this,r)||"sameElse",s=e&&(D(e[i])?e[i].call(this,n):e[i]);return this.format(s||this.localeData().calendar(i,this,qn(n)))}function zo(){return new _(this)}function Uo(t,e){var n=S(t)?t:qn(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=ot(e)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())}function Yo(t,e){var n=S(t)?t:qn(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=ot(e)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())}function Ko(t,e,n,o){var r=S(t)?t:qn(t),i=S(e)?e:qn(e);return!!(this.isValid()&&r.isValid()&&i.isValid())&&("("===(o=o||"()")[0]?this.isAfter(r,n):!this.isBefore(r,n))&&(")"===o[1]?this.isBefore(i,n):!this.isAfter(i,n))}function Zo(t,e){var n,o=S(t)?t:qn(t);return!(!this.isValid()||!o.isValid())&&("millisecond"===(e=ot(e)||"millisecond")?this.valueOf()===o.valueOf():(n=o.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))}function qo(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function Qo(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function Xo(t,e,n){var o,r,i;if(!this.isValid())return NaN;if(!(o=fo(t,this)).isValid())return NaN;switch(r=6e4*(o.utcOffset()-this.utcOffset()),e=ot(e)){case"year":i=$o(this,o)/12;break;case"month":i=$o(this,o);break;case"quarter":i=$o(this,o)/3;break;case"second":i=(this-o)/1e3;break;case"minute":i=(this-o)/6e4;break;case"hour":i=(this-o)/36e5;break;case"day":i=(this-o-r)/864e5;break;case"week":i=(this-o-r)/6048e5;break;default:i=this-o}return n?i:ut(i)}function $o(t,e){if(t.date()<e.date())return-$o(e,t);var n=12*(e.year()-t.year())+(e.month()-t.month()),o=t.clone().add(n,"months");return-(n+(e-o<0?(e-o)/(o-t.clone().add(n-1,"months")):(e-o)/(t.clone().add(n+1,"months")-o)))||0}function Jo(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function tr(t){if(!this.isValid())return null;var e=!0!==t,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?W(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):D(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",W(n,"Z")):W(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function er(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t,e,n,o,r="moment",i="";return this.isLocal()||(r=0===this.utcOffset()?"moment.utc":"moment.parseZone",i="Z"),t="["+r+'("]',e=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",o=i+'[")]',this.format(t+e+n+o)}function nr(t){t||(t=this.isUtc()?o.defaultFormatUtc:o.defaultFormat);var e=W(this,t);return this.localeData().postformat(e)}function or(t,e){return this.isValid()&&(S(t)&&t.isValid()||qn(t).isValid())?Do({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function rr(t){return this.from(qn(),t)}function ir(t,e){return this.isValid()&&(S(t)&&t.isValid()||qn(t).isValid())?Do({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function sr(t){return this.to(qn(),t)}function ar(t){var e;return void 0===t?this._locale._abbr:(null!=(e=yn(t))&&(this._locale=e),this)}o.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",o.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var lr=O("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(t){return void 0===t?this.localeData():this.locale(t)}));function ur(){return this._locale}var cr=1e3,dr=60*cr,pr=60*dr,hr=3506328*pr;function fr(t,e){return(t%e+e)%e}function gr(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-hr:new Date(t,e,n).valueOf()}function vr(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-hr:Date.UTC(t,e,n)}function mr(t){var e,n;if(void 0===(t=ot(t))||"millisecond"===t||!this.isValid())return this;switch(n=this._isUTC?vr:gr,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=fr(e+(this._isUTC?0:this.utcOffset()*dr),pr);break;case"minute":e=this._d.valueOf(),e-=fr(e,dr);break;case"second":e=this._d.valueOf(),e-=fr(e,cr)}return this._d.setTime(e),o.updateOffset(this,!0),this}function yr(t){var e,n;if(void 0===(t=ot(t))||"millisecond"===t||!this.isValid())return this;switch(n=this._isUTC?vr:gr,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=pr-fr(e+(this._isUTC?0:this.utcOffset()*dr),pr)-1;break;case"minute":e=this._d.valueOf(),e+=dr-fr(e,dr)-1;break;case"second":e=this._d.valueOf(),e+=cr-fr(e,cr)-1}return this._d.setTime(e),o.updateOffset(this,!0),this}function Cr(){return this._d.valueOf()-6e4*(this._offset||0)}function wr(){return Math.floor(this.valueOf()/1e3)}function br(){return new Date(this.valueOf())}function _r(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Sr(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Er(){return this.isValid()?this.toISOString():null}function Or(){return m(this)}function xr(){return h({},v(this))}function Tr(){return v(this).overflow}function Rr(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Dr(t,e){var n,r,i,s=this._eras||yn("en")._eras;for(n=0,r=s.length;n<r;++n)switch("string"===typeof s[n].since&&(i=o(s[n].since).startOf("day"),s[n].since=i.valueOf()),typeof s[n].until){case"undefined":s[n].until=1/0;break;case"string":i=o(s[n].until).startOf("day").valueOf(),s[n].until=i.valueOf()}return s}function Pr(t,e,n){var o,r,i,s,a,l=this.eras();for(t=t.toUpperCase(),o=0,r=l.length;o<r;++o)if(i=l[o].name.toUpperCase(),s=l[o].abbr.toUpperCase(),a=l[o].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(s===t)return l[o];break;case"NNNN":if(i===t)return l[o];break;case"NNNNN":if(a===t)return l[o]}else if([i,s,a].indexOf(t)>=0)return l[o]}function Lr(t,e){var n=t.since<=t.until?1:-1;return void 0===e?o(t.since).year():o(t.since).year()+(e-t.offset)*n}function Mr(){var t,e,n,o=this.localeData().eras();for(t=0,e=o.length;t<e;++t){if(n=this.clone().startOf("day").valueOf(),o[t].since<=n&&n<=o[t].until)return o[t].name;if(o[t].until<=n&&n<=o[t].since)return o[t].name}return""}function Ar(){var t,e,n,o=this.localeData().eras();for(t=0,e=o.length;t<e;++t){if(n=this.clone().startOf("day").valueOf(),o[t].since<=n&&n<=o[t].until)return o[t].narrow;if(o[t].until<=n&&n<=o[t].since)return o[t].narrow}return""}function kr(){var t,e,n,o=this.localeData().eras();for(t=0,e=o.length;t<e;++t){if(n=this.clone().startOf("day").valueOf(),o[t].since<=n&&n<=o[t].until)return o[t].abbr;if(o[t].until<=n&&n<=o[t].since)return o[t].abbr}return""}function Nr(){var t,e,n,r,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=i[t].since<=i[t].until?1:-1,r=this.clone().startOf("day").valueOf(),i[t].since<=r&&r<=i[t].until||i[t].until<=r&&r<=i[t].since)return(this.year()-o(i[t].since).year())*n+i[t].offset;return this.year()}function Fr(t){return a(this,"_erasNameRegex")||Wr.call(this),t?this._erasNameRegex:this._erasRegex}function Ir(t){return a(this,"_erasAbbrRegex")||Wr.call(this),t?this._erasAbbrRegex:this._erasRegex}function Gr(t){return a(this,"_erasNarrowRegex")||Wr.call(this),t?this._erasNarrowRegex:this._erasRegex}function Hr(t,e){return e.erasAbbrRegex(t)}function Vr(t,e){return e.erasNameRegex(t)}function jr(t,e){return e.erasNarrowRegex(t)}function Br(t,e){return e._eraYearOrdinalRegex||Rt}function Wr(){var t,e,n=[],o=[],r=[],i=[],s=this.eras();for(t=0,e=s.length;t<e;++t)o.push(It(s[t].name)),n.push(It(s[t].abbr)),r.push(It(s[t].narrow)),i.push(It(s[t].name)),i.push(It(s[t].abbr)),i.push(It(s[t].narrow));this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+o.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}function zr(t,e){V(0,[t,t.length],0,e)}function Ur(t){return Xr.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Yr(t){return Xr.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Kr(){return Se(this.year(),1,4)}function Zr(){return Se(this.isoWeekYear(),1,4)}function qr(){var t=this.localeData()._week;return Se(this.year(),t.dow,t.doy)}function Qr(){var t=this.localeData()._week;return Se(this.weekYear(),t.dow,t.doy)}function Xr(t,e,n,o,r){var i;return null==t?_e(this,o,r).year:(e>(i=Se(t,o,r))&&(e=i),$r.call(this,t,e,n,o,r))}function $r(t,e,n,o,r){var i=be(t,e,n,o,r),s=Ce(i.year,0,i.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}function Jr(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}V("N",0,0,"eraAbbr"),V("NN",0,0,"eraAbbr"),V("NNN",0,0,"eraAbbr"),V("NNNN",0,0,"eraName"),V("NNNNN",0,0,"eraNarrow"),V("y",["y",1],"yo","eraYear"),V("y",["yy",2],0,"eraYear"),V("y",["yyy",3],0,"eraYear"),V("y",["yyyy",4],0,"eraYear"),kt("N",Hr),kt("NN",Hr),kt("NNN",Hr),kt("NNNN",Vr),kt("NNNNN",jr),Ht(["N","NN","NNN","NNNN","NNNNN"],(function(t,e,n,o){var r=n._locale.erasParse(t,o,n._strict);r?v(n).era=r:v(n).invalidEra=t})),kt("y",Rt),kt("yy",Rt),kt("yyy",Rt),kt("yyyy",Rt),kt("yo",Br),Ht(["y","yy","yyy","yyyy"],Wt),Ht(["yo"],(function(t,e,n,o){var r;n._locale._eraYearOrdinalRegex&&(r=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[Wt]=n._locale.eraYearOrdinalParse(t,r):e[Wt]=parseInt(t,10)})),V(0,["gg",2],0,(function(){return this.weekYear()%100})),V(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),zr("gggg","weekYear"),zr("ggggg","weekYear"),zr("GGGG","isoWeekYear"),zr("GGGGG","isoWeekYear"),nt("weekYear","gg"),nt("isoWeekYear","GG"),st("weekYear",1),st("isoWeekYear",1),kt("G",Dt),kt("g",Dt),kt("GG",_t,yt),kt("gg",_t,yt),kt("GGGG",xt,wt),kt("gggg",xt,wt),kt("GGGGG",Tt,bt),kt("ggggg",Tt,bt),Vt(["gggg","ggggg","GGGG","GGGGG"],(function(t,e,n,o){e[o.substr(0,2)]=ct(t)})),Vt(["gg","GG"],(function(t,e,n,r){e[r]=o.parseTwoDigitYear(t)})),V("Q",0,"Qo","quarter"),nt("quarter","Q"),st("quarter",7),kt("Q",mt),Ht("Q",(function(t,e){e[zt]=3*(ct(t)-1)})),V("D",["DD",2],"Do","date"),nt("date","D"),st("date",9),kt("D",_t),kt("DD",_t,yt),kt("Do",(function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient})),Ht(["D","DD"],Ut),Ht("Do",(function(t,e){e[Ut]=ct(t.match(_t)[0])}));var ti=dt("Date",!0);function ei(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}V("DDD",["DDDD",3],"DDDo","dayOfYear"),nt("dayOfYear","DDD"),st("dayOfYear",4),kt("DDD",Ot),kt("DDDD",Ct),Ht(["DDD","DDDD"],(function(t,e,n){n._dayOfYear=ct(t)})),V("m",["mm",2],0,"minute"),nt("minute","m"),st("minute",14),kt("m",_t),kt("mm",_t,yt),Ht(["m","mm"],Kt);var ni=dt("Minutes",!1);V("s",["ss",2],0,"second"),nt("second","s"),st("second",15),kt("s",_t),kt("ss",_t,yt),Ht(["s","ss"],Zt);var oi,ri,ii=dt("Seconds",!1);for(V("S",0,0,(function(){return~~(this.millisecond()/100)})),V(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),V(0,["SSS",3],0,"millisecond"),V(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),V(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),V(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),V(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),V(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),V(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),nt("millisecond","ms"),st("millisecond",16),kt("S",Ot,mt),kt("SS",Ot,yt),kt("SSS",Ot,Ct),oi="SSSS";oi.length<=9;oi+="S")kt(oi,Rt);function si(t,e){e[qt]=ct(1e3*("0."+t))}for(oi="S";oi.length<=9;oi+="S")Ht(oi,si);function ai(){return this._isUTC?"UTC":""}function li(){return this._isUTC?"Coordinated Universal Time":""}ri=dt("Milliseconds",!1),V("z",0,0,"zoneAbbr"),V("zz",0,0,"zoneName");var ui=_.prototype;function ci(t){return qn(1e3*t)}function di(){return qn.apply(null,arguments).parseZone()}function pi(t){return t}ui.add=No,ui.calendar=Wo,ui.clone=zo,ui.diff=Xo,ui.endOf=yr,ui.format=nr,ui.from=or,ui.fromNow=rr,ui.to=ir,ui.toNow=sr,ui.get=ft,ui.invalidAt=Tr,ui.isAfter=Uo,ui.isBefore=Yo,ui.isBetween=Ko,ui.isSame=Zo,ui.isSameOrAfter=qo,ui.isSameOrBefore=Qo,ui.isValid=Or,ui.lang=lr,ui.locale=ar,ui.localeData=ur,ui.max=Xn,ui.min=Qn,ui.parsingFlags=xr,ui.set=gt,ui.startOf=mr,ui.subtract=Fo,ui.toArray=_r,ui.toObject=Sr,ui.toDate=br,ui.toISOString=tr,ui.inspect=er,"undefined"!==typeof Symbol&&null!=Symbol.for&&(ui[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),ui.toJSON=Er,ui.toString=Jo,ui.unix=wr,ui.valueOf=Cr,ui.creationData=Rr,ui.eraName=Mr,ui.eraNarrow=Ar,ui.eraAbbr=kr,ui.eraYear=Nr,ui.year=ve,ui.isLeapYear=me,ui.weekYear=Ur,ui.isoWeekYear=Yr,ui.quarter=ui.quarters=Jr,ui.month=ce,ui.daysInMonth=de,ui.week=ui.weeks=Re,ui.isoWeek=ui.isoWeeks=De,ui.weeksInYear=qr,ui.weeksInWeekYear=Qr,ui.isoWeeksInYear=Kr,ui.isoWeeksInISOWeekYear=Zr,ui.date=ti,ui.day=ui.days=ze,ui.weekday=Ue,ui.isoWeekday=Ye,ui.dayOfYear=ei,ui.hour=ui.hours=on,ui.minute=ui.minutes=ni,ui.second=ui.seconds=ii,ui.millisecond=ui.milliseconds=ri,ui.utcOffset=vo,ui.utc=yo,ui.local=Co,ui.parseZone=wo,ui.hasAlignedHourOffset=bo,ui.isDST=_o,ui.isLocal=Eo,ui.isUtcOffset=Oo,ui.isUtc=xo,ui.isUTC=xo,ui.zoneAbbr=ai,ui.zoneName=li,ui.dates=O("dates accessor is deprecated. Use date instead.",ti),ui.months=O("months accessor is deprecated. Use month instead",ce),ui.years=O("years accessor is deprecated. Use year instead",ve),ui.zone=O("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",mo),ui.isDSTShifted=O("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",So);var hi=M.prototype;function fi(t,e,n,o){var r=yn(),i=f().set(o,e);return r[n](i,t)}function gi(t,e,n){if(c(t)&&(e=t,t=void 0),t=t||"",null!=e)return fi(t,e,n,"month");var o,r=[];for(o=0;o<12;o++)r[o]=fi(t,o,n,"month");return r}function vi(t,e,n,o){"boolean"===typeof t?(c(e)&&(n=e,e=void 0),e=e||""):(n=e=t,t=!1,c(e)&&(n=e,e=void 0),e=e||"");var r,i=yn(),s=t?i._week.dow:0,a=[];if(null!=n)return fi(e,(n+s)%7,o,"day");for(r=0;r<7;r++)a[r]=fi(e,(r+s)%7,o,"day");return a}function mi(t,e){return gi(t,e,"months")}function yi(t,e){return gi(t,e,"monthsShort")}function Ci(t,e,n){return vi(t,e,n,"weekdays")}function wi(t,e,n){return vi(t,e,n,"weekdaysShort")}function bi(t,e,n){return vi(t,e,n,"weekdaysMin")}hi.calendar=k,hi.longDateFormat=Y,hi.invalidDate=Z,hi.ordinal=X,hi.preparse=pi,hi.postformat=pi,hi.relativeTime=J,hi.pastFuture=tt,hi.set=P,hi.eras=Dr,hi.erasParse=Pr,hi.erasConvertYear=Lr,hi.erasAbbrRegex=Ir,hi.erasNameRegex=Fr,hi.erasNarrowRegex=Gr,hi.months=ie,hi.monthsShort=se,hi.monthsParse=le,hi.monthsRegex=he,hi.monthsShortRegex=pe,hi.week=Ee,hi.firstDayOfYear=Te,hi.firstDayOfWeek=xe,hi.weekdays=He,hi.weekdaysMin=je,hi.weekdaysShort=Ve,hi.weekdaysParse=We,hi.weekdaysRegex=Ke,hi.weekdaysShortRegex=Ze,hi.weekdaysMinRegex=qe,hi.isPM=en,hi.meridiem=rn,gn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===ct(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),o.lang=O("moment.lang is deprecated. Use moment.locale instead.",gn),o.langData=O("moment.langData is deprecated. Use moment.localeData instead.",yn);var _i=Math.abs;function Si(){var t=this._data;return this._milliseconds=_i(this._milliseconds),this._days=_i(this._days),this._months=_i(this._months),t.milliseconds=_i(t.milliseconds),t.seconds=_i(t.seconds),t.minutes=_i(t.minutes),t.hours=_i(t.hours),t.months=_i(t.months),t.years=_i(t.years),this}function Ei(t,e,n,o){var r=Do(e,n);return t._milliseconds+=o*r._milliseconds,t._days+=o*r._days,t._months+=o*r._months,t._bubble()}function Oi(t,e){return Ei(this,t,e,1)}function xi(t,e){return Ei(this,t,e,-1)}function Ti(t){return t<0?Math.floor(t):Math.ceil(t)}function Ri(){var t,e,n,o,r,i=this._milliseconds,s=this._days,a=this._months,l=this._data;return i>=0&&s>=0&&a>=0||i<=0&&s<=0&&a<=0||(i+=864e5*Ti(Pi(a)+s),s=0,a=0),l.milliseconds=i%1e3,t=ut(i/1e3),l.seconds=t%60,e=ut(t/60),l.minutes=e%60,n=ut(e/60),l.hours=n%24,s+=ut(n/24),a+=r=ut(Di(s)),s-=Ti(Pi(r)),o=ut(a/12),a%=12,l.days=s,l.months=a,l.years=o,this}function Di(t){return 4800*t/146097}function Pi(t){return 146097*t/4800}function Li(t){if(!this.isValid())return NaN;var e,n,o=this._milliseconds;if("month"===(t=ot(t))||"quarter"===t||"year"===t)switch(e=this._days+o/864e5,n=this._months+Di(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(Pi(this._months)),t){case"week":return e/7+o/6048e5;case"day":return e+o/864e5;case"hour":return 24*e+o/36e5;case"minute":return 1440*e+o/6e4;case"second":return 86400*e+o/1e3;case"millisecond":return Math.floor(864e5*e)+o;default:throw new Error("Unknown unit "+t)}}function Mi(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*ct(this._months/12):NaN}function Ai(t){return function(){return this.as(t)}}var ki=Ai("ms"),Ni=Ai("s"),Fi=Ai("m"),Ii=Ai("h"),Gi=Ai("d"),Hi=Ai("w"),Vi=Ai("M"),ji=Ai("Q"),Bi=Ai("y");function Wi(){return Do(this)}function zi(t){return t=ot(t),this.isValid()?this[t+"s"]():NaN}function Ui(t){return function(){return this.isValid()?this._data[t]:NaN}}var Yi=Ui("milliseconds"),Ki=Ui("seconds"),Zi=Ui("minutes"),qi=Ui("hours"),Qi=Ui("days"),Xi=Ui("months"),$i=Ui("years");function Ji(){return ut(this.days()/7)}var ts=Math.round,es={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function ns(t,e,n,o,r){return r.relativeTime(e||1,!!n,t,o)}function os(t,e,n,o){var r=Do(t).abs(),i=ts(r.as("s")),s=ts(r.as("m")),a=ts(r.as("h")),l=ts(r.as("d")),u=ts(r.as("M")),c=ts(r.as("w")),d=ts(r.as("y")),p=i<=n.ss&&["s",i]||i<n.s&&["ss",i]||s<=1&&["m"]||s<n.m&&["mm",s]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return null!=n.w&&(p=p||c<=1&&["w"]||c<n.w&&["ww",c]),(p=p||u<=1&&["M"]||u<n.M&&["MM",u]||d<=1&&["y"]||["yy",d])[2]=e,p[3]=+t>0,p[4]=o,ns.apply(null,p)}function rs(t){return void 0===t?ts:"function"===typeof t&&(ts=t,!0)}function is(t,e){return void 0!==es[t]&&(void 0===e?es[t]:(es[t]=e,"s"===t&&(es.ss=e-1),!0))}function ss(t,e){if(!this.isValid())return this.localeData().invalidDate();var n,o,r=!1,i=es;return"object"===typeof t&&(e=t,t=!1),"boolean"===typeof t&&(r=t),"object"===typeof e&&(i=Object.assign({},es,e),null!=e.s&&null==e.ss&&(i.ss=e.s-1)),o=os(this,!r,i,n=this.localeData()),r&&(o=n.pastFuture(+this,o)),n.postformat(o)}var as=Math.abs;function ls(t){return(t>0)-(t<0)||+t}function us(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n,o,r,i,s,a,l=as(this._milliseconds)/1e3,u=as(this._days),c=as(this._months),d=this.asSeconds();return d?(t=ut(l/60),e=ut(t/60),l%=60,t%=60,n=ut(c/12),c%=12,o=l?l.toFixed(3).replace(/\.?0+$/,""):"",r=d<0?"-":"",i=ls(this._months)!==ls(d)?"-":"",s=ls(this._days)!==ls(d)?"-":"",a=ls(this._milliseconds)!==ls(d)?"-":"",r+"P"+(n?i+n+"Y":"")+(c?i+c+"M":"")+(u?s+u+"D":"")+(e||t||l?"T":"")+(e?a+e+"H":"")+(t?a+t+"M":"")+(l?a+o+"S":"")):"P0D"}var cs=so.prototype;return cs.isValid=ro,cs.abs=Si,cs.add=Oi,cs.subtract=xi,cs.as=Li,cs.asMilliseconds=ki,cs.asSeconds=Ni,cs.asMinutes=Fi,cs.asHours=Ii,cs.asDays=Gi,cs.asWeeks=Hi,cs.asMonths=Vi,cs.asQuarters=ji,cs.asYears=Bi,cs.valueOf=Mi,cs._bubble=Ri,cs.clone=Wi,cs.get=zi,cs.milliseconds=Yi,cs.seconds=Ki,cs.minutes=Zi,cs.hours=qi,cs.days=Qi,cs.weeks=Ji,cs.months=Xi,cs.years=$i,cs.humanize=ss,cs.toISOString=us,cs.toString=us,cs.toJSON=us,cs.locale=ar,cs.localeData=ur,cs.toIsoString=O("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",us),cs.lang=lr,V("X",0,0,"unix"),V("x",0,0,"valueOf"),kt("x",Dt),kt("X",Mt),Ht("X",(function(t,e,n){n._d=new Date(1e3*parseFloat(t))})),Ht("x",(function(t,e,n){n._d=new Date(ct(t))})),o.version="2.29.4",r(qn),o.fn=ui,o.min=Jn,o.max=to,o.now=eo,o.utc=f,o.unix=ci,o.months=mi,o.isDate=d,o.locale=gn,o.invalid=y,o.duration=Do,o.isMoment=S,o.weekdays=Ci,o.parseZone=di,o.localeData=yn,o.isDuration=ao,o.monthsShort=yi,o.weekdaysMin=bi,o.defineLocale=vn,o.updateLocale=mn,o.locales=Cn,o.weekdaysShort=wi,o.normalizeUnits=ot,o.relativeTimeRounding=rs,o.relativeTimeThreshold=is,o.calendarFormat=Bo,o.prototype=ui,o.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},o}()},3573:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return(0,i.default)((function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];var r=null;return e.forEach((function(t){if(null==r){var e=t.apply(void 0,n);null!=e&&(r=e)}})),r}))};var o,r=n(6054),i=(o=r)&&o.__esModule?o:{default:o};t.exports=e.default},6054:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){function e(e,n,o,r,i,s){var a=r||"<<anonymous>>",l=s||o;if(null==n[o])return e?new Error("Required "+i+" `"+l+"` was not specified in `"+a+"`."):null;for(var u=arguments.length,c=Array(u>6?u-6:0),d=6;d<u;d++)c[d-6]=arguments[d];return t.apply(void 0,[n,o,a,i,l].concat(c))}var n=e.bind(null,!1);return n.isRequired=e.bind(null,!0),n},t.exports=e.default},888:(t,e,n)=>{"use strict";var o=n(9047);function r(){}function i(){}i.resetWarningCache=r,t.exports=function(){function t(t,e,n,r,i,s){if(s!==o){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function e(){return t}t.isRequired=t;var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:i,resetWarningCache:r};return n.PropTypes=n,n}},2007:(t,e,n)=>{t.exports=n(888)()},9047:t=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},9513:function(t,e,n){!function(t,e,n,o,r,i,s,a,l,u,c,d,p,h,f,g,v,m,y,C,w,b,_,S,E,O,x,T,R,D,P,L,M,A,k,N,F,I,G,H,V,j,B,W,z,U,Y,K,Z,q,Q,X,$,J,tt,et,nt,ot,rt,it,st,at,lt,ut){"use strict";function ct(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var dt=ct(e),pt=ct(o),ht=ct(r),ft=ct(i),gt=ct(s),vt=ct(a),mt=ct(l),yt=ct(u),Ct=ct(c),wt=ct(d),bt=ct(p),_t=ct(h),St=ct(f),Et=ct(g),Ot=ct(v),xt=ct(m),Tt=ct(y),Rt=ct(C),Dt=ct(w),Pt=ct(b),Lt=ct(_),Mt=ct(S),At=ct(E),kt=ct(O),Nt=ct(x),Ft=ct(T),It=ct(R),Gt=ct(D),Ht=ct(P),Vt=ct(L),jt=ct(M),Bt=ct(A),Wt=ct(k),zt=ct(N),Ut=ct(F),Yt=ct(I),Kt=ct(G),Zt=ct(H),qt=ct(V),Qt=ct(j),Xt=ct(B),$t=ct(W),Jt=ct(z),te=ct(U),ee=ct(K),ne=ct(Z),oe=ct(q),re=ct(Q),ie=ct(X),se=ct($),ae=ct(J),le=ct(tt),ue=ct(et),ce=ct(nt),de=ct(ot),pe=ct(rt),he=ct(it),fe=ct(st),ge=ct(at),ve=ct(ut);function me(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function ye(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?me(Object(n),!0).forEach((function(e){Se(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ce(t){return Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ce(t)}function we(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function be(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,Me(o.key),o)}}function _e(t,e,n){return e&&be(t.prototype,e),n&&be(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Se(t,e,n){return(e=Me(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ee(){return Ee=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Ee.apply(this,arguments)}function Oe(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Te(t,e)}function xe(t){return xe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xe(t)}function Te(t,e){return Te=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Te(t,e)}function Re(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function De(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=xe(t);if(e){var r=xe(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return function(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Re(t)}(this,n)}}function Pe(t){return function(t){if(Array.isArray(t))return Le(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Le(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Le(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Le(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function Me(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}var Ae=function(t,e){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},ke=function(t,e){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},Ne={p:ke,P:function(t,e){var n,o=t.match(/(P+)(p+)?/)||[],r=o[1],i=o[2];if(!i)return Ae(t,e);switch(r){case"P":n=e.dateTime({width:"short"});break;case"PP":n=e.dateTime({width:"medium"});break;case"PPP":n=e.dateTime({width:"long"});break;default:n=e.dateTime({width:"full"})}return n.replace("{{date}}",Ae(r,e)).replace("{{time}}",ke(i,e))}},Fe=12,Ie=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function Ge(t){var e=t?"string"==typeof t||t instanceof String?he.default(t):de.default(t):new Date;return He(e)?e:null}function He(t,e){return e=e||new Date("1/1/1000"),ft.default(t)&&!ue.default(t,e)}function Ve(t,e,n){if("en"===n)return gt.default(t,e,{awareOfUnicodeTokens:!0});var o=en(n);return n&&!o&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),!o&&tn()&&en(tn())&&(o=en(tn())),gt.default(t,e,{locale:o||null,awareOfUnicodeTokens:!0})}function je(t,e){var n=e.dateFormat,o=e.locale;return t&&Ve(t,Array.isArray(n)?n[0]:n,o)||""}function Be(t,e){var n=e.hour,o=void 0===n?0:n,r=e.minute,i=void 0===r?0:r,s=e.second,a=void 0===s?0:s;return Vt.default(Ht.default(Gt.default(t,a),i),o)}function We(t,e,n){var o=en(e||tn());return Qt.default(t,{locale:o,weekStartsOn:n})}function ze(t){return Xt.default(t)}function Ue(t){return Jt.default(t)}function Ye(t){return $t.default(t)}function Ke(){return qt.default(Ge())}function Ze(t,e){return t&&e?se.default(t,e):!t&&!e}function qe(t,e){return t&&e?ie.default(t,e):!t&&!e}function Qe(t,e){return t&&e?ae.default(t,e):!t&&!e}function Xe(t,e){return t&&e?re.default(t,e):!t&&!e}function $e(t,e){return t&&e?oe.default(t,e):!t&&!e}function Je(t,e,n){var o,r=qt.default(e),i=te.default(n);try{o=ce.default(t,{start:r,end:i})}catch(t){o=!1}return o}function tn(){return("undefined"!=typeof window?window:globalThis).__localeId__}function en(t){if("string"==typeof t){var e="undefined"!=typeof window?window:globalThis;return e.__localeData__?e.__localeData__[t]:null}return t}function nn(t,e){return Ve(jt.default(Ge(),t),"LLLL",e)}function on(t,e){return Ve(jt.default(Ge(),t),"LLL",e)}function rn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.minDate,o=e.maxDate,r=e.excludeDates,i=e.excludeDateIntervals,s=e.includeDates,a=e.includeDateIntervals,l=e.filterDate;return hn(t,{minDate:n,maxDate:o})||r&&r.some((function(e){return Xe(t,e)}))||i&&i.some((function(e){var n=e.start,o=e.end;return ce.default(t,{start:n,end:o})}))||s&&!s.some((function(e){return Xe(t,e)}))||a&&!a.some((function(e){var n=e.start,o=e.end;return ce.default(t,{start:n,end:o})}))||l&&!l(Ge(t))||!1}function sn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.excludeDates,o=e.excludeDateIntervals;return o&&o.length>0?o.some((function(e){var n=e.start,o=e.end;return ce.default(t,{start:n,end:o})})):n&&n.some((function(e){return Xe(t,e)}))||!1}function an(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.minDate,o=e.maxDate,r=e.excludeDates,i=e.includeDates,s=e.filterDate;return hn(t,{minDate:Xt.default(n),maxDate:ee.default(o)})||r&&r.some((function(e){return qe(t,e)}))||i&&!i.some((function(e){return qe(t,e)}))||s&&!s(Ge(t))||!1}function ln(t,e,n,o){var r=Ft.default(t),i=kt.default(t),s=Ft.default(e),a=kt.default(e),l=Ft.default(o);return r===s&&r===l?i<=n&&n<=a:r<s?l===r&&i<=n||l===s&&a>=n||l<s&&l>r:void 0}function un(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.minDate,o=e.maxDate,r=e.excludeDates,i=e.includeDates,s=e.filterDate;return hn(t,{minDate:n,maxDate:o})||r&&r.some((function(e){return Qe(t,e)}))||i&&!i.some((function(e){return Qe(t,e)}))||s&&!s(Ge(t))||!1}function cn(t,e,n){if(!ft.default(e)||!ft.default(n))return!1;var o=Ft.default(e),r=Ft.default(n);return o<=t&&r>=t}function dn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.minDate,o=e.maxDate,r=e.excludeDates,i=e.includeDates,s=e.filterDate,a=new Date(t,0,1);return hn(a,{minDate:Jt.default(n),maxDate:ne.default(o)})||r&&r.some((function(t){return Ze(a,t)}))||i&&!i.some((function(t){return Ze(a,t)}))||s&&!s(Ge(a))||!1}function pn(t,e,n,o){var r=Ft.default(t),i=Nt.default(t),s=Ft.default(e),a=Nt.default(e),l=Ft.default(o);return r===s&&r===l?i<=n&&n<=a:r<s?l===r&&i<=n||l===s&&a>=n||l<s&&l>r:void 0}function hn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.minDate,o=e.maxDate;return n&&Yt.default(t,n)<0||o&&Yt.default(t,o)>0}function fn(t,e){return e.some((function(e){return Pt.default(e)===Pt.default(t)&&Dt.default(e)===Dt.default(t)}))}function gn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.excludeTimes,o=e.includeTimes,r=e.filterTime;return n&&fn(t,n)||o&&!fn(t,o)||r&&!r(t)||!1}function vn(t,e){var n=e.minTime,o=e.maxTime;if(!n||!o)throw new Error("Both minTime and maxTime props required");var r,i=Ge(),s=Vt.default(Ht.default(i,Dt.default(t)),Pt.default(t)),a=Vt.default(Ht.default(i,Dt.default(n)),Pt.default(n)),l=Vt.default(Ht.default(i,Dt.default(o)),Pt.default(o));try{r=!ce.default(s,{start:a,end:l})}catch(t){r=!1}return r}function mn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.minDate,o=e.includeDates,r=Ot.default(t,1);return n&&Kt.default(n,r)>0||o&&o.every((function(t){return Kt.default(t,r)>0}))||!1}function yn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.maxDate,o=e.includeDates,r=wt.default(t,1);return n&&Kt.default(r,n)>0||o&&o.every((function(t){return Kt.default(r,t)>0}))||!1}function Cn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.minDate,o=e.includeDates,r=Tt.default(t,1);return n&&Zt.default(n,r)>0||o&&o.every((function(t){return Zt.default(t,r)>0}))||!1}function wn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.maxDate,o=e.includeDates,r=_t.default(t,1);return n&&Zt.default(r,n)>0||o&&o.every((function(t){return Zt.default(r,t)>0}))||!1}function bn(t){var e=t.minDate,n=t.includeDates;if(n&&e){var o=n.filter((function(t){return Yt.default(t,e)>=0}));return zt.default(o)}return n?zt.default(n):e}function _n(t){var e=t.maxDate,n=t.includeDates;if(n&&e){var o=n.filter((function(t){return Yt.default(t,e)<=0}));return Ut.default(o)}return n?Ut.default(n):e}function Sn(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"react-datepicker__day--highlighted",n=new Map,o=0,r=t.length;o<r;o++){var i=t[o];if(ht.default(i)){var s=Ve(i,"MM.dd.yyyy"),a=n.get(s)||[];a.includes(e)||(a.push(e),n.set(s,a))}else if("object"===Ce(i)){var l=Object.keys(i),u=l[0],c=i[l[0]];if("string"==typeof u&&c.constructor===Array)for(var d=0,p=c.length;d<p;d++){var h=Ve(c[d],"MM.dd.yyyy"),f=n.get(h)||[];f.includes(u)||(f.push(u),n.set(h,f))}}}return n}function En(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"react-datepicker__day--holidays",n=new Map;return t.forEach((function(t){var o=t.date,r=t.holidayName;if(ht.default(o)){var i=Ve(o,"MM.dd.yyyy"),s=n.get(i)||{};if(!("className"in s)||s.className!==e||(a=s.holidayNames,l=[r],a.length!==l.length||!a.every((function(t,e){return t===l[e]})))){var a,l;s.className=e;var u=s.holidayNames;s.holidayNames=u?[].concat(Pe(u),[r]):[r],n.set(i,s)}}})),n}function On(t,e,n,o,r){for(var i=r.length,s=[],a=0;a<i;a++){var l=vt.default(mt.default(t,Pt.default(r[a])),Dt.default(r[a])),u=vt.default(t,(n+1)*o);le.default(l,e)&&ue.default(l,u)&&s.push(r[a])}return s}function xn(t){return t<10?"0".concat(t):"".concat(t)}function Tn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fe,n=Math.ceil(Ft.default(t)/e)*e;return{startPeriod:n-(e-1),endPeriod:n}}function Rn(t){var e=t.getSeconds(),n=t.getMilliseconds();return de.default(t.getTime()-1e3*e-n)}function Dn(t,e,n,o){for(var r=[],i=0;i<2*e+1;i++){var s=t+e-i,a=!0;n&&(a=Ft.default(n)<=s),o&&a&&(a=Ft.default(o)>=s),a&&r.push(s)}return r}var Pn=function(t){Oe(o,t);var n=De(o);function o(t){var r;we(this,o),Se(Re(r=n.call(this,t)),"renderOptions",(function(){var t=r.props.year,e=r.state.yearsList.map((function(e){return dt.default.createElement("div",{className:t===e?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:e,onClick:r.onChange.bind(Re(r),e),"aria-selected":t===e?"true":void 0},t===e?dt.default.createElement("span",{className:"react-datepicker__year-option--selected"},"\u2713"):"",e)})),n=r.props.minDate?Ft.default(r.props.minDate):null,o=r.props.maxDate?Ft.default(r.props.maxDate):null;return o&&r.state.yearsList.find((function(t){return t===o}))||e.unshift(dt.default.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},dt.default.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),n&&r.state.yearsList.find((function(t){return t===n}))||e.push(dt.default.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},dt.default.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),e})),Se(Re(r),"onChange",(function(t){r.props.onChange(t)})),Se(Re(r),"handleClickOutside",(function(){r.props.onCancel()})),Se(Re(r),"shiftYears",(function(t){var e=r.state.yearsList.map((function(e){return e+t}));r.setState({yearsList:e})})),Se(Re(r),"incrementYears",(function(){return r.shiftYears(1)})),Se(Re(r),"decrementYears",(function(){return r.shiftYears(-1)}));var i=t.yearDropdownItemNumber,s=t.scrollableYearDropdown,a=i||(s?10:5);return r.state={yearsList:Dn(r.props.year,a,r.props.minDate,r.props.maxDate)},r.dropdownRef=e.createRef(),r}return _e(o,[{key:"componentDidMount",value:function(){var t=this.dropdownRef.current;if(t){var e=t.children?Array.from(t.children):null,n=e?e.find((function(t){return t.ariaSelected})):null;t.scrollTop=n?n.offsetTop+(n.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}}},{key:"render",value:function(){var t=pt.default({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return dt.default.createElement("div",{className:t,ref:this.dropdownRef},this.renderOptions())}}]),o}(dt.default.Component),Ln=fe.default(Pn),Mn=function(t){Oe(n,t);var e=De(n);function n(){var t;we(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return Se(Re(t=e.call.apply(e,[this].concat(r))),"state",{dropdownVisible:!1}),Se(Re(t),"renderSelectOptions",(function(){for(var e=t.props.minDate?Ft.default(t.props.minDate):1900,n=t.props.maxDate?Ft.default(t.props.maxDate):2100,o=[],r=e;r<=n;r++)o.push(dt.default.createElement("option",{key:r,value:r},r));return o})),Se(Re(t),"onSelectChange",(function(e){t.onChange(e.target.value)})),Se(Re(t),"renderSelectMode",(function(){return dt.default.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())})),Se(Re(t),"renderReadView",(function(e){return dt.default.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(e){return t.toggleDropdown(e)}},dt.default.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),dt.default.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))})),Se(Re(t),"renderDropdown",(function(){return dt.default.createElement(Ln,{key:"dropdown",year:t.props.year,onChange:t.onChange,onCancel:t.toggleDropdown,minDate:t.props.minDate,maxDate:t.props.maxDate,scrollableYearDropdown:t.props.scrollableYearDropdown,yearDropdownItemNumber:t.props.yearDropdownItemNumber})})),Se(Re(t),"renderScrollMode",(function(){var e=t.state.dropdownVisible,n=[t.renderReadView(!e)];return e&&n.unshift(t.renderDropdown()),n})),Se(Re(t),"onChange",(function(e){t.toggleDropdown(),e!==t.props.year&&t.props.onChange(e)})),Se(Re(t),"toggleDropdown",(function(e){t.setState({dropdownVisible:!t.state.dropdownVisible},(function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,e)}))})),Se(Re(t),"handleYearChange",(function(e,n){t.onSelect(e,n),t.setOpen()})),Se(Re(t),"onSelect",(function(e,n){t.props.onSelect&&t.props.onSelect(e,n)})),Se(Re(t),"setOpen",(function(){t.props.setOpen&&t.props.setOpen(!0)})),t}return _e(n,[{key:"render",value:function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode()}return dt.default.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)}}]),n}(dt.default.Component),An=function(t){Oe(n,t);var e=De(n);function n(){var t;we(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return Se(Re(t=e.call.apply(e,[this].concat(r))),"isSelectedMonth",(function(e){return t.props.month===e})),Se(Re(t),"renderOptions",(function(){return t.props.monthNames.map((function(e,n){return dt.default.createElement("div",{className:t.isSelectedMonth(n)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:e,onClick:t.onChange.bind(Re(t),n),"aria-selected":t.isSelectedMonth(n)?"true":void 0},t.isSelectedMonth(n)?dt.default.createElement("span",{className:"react-datepicker__month-option--selected"},"\u2713"):"",e)}))})),Se(Re(t),"onChange",(function(e){return t.props.onChange(e)})),Se(Re(t),"handleClickOutside",(function(){return t.props.onCancel()})),t}return _e(n,[{key:"render",value:function(){return dt.default.createElement("div",{className:"react-datepicker__month-dropdown"},this.renderOptions())}}]),n}(dt.default.Component),kn=fe.default(An),Nn=function(t){Oe(n,t);var e=De(n);function n(){var t;we(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return Se(Re(t=e.call.apply(e,[this].concat(r))),"state",{dropdownVisible:!1}),Se(Re(t),"renderSelectOptions",(function(t){return t.map((function(t,e){return dt.default.createElement("option",{key:e,value:e},t)}))})),Se(Re(t),"renderSelectMode",(function(e){return dt.default.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(e){return t.onChange(e.target.value)}},t.renderSelectOptions(e))})),Se(Re(t),"renderReadView",(function(e,n){return dt.default.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},dt.default.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),dt.default.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},n[t.props.month]))})),Se(Re(t),"renderDropdown",(function(e){return dt.default.createElement(kn,{key:"dropdown",month:t.props.month,monthNames:e,onChange:t.onChange,onCancel:t.toggleDropdown})})),Se(Re(t),"renderScrollMode",(function(e){var n=t.state.dropdownVisible,o=[t.renderReadView(!n,e)];return n&&o.unshift(t.renderDropdown(e)),o})),Se(Re(t),"onChange",(function(e){t.toggleDropdown(),e!==t.props.month&&t.props.onChange(e)})),Se(Re(t),"toggleDropdown",(function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})})),t}return _e(n,[{key:"render",value:function(){var t,e=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(t){return on(t,e.props.locale)}:function(t){return nn(t,e.props.locale)});switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode(n);break;case"select":t=this.renderSelectMode(n)}return dt.default.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},t)}}]),n}(dt.default.Component);function Fn(t,e){for(var n=[],o=ze(t),r=ze(e);!le.default(o,r);)n.push(Ge(o)),o=wt.default(o,1);return n}var In=function(t){Oe(n,t);var e=De(n);function n(t){var o;return we(this,n),Se(Re(o=e.call(this,t)),"renderOptions",(function(){return o.state.monthYearsList.map((function(t){var e=It.default(t),n=Ze(o.props.date,t)&&qe(o.props.date,t);return dt.default.createElement("div",{className:n?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:e,onClick:o.onChange.bind(Re(o),e),"aria-selected":n?"true":void 0},n?dt.default.createElement("span",{className:"react-datepicker__month-year-option--selected"},"\u2713"):"",Ve(t,o.props.dateFormat,o.props.locale))}))})),Se(Re(o),"onChange",(function(t){return o.props.onChange(t)})),Se(Re(o),"handleClickOutside",(function(){o.props.onCancel()})),o.state={monthYearsList:Fn(o.props.minDate,o.props.maxDate)},o}return _e(n,[{key:"render",value:function(){var t=pt.default({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return dt.default.createElement("div",{className:t},this.renderOptions())}}]),n}(dt.default.Component),Gn=fe.default(In),Hn=function(t){Oe(n,t);var e=De(n);function n(){var t;we(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return Se(Re(t=e.call.apply(e,[this].concat(r))),"state",{dropdownVisible:!1}),Se(Re(t),"renderSelectOptions",(function(){for(var e=ze(t.props.minDate),n=ze(t.props.maxDate),o=[];!le.default(e,n);){var r=It.default(e);o.push(dt.default.createElement("option",{key:r,value:r},Ve(e,t.props.dateFormat,t.props.locale))),e=wt.default(e,1)}return o})),Se(Re(t),"onSelectChange",(function(e){t.onChange(e.target.value)})),Se(Re(t),"renderSelectMode",(function(){return dt.default.createElement("select",{value:It.default(ze(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())})),Se(Re(t),"renderReadView",(function(e){var n=Ve(t.props.date,t.props.dateFormat,t.props.locale);return dt.default.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:function(e){return t.toggleDropdown(e)}},dt.default.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),dt.default.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},n))})),Se(Re(t),"renderDropdown",(function(){return dt.default.createElement(Gn,{key:"dropdown",date:t.props.date,dateFormat:t.props.dateFormat,onChange:t.onChange,onCancel:t.toggleDropdown,minDate:t.props.minDate,maxDate:t.props.maxDate,scrollableMonthYearDropdown:t.props.scrollableMonthYearDropdown,locale:t.props.locale})})),Se(Re(t),"renderScrollMode",(function(){var e=t.state.dropdownVisible,n=[t.renderReadView(!e)];return e&&n.unshift(t.renderDropdown()),n})),Se(Re(t),"onChange",(function(e){t.toggleDropdown();var n=Ge(parseInt(e));Ze(t.props.date,n)&&qe(t.props.date,n)||t.props.onChange(n)})),Se(Re(t),"toggleDropdown",(function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})})),t}return _e(n,[{key:"render",value:function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode()}return dt.default.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)}}]),n}(dt.default.Component),Vn=function(t){Oe(n,t);var e=De(n);function n(){var t;we(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return Se(Re(t=e.call.apply(e,[this].concat(r))),"dayEl",dt.default.createRef()),Se(Re(t),"handleClick",(function(e){!t.isDisabled()&&t.props.onClick&&t.props.onClick(e)})),Se(Re(t),"handleMouseEnter",(function(e){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(e)})),Se(Re(t),"handleOnKeyDown",(function(e){" "===e.key&&(e.preventDefault(),e.key="Enter"),t.props.handleOnKeyDown(e)})),Se(Re(t),"isSameDay",(function(e){return Xe(t.props.day,e)})),Se(Re(t),"isKeyboardSelected",(function(){return!t.props.disabledKeyboardNavigation&&!(t.isSameDay(t.props.selected)||t.isSameWeek(t.props.selected))&&(t.isSameDay(t.props.preSelection)||t.isSameWeek(t.props.preSelection))})),Se(Re(t),"isDisabled",(function(){return rn(t.props.day,t.props)})),Se(Re(t),"isExcluded",(function(){return sn(t.props.day,t.props)})),Se(Re(t),"isStartOfWeek",(function(){return Xe(t.props.day,We(t.props.day,t.props.locale,t.props.calendarStartDay))})),Se(Re(t),"isSameWeek",(function(e){return t.props.showWeekPicker&&Xe(e,We(t.props.day,t.props.locale,t.props.calendarStartDay))})),Se(Re(t),"getHighLightedClass",(function(){var e=t.props,n=e.day,o=e.highlightDates;if(!o)return!1;var r=Ve(n,"MM.dd.yyyy");return o.get(r)})),Se(Re(t),"getHolidaysClass",(function(){var e=t.props,n=e.day,o=e.holidays;if(!o)return!1;var r=Ve(n,"MM.dd.yyyy");return o.has(r)?[o.get(r).className]:void 0})),Se(Re(t),"isInRange",(function(){var e=t.props,n=e.day,o=e.startDate,r=e.endDate;return!(!o||!r)&&Je(n,o,r)})),Se(Re(t),"isInSelectingRange",(function(){var e,n=t.props,o=n.day,r=n.selectsStart,i=n.selectsEnd,s=n.selectsRange,a=n.selectsDisabledDaysInRange,l=n.startDate,u=n.endDate,c=null!==(e=t.props.selectingDate)&&void 0!==e?e:t.props.preSelection;return!(!(r||i||s)||!c||!a&&t.isDisabled())&&(r&&u&&(ue.default(c,u)||$e(c,u))?Je(o,c,u):(i&&l&&(le.default(c,l)||$e(c,l))||!(!s||!l||u||!le.default(c,l)&&!$e(c,l)))&&Je(o,l,c))})),Se(Re(t),"isSelectingRangeStart",(function(){var e;if(!t.isInSelectingRange())return!1;var n=t.props,o=n.day,r=n.startDate,i=n.selectsStart,s=null!==(e=t.props.selectingDate)&&void 0!==e?e:t.props.preSelection;return Xe(o,i?s:r)})),Se(Re(t),"isSelectingRangeEnd",(function(){var e;if(!t.isInSelectingRange())return!1;var n=t.props,o=n.day,r=n.endDate,i=n.selectsEnd,s=n.selectsRange,a=null!==(e=t.props.selectingDate)&&void 0!==e?e:t.props.preSelection;return Xe(o,i||s?a:r)})),Se(Re(t),"isRangeStart",(function(){var e=t.props,n=e.day,o=e.startDate,r=e.endDate;return!(!o||!r)&&Xe(o,n)})),Se(Re(t),"isRangeEnd",(function(){var e=t.props,n=e.day,o=e.startDate,r=e.endDate;return!(!o||!r)&&Xe(r,n)})),Se(Re(t),"isWeekend",(function(){var e=Lt.default(t.props.day);return 0===e||6===e})),Se(Re(t),"isAfterMonth",(function(){return void 0!==t.props.month&&(t.props.month+1)%12===kt.default(t.props.day)})),Se(Re(t),"isBeforeMonth",(function(){return void 0!==t.props.month&&(kt.default(t.props.day)+1)%12===t.props.month})),Se(Re(t),"isCurrentDay",(function(){return t.isSameDay(Ge())})),Se(Re(t),"isSelected",(function(){return t.isSameDay(t.props.selected)||t.isSameWeek(t.props.selected)})),Se(Re(t),"getClassNames",(function(e){var n,o=t.props.dayClassName?t.props.dayClassName(e):void 0;return pt.default("react-datepicker__day",o,"react-datepicker__day--"+Ve(t.props.day,"ddd",n),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass("react-datepicker__day--highlighted"),t.getHolidaysClass())})),Se(Re(t),"getAriaLabel",(function(){var e=t.props,n=e.day,o=e.ariaLabelPrefixWhenEnabled,r=void 0===o?"Choose":o,i=e.ariaLabelPrefixWhenDisabled,s=void 0===i?"Not available":i,a=t.isDisabled()||t.isExcluded()?s:r;return"".concat(a," ").concat(Ve(n,"PPPP",t.props.locale))})),Se(Re(t),"getTitle",(function(){var e=t.props,n=e.day,o=e.holidays,r=void 0===o?new Map:o,i=Ve(n,"MM.dd.yyyy");return r.has(i)&&r.get(i).holidayNames.length>0?r.get(i).holidayNames.join(", "):""})),Se(Re(t),"getTabIndex",(function(e,n){var o=e||t.props.selected,r=n||t.props.preSelection;return(!t.props.showWeekPicker||!t.props.showWeekNumber&&t.isStartOfWeek())&&(t.isKeyboardSelected()||t.isSameDay(o)&&Xe(r,o))?0:-1})),Se(Re(t),"handleFocusDay",(function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=!1;0===t.getTabIndex()&&!n.isInputFocused&&t.isSameDay(t.props.preSelection)&&(document.activeElement&&document.activeElement!==document.body||(o=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(o=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement.classList.contains("react-datepicker__day")&&(o=!0),t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()&&(o=!1),t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()&&(o=!1)),o&&(null===(e=t.dayEl.current)||void 0===e||e.focus({preventScroll:!0}))})),Se(Re(t),"renderDayContents",(function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(Mt.default(t.props.day),t.props.day):Mt.default(t.props.day)})),Se(Re(t),"render",(function(){return dt.default.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.handleMouseEnter,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),""!==t.getTitle()&&dt.default.createElement("span",{className:"holiday-overlay"},t.getTitle()))})),t}return _e(n,[{key:"componentDidMount",value:function(){this.handleFocusDay()}},{key:"componentDidUpdate",value:function(t){this.handleFocusDay(t)}}]),n}(dt.default.Component),jn=function(t){Oe(n,t);var e=De(n);function n(){var t;we(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return Se(Re(t=e.call.apply(e,[this].concat(r))),"weekNumberEl",dt.default.createRef()),Se(Re(t),"handleClick",(function(e){t.props.onClick&&t.props.onClick(e)})),Se(Re(t),"handleOnKeyDown",(function(e){" "===e.key&&(e.preventDefault(),e.key="Enter"),t.props.handleOnKeyDown(e)})),Se(Re(t),"isKeyboardSelected",(function(){return!t.props.disabledKeyboardNavigation&&!Xe(t.props.date,t.props.selected)&&Xe(t.props.date,t.props.preSelection)})),Se(Re(t),"getTabIndex",(function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||Xe(t.props.date,t.props.selected)&&Xe(t.props.preSelection,t.props.selected))?0:-1})),Se(Re(t),"handleFocusWeekNumber",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=!1;0===t.getTabIndex()&&!e.isInputFocused&&Xe(t.props.date,t.props.preSelection)&&(document.activeElement&&document.activeElement!==document.body||(n=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(n=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(n=!0)),n&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})})),t}return _e(n,[{key:"componentDidMount",value:function(){this.handleFocusWeekNumber()}},{key:"componentDidUpdate",value:function(t){this.handleFocusWeekNumber(t)}},{key:"render",value:function(){var t=this.props,e=t.weekNumber,n=t.ariaLabelPrefix,o=void 0===n?"week ":n,r={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!t.onClick,"react-datepicker__week-number--selected":Xe(this.props.date,this.props.selected),"react-datepicker__week-number--keyboard-selected":this.isKeyboardSelected()};return dt.default.createElement("div",{ref:this.weekNumberEl,className:pt.default(r),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},e)}}],[{key:"defaultProps",get:function(){return{ariaLabelPrefix:"week "}}}]),n}(dt.default.Component),Bn=function(t){Oe(n,t);var e=De(n);function n(){var t;we(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return Se(Re(t=e.call.apply(e,[this].concat(r))),"handleDayClick",(function(e,n){t.props.onDayClick&&t.props.onDayClick(e,n)})),Se(Re(t),"handleDayMouseEnter",(function(e){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(e)})),Se(Re(t),"handleWeekClick",(function(e,n,o){if("function"==typeof t.props.onWeekSelect&&t.props.onWeekSelect(e,n,o),t.props.showWeekPicker){var r=We(e,t.props.locale,t.props.calendarStartDay);t.handleDayClick(r,o)}t.props.shouldCloseOnSelect&&t.props.setOpen(!1)})),Se(Re(t),"formatWeekNumber",(function(e){return t.props.formatWeekNumber?t.props.formatWeekNumber(e):function(t,e){var n=e&&en(e)||tn()&&en(tn());return At.default(t,n?{locale:n}:null)}(e)})),Se(Re(t),"renderDays",(function(){var e=We(t.props.day,t.props.locale,t.props.calendarStartDay),n=[],o=t.formatWeekNumber(e);if(t.props.showWeekNumber){var r=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(Re(t),e,o):void 0;n.push(dt.default.createElement(jn,{key:"W",weekNumber:o,date:e,onClick:r,selected:t.props.selected,preSelection:t.props.preSelection,ariaLabelPrefix:t.props.ariaLabelPrefix,showWeekPicker:t.props.showWeekPicker,showWeekNumber:t.props.showWeekNumber,disabledKeyboardNavigation:t.props.disabledKeyboardNavigation,handleOnKeyDown:t.props.handleOnKeyDown,isInputFocused:t.props.isInputFocused,containerRef:t.props.containerRef}))}return n.concat([0,1,2,3,4,5,6].map((function(n){var o=yt.default(e,n);return dt.default.createElement(Vn,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:o.valueOf(),day:o,month:t.props.month,onClick:t.handleDayClick.bind(Re(t),o),onMouseEnter:t.handleDayMouseEnter.bind(Re(t),o),minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDates:t.props.includeDates,includeDateIntervals:t.props.includeDateIntervals,highlightDates:t.props.highlightDates,holidays:t.props.holidays,selectingDate:t.props.selectingDate,filterDate:t.props.filterDate,preSelection:t.props.preSelection,selected:t.props.selected,selectsStart:t.props.selectsStart,selectsEnd:t.props.selectsEnd,selectsRange:t.props.selectsRange,showWeekPicker:t.props.showWeekPicker,showWeekNumber:t.props.showWeekNumber,selectsDisabledDaysInRange:t.props.selectsDisabledDaysInRange,startDate:t.props.startDate,endDate:t.props.endDate,dayClassName:t.props.dayClassName,renderDayContents:t.props.renderDayContents,disabledKeyboardNavigation:t.props.disabledKeyboardNavigation,handleOnKeyDown:t.props.handleOnKeyDown,isInputFocused:t.props.isInputFocused,containerRef:t.props.containerRef,inline:t.props.inline,shouldFocusDayInline:t.props.shouldFocusDayInline,monthShowsDuplicateDaysEnd:t.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:t.props.monthShowsDuplicateDaysStart,locale:t.props.locale})})))})),Se(Re(t),"startOfWeek",(function(){return We(t.props.day,t.props.locale,t.props.calendarStartDay)})),Se(Re(t),"isKeyboardSelected",(function(){return!t.props.disabledKeyboardNavigation&&!Xe(t.startOfWeek(),t.props.selected)&&Xe(t.startOfWeek(),t.props.preSelection)})),t}return _e(n,[{key:"render",value:function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":Xe(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return dt.default.createElement("div",{className:pt.default(t)},this.renderDays())}}],[{key:"defaultProps",get:function(){return{shouldCloseOnSelect:!0}}}]),n}(dt.default.Component),Wn="two_columns",zn="three_columns",Un="four_columns",Yn=Se(Se(Se({},Wn,{grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2}),zn,{grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3}),Un,{grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4});function Kn(t,e){return t?Un:e?Wn:zn}var Zn=function(t){Oe(n,t);var e=De(n);function n(){var t;we(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return Se(Re(t=e.call.apply(e,[this].concat(r))),"MONTH_REFS",Pe(Array(12)).map((function(){return dt.default.createRef()}))),Se(Re(t),"QUARTER_REFS",Pe(Array(4)).map((function(){return dt.default.createRef()}))),Se(Re(t),"isDisabled",(function(e){return rn(e,t.props)})),Se(Re(t),"isExcluded",(function(e){return sn(e,t.props)})),Se(Re(t),"handleDayClick",(function(e,n){t.props.onDayClick&&t.props.onDayClick(e,n,t.props.orderInDisplay)})),Se(Re(t),"handleDayMouseEnter",(function(e){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(e)})),Se(Re(t),"handleMouseLeave",(function(){t.props.onMouseLeave&&t.props.onMouseLeave()})),Se(Re(t),"isRangeStartMonth",(function(e){var n=t.props,o=n.day,r=n.startDate,i=n.endDate;return!(!r||!i)&&qe(jt.default(o,e),r)})),Se(Re(t),"isRangeStartQuarter",(function(e){var n=t.props,o=n.day,r=n.startDate,i=n.endDate;return!(!r||!i)&&Qe(Bt.default(o,e),r)})),Se(Re(t),"isRangeEndMonth",(function(e){var n=t.props,o=n.day,r=n.startDate,i=n.endDate;return!(!r||!i)&&qe(jt.default(o,e),i)})),Se(Re(t),"isRangeEndQuarter",(function(e){var n=t.props,o=n.day,r=n.startDate,i=n.endDate;return!(!r||!i)&&Qe(Bt.default(o,e),i)})),Se(Re(t),"isInSelectingRangeMonth",(function(e){var n,o=t.props,r=o.day,i=o.selectsStart,s=o.selectsEnd,a=o.selectsRange,l=o.startDate,u=o.endDate,c=null!==(n=t.props.selectingDate)&&void 0!==n?n:t.props.preSelection;return!(!(i||s||a)||!c)&&(i&&u?ln(c,u,e,r):(s&&l||!(!a||!l||u))&&ln(l,c,e,r))})),Se(Re(t),"isSelectingMonthRangeStart",(function(e){var n;if(!t.isInSelectingRangeMonth(e))return!1;var o=t.props,r=o.day,i=o.startDate,s=o.selectsStart,a=jt.default(r,e),l=null!==(n=t.props.selectingDate)&&void 0!==n?n:t.props.preSelection;return qe(a,s?l:i)})),Se(Re(t),"isSelectingMonthRangeEnd",(function(e){var n;if(!t.isInSelectingRangeMonth(e))return!1;var o=t.props,r=o.day,i=o.endDate,s=o.selectsEnd,a=o.selectsRange,l=jt.default(r,e),u=null!==(n=t.props.selectingDate)&&void 0!==n?n:t.props.preSelection;return qe(l,s||a?u:i)})),Se(Re(t),"isInSelectingRangeQuarter",(function(e){var n,o=t.props,r=o.day,i=o.selectsStart,s=o.selectsEnd,a=o.selectsRange,l=o.startDate,u=o.endDate,c=null!==(n=t.props.selectingDate)&&void 0!==n?n:t.props.preSelection;return!(!(i||s||a)||!c)&&(i&&u?pn(c,u,e,r):(s&&l||!(!a||!l||u))&&pn(l,c,e,r))})),Se(Re(t),"isWeekInMonth",(function(e){var n=t.props.day,o=yt.default(e,6);return qe(e,n)||qe(o,n)})),Se(Re(t),"isCurrentMonth",(function(t,e){return Ft.default(t)===Ft.default(Ge())&&e===kt.default(Ge())})),Se(Re(t),"isCurrentQuarter",(function(t,e){return Ft.default(t)===Ft.default(Ge())&&e===Nt.default(Ge())})),Se(Re(t),"isSelectedMonth",(function(t,e,n){return kt.default(n)===e&&Ft.default(t)===Ft.default(n)})),Se(Re(t),"isSelectedQuarter",(function(t,e,n){return Nt.default(t)===e&&Ft.default(t)===Ft.default(n)})),Se(Re(t),"renderWeeks",(function(){for(var e=[],n=t.props.fixedHeight,o=0,r=!1,i=We(ze(t.props.day),t.props.locale,t.props.calendarStartDay);e.push(dt.default.createElement(Bn,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,chooseDayAriaLabelPrefix:t.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:t.props.disabledDayAriaLabelPrefix,key:o,day:i,month:kt.default(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,onWeekSelect:t.props.onWeekSelect,formatWeekNumber:t.props.formatWeekNumber,locale:t.props.locale,minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDates:t.props.includeDates,includeDateIntervals:t.props.includeDateIntervals,inline:t.props.inline,shouldFocusDayInline:t.props.shouldFocusDayInline,highlightDates:t.props.highlightDates,holidays:t.props.holidays,selectingDate:t.props.selectingDate,filterDate:t.props.filterDate,preSelection:t.props.preSelection,selected:t.props.selected,selectsStart:t.props.selectsStart,selectsEnd:t.props.selectsEnd,selectsRange:t.props.selectsRange,selectsDisabledDaysInRange:t.props.selectsDisabledDaysInRange,showWeekNumber:t.props.showWeekNumbers,showWeekPicker:t.props.showWeekPicker,startDate:t.props.startDate,endDate:t.props.endDate,dayClassName:t.props.dayClassName,setOpen:t.props.setOpen,shouldCloseOnSelect:t.props.shouldCloseOnSelect,disabledKeyboardNavigation:t.props.disabledKeyboardNavigation,renderDayContents:t.props.renderDayContents,handleOnKeyDown:t.props.handleOnKeyDown,isInputFocused:t.props.isInputFocused,containerRef:t.props.containerRef,calendarStartDay:t.props.calendarStartDay,monthShowsDuplicateDaysEnd:t.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:t.props.monthShowsDuplicateDaysStart})),!r;){o++,i=Ct.default(i,1);var s=n&&o>=6,a=!n&&!t.isWeekInMonth(i);if(s||a){if(!t.props.peekNextMonth)break;r=!0}}return e})),Se(Re(t),"onMonthClick",(function(e,n){t.handleDayClick(ze(jt.default(t.props.day,n)),e)})),Se(Re(t),"onMonthMouseEnter",(function(e){t.handleDayMouseEnter(ze(jt.default(t.props.day,e)))})),Se(Re(t),"handleMonthNavigation",(function(e,n){t.isDisabled(n)||t.isExcluded(n)||(t.props.setPreSelection(n),t.MONTH_REFS[e].current&&t.MONTH_REFS[e].current.focus())})),Se(Re(t),"onMonthKeyDown",(function(e,n){var o=t.props,r=o.selected,i=o.preSelection,s=o.disabledKeyboardNavigation,a=o.showTwoColumnMonthYearPicker,l=o.showFourColumnMonthYearPicker,u=o.setPreSelection,c=e.key;if("Tab"!==c&&e.preventDefault(),!s){var d=Kn(l,a),p=Yn[d].verticalNavigationOffset,h=Yn[d].grid;switch(c){case"Enter":t.onMonthClick(e,n),u(r);break;case"ArrowRight":t.handleMonthNavigation(11===n?0:n+1,wt.default(i,1));break;case"ArrowLeft":t.handleMonthNavigation(0===n?11:n-1,Ot.default(i,1));break;case"ArrowUp":t.handleMonthNavigation(h[0].includes(n)?n+12-p:n-p,Ot.default(i,p));break;case"ArrowDown":t.handleMonthNavigation(h[h.length-1].includes(n)?n-12+p:n+p,wt.default(i,p))}}})),Se(Re(t),"onQuarterClick",(function(e,n){t.handleDayClick(Ye(Bt.default(t.props.day,n)),e)})),Se(Re(t),"onQuarterMouseEnter",(function(e){t.handleDayMouseEnter(Ye(Bt.default(t.props.day,e)))})),Se(Re(t),"handleQuarterNavigation",(function(e,n){t.isDisabled(n)||t.isExcluded(n)||(t.props.setPreSelection(n),t.QUARTER_REFS[e-1].current&&t.QUARTER_REFS[e-1].current.focus())})),Se(Re(t),"onQuarterKeyDown",(function(e,n){var o=e.key;if(!t.props.disabledKeyboardNavigation)switch(o){case"Enter":t.onQuarterClick(e,n),t.props.setPreSelection(t.props.selected);break;case"ArrowRight":t.handleQuarterNavigation(4===n?1:n+1,bt.default(t.props.preSelection,1));break;case"ArrowLeft":t.handleQuarterNavigation(1===n?4:n-1,xt.default(t.props.preSelection,1))}})),Se(Re(t),"getMonthClassNames",(function(e){var n=t.props,o=n.day,r=n.startDate,i=n.endDate,s=n.selected,a=n.minDate,l=n.maxDate,u=n.preSelection,c=n.monthClassName,d=n.excludeDates,p=n.includeDates,h=c?c(jt.default(o,e)):void 0,f=jt.default(o,e);return pt.default("react-datepicker__month-text","react-datepicker__month-".concat(e),h,{"react-datepicker__month-text--disabled":(a||l||d||p)&&an(f,t.props),"react-datepicker__month-text--selected":t.isSelectedMonth(o,e,s),"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&kt.default(u)===e,"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(e),"react-datepicker__month-text--in-range":ln(r,i,e,o),"react-datepicker__month-text--range-start":t.isRangeStartMonth(e),"react-datepicker__month-text--range-end":t.isRangeEndMonth(e),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(e),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(e),"react-datepicker__month-text--today":t.isCurrentMonth(o,e)})})),Se(Re(t),"getTabIndex",(function(e){var n=kt.default(t.props.preSelection);return t.props.disabledKeyboardNavigation||e!==n?"-1":"0"})),Se(Re(t),"getQuarterTabIndex",(function(e){var n=Nt.default(t.props.preSelection);return t.props.disabledKeyboardNavigation||e!==n?"-1":"0"})),Se(Re(t),"getAriaLabel",(function(e){var n=t.props,o=n.chooseDayAriaLabelPrefix,r=void 0===o?"Choose":o,i=n.disabledDayAriaLabelPrefix,s=void 0===i?"Not available":i,a=n.day,l=jt.default(a,e),u=t.isDisabled(l)||t.isExcluded(l)?s:r;return"".concat(u," ").concat(Ve(l,"MMMM yyyy"))})),Se(Re(t),"getQuarterClassNames",(function(e){var n=t.props,o=n.day,r=n.startDate,i=n.endDate,s=n.selected,a=n.minDate,l=n.maxDate,u=n.preSelection,c=n.disabledKeyboardNavigation;return pt.default("react-datepicker__quarter-text","react-datepicker__quarter-".concat(e),{"react-datepicker__quarter-text--disabled":(a||l)&&un(Bt.default(o,e),t.props),"react-datepicker__quarter-text--selected":t.isSelectedQuarter(o,e,s),"react-datepicker__quarter-text--keyboard-selected":!c&&Nt.default(u)===e,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(e),"react-datepicker__quarter-text--in-range":pn(r,i,e,o),"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(e),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(e)})})),Se(Re(t),"getMonthContent",(function(e){var n=t.props,o=n.showFullMonthYearPicker,r=n.renderMonthContent,i=n.locale,s=on(e,i),a=nn(e,i);return r?r(e,s,a):o?a:s})),Se(Re(t),"getQuarterContent",(function(e){var n=t.props,o=n.renderQuarterContent,r=function(t,e){return Ve(Bt.default(Ge(),t),"QQQ",e)}(e,n.locale);return o?o(e,r):r})),Se(Re(t),"renderMonths",(function(){var e=t.props,n=e.showTwoColumnMonthYearPicker,o=e.showFourColumnMonthYearPicker,r=e.day,i=e.selected;return Yn[Kn(o,n)].grid.map((function(e,n){return dt.default.createElement("div",{className:"react-datepicker__month-wrapper",key:n},e.map((function(e,n){return dt.default.createElement("div",{ref:t.MONTH_REFS[e],key:n,onClick:function(n){t.onMonthClick(n,e)},onKeyDown:function(n){t.onMonthKeyDown(n,e)},onMouseEnter:function(){return t.onMonthMouseEnter(e)},tabIndex:t.getTabIndex(e),className:t.getMonthClassNames(e),role:"option","aria-label":t.getAriaLabel(e),"aria-current":t.isCurrentMonth(r,e)?"date":void 0,"aria-selected":t.isSelectedMonth(r,e,i)},t.getMonthContent(e))})))}))})),Se(Re(t),"renderQuarters",(function(){var e=t.props,n=e.day,o=e.selected;return dt.default.createElement("div",{className:"react-datepicker__quarter-wrapper"},[1,2,3,4].map((function(e,r){return dt.default.createElement("div",{key:r,ref:t.QUARTER_REFS[r],role:"option",onClick:function(n){t.onQuarterClick(n,e)},onKeyDown:function(n){t.onQuarterKeyDown(n,e)},onMouseEnter:function(){return t.onQuarterMouseEnter(e)},className:t.getQuarterClassNames(e),"aria-selected":t.isSelectedQuarter(n,e,o),tabIndex:t.getQuarterTabIndex(e),"aria-current":t.isCurrentQuarter(n,e)?"date":void 0},t.getQuarterContent(e))})))})),Se(Re(t),"getClassNames",(function(){var e=t.props,n=e.selectingDate,o=e.selectsStart,r=e.selectsEnd,i=e.showMonthYearPicker,s=e.showQuarterYearPicker,a=e.showWeekPicker;return pt.default("react-datepicker__month",{"react-datepicker__month--selecting-range":n&&(o||r)},{"react-datepicker__monthPicker":i},{"react-datepicker__quarterPicker":s},{"react-datepicker__weekPicker":a})})),t}return _e(n,[{key:"render",value:function(){var t=this.props,e=t.showMonthYearPicker,n=t.showQuarterYearPicker,o=t.day,r=t.ariaLabelPrefix,i=void 0===r?"month ":r;return dt.default.createElement("div",{className:this.getClassNames(),onMouseLeave:this.handleMouseLeave,"aria-label":"".concat(i," ").concat(Ve(o,"yyyy-MM")),role:"listbox"},e?this.renderMonths():n?this.renderQuarters():this.renderWeeks())}}]),n}(dt.default.Component),qn=function(t){Oe(n,t);var e=De(n);function n(){var t;we(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return Se(Re(t=e.call.apply(e,[this].concat(r))),"state",{height:null}),Se(Re(t),"scrollToTheSelectedTime",(function(){requestAnimationFrame((function(){t.list&&(t.list.scrollTop=t.centerLi&&n.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-t.header.clientHeight:t.list.clientHeight,t.centerLi))}))})),Se(Re(t),"handleClick",(function(e){(t.props.minTime||t.props.maxTime)&&vn(e,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&gn(e,t.props)||t.props.onChange(e)})),Se(Re(t),"isSelectedTime",(function(e){return t.props.selected&&(n=e,Rn(t.props.selected).getTime()===Rn(n).getTime());var n})),Se(Re(t),"isDisabledTime",(function(e){return(t.props.minTime||t.props.maxTime)&&vn(e,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&gn(e,t.props)})),Se(Re(t),"liClasses",(function(e){var n=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(e):void 0];return t.isSelectedTime(e)&&n.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(e)&&n.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(60*Pt.default(e)+Dt.default(e))%t.props.intervals!=0&&n.push("react-datepicker__time-list-item--injected"),n.join(" ")})),Se(Re(t),"handleOnKeyDown",(function(e,n){" "===e.key&&(e.preventDefault(),e.key="Enter"),"ArrowUp"!==e.key&&"ArrowLeft"!==e.key||!e.target.previousSibling||(e.preventDefault(),e.target.previousSibling.focus()),"ArrowDown"!==e.key&&"ArrowRight"!==e.key||!e.target.nextSibling||(e.preventDefault(),e.target.nextSibling.focus()),"Enter"===e.key&&t.handleClick(n),t.props.handleOnKeyDown(e)})),Se(Re(t),"renderTimes",(function(){for(var e,n=[],o=t.props.format?t.props.format:"p",r=t.props.intervals,i=t.props.selected||t.props.openToDate||Ge(),s=(e=i,qt.default(e)),a=t.props.injectTimes&&t.props.injectTimes.sort((function(t,e){return t-e})),l=60*function(t){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),24);return Math.round((+n-+e)/36e5)}(i),u=l/r,c=0;c<u;c++){var d=vt.default(s,c*r);if(n.push(d),a){var p=On(s,d,c,r,a);n=n.concat(p)}}var h=n.reduce((function(t,e){return e.getTime()<=i.getTime()?e:t}),n[0]);return n.map((function(e,n){return dt.default.createElement("li",{key:n,onClick:t.handleClick.bind(Re(t),e),className:t.liClasses(e),ref:function(n){e===h&&(t.centerLi=n)},onKeyDown:function(n){t.handleOnKeyDown(n,e)},tabIndex:e===h?0:-1,role:"option","aria-selected":t.isSelectedTime(e)?"true":void 0,"aria-disabled":t.isDisabledTime(e)?"true":void 0},Ve(e,o,t.props.locale))}))})),t}return _e(n,[{key:"componentDidMount",value:function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})}},{key:"render",value:function(){var t=this,e=this.state.height;return dt.default.createElement("div",{className:"react-datepicker__time-container ".concat(this.props.todayButton?"react-datepicker__time-container--with-today-button":"")},dt.default.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(this.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(e){t.header=e}},dt.default.createElement("div",{className:"react-datepicker-time__header"},this.props.timeCaption)),dt.default.createElement("div",{className:"react-datepicker__time"},dt.default.createElement("div",{className:"react-datepicker__time-box"},dt.default.createElement("ul",{className:"react-datepicker__time-list",ref:function(e){t.list=e},style:e?{height:e}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))}}],[{key:"defaultProps",get:function(){return{intervals:30,onTimeChange:function(){},todayButton:null,timeCaption:"Time"}}}]),n}(dt.default.Component);Se(qn,"calcCenterPosition",(function(t,e){return e.offsetTop-(t/2-e.clientHeight/2)}));var Qn=function(t){Oe(n,t);var e=De(n);function n(t){var o;return we(this,n),Se(Re(o=e.call(this,t)),"YEAR_REFS",Pe(Array(o.props.yearItemNumber)).map((function(){return dt.default.createRef()}))),Se(Re(o),"isDisabled",(function(t){return rn(t,o.props)})),Se(Re(o),"isExcluded",(function(t){return sn(t,o.props)})),Se(Re(o),"selectingDate",(function(){var t;return null!==(t=o.props.selectingDate)&&void 0!==t?t:o.props.preSelection})),Se(Re(o),"updateFocusOnPaginate",(function(t){var e=function(){this.YEAR_REFS[t].current.focus()}.bind(Re(o));window.requestAnimationFrame(e)})),Se(Re(o),"handleYearClick",(function(t,e){o.props.onDayClick&&o.props.onDayClick(t,e)})),Se(Re(o),"handleYearNavigation",(function(t,e){var n=o.props,r=n.date,i=n.yearItemNumber,s=Tn(r,i).startPeriod;o.isDisabled(e)||o.isExcluded(e)||(o.props.setPreSelection(e),t-s==-1?o.updateFocusOnPaginate(i-1):t-s===i?o.updateFocusOnPaginate(0):o.YEAR_REFS[t-s].current.focus())})),Se(Re(o),"isSameDay",(function(t,e){return Xe(t,e)})),Se(Re(o),"isCurrentYear",(function(t){return t===Ft.default(Ge())})),Se(Re(o),"isRangeStart",(function(t){return o.props.startDate&&o.props.endDate&&Ze(Wt.default(Ge(),t),o.props.startDate)})),Se(Re(o),"isRangeEnd",(function(t){return o.props.startDate&&o.props.endDate&&Ze(Wt.default(Ge(),t),o.props.endDate)})),Se(Re(o),"isInRange",(function(t){return cn(t,o.props.startDate,o.props.endDate)})),Se(Re(o),"isInSelectingRange",(function(t){var e=o.props,n=e.selectsStart,r=e.selectsEnd,i=e.selectsRange,s=e.startDate,a=e.endDate;return!(!(n||r||i)||!o.selectingDate())&&(n&&a?cn(t,o.selectingDate(),a):(r&&s||!(!i||!s||a))&&cn(t,s,o.selectingDate()))})),Se(Re(o),"isSelectingRangeStart",(function(t){if(!o.isInSelectingRange(t))return!1;var e=o.props,n=e.startDate,r=e.selectsStart;return Ze(Wt.default(Ge(),t),r?o.selectingDate():n)})),Se(Re(o),"isSelectingRangeEnd",(function(t){if(!o.isInSelectingRange(t))return!1;var e=o.props,n=e.endDate,r=e.selectsEnd,i=e.selectsRange;return Ze(Wt.default(Ge(),t),r||i?o.selectingDate():n)})),Se(Re(o),"isKeyboardSelected",(function(t){var e=Ue(Wt.default(o.props.date,t));return!o.props.disabledKeyboardNavigation&&!o.props.inline&&!Xe(e,Ue(o.props.selected))&&Xe(e,Ue(o.props.preSelection))})),Se(Re(o),"onYearClick",(function(t,e){var n=o.props.date;o.handleYearClick(Ue(Wt.default(n,e)),t)})),Se(Re(o),"onYearKeyDown",(function(t,e){var n=t.key;if(!o.props.disabledKeyboardNavigation)switch(n){case"Enter":o.onYearClick(t,e),o.props.setPreSelection(o.props.selected);break;case"ArrowRight":o.handleYearNavigation(e+1,_t.default(o.props.preSelection,1));break;case"ArrowLeft":o.handleYearNavigation(e-1,Tt.default(o.props.preSelection,1))}})),Se(Re(o),"getYearClassNames",(function(t){var e=o.props,n=e.minDate,r=e.maxDate,i=e.selected,s=e.excludeDates,a=e.includeDates,l=e.filterDate;return pt.default("react-datepicker__year-text",{"react-datepicker__year-text--selected":t===Ft.default(i),"react-datepicker__year-text--disabled":(n||r||s||a||l)&&dn(t,o.props),"react-datepicker__year-text--keyboard-selected":o.isKeyboardSelected(t),"react-datepicker__year-text--range-start":o.isRangeStart(t),"react-datepicker__year-text--range-end":o.isRangeEnd(t),"react-datepicker__year-text--in-range":o.isInRange(t),"react-datepicker__year-text--in-selecting-range":o.isInSelectingRange(t),"react-datepicker__year-text--selecting-range-start":o.isSelectingRangeStart(t),"react-datepicker__year-text--selecting-range-end":o.isSelectingRangeEnd(t),"react-datepicker__year-text--today":o.isCurrentYear(t)})})),Se(Re(o),"getYearTabIndex",(function(t){return o.props.disabledKeyboardNavigation?"-1":t===Ft.default(o.props.preSelection)?"0":"-1"})),Se(Re(o),"getYearContainerClassNames",(function(){var t=o.props,e=t.selectingDate,n=t.selectsStart,r=t.selectsEnd,i=t.selectsRange;return pt.default("react-datepicker__year",{"react-datepicker__year--selecting-range":e&&(n||r||i)})})),Se(Re(o),"getYearContent",(function(t){return o.props.renderYearContent?o.props.renderYearContent(t):t})),o}return _e(n,[{key:"render",value:function(){for(var t=this,e=[],n=this.props,o=n.date,r=n.yearItemNumber,i=n.onYearMouseEnter,s=n.onYearMouseLeave,a=Tn(o,r),l=a.startPeriod,u=a.endPeriod,c=function(n){e.push(dt.default.createElement("div",{ref:t.YEAR_REFS[n-l],onClick:function(e){t.onYearClick(e,n)},onKeyDown:function(e){t.onYearKeyDown(e,n)},tabIndex:t.getYearTabIndex(n),className:t.getYearClassNames(n),onMouseEnter:function(t){return i(t,n)},onMouseLeave:function(t){return s(t,n)},key:n,"aria-current":t.isCurrentYear(n)?"date":void 0},t.getYearContent(n)))},d=l;d<=u;d++)c(d);return dt.default.createElement("div",{className:this.getYearContainerClassNames()},dt.default.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.clearSelectingDate},e))}}]),n}(dt.default.Component),Xn=function(t){Oe(n,t);var e=De(n);function n(t){var o;return we(this,n),Se(Re(o=e.call(this,t)),"onTimeChange",(function(t){o.setState({time:t});var e=o.props.date,n=e instanceof Date&&!isNaN(e)?e:new Date;n.setHours(t.split(":")[0]),n.setMinutes(t.split(":")[1]),o.props.onChange(n)})),Se(Re(o),"renderTimeInput",(function(){var t=o.state.time,e=o.props,n=e.date,r=e.timeString,i=e.customTimeInput;return i?dt.default.cloneElement(i,{date:n,value:t,onChange:o.onTimeChange}):dt.default.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",required:!0,value:t,onChange:function(t){o.onTimeChange(t.target.value||r)}})})),o.state={time:o.props.timeString},o}return _e(n,[{key:"render",value:function(){return dt.default.createElement("div",{className:"react-datepicker__input-time-container"},dt.default.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),dt.default.createElement("div",{className:"react-datepicker-time__input-container"},dt.default.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))}}],[{key:"getDerivedStateFromProps",value:function(t,e){return t.timeString!==e.time?{time:t.timeString}:null}}]),n}(dt.default.Component);function $n(t){var e=t.className,n=t.children,o=t.showPopperArrow,r=t.arrowProps,i=void 0===r?{}:r;return dt.default.createElement("div",{className:e},o&&dt.default.createElement("div",Ee({className:"react-datepicker__triangle"},i)),n)}var Jn=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],to=function(t){Oe(n,t);var e=De(n);function n(t){var o;return we(this,n),Se(Re(o=e.call(this,t)),"handleClickOutside",(function(t){o.props.onClickOutside(t)})),Se(Re(o),"setClickOutsideRef",(function(){return o.containerRef.current})),Se(Re(o),"handleDropdownFocus",(function(t){(function(){var t=((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).className||"").split(/\s+/);return Jn.some((function(e){return t.indexOf(e)>=0}))})(t.target)&&o.props.onDropdownFocus()})),Se(Re(o),"getDateInView",(function(){var t=o.props,e=t.preSelection,n=t.selected,r=t.openToDate,i=bn(o.props),s=_n(o.props),a=Ge();return r||n||e||(i&&ue.default(a,i)?i:s&&le.default(a,s)?s:a)})),Se(Re(o),"increaseMonth",(function(){o.setState((function(t){var e=t.date;return{date:wt.default(e,1)}}),(function(){return o.handleMonthChange(o.state.date)}))})),Se(Re(o),"decreaseMonth",(function(){o.setState((function(t){var e=t.date;return{date:Ot.default(e,1)}}),(function(){return o.handleMonthChange(o.state.date)}))})),Se(Re(o),"handleDayClick",(function(t,e,n){o.props.onSelect(t,e,n),o.props.setPreSelection&&o.props.setPreSelection(t)})),Se(Re(o),"handleDayMouseEnter",(function(t){o.setState({selectingDate:t}),o.props.onDayMouseEnter&&o.props.onDayMouseEnter(t)})),Se(Re(o),"handleMonthMouseLeave",(function(){o.setState({selectingDate:null}),o.props.onMonthMouseLeave&&o.props.onMonthMouseLeave()})),Se(Re(o),"handleYearMouseEnter",(function(t,e){o.setState({selectingDate:Wt.default(Ge(),e)}),o.props.onYearMouseEnter&&o.props.onYearMouseEnter(t,e)})),Se(Re(o),"handleYearMouseLeave",(function(t,e){o.props.onYearMouseLeave&&o.props.onYearMouseLeave(t,e)})),Se(Re(o),"handleYearChange",(function(t){o.props.onYearChange&&(o.props.onYearChange(t),o.setState({isRenderAriaLiveMessage:!0})),o.props.adjustDateOnChange&&(o.props.onSelect&&o.props.onSelect(t),o.props.setOpen&&o.props.setOpen(!0)),o.props.setPreSelection&&o.props.setPreSelection(t)})),Se(Re(o),"handleMonthChange",(function(t){o.handleCustomMonthChange(t),o.props.adjustDateOnChange&&(o.props.onSelect&&o.props.onSelect(t),o.props.setOpen&&o.props.setOpen(!0)),o.props.setPreSelection&&o.props.setPreSelection(t)})),Se(Re(o),"handleCustomMonthChange",(function(t){o.props.onMonthChange&&(o.props.onMonthChange(t),o.setState({isRenderAriaLiveMessage:!0}))})),Se(Re(o),"handleMonthYearChange",(function(t){o.handleYearChange(t),o.handleMonthChange(t)})),Se(Re(o),"changeYear",(function(t){o.setState((function(e){var n=e.date;return{date:Wt.default(n,t)}}),(function(){return o.handleYearChange(o.state.date)}))})),Se(Re(o),"changeMonth",(function(t){o.setState((function(e){var n=e.date;return{date:jt.default(n,t)}}),(function(){return o.handleMonthChange(o.state.date)}))})),Se(Re(o),"changeMonthYear",(function(t){o.setState((function(e){var n=e.date;return{date:Wt.default(jt.default(n,kt.default(t)),Ft.default(t))}}),(function(){return o.handleMonthYearChange(o.state.date)}))})),Se(Re(o),"header",(function(){var t=We(arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.state.date,o.props.locale,o.props.calendarStartDay),e=[];return o.props.showWeekNumbers&&e.push(dt.default.createElement("div",{key:"W",className:"react-datepicker__day-name"},o.props.weekLabel||"#")),e.concat([0,1,2,3,4,5,6].map((function(e){var n=yt.default(t,e),r=o.formatWeekday(n,o.props.locale),i=o.props.weekDayClassName?o.props.weekDayClassName(n):void 0;return dt.default.createElement("div",{key:e,className:pt.default("react-datepicker__day-name",i)},r)})))})),Se(Re(o),"formatWeekday",(function(t,e){return o.props.formatWeekDay?function(t,e,n){return e(Ve(t,"EEEE",n))}(t,o.props.formatWeekDay,e):o.props.useWeekdaysShort?function(t,e){return Ve(t,"EEE",e)}(t,e):function(t,e){return Ve(t,"EEEEEE",e)}(t,e)})),Se(Re(o),"decreaseYear",(function(){o.setState((function(t){var e=t.date;return{date:Tt.default(e,o.props.showYearPicker?o.props.yearItemNumber:1)}}),(function(){return o.handleYearChange(o.state.date)}))})),Se(Re(o),"clearSelectingDate",(function(){o.setState({selectingDate:null})})),Se(Re(o),"renderPreviousButton",(function(){if(!o.props.renderCustomHeader){var t;switch(!0){case o.props.showMonthYearPicker:t=Cn(o.state.date,o.props);break;case o.props.showYearPicker:t=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.minDate,o=e.yearItemNumber,r=void 0===o?Fe:o,i=Tn(Ue(Tt.default(t,r)),r).endPeriod,s=n&&Ft.default(n);return s&&s>i||!1}(o.state.date,o.props);break;default:t=mn(o.state.date,o.props)}if((o.props.forceShowMonthNavigation||o.props.showDisabledMonthNavigation||!t)&&!o.props.showTimeSelectOnly){var e=["react-datepicker__navigation","react-datepicker__navigation--previous"],n=o.decreaseMonth;(o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker)&&(n=o.decreaseYear),t&&o.props.showDisabledMonthNavigation&&(e.push("react-datepicker__navigation--previous--disabled"),n=null);var r=o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker,i=o.props,s=i.previousMonthButtonLabel,a=i.previousYearButtonLabel,l=o.props,u=l.previousMonthAriaLabel,c=void 0===u?"string"==typeof s?s:"Previous Month":u,d=l.previousYearAriaLabel,p=void 0===d?"string"==typeof a?a:"Previous Year":d;return dt.default.createElement("button",{type:"button",className:e.join(" "),onClick:n,onKeyDown:o.props.handleOnKeyDown,"aria-label":r?p:c},dt.default.createElement("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"].join(" ")},r?o.props.previousYearButtonLabel:o.props.previousMonthButtonLabel))}}})),Se(Re(o),"increaseYear",(function(){o.setState((function(t){var e=t.date;return{date:_t.default(e,o.props.showYearPicker?o.props.yearItemNumber:1)}}),(function(){return o.handleYearChange(o.state.date)}))})),Se(Re(o),"renderNextButton",(function(){if(!o.props.renderCustomHeader){var t;switch(!0){case o.props.showMonthYearPicker:t=wn(o.state.date,o.props);break;case o.props.showYearPicker:t=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.maxDate,o=e.yearItemNumber,r=void 0===o?Fe:o,i=Tn(_t.default(t,r),r).startPeriod,s=n&&Ft.default(n);return s&&s<i||!1}(o.state.date,o.props);break;default:t=yn(o.state.date,o.props)}if((o.props.forceShowMonthNavigation||o.props.showDisabledMonthNavigation||!t)&&!o.props.showTimeSelectOnly){var e=["react-datepicker__navigation","react-datepicker__navigation--next"];o.props.showTimeSelect&&e.push("react-datepicker__navigation--next--with-time"),o.props.todayButton&&e.push("react-datepicker__navigation--next--with-today-button");var n=o.increaseMonth;(o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker)&&(n=o.increaseYear),t&&o.props.showDisabledMonthNavigation&&(e.push("react-datepicker__navigation--next--disabled"),n=null);var r=o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker,i=o.props,s=i.nextMonthButtonLabel,a=i.nextYearButtonLabel,l=o.props,u=l.nextMonthAriaLabel,c=void 0===u?"string"==typeof s?s:"Next Month":u,d=l.nextYearAriaLabel,p=void 0===d?"string"==typeof a?a:"Next Year":d;return dt.default.createElement("button",{type:"button",className:e.join(" "),onClick:n,onKeyDown:o.props.handleOnKeyDown,"aria-label":r?p:c},dt.default.createElement("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"].join(" ")},r?o.props.nextYearButtonLabel:o.props.nextMonthButtonLabel))}}})),Se(Re(o),"renderCurrentMonth",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.state.date,e=["react-datepicker__current-month"];return o.props.showYearDropdown&&e.push("react-datepicker__current-month--hasYearDropdown"),o.props.showMonthDropdown&&e.push("react-datepicker__current-month--hasMonthDropdown"),o.props.showMonthYearDropdown&&e.push("react-datepicker__current-month--hasMonthYearDropdown"),dt.default.createElement("div",{className:e.join(" ")},Ve(t,o.props.dateFormat,o.props.locale))})),Se(Re(o),"renderYearDropdown",(function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(o.props.showYearDropdown&&!t)return dt.default.createElement(Mn,{adjustDateOnChange:o.props.adjustDateOnChange,date:o.state.date,onSelect:o.props.onSelect,setOpen:o.props.setOpen,dropdownMode:o.props.dropdownMode,onChange:o.changeYear,minDate:o.props.minDate,maxDate:o.props.maxDate,year:Ft.default(o.state.date),scrollableYearDropdown:o.props.scrollableYearDropdown,yearDropdownItemNumber:o.props.yearDropdownItemNumber})})),Se(Re(o),"renderMonthDropdown",(function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(o.props.showMonthDropdown&&!t)return dt.default.createElement(Nn,{dropdownMode:o.props.dropdownMode,locale:o.props.locale,onChange:o.changeMonth,month:kt.default(o.state.date),useShortMonthInDropdown:o.props.useShortMonthInDropdown})})),Se(Re(o),"renderMonthYearDropdown",(function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(o.props.showMonthYearDropdown&&!t)return dt.default.createElement(Hn,{dropdownMode:o.props.dropdownMode,locale:o.props.locale,dateFormat:o.props.dateFormat,onChange:o.changeMonthYear,minDate:o.props.minDate,maxDate:o.props.maxDate,date:o.state.date,scrollableMonthYearDropdown:o.props.scrollableMonthYearDropdown})})),Se(Re(o),"handleTodayButtonClick",(function(t){o.props.onSelect(Ke(),t),o.props.setPreSelection&&o.props.setPreSelection(Ke())})),Se(Re(o),"renderTodayButton",(function(){if(o.props.todayButton&&!o.props.showTimeSelectOnly)return dt.default.createElement("div",{className:"react-datepicker__today-button",onClick:function(t){return o.handleTodayButtonClick(t)}},o.props.todayButton)})),Se(Re(o),"renderDefaultHeader",(function(t){var e=t.monthDate,n=t.i;return dt.default.createElement("div",{className:"react-datepicker__header ".concat(o.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},o.renderCurrentMonth(e),dt.default.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(o.props.dropdownMode),onFocus:o.handleDropdownFocus},o.renderMonthDropdown(0!==n),o.renderMonthYearDropdown(0!==n),o.renderYearDropdown(0!==n)),dt.default.createElement("div",{className:"react-datepicker__day-names"},o.header(e)))})),Se(Re(o),"renderCustomHeader",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.monthDate,n=t.i;if(o.props.showTimeSelect&&!o.state.monthContainer||o.props.showTimeSelectOnly)return null;var r=mn(o.state.date,o.props),i=yn(o.state.date,o.props),s=Cn(o.state.date,o.props),a=wn(o.state.date,o.props),l=!o.props.showMonthYearPicker&&!o.props.showQuarterYearPicker&&!o.props.showYearPicker;return dt.default.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:o.props.onDropdownFocus},o.props.renderCustomHeader(ye(ye({},o.state),{},{customHeaderCount:n,monthDate:e,changeMonth:o.changeMonth,changeYear:o.changeYear,decreaseMonth:o.decreaseMonth,increaseMonth:o.increaseMonth,decreaseYear:o.decreaseYear,increaseYear:o.increaseYear,prevMonthButtonDisabled:r,nextMonthButtonDisabled:i,prevYearButtonDisabled:s,nextYearButtonDisabled:a})),l&&dt.default.createElement("div",{className:"react-datepicker__day-names"},o.header(e)))})),Se(Re(o),"renderYearHeader",(function(){var t=o.state.date,e=o.props,n=e.showYearPicker,r=Tn(t,e.yearItemNumber),i=r.startPeriod,s=r.endPeriod;return dt.default.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},n?"".concat(i," - ").concat(s):Ft.default(t))})),Se(Re(o),"renderHeader",(function(t){switch(!0){case void 0!==o.props.renderCustomHeader:return o.renderCustomHeader(t);case o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker:return o.renderYearHeader(t);default:return o.renderDefaultHeader(t)}})),Se(Re(o),"renderMonths",(function(){var t;if(!o.props.showTimeSelectOnly&&!o.props.showYearPicker){for(var e=[],n=o.props.showPreviousMonths?o.props.monthsShown-1:0,r=Ot.default(o.state.date,n),i=null!==(t=o.props.monthSelectedIn)&&void 0!==t?t:n,s=0;s<o.props.monthsShown;++s){var a=s-i+n,l=wt.default(r,a),u="month-".concat(s),c=s<o.props.monthsShown-1,d=s>0;e.push(dt.default.createElement("div",{key:u,ref:function(t){o.monthContainer=t},className:"react-datepicker__month-container"},o.renderHeader({monthDate:l,i:s}),dt.default.createElement(Zn,{chooseDayAriaLabelPrefix:o.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:o.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:o.props.weekAriaLabelPrefix,ariaLabelPrefix:o.props.monthAriaLabelPrefix,onChange:o.changeMonthYear,day:l,dayClassName:o.props.dayClassName,calendarStartDay:o.props.calendarStartDay,monthClassName:o.props.monthClassName,onDayClick:o.handleDayClick,handleOnKeyDown:o.props.handleOnDayKeyDown,onDayMouseEnter:o.handleDayMouseEnter,onMouseLeave:o.handleMonthMouseLeave,onWeekSelect:o.props.onWeekSelect,orderInDisplay:s,formatWeekNumber:o.props.formatWeekNumber,locale:o.props.locale,minDate:o.props.minDate,maxDate:o.props.maxDate,excludeDates:o.props.excludeDates,excludeDateIntervals:o.props.excludeDateIntervals,highlightDates:o.props.highlightDates,holidays:o.props.holidays,selectingDate:o.state.selectingDate,includeDates:o.props.includeDates,includeDateIntervals:o.props.includeDateIntervals,inline:o.props.inline,shouldFocusDayInline:o.props.shouldFocusDayInline,fixedHeight:o.props.fixedHeight,filterDate:o.props.filterDate,preSelection:o.props.preSelection,setPreSelection:o.props.setPreSelection,selected:o.props.selected,selectsStart:o.props.selectsStart,selectsEnd:o.props.selectsEnd,selectsRange:o.props.selectsRange,selectsDisabledDaysInRange:o.props.selectsDisabledDaysInRange,showWeekNumbers:o.props.showWeekNumbers,startDate:o.props.startDate,endDate:o.props.endDate,peekNextMonth:o.props.peekNextMonth,setOpen:o.props.setOpen,shouldCloseOnSelect:o.props.shouldCloseOnSelect,renderDayContents:o.props.renderDayContents,renderMonthContent:o.props.renderMonthContent,renderQuarterContent:o.props.renderQuarterContent,renderYearContent:o.props.renderYearContent,disabledKeyboardNavigation:o.props.disabledKeyboardNavigation,showMonthYearPicker:o.props.showMonthYearPicker,showFullMonthYearPicker:o.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:o.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:o.props.showFourColumnMonthYearPicker,showYearPicker:o.props.showYearPicker,showQuarterYearPicker:o.props.showQuarterYearPicker,showWeekPicker:o.props.showWeekPicker,isInputFocused:o.props.isInputFocused,containerRef:o.containerRef,monthShowsDuplicateDaysEnd:c,monthShowsDuplicateDaysStart:d})))}return e}})),Se(Re(o),"renderYears",(function(){if(!o.props.showTimeSelectOnly)return o.props.showYearPicker?dt.default.createElement("div",{className:"react-datepicker__year--container"},o.renderHeader(),dt.default.createElement(Qn,Ee({onDayClick:o.handleDayClick,selectingDate:o.state.selectingDate,clearSelectingDate:o.clearSelectingDate,date:o.state.date},o.props,{onYearMouseEnter:o.handleYearMouseEnter,onYearMouseLeave:o.handleYearMouseLeave}))):void 0})),Se(Re(o),"renderTimeSection",(function(){if(o.props.showTimeSelect&&(o.state.monthContainer||o.props.showTimeSelectOnly))return dt.default.createElement(qn,{selected:o.props.selected,openToDate:o.props.openToDate,onChange:o.props.onTimeChange,timeClassName:o.props.timeClassName,format:o.props.timeFormat,includeTimes:o.props.includeTimes,intervals:o.props.timeIntervals,minTime:o.props.minTime,maxTime:o.props.maxTime,excludeTimes:o.props.excludeTimes,filterTime:o.props.filterTime,timeCaption:o.props.timeCaption,todayButton:o.props.todayButton,showMonthDropdown:o.props.showMonthDropdown,showMonthYearDropdown:o.props.showMonthYearDropdown,showYearDropdown:o.props.showYearDropdown,withPortal:o.props.withPortal,monthRef:o.state.monthContainer,injectTimes:o.props.injectTimes,locale:o.props.locale,handleOnKeyDown:o.props.handleOnKeyDown,showTimeSelectOnly:o.props.showTimeSelectOnly})})),Se(Re(o),"renderInputTimeSection",(function(){var t=new Date(o.props.selected),e=He(t)&&Boolean(o.props.selected)?"".concat(xn(t.getHours()),":").concat(xn(t.getMinutes())):"";if(o.props.showTimeInput)return dt.default.createElement(Xn,{date:t,timeString:e,timeInputLabel:o.props.timeInputLabel,onChange:o.props.onTimeChange,customTimeInput:o.props.customTimeInput})})),Se(Re(o),"renderAriaLiveRegion",(function(){var t,e=Tn(o.state.date,o.props.yearItemNumber),n=e.startPeriod,r=e.endPeriod;return t=o.props.showYearPicker?"".concat(n," - ").concat(r):o.props.showMonthYearPicker||o.props.showQuarterYearPicker?Ft.default(o.state.date):"".concat(nn(kt.default(o.state.date),o.props.locale)," ").concat(Ft.default(o.state.date)),dt.default.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},o.state.isRenderAriaLiveMessage&&t)})),Se(Re(o),"renderChildren",(function(){if(o.props.children)return dt.default.createElement("div",{className:"react-datepicker__children-container"},o.props.children)})),o.containerRef=dt.default.createRef(),o.state={date:o.getDateInView(),selectingDate:null,monthContainer:null,isRenderAriaLiveMessage:!1},o}return _e(n,[{key:"componentDidMount",value:function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=void t.setState({monthContainer:t.monthContainer}))}},{key:"componentDidUpdate",value:function(t){var e=this;if(!this.props.preSelection||Xe(this.props.preSelection,t.preSelection)&&this.props.monthSelectedIn===t.monthSelectedIn)this.props.openToDate&&!Xe(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate});else{var n=!qe(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},(function(){return n&&e.handleCustomMonthChange(e.state.date)}))}}},{key:"render",value:function(){var t=this.props.container||$n;return dt.default.createElement("div",{style:{display:"contents"},ref:this.containerRef},dt.default.createElement(t,{className:pt.default("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showPopperArrow:this.props.showPopperArrow,arrowProps:this.props.arrowProps},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))}}],[{key:"defaultProps",get:function(){return{onDropdownFocus:function(){},monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",customTimeInput:null,yearItemNumber:Fe}}}]),n}(dt.default.Component),eo=function(t){var e=t.icon,n=t.className,o=void 0===n?"":n,r="react-datepicker__calendar-icon";return dt.default.isValidElement(e)?dt.default.cloneElement(e,{className:"".concat(e.props.className||""," ").concat(r," ").concat(o)}):"string"==typeof e?dt.default.createElement("i",{className:"".concat(r," ").concat(e," ").concat(o),"aria-hidden":"true"}):dt.default.createElement("svg",{className:"".concat(r," ").concat(o),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},dt.default.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},no=function(t){Oe(n,t);var e=De(n);function n(t){var o;return we(this,n),(o=e.call(this,t)).el=document.createElement("div"),o}return _e(n,[{key:"componentDidMount",value:function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){this.portalRoot.removeChild(this.el)}},{key:"render",value:function(){return ge.default.createPortal(this.props.children,this.el)}}]),n}(dt.default.Component),oo=function(t){return!t.disabled&&-1!==t.tabIndex},ro=function(t){Oe(n,t);var e=De(n);function n(t){var o;return we(this,n),Se(Re(o=e.call(this,t)),"getTabChildren",(function(){return Array.prototype.slice.call(o.tabLoopRef.current.querySelectorAll("[tabindex], a, button, input, select, textarea"),1,-1).filter(oo)})),Se(Re(o),"handleFocusStart",(function(){var t=o.getTabChildren();t&&t.length>1&&t[t.length-1].focus()})),Se(Re(o),"handleFocusEnd",(function(){var t=o.getTabChildren();t&&t.length>1&&t[0].focus()})),o.tabLoopRef=dt.default.createRef(),o}return _e(n,[{key:"render",value:function(){return this.props.enableTabLoop?dt.default.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},dt.default.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:"0",onFocus:this.handleFocusStart}),this.props.children,dt.default.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:"0",onFocus:this.handleFocusEnd})):this.props.children}}],[{key:"defaultProps",get:function(){return{enableTabLoop:!0}}}]),n}(dt.default.Component),io=function(t){Oe(n,t);var e=De(n);function n(){return we(this,n),e.apply(this,arguments)}return _e(n,[{key:"render",value:function(){var t,e=this.props,n=e.className,o=e.wrapperClassName,r=e.hidePopper,i=e.popperComponent,s=e.popperModifiers,a=e.popperPlacement,l=e.popperProps,u=e.targetComponent,c=e.enableTabLoop,d=e.popperOnKeyDown,p=e.portalId,h=e.portalHost;if(!r){var f=pt.default("react-datepicker-popper",n);t=dt.default.createElement(lt.Popper,Ee({modifiers:s,placement:a},l),(function(t){var e=t.ref,n=t.style,o=t.placement,r=t.arrowProps;return dt.default.createElement(ro,{enableTabLoop:c},dt.default.createElement("div",{ref:e,style:n,className:f,"data-placement":o,onKeyDown:d},dt.default.cloneElement(i,{arrowProps:r})))}))}this.props.popperContainer&&(t=dt.default.createElement(this.props.popperContainer,{},t)),p&&!r&&(t=dt.default.createElement(no,{portalId:p,portalHost:h},t));var g=pt.default("react-datepicker-wrapper",o);return dt.default.createElement(lt.Manager,{className:"react-datepicker-manager"},dt.default.createElement(lt.Reference,null,(function(t){var e=t.ref;return dt.default.createElement("div",{ref:e,className:g},u)})),t)}}],[{key:"defaultProps",get:function(){return{hidePopper:!0,popperModifiers:[],popperProps:{},popperPlacement:"bottom-start"}}}]),n}(dt.default.Component),so="react-datepicker-ignore-onclickoutside",ao=fe.default(to),lo="Date input not valid.",uo=function(t){Oe(n,t);var e=De(n);function n(t){var o;return we(this,n),Se(Re(o=e.call(this,t)),"getPreSelection",(function(){return o.props.openToDate?o.props.openToDate:o.props.selectsEnd&&o.props.startDate?o.props.startDate:o.props.selectsStart&&o.props.endDate?o.props.endDate:Ge()})),Se(Re(o),"modifyHolidays",(function(){var t;return null===(t=o.props.holidays)||void 0===t?void 0:t.reduce((function(t,e){var n=new Date(e.date);return ft.default(n)?[].concat(Pe(t),[ye(ye({},e),{},{date:n})]):t}),[])})),Se(Re(o),"calcInitialState",(function(){var t,e=o.getPreSelection(),n=bn(o.props),r=_n(o.props),i=n&&ue.default(e,qt.default(n))?n:r&&le.default(e,te.default(r))?r:e;return{open:o.props.startOpen||!1,preventFocus:!1,preSelection:null!==(t=o.props.selectsRange?o.props.startDate:o.props.selected)&&void 0!==t?t:i,highlightDates:Sn(o.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1}})),Se(Re(o),"clearPreventFocusTimeout",(function(){o.preventFocusTimeout&&clearTimeout(o.preventFocusTimeout)})),Se(Re(o),"setFocus",(function(){o.input&&o.input.focus&&o.input.focus({preventScroll:!0})})),Se(Re(o),"setBlur",(function(){o.input&&o.input.blur&&o.input.blur(),o.cancelFocusInput()})),Se(Re(o),"setOpen",(function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];o.setState({open:t,preSelection:t&&o.state.open?o.state.preSelection:o.calcInitialState().preSelection,lastPreSelectChange:po},(function(){t||o.setState((function(t){return{focused:!!e&&t.focused}}),(function(){!e&&o.setBlur(),o.setState({inputValue:null})}))}))})),Se(Re(o),"inputOk",(function(){return ht.default(o.state.preSelection)})),Se(Re(o),"isCalendarOpen",(function(){return void 0===o.props.open?o.state.open&&!o.props.disabled&&!o.props.readOnly:o.props.open})),Se(Re(o),"handleFocus",(function(t){o.state.preventFocus||(o.props.onFocus(t),o.props.preventOpenOnFocus||o.props.readOnly||o.setOpen(!0)),o.setState({focused:!0})})),Se(Re(o),"sendFocusBackToInput",(function(){o.preventFocusTimeout&&o.clearPreventFocusTimeout(),o.setState({preventFocus:!0},(function(){o.preventFocusTimeout=setTimeout((function(){o.setFocus(),o.setState({preventFocus:!1})}))}))})),Se(Re(o),"cancelFocusInput",(function(){clearTimeout(o.inputFocusTimeout),o.inputFocusTimeout=null})),Se(Re(o),"deferFocusInput",(function(){o.cancelFocusInput(),o.inputFocusTimeout=setTimeout((function(){return o.setFocus()}),1)})),Se(Re(o),"handleDropdownFocus",(function(){o.cancelFocusInput()})),Se(Re(o),"handleBlur",(function(t){(!o.state.open||o.props.withPortal||o.props.showTimeInput)&&o.props.onBlur(t),o.setState({focused:!1})})),Se(Re(o),"handleCalendarClickOutside",(function(t){o.props.inline||o.setOpen(!1),o.props.onClickOutside(t),o.props.withPortal&&t.preventDefault()})),Se(Re(o),"handleChange",(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0];if(!o.props.onChangeRaw||(o.props.onChangeRaw.apply(Re(o),e),"function"==typeof r.isDefaultPrevented&&!r.isDefaultPrevented())){o.setState({inputValue:r.target.value,lastPreSelectChange:co});var i,s,a,l,u,c,d,p,h=(i=r.target.value,s=o.props.dateFormat,a=o.props.locale,l=o.props.strictParsing,u=o.props.minDate,c=null,d=en(a)||en(tn()),p=!0,Array.isArray(s)?(s.forEach((function(t){var e=pe.default(i,t,new Date,{locale:d});l&&(p=He(e,u)&&i===Ve(e,t,a)),He(e,u)&&p&&(c=e)})),c):(c=pe.default(i,s,new Date,{locale:d}),l?p=He(c)&&i===Ve(c,s,a):He(c)||(s=s.match(Ie).map((function(t){var e=t[0];return"p"===e||"P"===e?d?(0,Ne[e])(t,d.formatLong):e:t})).join(""),i.length>0&&(c=pe.default(i,s.slice(0,i.length),new Date)),He(c)||(c=new Date(i))),He(c)&&p?c:null));o.props.showTimeSelectOnly&&o.props.selected&&h&&!Xe(h,o.props.selected)&&(h=ve.default(o.props.selected,{hours:Pt.default(h),minutes:Dt.default(h),seconds:Rt.default(h)})),!h&&r.target.value||(o.props.showWeekPicker&&(h=We(h,o.props.locale,o.props.calendarStartDay)),o.setSelected(h,r,!0))}})),Se(Re(o),"handleSelect",(function(t,e,n){if(o.props.shouldCloseOnSelect&&!o.props.showTimeSelect&&o.sendFocusBackToInput(),o.props.onChangeRaw&&o.props.onChangeRaw(e),o.props.showWeekPicker&&(t=We(t,o.props.locale,o.props.calendarStartDay)),o.setSelected(t,e,!1,n),o.props.showDateSelect&&o.setState({isRenderAriaLiveMessage:!0}),!o.props.shouldCloseOnSelect||o.props.showTimeSelect)o.setPreSelection(t);else if(!o.props.inline){o.props.selectsRange||o.setOpen(!1);var r=o.props,i=r.startDate,s=r.endDate;!i||s||ue.default(t,i)||o.setOpen(!1)}})),Se(Re(o),"setSelected",(function(t,e,n,r){var i=t;if(o.props.showYearPicker){if(null!==i&&dn(Ft.default(i),o.props))return}else if(o.props.showMonthYearPicker){if(null!==i&&an(i,o.props))return}else if(null!==i&&rn(i,o.props))return;var s=o.props,a=s.onChange,l=s.selectsRange,u=s.startDate,c=s.endDate;if(!$e(o.props.selected,i)||o.props.allowSameDay||l)if(null!==i&&(!o.props.selected||n&&(o.props.showTimeSelect||o.props.showTimeSelectOnly||o.props.showTimeInput)||(i=Be(i,{hour:Pt.default(o.props.selected),minute:Dt.default(o.props.selected),second:Rt.default(o.props.selected)})),o.props.inline||o.setState({preSelection:i}),o.props.focusSelectedMonth||o.setState({monthSelectedIn:r})),l){var d=u&&c;u||c?u&&!c&&(ue.default(i,u)?a([i,null],e):a([u,i],e)):a([i,null],e),d&&a([i,null],e)}else a(i,e);n||(o.props.onSelect(i,e),o.setState({inputValue:null}))})),Se(Re(o),"setPreSelection",(function(t){var e=void 0!==o.props.minDate,n=void 0!==o.props.maxDate,r=!0;if(t){o.props.showWeekPicker&&(t=We(t,o.props.locale,o.props.calendarStartDay));var i=qt.default(t);if(e&&n)r=Je(t,o.props.minDate,o.props.maxDate);else if(e){var s=qt.default(o.props.minDate);r=le.default(t,s)||$e(i,s)}else if(n){var a=te.default(o.props.maxDate);r=ue.default(t,a)||$e(i,a)}}r&&o.setState({preSelection:t})})),Se(Re(o),"handleTimeChange",(function(t){var e=o.props.selected?o.props.selected:o.getPreSelection(),n=o.props.selected?t:Be(e,{hour:Pt.default(t),minute:Dt.default(t)});o.setState({preSelection:n}),o.props.onChange(n),o.props.shouldCloseOnSelect&&(o.sendFocusBackToInput(),o.setOpen(!1)),o.props.showTimeInput&&o.setOpen(!0),(o.props.showTimeSelectOnly||o.props.showTimeSelect)&&o.setState({isRenderAriaLiveMessage:!0}),o.setState({inputValue:null})})),Se(Re(o),"onInputClick",(function(){o.props.disabled||o.props.readOnly||o.setOpen(!0),o.props.onInputClick()})),Se(Re(o),"onInputKeyDown",(function(t){o.props.onKeyDown(t);var e=t.key;if(o.state.open||o.props.inline||o.props.preventOpenOnFocus){if(o.state.open){if("ArrowDown"===e||"ArrowUp"===e){t.preventDefault();var n=o.props.showWeekPicker&&o.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',r=o.calendar.componentNode&&o.calendar.componentNode.querySelector(n);return void(r&&r.focus({preventScroll:!0}))}var i=Ge(o.state.preSelection);"Enter"===e?(t.preventDefault(),o.inputOk()&&o.state.lastPreSelectChange===po?(o.handleSelect(i,t),!o.props.shouldCloseOnSelect&&o.setPreSelection(i)):o.setOpen(!1)):"Escape"===e?(t.preventDefault(),o.sendFocusBackToInput(),o.setOpen(!1)):"Tab"===e&&o.setOpen(!1),o.inputOk()||o.props.onInputError({code:1,msg:lo})}}else"ArrowDown"!==e&&"ArrowUp"!==e&&"Enter"!==e||o.onInputClick()})),Se(Re(o),"onPortalKeyDown",(function(t){"Escape"===t.key&&(t.preventDefault(),o.setState({preventFocus:!0},(function(){o.setOpen(!1),setTimeout((function(){o.setFocus(),o.setState({preventFocus:!1})}))})))})),Se(Re(o),"onDayKeyDown",(function(t){o.props.onKeyDown(t);var e=t.key,n=Ge(o.state.preSelection);if("Enter"===e)t.preventDefault(),o.handleSelect(n,t),!o.props.shouldCloseOnSelect&&o.setPreSelection(n);else if("Escape"===e)t.preventDefault(),o.setOpen(!1),o.inputOk()||o.props.onInputError({code:1,msg:lo});else if(!o.props.disabledKeyboardNavigation){var r;switch(e){case"ArrowLeft":r=o.props.showWeekPicker?Et.default(n,1):St.default(n,1);break;case"ArrowRight":r=o.props.showWeekPicker?Ct.default(n,1):yt.default(n,1);break;case"ArrowUp":r=Et.default(n,1);break;case"ArrowDown":r=Ct.default(n,1);break;case"PageUp":r=Ot.default(n,1);break;case"PageDown":r=wt.default(n,1);break;case"Home":r=Tt.default(n,1);break;case"End":r=_t.default(n,1);break;default:r=null}if(!r)return void(o.props.onInputError&&o.props.onInputError({code:1,msg:lo}));if(t.preventDefault(),o.setState({lastPreSelectChange:po}),o.props.adjustDateOnChange&&o.setSelected(r),o.setPreSelection(r),o.props.inline){var i=kt.default(n),s=kt.default(r),a=Ft.default(n),l=Ft.default(r);i!==s||a!==l?o.setState({shouldFocusDayInline:!0}):o.setState({shouldFocusDayInline:!1})}}})),Se(Re(o),"onPopperKeyDown",(function(t){"Escape"===t.key&&(t.preventDefault(),o.sendFocusBackToInput())})),Se(Re(o),"onClearClick",(function(t){t&&t.preventDefault&&t.preventDefault(),o.sendFocusBackToInput(),o.props.selectsRange?o.props.onChange([null,null],t):o.props.onChange(null,t),o.setState({inputValue:null})})),Se(Re(o),"clear",(function(){o.onClearClick()})),Se(Re(o),"onScroll",(function(t){"boolean"==typeof o.props.closeOnScroll&&o.props.closeOnScroll?t.target!==document&&t.target!==document.documentElement&&t.target!==document.body||o.setOpen(!1):"function"==typeof o.props.closeOnScroll&&o.props.closeOnScroll(t)&&o.setOpen(!1)})),Se(Re(o),"renderCalendar",(function(){return o.props.inline||o.isCalendarOpen()?dt.default.createElement(ao,{ref:function(t){o.calendar=t},locale:o.props.locale,calendarStartDay:o.props.calendarStartDay,chooseDayAriaLabelPrefix:o.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:o.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:o.props.weekAriaLabelPrefix,monthAriaLabelPrefix:o.props.monthAriaLabelPrefix,adjustDateOnChange:o.props.adjustDateOnChange,setOpen:o.setOpen,shouldCloseOnSelect:o.props.shouldCloseOnSelect,dateFormat:o.props.dateFormatCalendar,useWeekdaysShort:o.props.useWeekdaysShort,formatWeekDay:o.props.formatWeekDay,dropdownMode:o.props.dropdownMode,selected:o.props.selected,preSelection:o.state.preSelection,onSelect:o.handleSelect,onWeekSelect:o.props.onWeekSelect,openToDate:o.props.openToDate,minDate:o.props.minDate,maxDate:o.props.maxDate,selectsStart:o.props.selectsStart,selectsEnd:o.props.selectsEnd,selectsRange:o.props.selectsRange,startDate:o.props.startDate,endDate:o.props.endDate,excludeDates:o.props.excludeDates,excludeDateIntervals:o.props.excludeDateIntervals,filterDate:o.props.filterDate,onClickOutside:o.handleCalendarClickOutside,formatWeekNumber:o.props.formatWeekNumber,highlightDates:o.state.highlightDates,holidays:En(o.modifyHolidays()),includeDates:o.props.includeDates,includeDateIntervals:o.props.includeDateIntervals,includeTimes:o.props.includeTimes,injectTimes:o.props.injectTimes,inline:o.props.inline,shouldFocusDayInline:o.state.shouldFocusDayInline,peekNextMonth:o.props.peekNextMonth,showMonthDropdown:o.props.showMonthDropdown,showPreviousMonths:o.props.showPreviousMonths,useShortMonthInDropdown:o.props.useShortMonthInDropdown,showMonthYearDropdown:o.props.showMonthYearDropdown,showWeekNumbers:o.props.showWeekNumbers,showYearDropdown:o.props.showYearDropdown,withPortal:o.props.withPortal,forceShowMonthNavigation:o.props.forceShowMonthNavigation,showDisabledMonthNavigation:o.props.showDisabledMonthNavigation,scrollableYearDropdown:o.props.scrollableYearDropdown,scrollableMonthYearDropdown:o.props.scrollableMonthYearDropdown,todayButton:o.props.todayButton,weekLabel:o.props.weekLabel,outsideClickIgnoreClass:so,fixedHeight:o.props.fixedHeight,monthsShown:o.props.monthsShown,monthSelectedIn:o.state.monthSelectedIn,onDropdownFocus:o.handleDropdownFocus,onMonthChange:o.props.onMonthChange,onYearChange:o.props.onYearChange,dayClassName:o.props.dayClassName,weekDayClassName:o.props.weekDayClassName,monthClassName:o.props.monthClassName,timeClassName:o.props.timeClassName,showDateSelect:o.props.showDateSelect,showTimeSelect:o.props.showTimeSelect,showTimeSelectOnly:o.props.showTimeSelectOnly,onTimeChange:o.handleTimeChange,timeFormat:o.props.timeFormat,timeIntervals:o.props.timeIntervals,minTime:o.props.minTime,maxTime:o.props.maxTime,excludeTimes:o.props.excludeTimes,filterTime:o.props.filterTime,timeCaption:o.props.timeCaption,className:o.props.calendarClassName,container:o.props.calendarContainer,yearItemNumber:o.props.yearItemNumber,yearDropdownItemNumber:o.props.yearDropdownItemNumber,previousMonthAriaLabel:o.props.previousMonthAriaLabel,previousMonthButtonLabel:o.props.previousMonthButtonLabel,nextMonthAriaLabel:o.props.nextMonthAriaLabel,nextMonthButtonLabel:o.props.nextMonthButtonLabel,previousYearAriaLabel:o.props.previousYearAriaLabel,previousYearButtonLabel:o.props.previousYearButtonLabel,nextYearAriaLabel:o.props.nextYearAriaLabel,nextYearButtonLabel:o.props.nextYearButtonLabel,timeInputLabel:o.props.timeInputLabel,disabledKeyboardNavigation:o.props.disabledKeyboardNavigation,renderCustomHeader:o.props.renderCustomHeader,popperProps:o.props.popperProps,renderDayContents:o.props.renderDayContents,renderMonthContent:o.props.renderMonthContent,renderQuarterContent:o.props.renderQuarterContent,renderYearContent:o.props.renderYearContent,onDayMouseEnter:o.props.onDayMouseEnter,onMonthMouseLeave:o.props.onMonthMouseLeave,onYearMouseEnter:o.props.onYearMouseEnter,onYearMouseLeave:o.props.onYearMouseLeave,selectsDisabledDaysInRange:o.props.selectsDisabledDaysInRange,showTimeInput:o.props.showTimeInput,showMonthYearPicker:o.props.showMonthYearPicker,showFullMonthYearPicker:o.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:o.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:o.props.showFourColumnMonthYearPicker,showYearPicker:o.props.showYearPicker,showQuarterYearPicker:o.props.showQuarterYearPicker,showWeekPicker:o.props.showWeekPicker,showPopperArrow:o.props.showPopperArrow,excludeScrollbar:o.props.excludeScrollbar,handleOnKeyDown:o.props.onKeyDown,handleOnDayKeyDown:o.onDayKeyDown,isInputFocused:o.state.focused,customTimeInput:o.props.customTimeInput,setPreSelection:o.setPreSelection},o.props.children):null})),Se(Re(o),"renderAriaLiveRegion",(function(){var t,e=o.props,n=e.dateFormat,r=e.locale,i=o.props.showTimeInput||o.props.showTimeSelect?"PPPPp":"PPPP";return t=o.props.selectsRange?"Selected start date: ".concat(je(o.props.startDate,{dateFormat:i,locale:r}),". ").concat(o.props.endDate?"End date: "+je(o.props.endDate,{dateFormat:i,locale:r}):""):o.props.showTimeSelectOnly?"Selected time: ".concat(je(o.props.selected,{dateFormat:n,locale:r})):o.props.showYearPicker?"Selected year: ".concat(je(o.props.selected,{dateFormat:"yyyy",locale:r})):o.props.showMonthYearPicker?"Selected month: ".concat(je(o.props.selected,{dateFormat:"MMMM yyyy",locale:r})):o.props.showQuarterYearPicker?"Selected quarter: ".concat(je(o.props.selected,{dateFormat:"yyyy, QQQ",locale:r})):"Selected date: ".concat(je(o.props.selected,{dateFormat:i,locale:r})),dt.default.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},t)})),Se(Re(o),"renderDateInput",(function(){var t,e=pt.default(o.props.className,Se({},so,o.state.open)),n=o.props.customInput||dt.default.createElement("input",{type:"text"}),r=o.props.customInputRef||"ref",i="string"==typeof o.props.value?o.props.value:"string"==typeof o.state.inputValue?o.state.inputValue:o.props.selectsRange?function(t,e,n){if(!t)return"";var o=je(t,n),r=e?je(e,n):"";return"".concat(o," - ").concat(r)}(o.props.startDate,o.props.endDate,o.props):je(o.props.selected,o.props);return dt.default.cloneElement(n,(Se(Se(Se(Se(Se(Se(Se(Se(Se(Se(t={},r,(function(t){o.input=t})),"value",i),"onBlur",o.handleBlur),"onChange",o.handleChange),"onClick",o.onInputClick),"onFocus",o.handleFocus),"onKeyDown",o.onInputKeyDown),"id",o.props.id),"name",o.props.name),"form",o.props.form),Se(Se(Se(Se(Se(Se(Se(Se(Se(Se(t,"autoFocus",o.props.autoFocus),"placeholder",o.props.placeholderText),"disabled",o.props.disabled),"autoComplete",o.props.autoComplete),"className",pt.default(n.props.className,e)),"title",o.props.title),"readOnly",o.props.readOnly),"required",o.props.required),"tabIndex",o.props.tabIndex),"aria-describedby",o.props.ariaDescribedBy),Se(Se(Se(t,"aria-invalid",o.props.ariaInvalid),"aria-labelledby",o.props.ariaLabelledBy),"aria-required",o.props.ariaRequired)))})),Se(Re(o),"renderClearButton",(function(){var t=o.props,e=t.isClearable,n=t.disabled,r=t.selected,i=t.startDate,s=t.endDate,a=t.clearButtonTitle,l=t.clearButtonClassName,u=void 0===l?"":l,c=t.ariaLabelClose,d=void 0===c?"Close":c;return!e||null==r&&null==i&&null==s?null:dt.default.createElement("button",{type:"button",className:pt.default("react-datepicker__close-icon",u,{"react-datepicker__close-icon--disabled":n}),disabled:n,"aria-label":d,onClick:o.onClearClick,title:a,tabIndex:-1})})),o.state=o.calcInitialState(),o.preventFocusTimeout=null,o}return _e(n,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll,!0)}},{key:"componentDidUpdate",value:function(t,e){var n,o;t.inline&&(n=t.selected,o=this.props.selected,n&&o?kt.default(n)!==kt.default(o)||Ft.default(n)!==Ft.default(o):n!==o)&&this.setPreSelection(this.props.selected),void 0!==this.state.monthSelectedIn&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:Sn(this.props.highlightDates)}),e.focused||$e(t.selected,this.props.selected)||this.setState({inputValue:null}),e.open!==this.state.open&&(!1===e.open&&!0===this.state.open&&this.props.onCalendarOpen(),!0===e.open&&!1===this.state.open&&this.props.onCalendarClose())}},{key:"componentWillUnmount",value:function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0)}},{key:"renderInputContainer",value:function(){var t=this.props,e=t.showIcon,n=t.icon,o=t.calendarIconClassname;return dt.default.createElement("div",{className:"react-datepicker__input-container".concat(e?" react-datepicker__view-calendar-icon":"")},e&&dt.default.createElement(eo,{icon:n,className:o}),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())}},{key:"render",value:function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var e=this.state.open?dt.default.createElement(ro,{enableTabLoop:this.props.enableTabLoop},dt.default.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(e=dt.default.createElement(no,{portalId:this.props.portalId,portalHost:this.props.portalHost},e)),dt.default.createElement("div",null,this.renderInputContainer(),e)}return dt.default.createElement(io,{className:this.props.popperClassName,wrapperClassName:this.props.wrapperClassName,hidePopper:!this.isCalendarOpen(),portalId:this.props.portalId,portalHost:this.props.portalHost,popperModifiers:this.props.popperModifiers,targetComponent:this.renderInputContainer(),popperContainer:this.props.popperContainer,popperComponent:t,popperPlacement:this.props.popperPlacement,popperProps:this.props.popperProps,popperOnKeyDown:this.onPopperKeyDown,enableTabLoop:this.props.enableTabLoop})}}],[{key:"defaultProps",get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",onChange:function(){},disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",onFocus:function(){},onBlur:function(){},onKeyDown:function(){},onInputClick:function(){},onSelect:function(){},onClickOutside:function(){},onMonthChange:function(){},onCalendarOpen:function(){},onCalendarClose:function(){},preventOpenOnFocus:!1,onYearChange:function(){},onInputError:function(){},monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Fe,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0}}}]),n}(dt.default.Component),co="input",po="navigate";t.CalendarContainer=$n,t.default=uo,t.getDefaultLocale=tn,t.registerLocale=function(t,e){var n="undefined"!=typeof window?window:globalThis;n.__localeData__||(n.__localeData__={}),n.__localeData__[t]=e},t.setDefaultLocale=function(t){("undefined"!=typeof window?window:globalThis).__localeId__=t},Object.defineProperty(t,"__esModule",{value:!0})}(e,n(2791),n(2007),n(1694),n(6971),n(9314),n(1951),n(1518),n(2074),n(9040),n(20),n(1104),n(6689),n(5105),n(6753),n(7503),n(8030),n(6794),n(7602),n(2295),n(4424),n(1537),n(467),n(6114),n(6975),n(3747),n(639),n(2599),n(4460),n(9292),n(7227),n(2618),n(2363),n(5765),n(5617),n(1056),n(9333),n(9759),n(5951),n(7415),n(8347),n(3629),n(5719),n(3006),n(7235),n(786),n(4565),n(4888),n(4675),n(7508),n(4690),n(5375),n(1750),n(4845),n(9420),n(9579),n(7262),n(8527),n(2673),n(9831),n(11),n(4164),n(2145),n(7152))},1071:(t,e,n)=>{"use strict";var o=n(2791);function r(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=Object.prototype.hasOwnProperty,s=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,a={},l={};function u(t){return!!i.call(l,t)||!i.call(a,t)&&(s.test(t)?l[t]=!0:(a[t]=!0,!1))}function c(t,e,n,o,r,i,s){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=o,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=s}var d={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){d[t]=new c(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];d[e]=new c(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){d[t]=new c(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){d[t]=new c(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){d[t]=new c(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){d[t]=new c(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){d[t]=new c(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){d[t]=new c(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){d[t]=new c(t,5,!1,t.toLowerCase(),null,!1,!1)}));var p=/[\-:]([a-z])/g;function h(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(p,h);d[e]=new c(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(p,h);d[e]=new c(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(p,h);d[e]=new c(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){d[t]=new c(t,1,!1,t.toLowerCase(),null,!1,!1)})),d.xlinkHref=new c("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){d[t]=new c(t,1,!1,t.toLowerCase(),null,!0,!0)}));var f={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},g=["Webkit","ms","Moz","O"];Object.keys(f).forEach((function(t){g.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),f[e]=f[t]}))}));var v=/["'&<>]/;function m(t){if("boolean"===typeof t||"number"===typeof t)return""+t;t=""+t;var e=v.exec(t);if(e){var n,o="",r=0;for(n=e.index;n<t.length;n++){switch(t.charCodeAt(n)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#x27;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}r!==n&&(o+=t.substring(r,n)),r=n+1,o+=e}t=r!==n?o+t.substring(r,n):o}return t}var y=/([A-Z])/g,C=/^ms-/,w=Array.isArray;function b(t,e){return{insertionMode:t,selectedValue:e}}var _=new Map;function S(t,e,n){if("object"!==typeof n)throw Error(r(62));for(var o in e=!0,n)if(i.call(n,o)){var s=n[o];if(null!=s&&"boolean"!==typeof s&&""!==s){if(0===o.indexOf("--")){var a=m(o);s=m((""+s).trim())}else{a=o;var l=_.get(a);void 0!==l||(l=m(a.replace(y,"-$1").toLowerCase().replace(C,"-ms-")),_.set(a,l)),a=l,s="number"===typeof s?0===s||i.call(f,o)?""+s:s+"px":m((""+s).trim())}e?(e=!1,t.push(' style="',a,":",s)):t.push(";",a,":",s)}}e||t.push('"')}function E(t,e,n,o){switch(n){case"style":return void S(t,e,o);case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])if(null!==(e=d.hasOwnProperty(n)?d[n]:null)){switch(typeof o){case"function":case"symbol":return;case"boolean":if(!e.acceptsBooleans)return}switch(n=e.attributeName,e.type){case 3:o&&t.push(" ",n,'=""');break;case 4:!0===o?t.push(" ",n,'=""'):!1!==o&&t.push(" ",n,'="',m(o),'"');break;case 5:isNaN(o)||t.push(" ",n,'="',m(o),'"');break;case 6:!isNaN(o)&&1<=o&&t.push(" ",n,'="',m(o),'"');break;default:e.sanitizeURL&&(o=""+o),t.push(" ",n,'="',m(o),'"')}}else if(u(n)){switch(typeof o){case"function":case"symbol":return;case"boolean":if("data-"!==(e=n.toLowerCase().slice(0,5))&&"aria-"!==e)return}t.push(" ",n,'="',m(o),'"')}}function O(t,e,n){if(null!=e){if(null!=n)throw Error(r(60));if("object"!==typeof e||!("__html"in e))throw Error(r(61));null!==(e=e.__html)&&void 0!==e&&t.push(""+e)}}function x(t,e,n,o){t.push(D(n));var r,s=n=null;for(r in e)if(i.call(e,r)){var a=e[r];if(null!=a)switch(r){case"children":n=a;break;case"dangerouslySetInnerHTML":s=a;break;default:E(t,o,r,a)}}return t.push(">"),O(t,s,n),"string"===typeof n?(t.push(m(n)),null):n}var T=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,R=new Map;function D(t){var e=R.get(t);if(void 0===e){if(!T.test(t))throw Error(r(65,t));e="<"+t,R.set(t,e)}return e}function P(t,e,n,s,a){switch(e){case"select":t.push(D("select"));var l=null,c=null;for(f in n)if(i.call(n,f)){var d=n[f];if(null!=d)switch(f){case"children":l=d;break;case"dangerouslySetInnerHTML":c=d;break;case"defaultValue":case"value":break;default:E(t,s,f,d)}}return t.push(">"),O(t,c,l),l;case"option":c=a.selectedValue,t.push(D("option"));var p=d=null,h=null,f=null;for(l in n)if(i.call(n,l)){var g=n[l];if(null!=g)switch(l){case"children":d=g;break;case"selected":h=g;break;case"dangerouslySetInnerHTML":f=g;break;case"value":p=g;default:E(t,s,l,g)}}if(null!=c)if(n=null!==p?""+p:function(t){var e="";return o.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(d),w(c)){for(s=0;s<c.length;s++)if(""+c[s]===n){t.push(' selected=""');break}}else""+c===n&&t.push(' selected=""');else h&&t.push(' selected=""');return t.push(">"),O(t,f,d),d;case"textarea":for(d in t.push(D("textarea")),f=c=l=null,n)if(i.call(n,d)&&null!=(p=n[d]))switch(d){case"children":f=p;break;case"value":l=p;break;case"defaultValue":c=p;break;case"dangerouslySetInnerHTML":throw Error(r(91));default:E(t,s,d,p)}if(null===l&&null!==c&&(l=c),t.push(">"),null!=f){if(null!=l)throw Error(r(92));if(w(f)&&1<f.length)throw Error(r(93));l=""+f}return"string"===typeof l&&"\n"===l[0]&&t.push("\n"),null!==l&&t.push(m(""+l)),null;case"input":for(c in t.push(D("input")),p=f=d=l=null,n)if(i.call(n,c)&&null!=(h=n[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(r(399,"input"));case"defaultChecked":p=h;break;case"defaultValue":d=h;break;case"checked":f=h;break;case"value":l=h;break;default:E(t,s,c,h)}return null!==f?E(t,s,"checked",f):null!==p&&E(t,s,"checked",p),null!==l?E(t,s,"value",l):null!==d&&E(t,s,"value",d),t.push("/>"),null;case"menuitem":for(var v in t.push(D("menuitem")),n)if(i.call(n,v)&&null!=(l=n[v]))switch(v){case"children":case"dangerouslySetInnerHTML":throw Error(r(400));default:E(t,s,v,l)}return t.push(">"),null;case"title":for(g in t.push(D("title")),l=null,n)if(i.call(n,g)&&null!=(c=n[g]))switch(g){case"children":l=c;break;case"dangerouslySetInnerHTML":throw Error(r(434));default:E(t,s,g,c)}return t.push(">"),l;case"listing":case"pre":for(p in t.push(D(e)),c=l=null,n)if(i.call(n,p)&&null!=(d=n[p]))switch(p){case"children":l=d;break;case"dangerouslySetInnerHTML":c=d;break;default:E(t,s,p,d)}if(t.push(">"),null!=c){if(null!=l)throw Error(r(60));if("object"!==typeof c||!("__html"in c))throw Error(r(61));null!==(n=c.__html)&&void 0!==n&&("string"===typeof n&&0<n.length&&"\n"===n[0]?t.push("\n",n):t.push(""+n))}return"string"===typeof l&&"\n"===l[0]&&t.push("\n"),l;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":for(var y in t.push(D(e)),n)if(i.call(n,y)&&null!=(l=n[y]))switch(y){case"children":case"dangerouslySetInnerHTML":throw Error(r(399,e));default:E(t,s,y,l)}return t.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return x(t,n,e,s);case"html":return 0===a.insertionMode&&t.push("<!DOCTYPE html>"),x(t,n,e,s);default:if(-1===e.indexOf("-")&&"string"!==typeof n.is)return x(t,n,e,s);for(h in t.push(D(e)),c=l=null,n)if(i.call(n,h)&&null!=(d=n[h]))switch(h){case"children":l=d;break;case"dangerouslySetInnerHTML":c=d;break;case"style":S(t,s,d);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:u(h)&&"function"!==typeof d&&"symbol"!==typeof d&&t.push(" ",h,'="',m(d),'"')}return t.push(">"),O(t,c,l),l}}function L(t,e,n){if(t.push('\x3c!--$?--\x3e<template id="'),null===n)throw Error(r(395));return t.push(n),t.push('"></template>')}var M=/[<\u2028\u2029]/g;function A(t){return JSON.stringify(t).replace(M,(function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}))}function k(t,e,n,o){return n.generateStaticMarkup?(t.push(m(e)),!1):(""===e?t=o:(o&&t.push("\x3c!-- --\x3e"),t.push(m(e)),t=!0),t)}var N=Object.assign,F=Symbol.for("react.element"),I=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),B=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),Z=Symbol.for("react.scope"),q=Symbol.for("react.debug_trace_mode"),Q=Symbol.for("react.legacy_hidden"),X=Symbol.for("react.default_value"),$=Symbol.iterator;function J(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case G:return"Fragment";case I:return"Portal";case V:return"Profiler";case H:return"StrictMode";case z:return"Suspense";case U:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case B:return(t.displayName||"Context")+".Consumer";case j:return(t._context.displayName||"Context")+".Provider";case W:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case Y:return null!==(e=t.displayName||null)?e:J(t.type)||"Memo";case K:e=t._payload,t=t._init;try{return J(t(e))}catch(n){}}return null}var tt={};function et(t,e){if(!(t=t.contextTypes))return tt;var n,o={};for(n in t)o[n]=e[n];return o}var nt=null;function ot(t,e){if(t!==e){t.context._currentValue2=t.parentValue,t=t.parent;var n=e.parent;if(null===t){if(null!==n)throw Error(r(401))}else{if(null===n)throw Error(r(401));ot(t,n)}e.context._currentValue2=e.value}}function rt(t){t.context._currentValue2=t.parentValue,null!==(t=t.parent)&&rt(t)}function it(t){var e=t.parent;null!==e&&it(e),t.context._currentValue2=t.value}function st(t,e){if(t.context._currentValue2=t.parentValue,null===(t=t.parent))throw Error(r(402));t.depth===e.depth?ot(t,e):st(t,e)}function at(t,e){var n=e.parent;if(null===n)throw Error(r(402));t.depth===n.depth?ot(t,n):at(t,n),e.context._currentValue2=e.value}function lt(t){var e=nt;e!==t&&(null===e?it(t):null===t?rt(e):e.depth===t.depth?ot(e,t):e.depth>t.depth?st(e,t):at(e,t),nt=t)}var ut={isMounted:function(){return!1},enqueueSetState:function(t,e){null!==(t=t._reactInternals).queue&&t.queue.push(e)},enqueueReplaceState:function(t,e){(t=t._reactInternals).replace=!0,t.queue=[e]},enqueueForceUpdate:function(){}};function ct(t,e,n,o){var r=void 0!==t.state?t.state:null;t.updater=ut,t.props=n,t.state=r;var i={queue:[],replace:!1};t._reactInternals=i;var s=e.contextType;if(t.context="object"===typeof s&&null!==s?s._currentValue2:o,"function"===typeof(s=e.getDerivedStateFromProps)&&(r=null===(s=s(n,r))||void 0===s?r:N({},r,s),t.state=r),"function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate&&("function"===typeof t.UNSAFE_componentWillMount||"function"===typeof t.componentWillMount))if(e=t.state,"function"===typeof t.componentWillMount&&t.componentWillMount(),"function"===typeof t.UNSAFE_componentWillMount&&t.UNSAFE_componentWillMount(),e!==t.state&&ut.enqueueReplaceState(t,t.state,null),null!==i.queue&&0<i.queue.length)if(e=i.queue,s=i.replace,i.queue=null,i.replace=!1,s&&1===e.length)t.state=e[0];else{for(i=s?e[0]:t.state,r=!0,s=s?1:0;s<e.length;s++){var a=e[s];null!=(a="function"===typeof a?a.call(t,i,n,o):a)&&(r?(r=!1,i=N({},i,a)):N(i,a))}t.state=i}else i.queue=null}var dt={id:1,overflow:""};function pt(t,e,n){var o=t.id;t=t.overflow;var r=32-ht(o)-1;o&=~(1<<r),n+=1;var i=32-ht(e)+r;if(30<i){var s=r-r%5;return i=(o&(1<<s)-1).toString(32),o>>=s,r-=s,{id:1<<32-ht(e)+r|n<<r|o,overflow:i+t}}return{id:1<<i|n<<r|o,overflow:t}}var ht=Math.clz32?Math.clz32:function(t){return 0===(t>>>=0)?32:31-(ft(t)/gt|0)|0},ft=Math.log,gt=Math.LN2;var vt="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},mt=null,yt=null,Ct=null,wt=null,bt=!1,_t=!1,St=0,Et=null,Ot=0;function xt(){if(null===mt)throw Error(r(321));return mt}function Tt(){if(0<Ot)throw Error(r(312));return{memoizedState:null,queue:null,next:null}}function Rt(){return null===wt?null===Ct?(bt=!1,Ct=wt=Tt()):(bt=!0,wt=Ct):null===wt.next?(bt=!1,wt=wt.next=Tt()):(bt=!0,wt=wt.next),wt}function Dt(){yt=mt=null,_t=!1,Ct=null,Ot=0,wt=Et=null}function Pt(t,e){return"function"===typeof e?e(t):e}function Lt(t,e,n){if(mt=xt(),wt=Rt(),bt){var o=wt.queue;if(e=o.dispatch,null!==Et&&void 0!==(n=Et.get(o))){Et.delete(o),o=wt.memoizedState;do{o=t(o,n.action),n=n.next}while(null!==n);return wt.memoizedState=o,[o,e]}return[wt.memoizedState,e]}return t=t===Pt?"function"===typeof e?e():e:void 0!==n?n(e):e,wt.memoizedState=t,t=(t=wt.queue={last:null,dispatch:null}).dispatch=At.bind(null,mt,t),[wt.memoizedState,t]}function Mt(t,e){if(mt=xt(),e=void 0===e?null:e,null!==(wt=Rt())){var n=wt.memoizedState;if(null!==n&&null!==e){var o=n[1];t:if(null===o)o=!1;else{for(var r=0;r<o.length&&r<e.length;r++)if(!vt(e[r],o[r])){o=!1;break t}o=!0}if(o)return n[0]}}return t=t(),wt.memoizedState=[t,e],t}function At(t,e,n){if(25<=Ot)throw Error(r(301));if(t===mt)if(_t=!0,t={action:n,next:null},null===Et&&(Et=new Map),void 0===(n=Et.get(e)))Et.set(e,t);else{for(e=n;null!==e.next;)e=e.next;e.next=t}}function kt(){throw Error(r(394))}function Nt(){}var Ft={readContext:function(t){return t._currentValue2},useContext:function(t){return xt(),t._currentValue2},useMemo:Mt,useReducer:Lt,useRef:function(t){mt=xt();var e=(wt=Rt()).memoizedState;return null===e?(t={current:t},wt.memoizedState=t):e},useState:function(t){return Lt(Pt,t)},useInsertionEffect:Nt,useLayoutEffect:function(){},useCallback:function(t,e){return Mt((function(){return t}),e)},useImperativeHandle:Nt,useEffect:Nt,useDebugValue:Nt,useDeferredValue:function(t){return xt(),t},useTransition:function(){return xt(),[!1,kt]},useId:function(){var t=yt.treeContext,e=t.overflow;t=((t=t.id)&~(1<<32-ht(t)-1)).toString(32)+e;var n=It;if(null===n)throw Error(r(404));return e=St++,t=":"+n.idPrefix+"R"+t,0<e&&(t+="H"+e.toString(32)),t+":"},useMutableSource:function(t,e){return xt(),e(t._source)},useSyncExternalStore:function(t,e,n){if(void 0===n)throw Error(r(407));return n()}},It=null,Gt=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function Ht(t){return console.error(t),null}function Vt(){}function jt(t,e,n,o,r,i,s,a){t.allPendingTasks++,null===n?t.pendingRootTasks++:n.pendingTasks++;var l={node:e,ping:function(){var e=t.pingedTasks;e.push(l),1===e.length&&ne(t)},blockedBoundary:n,blockedSegment:o,abortSet:r,legacyContext:i,context:s,treeContext:a};return r.add(l),l}function Bt(t,e,n,o,r,i){return{status:0,id:-1,index:e,parentFlushed:!1,chunks:[],children:[],formatContext:o,boundary:n,lastPushedText:r,textEmbedded:i}}function Wt(t,e){if(null!=(t=t.onError(e))&&"string"!==typeof t)throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof t+'" instead');return t}function zt(t,e){var n=t.onShellError;n(e),(n=t.onFatalError)(e),null!==t.destination?(t.status=2,t.destination.destroy(e)):(t.status=1,t.fatalError=e)}function Ut(t,e,n,o,r){for(mt={},yt=e,St=0,t=n(o,r);_t;)_t=!1,St=0,Ot+=1,wt=null,t=n(o,r);return Dt(),t}function Yt(t,e,n,o){var i=n.render(),s=o.childContextTypes;if(null!==s&&void 0!==s){var a=e.legacyContext;if("function"!==typeof n.getChildContext)o=a;else{for(var l in n=n.getChildContext())if(!(l in s))throw Error(r(108,J(o)||"Unknown",l));o=N({},a,n)}e.legacyContext=o,qt(t,e,i),e.legacyContext=a}else qt(t,e,i)}function Kt(t,e){if(t&&t.defaultProps){for(var n in e=N({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}function Zt(t,e,n,o,i){if("function"===typeof n)if(n.prototype&&n.prototype.isReactComponent){i=et(n,e.legacyContext);var s=n.contextType;ct(s=new n(o,"object"===typeof s&&null!==s?s._currentValue2:i),n,o,i),Yt(t,e,s,n)}else{i=Ut(t,e,n,o,s=et(n,e.legacyContext));var a=0!==St;if("object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof)ct(i,n,o,s),Yt(t,e,i,n);else if(a){o=e.treeContext,e.treeContext=pt(o,1,0);try{qt(t,e,i)}finally{e.treeContext=o}}else qt(t,e,i)}else{if("string"!==typeof n){switch(n){case Q:case q:case H:case V:case G:case U:return void qt(t,e,o.children);case Z:throw Error(r(343));case z:t:{n=e.blockedBoundary,i=e.blockedSegment,s=o.fallback,o=o.children;var l={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:a=new Set,errorDigest:null},u=Bt(0,i.chunks.length,l,i.formatContext,!1,!1);i.children.push(u),i.lastPushedText=!1;var c=Bt(0,0,null,i.formatContext,!1,!1);c.parentFlushed=!0,e.blockedBoundary=l,e.blockedSegment=c;try{if(Xt(t,e,o),t.responseState.generateStaticMarkup||c.lastPushedText&&c.textEmbedded&&c.chunks.push("\x3c!-- --\x3e"),c.status=1,te(l,c),0===l.pendingTasks)break t}catch(d){c.status=4,l.forceClientRender=!0,l.errorDigest=Wt(t,d)}finally{e.blockedBoundary=n,e.blockedSegment=i}e=jt(t,s,n,u,a,e.legacyContext,e.context,e.treeContext),t.pingedTasks.push(e)}return}if("object"===typeof n&&null!==n)switch(n.$$typeof){case W:if(o=Ut(t,e,n.render,o,i),0!==St){n=e.treeContext,e.treeContext=pt(n,1,0);try{qt(t,e,o)}finally{e.treeContext=n}}else qt(t,e,o);return;case Y:return void Zt(t,e,n=n.type,o=Kt(n,o),i);case j:if(i=o.children,n=n._context,o=o.value,s=n._currentValue2,n._currentValue2=o,nt=o={parent:a=nt,depth:null===a?0:a.depth+1,context:n,parentValue:s,value:o},e.context=o,qt(t,e,i),null===(t=nt))throw Error(r(403));return o=t.parentValue,t.context._currentValue2=o===X?t.context._defaultValue:o,t=nt=t.parent,void(e.context=t);case B:return void qt(t,e,o=(o=o.children)(n._currentValue2));case K:return void Zt(t,e,n=(i=n._init)(n._payload),o=Kt(n,o),void 0)}throw Error(r(130,null==n?n:typeof n,""))}switch(s=P((i=e.blockedSegment).chunks,n,o,t.responseState,i.formatContext),i.lastPushedText=!1,a=i.formatContext,i.formatContext=function(t,e,n){switch(e){case"select":return b(1,null!=n.value?n.value:n.defaultValue);case"svg":return b(2,null);case"math":return b(3,null);case"foreignObject":return b(1,null);case"table":return b(4,null);case"thead":case"tbody":case"tfoot":return b(5,null);case"colgroup":return b(7,null);case"tr":return b(6,null)}return 4<=t.insertionMode||0===t.insertionMode?b(1,null):t}(a,n,o),Xt(t,e,s),i.formatContext=a,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:i.chunks.push("</",n,">")}i.lastPushedText=!1}}function qt(t,e,n){if(e.node=n,"object"===typeof n&&null!==n){switch(n.$$typeof){case F:return void Zt(t,e,n.type,n.props,n.ref);case I:throw Error(r(257));case K:var o=n._init;return void qt(t,e,n=o(n._payload))}if(w(n))return void Qt(t,e,n);if(null===n||"object"!==typeof n?o=null:o="function"===typeof(o=$&&n[$]||n["@@iterator"])?o:null,o&&(o=o.call(n))){if(!(n=o.next()).done){var i=[];do{i.push(n.value),n=o.next()}while(!n.done);Qt(t,e,i)}return}throw t=Object.prototype.toString.call(n),Error(r(31,"[object Object]"===t?"object with keys {"+Object.keys(n).join(", ")+"}":t))}"string"===typeof n?(o=e.blockedSegment).lastPushedText=k(e.blockedSegment.chunks,n,t.responseState,o.lastPushedText):"number"===typeof n&&((o=e.blockedSegment).lastPushedText=k(e.blockedSegment.chunks,""+n,t.responseState,o.lastPushedText))}function Qt(t,e,n){for(var o=n.length,r=0;r<o;r++){var i=e.treeContext;e.treeContext=pt(i,o,r);try{Xt(t,e,n[r])}finally{e.treeContext=i}}}function Xt(t,e,n){var o=e.blockedSegment.formatContext,r=e.legacyContext,i=e.context;try{return qt(t,e,n)}catch(l){if(Dt(),"object"!==typeof l||null===l||"function"!==typeof l.then)throw e.blockedSegment.formatContext=o,e.legacyContext=r,e.context=i,lt(i),l;n=l;var s=e.blockedSegment,a=Bt(0,s.chunks.length,null,s.formatContext,s.lastPushedText,!0);s.children.push(a),s.lastPushedText=!1,t=jt(t,e.node,e.blockedBoundary,a,e.abortSet,e.legacyContext,e.context,e.treeContext).ping,n.then(t,t),e.blockedSegment.formatContext=o,e.legacyContext=r,e.context=i,lt(i)}}function $t(t){var e=t.blockedBoundary;(t=t.blockedSegment).status=3,ee(this,e,t)}function Jt(t,e,n){var o=t.blockedBoundary;t.blockedSegment.status=3,null===o?(e.allPendingTasks--,2!==e.status&&(e.status=2,null!==e.destination&&e.destination.push(null))):(o.pendingTasks--,o.forceClientRender||(o.forceClientRender=!0,t=void 0===n?Error(r(432)):n,o.errorDigest=e.onError(t),o.parentFlushed&&e.clientRenderedBoundaries.push(o)),o.fallbackAbortableTasks.forEach((function(t){return Jt(t,e,n)})),o.fallbackAbortableTasks.clear(),e.allPendingTasks--,0===e.allPendingTasks&&(o=e.onAllReady)())}function te(t,e){if(0===e.chunks.length&&1===e.children.length&&null===e.children[0].boundary){var n=e.children[0];n.id=e.id,n.parentFlushed=!0,1===n.status&&te(t,n)}else t.completedSegments.push(e)}function ee(t,e,n){if(null===e){if(n.parentFlushed){if(null!==t.completedRootSegment)throw Error(r(389));t.completedRootSegment=n}t.pendingRootTasks--,0===t.pendingRootTasks&&(t.onShellError=Vt,(e=t.onShellReady)())}else e.pendingTasks--,e.forceClientRender||(0===e.pendingTasks?(n.parentFlushed&&1===n.status&&te(e,n),e.parentFlushed&&t.completedBoundaries.push(e),e.fallbackAbortableTasks.forEach($t,t),e.fallbackAbortableTasks.clear()):n.parentFlushed&&1===n.status&&(te(e,n),1===e.completedSegments.length&&e.parentFlushed&&t.partialBoundaries.push(e)));t.allPendingTasks--,0===t.allPendingTasks&&(t=t.onAllReady)()}function ne(t){if(2!==t.status){var e=nt,n=Gt.current;Gt.current=Ft;var o=It;It=t.responseState;try{var r,i=t.pingedTasks;for(r=0;r<i.length;r++){var s=i[r],a=t,l=s.blockedSegment;if(0===l.status){lt(s.context);try{qt(a,s,s.node),a.responseState.generateStaticMarkup||l.lastPushedText&&l.textEmbedded&&l.chunks.push("\x3c!-- --\x3e"),s.abortSet.delete(s),l.status=1,ee(a,s.blockedBoundary,l)}catch(h){if(Dt(),"object"===typeof h&&null!==h&&"function"===typeof h.then){var u=s.ping;h.then(u,u)}else{s.abortSet.delete(s),l.status=4;var c=s.blockedBoundary,d=h,p=Wt(a,d);if(null===c?zt(a,d):(c.pendingTasks--,c.forceClientRender||(c.forceClientRender=!0,c.errorDigest=p,c.parentFlushed&&a.clientRenderedBoundaries.push(c))),a.allPendingTasks--,0===a.allPendingTasks)(0,a.onAllReady)()}}}}i.splice(0,r),null!==t.destination&&le(t,t.destination)}catch(h){Wt(t,h),zt(t,h)}finally{It=o,Gt.current=n,n===Ft&&lt(e)}}}function oe(t,e,n){switch(n.parentFlushed=!0,n.status){case 0:var o=n.id=t.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,t=t.responseState,e.push('<template id="'),e.push(t.placeholderPrefix),t=o.toString(16),e.push(t),e.push('"></template>');case 1:n.status=2;var i=!0;o=n.chunks;var s=0;n=n.children;for(var a=0;a<n.length;a++){for(i=n[a];s<i.index;s++)e.push(o[s]);i=re(t,e,i)}for(;s<o.length-1;s++)e.push(o[s]);return s<o.length&&(i=e.push(o[s])),i;default:throw Error(r(390))}}function re(t,e,n){var o=n.boundary;if(null===o)return oe(t,e,n);if(o.parentFlushed=!0,o.forceClientRender)return t.responseState.generateStaticMarkup||(o=o.errorDigest,e.push("\x3c!--$!--\x3e"),e.push("<template"),o&&(e.push(' data-dgst="'),o=m(o),e.push(o),e.push('"')),e.push("></template>")),oe(t,e,n),t=!!t.responseState.generateStaticMarkup||e.push("\x3c!--/$--\x3e");if(0<o.pendingTasks){o.rootSegmentID=t.nextSegmentId++,0<o.completedSegments.length&&t.partialBoundaries.push(o);var i=t.responseState,s=i.nextSuspenseID++;return i=i.boundaryPrefix+s.toString(16),o=o.id=i,L(e,t.responseState,o),oe(t,e,n),e.push("\x3c!--/$--\x3e")}if(o.byteSize>t.progressiveChunkSize)return o.rootSegmentID=t.nextSegmentId++,t.completedBoundaries.push(o),L(e,t.responseState,o.id),oe(t,e,n),e.push("\x3c!--/$--\x3e");if(t.responseState.generateStaticMarkup||e.push("\x3c!--$--\x3e"),1!==(n=o.completedSegments).length)throw Error(r(391));return re(t,e,n[0]),t=!!t.responseState.generateStaticMarkup||e.push("\x3c!--/$--\x3e")}function ie(t,e,n){return function(t,e,n,o){switch(n.insertionMode){case 0:case 1:return t.push('<div hidden id="'),t.push(e.segmentPrefix),e=o.toString(16),t.push(e),t.push('">');case 2:return t.push('<svg aria-hidden="true" style="display:none" id="'),t.push(e.segmentPrefix),e=o.toString(16),t.push(e),t.push('">');case 3:return t.push('<math aria-hidden="true" style="display:none" id="'),t.push(e.segmentPrefix),e=o.toString(16),t.push(e),t.push('">');case 4:return t.push('<table hidden id="'),t.push(e.segmentPrefix),e=o.toString(16),t.push(e),t.push('">');case 5:return t.push('<table hidden><tbody id="'),t.push(e.segmentPrefix),e=o.toString(16),t.push(e),t.push('">');case 6:return t.push('<table hidden><tr id="'),t.push(e.segmentPrefix),e=o.toString(16),t.push(e),t.push('">');case 7:return t.push('<table hidden><colgroup id="'),t.push(e.segmentPrefix),e=o.toString(16),t.push(e),t.push('">');default:throw Error(r(397))}}(e,t.responseState,n.formatContext,n.id),re(t,e,n),function(t,e){switch(e.insertionMode){case 0:case 1:return t.push("</div>");case 2:return t.push("</svg>");case 3:return t.push("</math>");case 4:return t.push("</table>");case 5:return t.push("</tbody></table>");case 6:return t.push("</tr></table>");case 7:return t.push("</colgroup></table>");default:throw Error(r(397))}}(e,n.formatContext)}function se(t,e,n){for(var o=n.completedSegments,i=0;i<o.length;i++)ae(t,e,n,o[i]);if(o.length=0,t=t.responseState,o=n.id,n=n.rootSegmentID,e.push(t.startInlineScript),t.sentCompleteBoundaryFunction?e.push('$RC("'):(t.sentCompleteBoundaryFunction=!0,e.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),null===o)throw Error(r(395));return n=n.toString(16),e.push(o),e.push('","'),e.push(t.segmentPrefix),e.push(n),e.push('")<\/script>')}function ae(t,e,n,o){if(2===o.status)return!0;var i=o.id;if(-1===i){if(-1===(o.id=n.rootSegmentID))throw Error(r(392));return ie(t,e,o)}return ie(t,e,o),t=t.responseState,e.push(t.startInlineScript),t.sentCompleteSegmentFunction?e.push('$RS("'):(t.sentCompleteSegmentFunction=!0,e.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),e.push(t.segmentPrefix),i=i.toString(16),e.push(i),e.push('","'),e.push(t.placeholderPrefix),e.push(i),e.push('")<\/script>')}function le(t,e){try{var n=t.completedRootSegment;if(null!==n&&0===t.pendingRootTasks){re(t,e,n),t.completedRootSegment=null;var o=t.responseState.bootstrapChunks;for(n=0;n<o.length-1;n++)e.push(o[n]);n<o.length&&e.push(o[n])}var i,s=t.clientRenderedBoundaries;for(i=0;i<s.length;i++){var a=s[i];o=e;var l=t.responseState,u=a.id,c=a.errorDigest,d=a.errorMessage,p=a.errorComponentStack;if(o.push(l.startInlineScript),l.sentClientRenderFunction?o.push('$RX("'):(l.sentClientRenderFunction=!0,o.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),null===u)throw Error(r(395));if(o.push(u),o.push('"'),c||d||p){o.push(",");var h=A(c||"");o.push(h)}if(d||p){o.push(",");var f=A(d||"");o.push(f)}if(p){o.push(",");var g=A(p);o.push(g)}if(!o.push(")<\/script>"))return t.destination=null,i++,void s.splice(0,i)}s.splice(0,i);var v=t.completedBoundaries;for(i=0;i<v.length;i++)if(!se(t,e,v[i]))return t.destination=null,i++,void v.splice(0,i);v.splice(0,i);var m=t.partialBoundaries;for(i=0;i<m.length;i++){var y=m[i];t:{s=t,a=e;var C=y.completedSegments;for(l=0;l<C.length;l++)if(!ae(s,a,y,C[l])){l++,C.splice(0,l);var w=!1;break t}C.splice(0,l),w=!0}if(!w)return t.destination=null,i++,void m.splice(0,i)}m.splice(0,i);var b=t.completedBoundaries;for(i=0;i<b.length;i++)if(!se(t,e,b[i]))return t.destination=null,i++,void b.splice(0,i);b.splice(0,i)}finally{0===t.allPendingTasks&&0===t.pingedTasks.length&&0===t.clientRenderedBoundaries.length&&0===t.completedBoundaries.length&&e.push(null)}}function ue(t,e){try{var n=t.abortableTasks;n.forEach((function(n){return Jt(n,t,e)})),n.clear(),null!==t.destination&&le(t,t.destination)}catch(o){Wt(t,o),zt(t,o)}}function ce(){}function de(t,e,n,o){var i=!1,s=null,a="",l={push:function(t){return null!==t&&(a+=t),!0},destroy:function(t){i=!0,s=t}},u=!1;if(t=function(t,e,n,o,r,i,s,a,l){var u=[],c=new Set;return(n=Bt(e={destination:null,responseState:e,progressiveChunkSize:void 0===o?12800:o,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:c,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:void 0===r?Ht:r,onAllReady:void 0===i?Vt:i,onShellReady:void 0===s?Vt:s,onShellError:void 0===a?Vt:a,onFatalError:void 0===l?Vt:l},0,null,n,!1,!1)).parentFlushed=!0,t=jt(e,t,null,n,c,tt,null,dt),u.push(t),e}(t,function(t,e){return{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:(e=void 0===e?"":e)+"P:",segmentPrefix:e+"S:",boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:t}}(n,e?e.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,ce,void 0,(function(){u=!0}),void 0,void 0),ne(t),ue(t,o),1===t.status)t.status=2,l.destroy(t.fatalError);else if(2!==t.status&&null===t.destination){t.destination=l;try{le(t,l)}catch(c){Wt(t,c),zt(t,c)}}if(i)throw s;if(!u)throw Error(r(426));return a}e.renderToNodeStream=function(){throw Error(r(207))},e.renderToStaticMarkup=function(t,e){return de(t,e,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},e.renderToStaticNodeStream=function(){throw Error(r(208))},e.renderToString=function(t,e){return de(t,e,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},e.version="18.2.0"},5380:(t,e,n)=>{"use strict";var o=n(2791);function r(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=null,s=0;function a(t,e){if(0!==e.length)if(512<e.length)0<s&&(t.enqueue(new Uint8Array(i.buffer,0,s)),i=new Uint8Array(512),s=0),t.enqueue(e);else{var n=i.length-s;n<e.length&&(0===n?t.enqueue(i):(i.set(e.subarray(0,n),s),t.enqueue(i),e=e.subarray(n)),i=new Uint8Array(512),s=0),i.set(e,s),s+=e.length}}function l(t,e){return a(t,e),!0}function u(t){i&&0<s&&(t.enqueue(new Uint8Array(i.buffer,0,s)),i=null,s=0)}var c=new TextEncoder;function d(t){return c.encode(t)}function p(t){return c.encode(t)}function h(t,e){"function"===typeof t.error?t.error(e):t.close()}var f=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},m={};function y(t){return!!f.call(m,t)||!f.call(v,t)&&(g.test(t)?m[t]=!0:(v[t]=!0,!1))}function C(t,e,n,o,r,i,s){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=o,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=s}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){w[t]=new C(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];w[e]=new C(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){w[t]=new C(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){w[t]=new C(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){w[t]=new C(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){w[t]=new C(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){w[t]=new C(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){w[t]=new C(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){w[t]=new C(t,5,!1,t.toLowerCase(),null,!1,!1)}));var b=/[\-:]([a-z])/g;function _(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(b,_);w[e]=new C(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(b,_);w[e]=new C(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(b,_);w[e]=new C(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){w[t]=new C(t,1,!1,t.toLowerCase(),null,!1,!1)})),w.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){w[t]=new C(t,1,!1,t.toLowerCase(),null,!0,!0)}));var S={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},E=["Webkit","ms","Moz","O"];Object.keys(S).forEach((function(t){E.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),S[e]=S[t]}))}));var O=/["'&<>]/;function x(t){if("boolean"===typeof t||"number"===typeof t)return""+t;t=""+t;var e=O.exec(t);if(e){var n,o="",r=0;for(n=e.index;n<t.length;n++){switch(t.charCodeAt(n)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#x27;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}r!==n&&(o+=t.substring(r,n)),r=n+1,o+=e}t=r!==n?o+t.substring(r,n):o}return t}var T=/([A-Z])/g,R=/^ms-/,D=Array.isArray,P=p("<script>"),L=p("<\/script>"),M=p('<script src="'),A=p('<script type="module" src="'),k=p('" async=""><\/script>'),N=/(<\/|<)(s)(cript)/gi;function F(t,e,n,o){return e+("s"===n?"\\u0073":"\\u0053")+o}function I(t,e){return{insertionMode:t,selectedValue:e}}var G=p("\x3c!-- --\x3e");function H(t,e,n,o){return""===e?o:(o&&t.push(G),t.push(d(x(e))),!0)}var V=new Map,j=p(' style="'),B=p(":"),W=p(";");function z(t,e,n){if("object"!==typeof n)throw Error(r(62));for(var o in e=!0,n)if(f.call(n,o)){var i=n[o];if(null!=i&&"boolean"!==typeof i&&""!==i){if(0===o.indexOf("--")){var s=d(x(o));i=d(x((""+i).trim()))}else{s=o;var a=V.get(s);void 0!==a||(a=p(x(s.replace(T,"-$1").toLowerCase().replace(R,"-ms-"))),V.set(s,a)),s=a,i="number"===typeof i?0===i||f.call(S,o)?d(""+i):d(i+"px"):d(x((""+i).trim()))}e?(e=!1,t.push(j,s,B,i)):t.push(W,s,B,i)}}e||t.push(K)}var U=p(" "),Y=p('="'),K=p('"'),Z=p('=""');function q(t,e,n,o){switch(n){case"style":return void z(t,e,o);case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])if(null!==(e=w.hasOwnProperty(n)?w[n]:null)){switch(typeof o){case"function":case"symbol":return;case"boolean":if(!e.acceptsBooleans)return}switch(n=d(e.attributeName),e.type){case 3:o&&t.push(U,n,Z);break;case 4:!0===o?t.push(U,n,Z):!1!==o&&t.push(U,n,Y,d(x(o)),K);break;case 5:isNaN(o)||t.push(U,n,Y,d(x(o)),K);break;case 6:!isNaN(o)&&1<=o&&t.push(U,n,Y,d(x(o)),K);break;default:e.sanitizeURL&&(o=""+o),t.push(U,n,Y,d(x(o)),K)}}else if(y(n)){switch(typeof o){case"function":case"symbol":return;case"boolean":if("data-"!==(e=n.toLowerCase().slice(0,5))&&"aria-"!==e)return}t.push(U,d(n),Y,d(x(o)),K)}}var Q=p(">"),X=p("/>");function $(t,e,n){if(null!=e){if(null!=n)throw Error(r(60));if("object"!==typeof e||!("__html"in e))throw Error(r(61));null!==(e=e.__html)&&void 0!==e&&t.push(d(""+e))}}var J=p(' selected=""');function tt(t,e,n,o){t.push(rt(n));var r,i=n=null;for(r in e)if(f.call(e,r)){var s=e[r];if(null!=s)switch(r){case"children":n=s;break;case"dangerouslySetInnerHTML":i=s;break;default:q(t,o,r,s)}}return t.push(Q),$(t,i,n),"string"===typeof n?(t.push(d(x(n))),null):n}var et=p("\n"),nt=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,ot=new Map;function rt(t){var e=ot.get(t);if(void 0===e){if(!nt.test(t))throw Error(r(65,t));e=p("<"+t),ot.set(t,e)}return e}var it=p("<!DOCTYPE html>");function st(t,e,n,i,s){switch(e){case"select":t.push(rt("select"));var a=null,l=null;for(h in n)if(f.call(n,h)){var u=n[h];if(null!=u)switch(h){case"children":a=u;break;case"dangerouslySetInnerHTML":l=u;break;case"defaultValue":case"value":break;default:q(t,i,h,u)}}return t.push(Q),$(t,l,a),a;case"option":l=s.selectedValue,t.push(rt("option"));var c=u=null,p=null,h=null;for(a in n)if(f.call(n,a)){var g=n[a];if(null!=g)switch(a){case"children":u=g;break;case"selected":p=g;break;case"dangerouslySetInnerHTML":h=g;break;case"value":c=g;default:q(t,i,a,g)}}if(null!=l)if(n=null!==c?""+c:function(t){var e="";return o.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(u),D(l)){for(i=0;i<l.length;i++)if(""+l[i]===n){t.push(J);break}}else""+l===n&&t.push(J);else p&&t.push(J);return t.push(Q),$(t,h,u),u;case"textarea":for(u in t.push(rt("textarea")),h=l=a=null,n)if(f.call(n,u)&&null!=(c=n[u]))switch(u){case"children":h=c;break;case"value":a=c;break;case"defaultValue":l=c;break;case"dangerouslySetInnerHTML":throw Error(r(91));default:q(t,i,u,c)}if(null===a&&null!==l&&(a=l),t.push(Q),null!=h){if(null!=a)throw Error(r(92));if(D(h)&&1<h.length)throw Error(r(93));a=""+h}return"string"===typeof a&&"\n"===a[0]&&t.push(et),null!==a&&t.push(d(x(""+a))),null;case"input":for(l in t.push(rt("input")),c=h=u=a=null,n)if(f.call(n,l)&&null!=(p=n[l]))switch(l){case"children":case"dangerouslySetInnerHTML":throw Error(r(399,"input"));case"defaultChecked":c=p;break;case"defaultValue":u=p;break;case"checked":h=p;break;case"value":a=p;break;default:q(t,i,l,p)}return null!==h?q(t,i,"checked",h):null!==c&&q(t,i,"checked",c),null!==a?q(t,i,"value",a):null!==u&&q(t,i,"value",u),t.push(X),null;case"menuitem":for(var v in t.push(rt("menuitem")),n)if(f.call(n,v)&&null!=(a=n[v]))switch(v){case"children":case"dangerouslySetInnerHTML":throw Error(r(400));default:q(t,i,v,a)}return t.push(Q),null;case"title":for(g in t.push(rt("title")),a=null,n)if(f.call(n,g)&&null!=(l=n[g]))switch(g){case"children":a=l;break;case"dangerouslySetInnerHTML":throw Error(r(434));default:q(t,i,g,l)}return t.push(Q),a;case"listing":case"pre":for(c in t.push(rt(e)),l=a=null,n)if(f.call(n,c)&&null!=(u=n[c]))switch(c){case"children":a=u;break;case"dangerouslySetInnerHTML":l=u;break;default:q(t,i,c,u)}if(t.push(Q),null!=l){if(null!=a)throw Error(r(60));if("object"!==typeof l||!("__html"in l))throw Error(r(61));null!==(n=l.__html)&&void 0!==n&&("string"===typeof n&&0<n.length&&"\n"===n[0]?t.push(et,d(n)):t.push(d(""+n)))}return"string"===typeof a&&"\n"===a[0]&&t.push(et),a;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":for(var m in t.push(rt(e)),n)if(f.call(n,m)&&null!=(a=n[m]))switch(m){case"children":case"dangerouslySetInnerHTML":throw Error(r(399,e));default:q(t,i,m,a)}return t.push(X),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return tt(t,n,e,i);case"html":return 0===s.insertionMode&&t.push(it),tt(t,n,e,i);default:if(-1===e.indexOf("-")&&"string"!==typeof n.is)return tt(t,n,e,i);for(p in t.push(rt(e)),l=a=null,n)if(f.call(n,p)&&null!=(u=n[p]))switch(p){case"children":a=u;break;case"dangerouslySetInnerHTML":l=u;break;case"style":z(t,i,u);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:y(p)&&"function"!==typeof u&&"symbol"!==typeof u&&t.push(U,d(p),Y,d(x(u)),K)}return t.push(Q),$(t,l,a),a}}var at=p("</"),lt=p(">"),ut=p('<template id="'),ct=p('"></template>'),dt=p("\x3c!--$--\x3e"),pt=p('\x3c!--$?--\x3e<template id="'),ht=p('"></template>'),ft=p("\x3c!--$!--\x3e"),gt=p("\x3c!--/$--\x3e"),vt=p("<template"),mt=p('"'),yt=p(' data-dgst="');p(' data-msg="'),p(' data-stck="');var Ct=p("></template>");function wt(t,e,n){if(a(t,pt),null===n)throw Error(r(395));return a(t,n),l(t,ht)}var bt=p('<div hidden id="'),_t=p('">'),St=p("</div>"),Et=p('<svg aria-hidden="true" style="display:none" id="'),Ot=p('">'),xt=p("</svg>"),Tt=p('<math aria-hidden="true" style="display:none" id="'),Rt=p('">'),Dt=p("</math>"),Pt=p('<table hidden id="'),Lt=p('">'),Mt=p("</table>"),At=p('<table hidden><tbody id="'),kt=p('">'),Nt=p("</tbody></table>"),Ft=p('<table hidden><tr id="'),It=p('">'),Gt=p("</tr></table>"),Ht=p('<table hidden><colgroup id="'),Vt=p('">'),jt=p("</colgroup></table>");var Bt=p('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),Wt=p('$RS("'),zt=p('","'),Ut=p('")<\/script>'),Yt=p('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),Kt=p('$RC("'),Zt=p('","'),qt=p('")<\/script>'),Qt=p('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),Xt=p('$RX("'),$t=p('"'),Jt=p(")<\/script>"),te=p(","),ee=/[<\u2028\u2029]/g;function ne(t){return JSON.stringify(t).replace(ee,(function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}))}var oe=Object.assign,re=Symbol.for("react.element"),ie=Symbol.for("react.portal"),se=Symbol.for("react.fragment"),ae=Symbol.for("react.strict_mode"),le=Symbol.for("react.profiler"),ue=Symbol.for("react.provider"),ce=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),pe=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),fe=Symbol.for("react.memo"),ge=Symbol.for("react.lazy"),ve=Symbol.for("react.scope"),me=Symbol.for("react.debug_trace_mode"),ye=Symbol.for("react.legacy_hidden"),Ce=Symbol.for("react.default_value"),we=Symbol.iterator;function be(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case se:return"Fragment";case ie:return"Portal";case le:return"Profiler";case ae:return"StrictMode";case pe:return"Suspense";case he:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case ce:return(t.displayName||"Context")+".Consumer";case ue:return(t._context.displayName||"Context")+".Provider";case de:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case fe:return null!==(e=t.displayName||null)?e:be(t.type)||"Memo";case ge:e=t._payload,t=t._init;try{return be(t(e))}catch(n){}}return null}var _e={};function Se(t,e){if(!(t=t.contextTypes))return _e;var n,o={};for(n in t)o[n]=e[n];return o}var Ee=null;function Oe(t,e){if(t!==e){t.context._currentValue=t.parentValue,t=t.parent;var n=e.parent;if(null===t){if(null!==n)throw Error(r(401))}else{if(null===n)throw Error(r(401));Oe(t,n)}e.context._currentValue=e.value}}function xe(t){t.context._currentValue=t.parentValue,null!==(t=t.parent)&&xe(t)}function Te(t){var e=t.parent;null!==e&&Te(e),t.context._currentValue=t.value}function Re(t,e){if(t.context._currentValue=t.parentValue,null===(t=t.parent))throw Error(r(402));t.depth===e.depth?Oe(t,e):Re(t,e)}function De(t,e){var n=e.parent;if(null===n)throw Error(r(402));t.depth===n.depth?Oe(t,n):De(t,n),e.context._currentValue=e.value}function Pe(t){var e=Ee;e!==t&&(null===e?Te(t):null===t?xe(e):e.depth===t.depth?Oe(e,t):e.depth>t.depth?Re(e,t):De(e,t),Ee=t)}var Le={isMounted:function(){return!1},enqueueSetState:function(t,e){null!==(t=t._reactInternals).queue&&t.queue.push(e)},enqueueReplaceState:function(t,e){(t=t._reactInternals).replace=!0,t.queue=[e]},enqueueForceUpdate:function(){}};function Me(t,e,n,o){var r=void 0!==t.state?t.state:null;t.updater=Le,t.props=n,t.state=r;var i={queue:[],replace:!1};t._reactInternals=i;var s=e.contextType;if(t.context="object"===typeof s&&null!==s?s._currentValue:o,"function"===typeof(s=e.getDerivedStateFromProps)&&(r=null===(s=s(n,r))||void 0===s?r:oe({},r,s),t.state=r),"function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate&&("function"===typeof t.UNSAFE_componentWillMount||"function"===typeof t.componentWillMount))if(e=t.state,"function"===typeof t.componentWillMount&&t.componentWillMount(),"function"===typeof t.UNSAFE_componentWillMount&&t.UNSAFE_componentWillMount(),e!==t.state&&Le.enqueueReplaceState(t,t.state,null),null!==i.queue&&0<i.queue.length)if(e=i.queue,s=i.replace,i.queue=null,i.replace=!1,s&&1===e.length)t.state=e[0];else{for(i=s?e[0]:t.state,r=!0,s=s?1:0;s<e.length;s++){var a=e[s];null!=(a="function"===typeof a?a.call(t,i,n,o):a)&&(r?(r=!1,i=oe({},i,a)):oe(i,a))}t.state=i}else i.queue=null}var Ae={id:1,overflow:""};function ke(t,e,n){var o=t.id;t=t.overflow;var r=32-Ne(o)-1;o&=~(1<<r),n+=1;var i=32-Ne(e)+r;if(30<i){var s=r-r%5;return i=(o&(1<<s)-1).toString(32),o>>=s,r-=s,{id:1<<32-Ne(e)+r|n<<r|o,overflow:i+t}}return{id:1<<i|n<<r|o,overflow:t}}var Ne=Math.clz32?Math.clz32:function(t){return 0===(t>>>=0)?32:31-(Fe(t)/Ie|0)|0},Fe=Math.log,Ie=Math.LN2;var Ge="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},He=null,Ve=null,je=null,Be=null,We=!1,ze=!1,Ue=0,Ye=null,Ke=0;function Ze(){if(null===He)throw Error(r(321));return He}function qe(){if(0<Ke)throw Error(r(312));return{memoizedState:null,queue:null,next:null}}function Qe(){return null===Be?null===je?(We=!1,je=Be=qe()):(We=!0,Be=je):null===Be.next?(We=!1,Be=Be.next=qe()):(We=!0,Be=Be.next),Be}function Xe(){Ve=He=null,ze=!1,je=null,Ke=0,Be=Ye=null}function $e(t,e){return"function"===typeof e?e(t):e}function Je(t,e,n){if(He=Ze(),Be=Qe(),We){var o=Be.queue;if(e=o.dispatch,null!==Ye&&void 0!==(n=Ye.get(o))){Ye.delete(o),o=Be.memoizedState;do{o=t(o,n.action),n=n.next}while(null!==n);return Be.memoizedState=o,[o,e]}return[Be.memoizedState,e]}return t=t===$e?"function"===typeof e?e():e:void 0!==n?n(e):e,Be.memoizedState=t,t=(t=Be.queue={last:null,dispatch:null}).dispatch=en.bind(null,He,t),[Be.memoizedState,t]}function tn(t,e){if(He=Ze(),e=void 0===e?null:e,null!==(Be=Qe())){var n=Be.memoizedState;if(null!==n&&null!==e){var o=n[1];t:if(null===o)o=!1;else{for(var r=0;r<o.length&&r<e.length;r++)if(!Ge(e[r],o[r])){o=!1;break t}o=!0}if(o)return n[0]}}return t=t(),Be.memoizedState=[t,e],t}function en(t,e,n){if(25<=Ke)throw Error(r(301));if(t===He)if(ze=!0,t={action:n,next:null},null===Ye&&(Ye=new Map),void 0===(n=Ye.get(e)))Ye.set(e,t);else{for(e=n;null!==e.next;)e=e.next;e.next=t}}function nn(){throw Error(r(394))}function on(){}var rn={readContext:function(t){return t._currentValue},useContext:function(t){return Ze(),t._currentValue},useMemo:tn,useReducer:Je,useRef:function(t){He=Ze();var e=(Be=Qe()).memoizedState;return null===e?(t={current:t},Be.memoizedState=t):e},useState:function(t){return Je($e,t)},useInsertionEffect:on,useLayoutEffect:function(){},useCallback:function(t,e){return tn((function(){return t}),e)},useImperativeHandle:on,useEffect:on,useDebugValue:on,useDeferredValue:function(t){return Ze(),t},useTransition:function(){return Ze(),[!1,nn]},useId:function(){var t=Ve.treeContext,e=t.overflow;t=((t=t.id)&~(1<<32-Ne(t)-1)).toString(32)+e;var n=sn;if(null===n)throw Error(r(404));return e=Ue++,t=":"+n.idPrefix+"R"+t,0<e&&(t+="H"+e.toString(32)),t+":"},useMutableSource:function(t,e){return Ze(),e(t._source)},useSyncExternalStore:function(t,e,n){if(void 0===n)throw Error(r(407));return n()}},sn=null,an=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function ln(t){return console.error(t),null}function un(){}function cn(t,e,n,o,r,i,s,a){t.allPendingTasks++,null===n?t.pendingRootTasks++:n.pendingTasks++;var l={node:e,ping:function(){var e=t.pingedTasks;e.push(l),1===e.length&&On(t)},blockedBoundary:n,blockedSegment:o,abortSet:r,legacyContext:i,context:s,treeContext:a};return r.add(l),l}function dn(t,e,n,o,r,i){return{status:0,id:-1,index:e,parentFlushed:!1,chunks:[],children:[],formatContext:o,boundary:n,lastPushedText:r,textEmbedded:i}}function pn(t,e){if(null!=(t=t.onError(e))&&"string"!==typeof t)throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof t+'" instead');return t}function hn(t,e){var n=t.onShellError;n(e),(n=t.onFatalError)(e),null!==t.destination?(t.status=2,h(t.destination,e)):(t.status=1,t.fatalError=e)}function fn(t,e,n,o,r){for(He={},Ve=e,Ue=0,t=n(o,r);ze;)ze=!1,Ue=0,Ke+=1,Be=null,t=n(o,r);return Xe(),t}function gn(t,e,n,o){var i=n.render(),s=o.childContextTypes;if(null!==s&&void 0!==s){var a=e.legacyContext;if("function"!==typeof n.getChildContext)o=a;else{for(var l in n=n.getChildContext())if(!(l in s))throw Error(r(108,be(o)||"Unknown",l));o=oe({},a,n)}e.legacyContext=o,yn(t,e,i),e.legacyContext=a}else yn(t,e,i)}function vn(t,e){if(t&&t.defaultProps){for(var n in e=oe({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}function mn(t,e,n,o,i){if("function"===typeof n)if(n.prototype&&n.prototype.isReactComponent){i=Se(n,e.legacyContext);var s=n.contextType;Me(s=new n(o,"object"===typeof s&&null!==s?s._currentValue:i),n,o,i),gn(t,e,s,n)}else{i=fn(t,e,n,o,s=Se(n,e.legacyContext));var a=0!==Ue;if("object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof)Me(i,n,o,s),gn(t,e,i,n);else if(a){o=e.treeContext,e.treeContext=ke(o,1,0);try{yn(t,e,i)}finally{e.treeContext=o}}else yn(t,e,i)}else{if("string"!==typeof n){switch(n){case ye:case me:case ae:case le:case se:case he:return void yn(t,e,o.children);case ve:throw Error(r(343));case pe:t:{n=e.blockedBoundary,i=e.blockedSegment,s=o.fallback,o=o.children;var l={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:a=new Set,errorDigest:null},u=dn(0,i.chunks.length,l,i.formatContext,!1,!1);i.children.push(u),i.lastPushedText=!1;var c=dn(0,0,null,i.formatContext,!1,!1);c.parentFlushed=!0,e.blockedBoundary=l,e.blockedSegment=c;try{if(wn(t,e,o),c.lastPushedText&&c.textEmbedded&&c.chunks.push(G),c.status=1,Sn(l,c),0===l.pendingTasks)break t}catch(p){c.status=4,l.forceClientRender=!0,l.errorDigest=pn(t,p)}finally{e.blockedBoundary=n,e.blockedSegment=i}e=cn(t,s,n,u,a,e.legacyContext,e.context,e.treeContext),t.pingedTasks.push(e)}return}if("object"===typeof n&&null!==n)switch(n.$$typeof){case de:if(o=fn(t,e,n.render,o,i),0!==Ue){n=e.treeContext,e.treeContext=ke(n,1,0);try{yn(t,e,o)}finally{e.treeContext=n}}else yn(t,e,o);return;case fe:return void mn(t,e,n=n.type,o=vn(n,o),i);case ue:if(i=o.children,n=n._context,o=o.value,s=n._currentValue,n._currentValue=o,Ee=o={parent:a=Ee,depth:null===a?0:a.depth+1,context:n,parentValue:s,value:o},e.context=o,yn(t,e,i),null===(t=Ee))throw Error(r(403));return o=t.parentValue,t.context._currentValue=o===Ce?t.context._defaultValue:o,t=Ee=t.parent,void(e.context=t);case ce:return void yn(t,e,o=(o=o.children)(n._currentValue));case ge:return void mn(t,e,n=(i=n._init)(n._payload),o=vn(n,o),void 0)}throw Error(r(130,null==n?n:typeof n,""))}switch(s=st((i=e.blockedSegment).chunks,n,o,t.responseState,i.formatContext),i.lastPushedText=!1,a=i.formatContext,i.formatContext=function(t,e,n){switch(e){case"select":return I(1,null!=n.value?n.value:n.defaultValue);case"svg":return I(2,null);case"math":return I(3,null);case"foreignObject":return I(1,null);case"table":return I(4,null);case"thead":case"tbody":case"tfoot":return I(5,null);case"colgroup":return I(7,null);case"tr":return I(6,null)}return 4<=t.insertionMode||0===t.insertionMode?I(1,null):t}(a,n,o),wn(t,e,s),i.formatContext=a,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:i.chunks.push(at,d(n),lt)}i.lastPushedText=!1}}function yn(t,e,n){if(e.node=n,"object"===typeof n&&null!==n){switch(n.$$typeof){case re:return void mn(t,e,n.type,n.props,n.ref);case ie:throw Error(r(257));case ge:var o=n._init;return void yn(t,e,n=o(n._payload))}if(D(n))return void Cn(t,e,n);if(null===n||"object"!==typeof n?o=null:o="function"===typeof(o=we&&n[we]||n["@@iterator"])?o:null,o&&(o=o.call(n))){if(!(n=o.next()).done){var i=[];do{i.push(n.value),n=o.next()}while(!n.done);Cn(t,e,i)}return}throw t=Object.prototype.toString.call(n),Error(r(31,"[object Object]"===t?"object with keys {"+Object.keys(n).join(", ")+"}":t))}"string"===typeof n?(o=e.blockedSegment).lastPushedText=H(e.blockedSegment.chunks,n,t.responseState,o.lastPushedText):"number"===typeof n&&((o=e.blockedSegment).lastPushedText=H(e.blockedSegment.chunks,""+n,t.responseState,o.lastPushedText))}function Cn(t,e,n){for(var o=n.length,r=0;r<o;r++){var i=e.treeContext;e.treeContext=ke(i,o,r);try{wn(t,e,n[r])}finally{e.treeContext=i}}}function wn(t,e,n){var o=e.blockedSegment.formatContext,r=e.legacyContext,i=e.context;try{return yn(t,e,n)}catch(l){if(Xe(),"object"!==typeof l||null===l||"function"!==typeof l.then)throw e.blockedSegment.formatContext=o,e.legacyContext=r,e.context=i,Pe(i),l;n=l;var s=e.blockedSegment,a=dn(0,s.chunks.length,null,s.formatContext,s.lastPushedText,!0);s.children.push(a),s.lastPushedText=!1,t=cn(t,e.node,e.blockedBoundary,a,e.abortSet,e.legacyContext,e.context,e.treeContext).ping,n.then(t,t),e.blockedSegment.formatContext=o,e.legacyContext=r,e.context=i,Pe(i)}}function bn(t){var e=t.blockedBoundary;(t=t.blockedSegment).status=3,En(this,e,t)}function _n(t,e,n){var o=t.blockedBoundary;t.blockedSegment.status=3,null===o?(e.allPendingTasks--,2!==e.status&&(e.status=2,null!==e.destination&&e.destination.close())):(o.pendingTasks--,o.forceClientRender||(o.forceClientRender=!0,t=void 0===n?Error(r(432)):n,o.errorDigest=e.onError(t),o.parentFlushed&&e.clientRenderedBoundaries.push(o)),o.fallbackAbortableTasks.forEach((function(t){return _n(t,e,n)})),o.fallbackAbortableTasks.clear(),e.allPendingTasks--,0===e.allPendingTasks&&(o=e.onAllReady)())}function Sn(t,e){if(0===e.chunks.length&&1===e.children.length&&null===e.children[0].boundary){var n=e.children[0];n.id=e.id,n.parentFlushed=!0,1===n.status&&Sn(t,n)}else t.completedSegments.push(e)}function En(t,e,n){if(null===e){if(n.parentFlushed){if(null!==t.completedRootSegment)throw Error(r(389));t.completedRootSegment=n}t.pendingRootTasks--,0===t.pendingRootTasks&&(t.onShellError=un,(e=t.onShellReady)())}else e.pendingTasks--,e.forceClientRender||(0===e.pendingTasks?(n.parentFlushed&&1===n.status&&Sn(e,n),e.parentFlushed&&t.completedBoundaries.push(e),e.fallbackAbortableTasks.forEach(bn,t),e.fallbackAbortableTasks.clear()):n.parentFlushed&&1===n.status&&(Sn(e,n),1===e.completedSegments.length&&e.parentFlushed&&t.partialBoundaries.push(e)));t.allPendingTasks--,0===t.allPendingTasks&&(t=t.onAllReady)()}function On(t){if(2!==t.status){var e=Ee,n=an.current;an.current=rn;var o=sn;sn=t.responseState;try{var r,i=t.pingedTasks;for(r=0;r<i.length;r++){var s=i[r],a=t,l=s.blockedSegment;if(0===l.status){Pe(s.context);try{yn(a,s,s.node),l.lastPushedText&&l.textEmbedded&&l.chunks.push(G),s.abortSet.delete(s),l.status=1,En(a,s.blockedBoundary,l)}catch(h){if(Xe(),"object"===typeof h&&null!==h&&"function"===typeof h.then){var u=s.ping;h.then(u,u)}else{s.abortSet.delete(s),l.status=4;var c=s.blockedBoundary,d=h,p=pn(a,d);if(null===c?hn(a,d):(c.pendingTasks--,c.forceClientRender||(c.forceClientRender=!0,c.errorDigest=p,c.parentFlushed&&a.clientRenderedBoundaries.push(c))),a.allPendingTasks--,0===a.allPendingTasks)(0,a.onAllReady)()}}}}i.splice(0,r),null!==t.destination&&Ln(t,t.destination)}catch(h){pn(t,h),hn(t,h)}finally{sn=o,an.current=n,n===rn&&Pe(e)}}}function xn(t,e,n){switch(n.parentFlushed=!0,n.status){case 0:var o=n.id=t.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,t=t.responseState,a(e,ut),a(e,t.placeholderPrefix),a(e,t=d(o.toString(16))),l(e,ct);case 1:n.status=2;var i=!0;o=n.chunks;var s=0;n=n.children;for(var u=0;u<n.length;u++){for(i=n[u];s<i.index;s++)a(e,o[s]);i=Tn(t,e,i)}for(;s<o.length-1;s++)a(e,o[s]);return s<o.length&&(i=l(e,o[s])),i;default:throw Error(r(390))}}function Tn(t,e,n){var o=n.boundary;if(null===o)return xn(t,e,n);if(o.parentFlushed=!0,o.forceClientRender)o=o.errorDigest,l(e,ft),a(e,vt),o&&(a(e,yt),a(e,d(x(o))),a(e,mt)),l(e,Ct),xn(t,e,n);else if(0<o.pendingTasks){o.rootSegmentID=t.nextSegmentId++,0<o.completedSegments.length&&t.partialBoundaries.push(o);var i=t.responseState,s=i.nextSuspenseID++;i=p(i.boundaryPrefix+s.toString(16)),o=o.id=i,wt(e,t.responseState,o),xn(t,e,n)}else if(o.byteSize>t.progressiveChunkSize)o.rootSegmentID=t.nextSegmentId++,t.completedBoundaries.push(o),wt(e,t.responseState,o.id),xn(t,e,n);else{if(l(e,dt),1!==(n=o.completedSegments).length)throw Error(r(391));Tn(t,e,n[0])}return l(e,gt)}function Rn(t,e,n){return function(t,e,n,o){switch(n.insertionMode){case 0:case 1:return a(t,bt),a(t,e.segmentPrefix),a(t,d(o.toString(16))),l(t,_t);case 2:return a(t,Et),a(t,e.segmentPrefix),a(t,d(o.toString(16))),l(t,Ot);case 3:return a(t,Tt),a(t,e.segmentPrefix),a(t,d(o.toString(16))),l(t,Rt);case 4:return a(t,Pt),a(t,e.segmentPrefix),a(t,d(o.toString(16))),l(t,Lt);case 5:return a(t,At),a(t,e.segmentPrefix),a(t,d(o.toString(16))),l(t,kt);case 6:return a(t,Ft),a(t,e.segmentPrefix),a(t,d(o.toString(16))),l(t,It);case 7:return a(t,Ht),a(t,e.segmentPrefix),a(t,d(o.toString(16))),l(t,Vt);default:throw Error(r(397))}}(e,t.responseState,n.formatContext,n.id),Tn(t,e,n),function(t,e){switch(e.insertionMode){case 0:case 1:return l(t,St);case 2:return l(t,xt);case 3:return l(t,Dt);case 4:return l(t,Mt);case 5:return l(t,Nt);case 6:return l(t,Gt);case 7:return l(t,jt);default:throw Error(r(397))}}(e,n.formatContext)}function Dn(t,e,n){for(var o=n.completedSegments,i=0;i<o.length;i++)Pn(t,e,n,o[i]);if(o.length=0,t=t.responseState,o=n.id,n=n.rootSegmentID,a(e,t.startInlineScript),t.sentCompleteBoundaryFunction?a(e,Kt):(t.sentCompleteBoundaryFunction=!0,a(e,Yt)),null===o)throw Error(r(395));return n=d(n.toString(16)),a(e,o),a(e,Zt),a(e,t.segmentPrefix),a(e,n),l(e,qt)}function Pn(t,e,n,o){if(2===o.status)return!0;var i=o.id;if(-1===i){if(-1===(o.id=n.rootSegmentID))throw Error(r(392));return Rn(t,e,o)}return Rn(t,e,o),a(e,(t=t.responseState).startInlineScript),t.sentCompleteSegmentFunction?a(e,Wt):(t.sentCompleteSegmentFunction=!0,a(e,Bt)),a(e,t.segmentPrefix),a(e,i=d(i.toString(16))),a(e,zt),a(e,t.placeholderPrefix),a(e,i),l(e,Ut)}function Ln(t,e){i=new Uint8Array(512),s=0;try{var n=t.completedRootSegment;if(null!==n&&0===t.pendingRootTasks){Tn(t,e,n),t.completedRootSegment=null;var o=t.responseState.bootstrapChunks;for(n=0;n<o.length-1;n++)a(e,o[n]);n<o.length&&l(e,o[n])}var c,p=t.clientRenderedBoundaries;for(c=0;c<p.length;c++){var h=p[c];o=e;var f=t.responseState,g=h.id,v=h.errorDigest,m=h.errorMessage,y=h.errorComponentStack;if(a(o,f.startInlineScript),f.sentClientRenderFunction?a(o,Xt):(f.sentClientRenderFunction=!0,a(o,Qt)),null===g)throw Error(r(395));if(a(o,g),a(o,$t),(v||m||y)&&(a(o,te),a(o,d(ne(v||"")))),(m||y)&&(a(o,te),a(o,d(ne(m||"")))),y&&(a(o,te),a(o,d(ne(y)))),!l(o,Jt))return t.destination=null,c++,void p.splice(0,c)}p.splice(0,c);var C=t.completedBoundaries;for(c=0;c<C.length;c++)if(!Dn(t,e,C[c]))return t.destination=null,c++,void C.splice(0,c);C.splice(0,c),u(e),i=new Uint8Array(512),s=0;var w=t.partialBoundaries;for(c=0;c<w.length;c++){var b=w[c];t:{p=t,h=e;var _=b.completedSegments;for(f=0;f<_.length;f++)if(!Pn(p,h,b,_[f])){f++,_.splice(0,f);var S=!1;break t}_.splice(0,f),S=!0}if(!S)return t.destination=null,c++,void w.splice(0,c)}w.splice(0,c);var E=t.completedBoundaries;for(c=0;c<E.length;c++)if(!Dn(t,e,E[c]))return t.destination=null,c++,void E.splice(0,c);E.splice(0,c)}finally{u(e),0===t.allPendingTasks&&0===t.pingedTasks.length&&0===t.clientRenderedBoundaries.length&&0===t.completedBoundaries.length&&e.close()}}function Mn(t,e){try{var n=t.abortableTasks;n.forEach((function(n){return _n(n,t,e)})),n.clear(),null!==t.destination&&Ln(t,t.destination)}catch(o){pn(t,o),hn(t,o)}}e.renderToReadableStream=function(t,e){return new Promise((function(n,o){var r,i,s=new Promise((function(t,e){i=t,r=e})),a=function(t,e,n,o,r,i,s,a,l){var u=[],c=new Set;return(n=dn(e={destination:null,responseState:e,progressiveChunkSize:void 0===o?12800:o,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:c,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:void 0===r?ln:r,onAllReady:void 0===i?un:i,onShellReady:void 0===s?un:s,onShellError:void 0===a?un:a,onFatalError:void 0===l?un:l},0,null,n,!1,!1)).parentFlushed=!0,t=cn(e,t,null,n,c,_e,null,Ae),u.push(t),e}(t,function(t,e,n,o,r){t=void 0===t?"":t,e=void 0===e?P:p('<script nonce="'+x(e)+'">');var i=[];if(void 0!==n&&i.push(e,d((""+n).replace(N,F)),L),void 0!==o)for(n=0;n<o.length;n++)i.push(M,d(x(o[n])),k);if(void 0!==r)for(o=0;o<r.length;o++)i.push(A,d(x(r[o])),k);return{bootstrapChunks:i,startInlineScript:e,placeholderPrefix:p(t+"P:"),segmentPrefix:p(t+"S:"),boundaryPrefix:t+"B:",idPrefix:t,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}(e?e.identifierPrefix:void 0,e?e.nonce:void 0,e?e.bootstrapScriptContent:void 0,e?e.bootstrapScripts:void 0,e?e.bootstrapModules:void 0),function(t){return I("http://www.w3.org/2000/svg"===t?2:"http://www.w3.org/1998/Math/MathML"===t?3:0,null)}(e?e.namespaceURI:void 0),e?e.progressiveChunkSize:void 0,e?e.onError:void 0,i,(function(){var t=new ReadableStream({type:"bytes",pull:function(t){if(1===a.status)a.status=2,h(t,a.fatalError);else if(2!==a.status&&null===a.destination){a.destination=t;try{Ln(a,t)}catch(e){pn(a,e),hn(a,e)}}},cancel:function(){Mn(a)}},{highWaterMark:0});t.allReady=s,n(t)}),(function(t){s.catch((function(){})),o(t)}),r);if(e&&e.signal){var l=e.signal,u=function(){Mn(a,l.reason),l.removeEventListener("abort",u)};l.addEventListener("abort",u)}On(a)}))},e.version="18.2.0"},4463:(t,e,n)=>{"use strict";var o=n(2791),r=n(5296);function i(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(t,e){u(t,e),u(t+"Capture",e)}function u(t,e){for(a[t]=e,t=0;t<e.length;t++)s.add(e[t])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},f={};function g(t,e,n,o,r,i,s){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=o,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=s}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){v[t]=new g(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];v[e]=new g(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){v[t]=new g(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){v[t]=new g(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){v[t]=new g(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){v[t]=new g(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){v[t]=new g(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){v[t]=new g(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){v[t]=new g(t,5,!1,t.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function y(t){return t[1].toUpperCase()}function C(t,e,n,o){var r=v.hasOwnProperty(e)?v[e]:null;(null!==r?0!==r.type:o||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,n,o){if(null===e||"undefined"===typeof e||function(t,e,n,o){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!o&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,o))return!0;if(o)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,r,o)&&(n=null),o||null===r?function(t){return!!d.call(f,t)||!d.call(h,t)&&(p.test(t)?f[t]=!0:(h[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=null===n?3!==r.type&&"":n:(e=r.attributeName,o=r.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,o?t.setAttributeNS(o,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(m,y);v[e]=new g(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(m,y);v[e]=new g(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(m,y);v[e]=new g(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){v[t]=new g(t,1,!1,t.toLowerCase(),null,!1,!1)})),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){v[t]=new g(t,1,!1,t.toLowerCase(),null,!0,!0)}));var w=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),_=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),T=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),M=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var A=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var k=Symbol.iterator;function N(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=k&&t[k]||t["@@iterator"])?t:null}var F,I=Object.assign;function G(t){if(void 0===F)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);F=e&&e[1]||""}return"\n"+F+t}var H=!1;function V(t,e){if(!t||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var o=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){o=u}t.call(e.prototype)}else{try{throw Error()}catch(u){o=u}t()}}catch(u){if(u&&o&&"string"===typeof u.stack){for(var r=u.stack.split("\n"),i=o.stack.split("\n"),s=r.length-1,a=i.length-1;1<=s&&0<=a&&r[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(r[s]!==i[a]){if(1!==s||1!==a)do{if(s--,0>--a||r[s]!==i[a]){var l="\n"+r[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}}while(1<=s&&0<=a);break}}}finally{H=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?G(t):""}function j(t){switch(t.tag){case 5:return G(t.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return t=V(t.type,!1);case 11:return t=V(t.type.render,!1);case 1:return t=V(t.type,!0);default:return""}}function B(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case S:return"Fragment";case _:return"Portal";case O:return"Profiler";case E:return"StrictMode";case D:return"Suspense";case P:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case T:return(t.displayName||"Context")+".Consumer";case x:return(t._context.displayName||"Context")+".Provider";case R:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case L:return null!==(e=t.displayName||null)?e:B(t.type)||"Memo";case M:e=t._payload,t=t._init;try{return B(t(e))}catch(n){}}return null}function W(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(e);case 8:return e===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function z(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function U(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function Y(t){t._valueTracker||(t._valueTracker=function(t){var e=U(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),o=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(t){o=""+t,i.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(t){o=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function K(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),o="";return t&&(o=U(t)?t.checked?"true":"false":t.value),(t=o)!==n&&(e.setValue(t),!0)}function Z(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function q(t,e){var n=e.checked;return I({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function Q(t,e){var n=null==e.defaultValue?"":e.defaultValue,o=null!=e.checked?e.checked:e.defaultChecked;n=z(null!=e.value?e.value:n),t._wrapperState={initialChecked:o,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function X(t,e){null!=(e=e.checked)&&C(t,"checked",e,!1)}function $(t,e){X(t,e);var n=z(e.value),o=e.type;if(null!=n)"number"===o?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===o||"reset"===o)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,n):e.hasOwnProperty("defaultValue")&&tt(t,e.type,z(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function J(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var o=e.type;if(!("submit"!==o&&"reset"!==o||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function tt(t,e,n){"number"===e&&Z(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var et=Array.isArray;function nt(t,e,n,o){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&o&&(t[n].defaultSelected=!0)}else{for(n=""+z(n),e=null,r=0;r<t.length;r++){if(t[r].value===n)return t[r].selected=!0,void(o&&(t[r].defaultSelected=!0));null!==e||t[r].disabled||(e=t[r])}null!==e&&(e.selected=!0)}}function ot(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(i(91));return I({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function rt(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(i(92));if(et(n)){if(1<n.length)throw Error(i(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:z(n)}}function it(t,e){var n=z(e.value),o=z(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=o&&(t.defaultValue=""+o)}function st(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function at(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?at(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var ut,ct,dt=(ct=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((ut=ut||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ut.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,o){MSApp.execUnsafeLocalFunction((function(){return ct(t,e)}))}:ct);function pt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var ht={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ft=["Webkit","ms","Moz","O"];function gt(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||ht.hasOwnProperty(t)&&ht[t]?(""+e).trim():e+"px"}function vt(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var o=0===n.indexOf("--"),r=gt(n,e[n],o);"float"===n&&(n="cssFloat"),o?t.setProperty(n,r):t[n]=r}}Object.keys(ht).forEach((function(t){ft.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ht[e]=ht[t]}))}));var mt=I({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yt(t,e){if(e){if(mt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(i(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(i(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(i(62))}}function Ct(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wt=null;function bt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var _t=null,St=null,Et=null;function Ot(t){if(t=wr(t)){if("function"!==typeof _t)throw Error(i(280));var e=t.stateNode;e&&(e=_r(e),_t(t.stateNode,t.type,e))}}function xt(t){St?Et?Et.push(t):Et=[t]:St=t}function Tt(){if(St){var t=St,e=Et;if(Et=St=null,Ot(t),e)for(t=0;t<e.length;t++)Ot(e[t])}}function Rt(t,e){return t(e)}function Dt(){}var Pt=!1;function Lt(t,e,n){if(Pt)return t(e,n);Pt=!0;try{return Rt(t,e,n)}finally{Pt=!1,(null!==St||null!==Et)&&(Dt(),Tt())}}function Mt(t,e){var n=t.stateNode;if(null===n)return null;var o=_r(n);if(null===o)return null;n=o[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(o=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!o;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(i(231,e,typeof n));return n}var At=!1;if(c)try{var kt={};Object.defineProperty(kt,"passive",{get:function(){At=!0}}),window.addEventListener("test",kt,kt),window.removeEventListener("test",kt,kt)}catch(ct){At=!1}function Nt(t,e,n,o,r,i,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Ft=!1,It=null,Gt=!1,Ht=null,Vt={onError:function(t){Ft=!0,It=t}};function jt(t,e,n,o,r,i,s,a,l){Ft=!1,It=null,Nt.apply(Vt,arguments)}function Bt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Wt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function zt(t){if(Bt(t)!==t)throw Error(i(188))}function Ut(t){return null!==(t=function(t){var e=t.alternate;if(!e){if(null===(e=Bt(t)))throw Error(i(188));return e!==t?null:t}for(var n=t,o=e;;){var r=n.return;if(null===r)break;var s=r.alternate;if(null===s){if(null!==(o=r.return)){n=o;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return zt(r),t;if(s===o)return zt(r),e;s=s.sibling}throw Error(i(188))}if(n.return!==o.return)n=r,o=s;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,o=s;break}if(l===o){a=!0,o=r,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,o=r;break}if(l===o){a=!0,o=s,n=r;break}l=l.sibling}if(!a)throw Error(i(189))}}if(n.alternate!==o)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?t:e}(t))?Yt(t):null}function Yt(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=Yt(t);if(null!==e)return e;t=t.sibling}return null}var Kt=r.unstable_scheduleCallback,Zt=r.unstable_cancelCallback,qt=r.unstable_shouldYield,Qt=r.unstable_requestPaint,Xt=r.unstable_now,$t=r.unstable_getCurrentPriorityLevel,Jt=r.unstable_ImmediatePriority,te=r.unstable_UserBlockingPriority,ee=r.unstable_NormalPriority,ne=r.unstable_LowPriority,oe=r.unstable_IdlePriority,re=null,ie=null;var se=Math.clz32?Math.clz32:function(t){return t>>>=0,0===t?32:31-(ae(t)/le|0)|0},ae=Math.log,le=Math.LN2;var ue=64,ce=4194304;function de(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function pe(t,e){var n=t.pendingLanes;if(0===n)return 0;var o=0,r=t.suspendedLanes,i=t.pingedLanes,s=268435455&n;if(0!==s){var a=s&~r;0!==a?o=de(a):0!==(i&=s)&&(o=de(i))}else 0!==(s=n&~r)?o=de(s):0!==i&&(o=de(i));if(0===o)return 0;if(0!==e&&e!==o&&0===(e&r)&&((r=o&-o)>=(i=e&-e)||16===r&&0!==(4194240&i)))return e;if(0!==(4&o)&&(o|=16&n),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=o;0<e;)r=1<<(n=31-se(e)),o|=t[n],e&=~r;return o}function he(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function fe(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function ge(){var t=ue;return 0===(4194240&(ue<<=1))&&(ue=64),t}function ve(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function me(t,e,n){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-se(e)]=n}function ye(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var o=31-se(n),r=1<<o;r&e|t[o]&e&&(t[o]|=e),n&=~r}}var Ce=0;function we(t){return 1<(t&=-t)?4<t?0!==(268435455&t)?16:536870912:4:1}var be,_e,Se,Ee,Oe,xe=!1,Te=[],Re=null,De=null,Pe=null,Le=new Map,Me=new Map,Ae=[],ke="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ne(t,e){switch(t){case"focusin":case"focusout":Re=null;break;case"dragenter":case"dragleave":De=null;break;case"mouseover":case"mouseout":Pe=null;break;case"pointerover":case"pointerout":Le.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Me.delete(e.pointerId)}}function Fe(t,e,n,o,r,i){return null===t||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:o,nativeEvent:i,targetContainers:[r]},null!==e&&(null!==(e=wr(e))&&_e(e)),t):(t.eventSystemFlags|=o,e=t.targetContainers,null!==r&&-1===e.indexOf(r)&&e.push(r),t)}function Ie(t){var e=Cr(t.target);if(null!==e){var n=Bt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Wt(n)))return t.blockedOn=e,void Oe(t.priority,(function(){Se(n)}))}else if(3===e&&n.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function Ge(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=qe(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=wr(n))&&_e(e),t.blockedOn=n,!1;var o=new(n=t.nativeEvent).constructor(n.type,n);wt=o,n.target.dispatchEvent(o),wt=null,e.shift()}return!0}function He(t,e,n){Ge(t)&&n.delete(e)}function Ve(){xe=!1,null!==Re&&Ge(Re)&&(Re=null),null!==De&&Ge(De)&&(De=null),null!==Pe&&Ge(Pe)&&(Pe=null),Le.forEach(He),Me.forEach(He)}function je(t,e){t.blockedOn===e&&(t.blockedOn=null,xe||(xe=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ve)))}function Be(t){function e(e){return je(e,t)}if(0<Te.length){je(Te[0],t);for(var n=1;n<Te.length;n++){var o=Te[n];o.blockedOn===t&&(o.blockedOn=null)}}for(null!==Re&&je(Re,t),null!==De&&je(De,t),null!==Pe&&je(Pe,t),Le.forEach(e),Me.forEach(e),n=0;n<Ae.length;n++)(o=Ae[n]).blockedOn===t&&(o.blockedOn=null);for(;0<Ae.length&&null===(n=Ae[0]).blockedOn;)Ie(n),null===n.blockedOn&&Ae.shift()}var We=w.ReactCurrentBatchConfig,ze=!0;function Ue(t,e,n,o){var r=Ce,i=We.transition;We.transition=null;try{Ce=1,Ke(t,e,n,o)}finally{Ce=r,We.transition=i}}function Ye(t,e,n,o){var r=Ce,i=We.transition;We.transition=null;try{Ce=4,Ke(t,e,n,o)}finally{Ce=r,We.transition=i}}function Ke(t,e,n,o){if(ze){var r=qe(t,e,n,o);if(null===r)Uo(t,e,o,Ze,n),Ne(t,o);else if(function(t,e,n,o,r){switch(e){case"focusin":return Re=Fe(Re,t,e,n,o,r),!0;case"dragenter":return De=Fe(De,t,e,n,o,r),!0;case"mouseover":return Pe=Fe(Pe,t,e,n,o,r),!0;case"pointerover":var i=r.pointerId;return Le.set(i,Fe(Le.get(i)||null,t,e,n,o,r)),!0;case"gotpointercapture":return i=r.pointerId,Me.set(i,Fe(Me.get(i)||null,t,e,n,o,r)),!0}return!1}(r,t,e,n,o))o.stopPropagation();else if(Ne(t,o),4&e&&-1<ke.indexOf(t)){for(;null!==r;){var i=wr(r);if(null!==i&&be(i),null===(i=qe(t,e,n,o))&&Uo(t,e,o,Ze,n),i===r)break;r=i}null!==r&&o.stopPropagation()}else Uo(t,e,o,null,n)}}var Ze=null;function qe(t,e,n,o){if(Ze=null,null!==(t=Cr(t=bt(o))))if(null===(e=Bt(t)))t=null;else if(13===(n=e.tag)){if(null!==(t=Wt(e)))return t;t=null}else if(3===n){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ze=t,null}function Qe(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($t()){case Jt:return 1;case te:return 4;case ee:case ne:return 16;case oe:return 536870912;default:return 16}default:return 16}}var Xe=null,$e=null,Je=null;function tn(){if(Je)return Je;var t,e,n=$e,o=n.length,r="value"in Xe?Xe.value:Xe.textContent,i=r.length;for(t=0;t<o&&n[t]===r[t];t++);var s=o-t;for(e=1;e<=s&&n[o-e]===r[i-e];e++);return Je=r.slice(t,1<e?1-e:void 0)}function en(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function nn(){return!0}function on(){return!1}function rn(t){function e(e,n,o,r,i){for(var s in this._reactName=e,this._targetInst=o,this.type=n,this.nativeEvent=r,this.target=i,this.currentTarget=null,t)t.hasOwnProperty(s)&&(e=t[s],this[s]=e?e(r):r[s]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:on,this.isPropagationStopped=on,this}return I(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),e}var sn,an,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=rn(un),dn=I({},un,{view:0,detail:0}),pn=rn(dn),hn=I({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:On,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ln&&(ln&&"mousemove"===t.type?(sn=t.screenX-ln.screenX,an=t.screenY-ln.screenY):an=sn=0,ln=t),sn)},movementY:function(t){return"movementY"in t?t.movementY:an}}),fn=rn(hn),gn=rn(I({},hn,{dataTransfer:0})),vn=rn(I({},dn,{relatedTarget:0})),mn=rn(I({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=I({},un,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Cn=rn(yn),wn=rn(I({},un,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Sn[t])&&!!e[t]}function On(){return En}var xn=I({},dn,{key:function(t){if(t.key){var e=bn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=en(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?_n[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:On,charCode:function(t){return"keypress"===t.type?en(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?en(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Tn=rn(xn),Rn=rn(I({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Dn=rn(I({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:On})),Pn=rn(I({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ln=I({},hn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=rn(Ln),An=[9,13,27,32],kn=c&&"CompositionEvent"in window,Nn=null;c&&"documentMode"in document&&(Nn=document.documentMode);var Fn=c&&"TextEvent"in window&&!Nn,In=c&&(!kn||Nn&&8<Nn&&11>=Nn),Gn=String.fromCharCode(32),Hn=!1;function Vn(t,e){switch(t){case"keyup":return-1!==An.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Bn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Wn[t.type]:"textarea"===e}function Un(t,e,n,o){xt(o),0<(e=Ko(e,"onChange")).length&&(n=new cn("onChange","change",null,n,o),t.push({event:n,listeners:e}))}var Yn=null,Kn=null;function Zn(t){Ho(t,0)}function qn(t){if(K(br(t)))return t}function Qn(t,e){if("change"===t)return e}var Xn=!1;if(c){var $n;if(c){var Jn="oninput"in document;if(!Jn){var to=document.createElement("div");to.setAttribute("oninput","return;"),Jn="function"===typeof to.oninput}$n=Jn}else $n=!1;Xn=$n&&(!document.documentMode||9<document.documentMode)}function eo(){Yn&&(Yn.detachEvent("onpropertychange",no),Kn=Yn=null)}function no(t){if("value"===t.propertyName&&qn(Kn)){var e=[];Un(e,Kn,t,bt(t)),Lt(Zn,e)}}function oo(t,e,n){"focusin"===t?(eo(),Kn=n,(Yn=e).attachEvent("onpropertychange",no)):"focusout"===t&&eo()}function ro(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return qn(Kn)}function io(t,e){if("click"===t)return qn(e)}function so(t,e){if("input"===t||"change"===t)return qn(e)}var ao="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function lo(t,e){if(ao(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),o=Object.keys(e);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var r=n[o];if(!d.call(e,r)||!ao(t[r],e[r]))return!1}return!0}function uo(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function co(t,e){var n,o=uo(t);for(t=0;o;){if(3===o.nodeType){if(n=t+o.textContent.length,t<=e&&n>=e)return{node:o,offset:e-t};t=n}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=uo(o)}}function po(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?po(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function ho(){for(var t=window,e=Z();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(o){n=!1}if(!n)break;e=Z((t=e.contentWindow).document)}return e}function fo(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function go(t){var e=ho(),n=t.focusedElem,o=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&po(n.ownerDocument.documentElement,n)){if(null!==o&&fo(n))if(e=o.start,void 0===(t=o.end)&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if((t=(e=n.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var r=n.textContent.length,i=Math.min(o.start,r);o=void 0===o.end?i:Math.min(o.end,r),!t.extend&&i>o&&(r=o,o=i,i=r),r=co(n,i);var s=co(n,o);r&&s&&(1!==t.rangeCount||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&((e=e.createRange()).setStart(r.node,r.offset),t.removeAllRanges(),i>o?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}for(e=[],t=n;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<e.length;n++)(t=e[n]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var vo=c&&"documentMode"in document&&11>=document.documentMode,mo=null,yo=null,Co=null,wo=!1;function bo(t,e,n){var o=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wo||null==mo||mo!==Z(o)||("selectionStart"in(o=mo)&&fo(o)?o={start:o.selectionStart,end:o.selectionEnd}:o={anchorNode:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset},Co&&lo(Co,o)||(Co=o,0<(o=Ko(yo,"onSelect")).length&&(e=new cn("onSelect","select",null,e,n),t.push({event:e,listeners:o}),e.target=mo)))}function _o(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var So={animationend:_o("Animation","AnimationEnd"),animationiteration:_o("Animation","AnimationIteration"),animationstart:_o("Animation","AnimationStart"),transitionend:_o("Transition","TransitionEnd")},Eo={},Oo={};function xo(t){if(Eo[t])return Eo[t];if(!So[t])return t;var e,n=So[t];for(e in n)if(n.hasOwnProperty(e)&&e in Oo)return Eo[t]=n[e];return t}c&&(Oo=document.createElement("div").style,"AnimationEvent"in window||(delete So.animationend.animation,delete So.animationiteration.animation,delete So.animationstart.animation),"TransitionEvent"in window||delete So.transitionend.transition);var To=xo("animationend"),Ro=xo("animationiteration"),Do=xo("animationstart"),Po=xo("transitionend"),Lo=new Map,Mo="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ao(t,e){Lo.set(t,e),l(e,[t])}for(var ko=0;ko<Mo.length;ko++){var No=Mo[ko];Ao(No.toLowerCase(),"on"+(No[0].toUpperCase()+No.slice(1)))}Ao(To,"onAnimationEnd"),Ao(Ro,"onAnimationIteration"),Ao(Do,"onAnimationStart"),Ao("dblclick","onDoubleClick"),Ao("focusin","onFocus"),Ao("focusout","onBlur"),Ao(Po,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Io=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fo));function Go(t,e,n){var o=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,o,r,s,a,l,u){if(jt.apply(this,arguments),Ft){if(!Ft)throw Error(i(198));var c=It;Ft=!1,It=null,Gt||(Gt=!0,Ht=c)}}(o,e,void 0,t),t.currentTarget=null}function Ho(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var o=t[n],r=o.event;o=o.listeners;t:{var i=void 0;if(e)for(var s=o.length-1;0<=s;s--){var a=o[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&r.isPropagationStopped())break t;Go(r,a,u),i=l}else for(s=0;s<o.length;s++){if(l=(a=o[s]).instance,u=a.currentTarget,a=a.listener,l!==i&&r.isPropagationStopped())break t;Go(r,a,u),i=l}}}if(Gt)throw t=Ht,Gt=!1,Ht=null,t}function Vo(t,e){var n=e[vr];void 0===n&&(n=e[vr]=new Set);var o=t+"__bubble";n.has(o)||(zo(e,t,2,!1),n.add(o))}function jo(t,e,n){var o=0;e&&(o|=4),zo(n,t,o,e)}var Bo="_reactListening"+Math.random().toString(36).slice(2);function Wo(t){if(!t[Bo]){t[Bo]=!0,s.forEach((function(e){"selectionchange"!==e&&(Io.has(e)||jo(e,!1,t),jo(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[Bo]||(e[Bo]=!0,jo("selectionchange",!1,e))}}function zo(t,e,n,o){switch(Qe(e)){case 1:var r=Ue;break;case 4:r=Ye;break;default:r=Ke}n=r.bind(null,e,n,t),r=void 0,!At||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(r=!0),o?void 0!==r?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):void 0!==r?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Uo(t,e,n,o,r){var i=o;if(0===(1&e)&&0===(2&e)&&null!==o)t:for(;;){if(null===o)return;var s=o.tag;if(3===s||4===s){var a=o.stateNode.containerInfo;if(a===r||8===a.nodeType&&a.parentNode===r)break;if(4===s)for(s=o.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;s=s.return}for(;null!==a;){if(null===(s=Cr(a)))return;if(5===(l=s.tag)||6===l){o=i=s;continue t}a=a.parentNode}}o=o.return}Lt((function(){var o=i,r=bt(n),s=[];t:{var a=Lo.get(t);if(void 0!==a){var l=cn,u=t;switch(t){case"keypress":if(0===en(n))break t;case"keydown":case"keyup":l=Tn;break;case"focusin":u="focus",l=vn;break;case"focusout":u="blur",l=vn;break;case"beforeblur":case"afterblur":l=vn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Dn;break;case To:case Ro:case Do:l=mn;break;case Po:l=Pn;break;case"scroll":l=pn;break;case"wheel":l=Mn;break;case"copy":case"cut":case"paste":l=Cn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Rn}var c=0!==(4&e),d=!c&&"scroll"===t,p=c?null!==a?a+"Capture":null:a;c=[];for(var h,f=o;null!==f;){var g=(h=f).stateNode;if(5===h.tag&&null!==g&&(h=g,null!==p&&(null!=(g=Mt(f,p))&&c.push(Yo(f,g,h)))),d)break;f=f.return}0<c.length&&(a=new l(a,u,null,n,r),s.push({event:a,listeners:c}))}}if(0===(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(a="mouseover"===t||"pointerover"===t)||n===wt||!(u=n.relatedTarget||n.fromElement)||!Cr(u)&&!u[gr])&&(l||a)&&(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=o,null!==(u=(u=n.relatedTarget||n.toElement)?Cr(u):null)&&(u!==(d=Bt(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=o),l!==u)){if(c=fn,g="onMouseLeave",p="onMouseEnter",f="mouse","pointerout"!==t&&"pointerover"!==t||(c=Rn,g="onPointerLeave",p="onPointerEnter",f="pointer"),d=null==l?a:br(l),h=null==u?a:br(u),(a=new c(g,f+"leave",l,n,r)).target=d,a.relatedTarget=h,g=null,Cr(r)===o&&((c=new c(p,f+"enter",u,n,r)).target=h,c.relatedTarget=d,g=c),d=g,l&&u)t:{for(p=u,f=0,h=c=l;h;h=Zo(h))f++;for(h=0,g=p;g;g=Zo(g))h++;for(;0<f-h;)c=Zo(c),f--;for(;0<h-f;)p=Zo(p),h--;for(;f--;){if(c===p||null!==p&&c===p.alternate)break t;c=Zo(c),p=Zo(p)}c=null}else c=null;null!==l&&qo(s,a,l,c,!1),null!==u&&null!==d&&qo(s,d,u,c,!0)}if("select"===(l=(a=o?br(o):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var v=Qn;else if(zn(a))if(Xn)v=so;else{v=ro;var m=oo}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(v=io);switch(v&&(v=v(t,o))?Un(s,v,n,r):(m&&m(t,a,o),"focusout"===t&&(m=a._wrapperState)&&m.controlled&&"number"===a.type&&tt(a,"number",a.value)),m=o?br(o):window,t){case"focusin":(zn(m)||"true"===m.contentEditable)&&(mo=m,yo=o,Co=null);break;case"focusout":Co=yo=mo=null;break;case"mousedown":wo=!0;break;case"contextmenu":case"mouseup":case"dragend":wo=!1,bo(s,n,r);break;case"selectionchange":if(vo)break;case"keydown":case"keyup":bo(s,n,r)}var y;if(kn)t:{switch(t){case"compositionstart":var C="onCompositionStart";break t;case"compositionend":C="onCompositionEnd";break t;case"compositionupdate":C="onCompositionUpdate";break t}C=void 0}else Bn?Vn(t,n)&&(C="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(C="onCompositionStart");C&&(In&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==C?"onCompositionEnd"===C&&Bn&&(y=tn()):($e="value"in(Xe=r)?Xe.value:Xe.textContent,Bn=!0)),0<(m=Ko(o,C)).length&&(C=new wn(C,t,null,n,r),s.push({event:C,listeners:m}),y?C.data=y:null!==(y=jn(n))&&(C.data=y))),(y=Fn?function(t,e){switch(t){case"compositionend":return jn(e);case"keypress":return 32!==e.which?null:(Hn=!0,Gn);case"textInput":return(t=e.data)===Gn&&Hn?null:t;default:return null}}(t,n):function(t,e){if(Bn)return"compositionend"===t||!kn&&Vn(t,e)?(t=tn(),Je=$e=Xe=null,Bn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return In&&"ko"!==e.locale?null:e.data}}(t,n))&&(0<(o=Ko(o,"onBeforeInput")).length&&(r=new wn("onBeforeInput","beforeinput",null,n,r),s.push({event:r,listeners:o}),r.data=y))}Ho(s,e)}))}function Yo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ko(t,e){for(var n=e+"Capture",o=[];null!==t;){var r=t,i=r.stateNode;5===r.tag&&null!==i&&(r=i,null!=(i=Mt(t,n))&&o.unshift(Yo(t,i,r)),null!=(i=Mt(t,e))&&o.push(Yo(t,i,r))),t=t.return}return o}function Zo(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function qo(t,e,n,o,r){for(var i=e._reactName,s=[];null!==n&&n!==o;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===o)break;5===a.tag&&null!==u&&(a=u,r?null!=(l=Mt(n,i))&&s.unshift(Yo(n,l,a)):r||null!=(l=Mt(n,i))&&s.push(Yo(n,l,a))),n=n.return}0!==s.length&&t.push({event:e,listeners:s})}var Qo=/\r\n?/g,Xo=/\u0000|\uFFFD/g;function $o(t){return("string"===typeof t?t:""+t).replace(Qo,"\n").replace(Xo,"")}function Jo(t,e,n){if(e=$o(e),$o(t)!==e&&n)throw Error(i(425))}function tr(){}var er=null,nr=null;function or(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var rr="function"===typeof setTimeout?setTimeout:void 0,ir="function"===typeof clearTimeout?clearTimeout:void 0,sr="function"===typeof Promise?Promise:void 0,ar="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sr?function(t){return sr.resolve(null).then(t).catch(lr)}:rr;function lr(t){setTimeout((function(){throw t}))}function ur(t,e){var n=e,o=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===o)return t.removeChild(r),void Be(e);o--}else"$"!==n&&"$?"!==n&&"$!"!==n||o++;n=r}while(n);Be(e)}function cr(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function dr(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var pr=Math.random().toString(36).slice(2),hr="__reactFiber$"+pr,fr="__reactProps$"+pr,gr="__reactContainer$"+pr,vr="__reactEvents$"+pr,mr="__reactListeners$"+pr,yr="__reactHandles$"+pr;function Cr(t){var e=t[hr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[gr]||n[hr]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=dr(t);null!==t;){if(n=t[hr])return n;t=dr(t)}return e}n=(t=n).parentNode}return null}function wr(t){return!(t=t[hr]||t[gr])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function br(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(i(33))}function _r(t){return t[fr]||null}var Sr=[],Er=-1;function Or(t){return{current:t}}function xr(t){0>Er||(t.current=Sr[Er],Sr[Er]=null,Er--)}function Tr(t,e){Er++,Sr[Er]=t.current,t.current=e}var Rr={},Dr=Or(Rr),Pr=Or(!1),Lr=Rr;function Mr(t,e){var n=t.type.contextTypes;if(!n)return Rr;var o=t.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===e)return o.__reactInternalMemoizedMaskedChildContext;var r,i={};for(r in n)i[r]=e[r];return o&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ar(t){return null!==(t=t.childContextTypes)&&void 0!==t}function kr(){xr(Pr),xr(Dr)}function Nr(t,e,n){if(Dr.current!==Rr)throw Error(i(168));Tr(Dr,e),Tr(Pr,n)}function Fr(t,e,n){var o=t.stateNode;if(e=e.childContextTypes,"function"!==typeof o.getChildContext)return n;for(var r in o=o.getChildContext())if(!(r in e))throw Error(i(108,W(t)||"Unknown",r));return I({},n,o)}function Ir(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Rr,Lr=Dr.current,Tr(Dr,t),Tr(Pr,Pr.current),!0}function Gr(t,e,n){var o=t.stateNode;if(!o)throw Error(i(169));n?(t=Fr(t,e,Lr),o.__reactInternalMemoizedMergedChildContext=t,xr(Pr),xr(Dr),Tr(Dr,t)):xr(Pr),Tr(Pr,n)}var Hr=null,Vr=!1,jr=!1;function Br(t){null===Hr?Hr=[t]:Hr.push(t)}function Wr(){if(!jr&&null!==Hr){jr=!0;var t=0,e=Ce;try{var n=Hr;for(Ce=1;t<n.length;t++){var o=n[t];do{o=o(!0)}while(null!==o)}Hr=null,Vr=!1}catch(r){throw null!==Hr&&(Hr=Hr.slice(t+1)),Kt(Jt,Wr),r}finally{Ce=e,jr=!1}}return null}var zr=[],Ur=0,Yr=null,Kr=0,Zr=[],qr=0,Qr=null,Xr=1,$r="";function Jr(t,e){zr[Ur++]=Kr,zr[Ur++]=Yr,Yr=t,Kr=e}function ti(t,e,n){Zr[qr++]=Xr,Zr[qr++]=$r,Zr[qr++]=Qr,Qr=t;var o=Xr;t=$r;var r=32-se(o)-1;o&=~(1<<r),n+=1;var i=32-se(e)+r;if(30<i){var s=r-r%5;i=(o&(1<<s)-1).toString(32),o>>=s,r-=s,Xr=1<<32-se(e)+r|n<<r|o,$r=i+t}else Xr=1<<i|n<<r|o,$r=t}function ei(t){null!==t.return&&(Jr(t,1),ti(t,1,0))}function ni(t){for(;t===Yr;)Yr=zr[--Ur],zr[Ur]=null,Kr=zr[--Ur],zr[Ur]=null;for(;t===Qr;)Qr=Zr[--qr],Zr[qr]=null,$r=Zr[--qr],Zr[qr]=null,Xr=Zr[--qr],Zr[qr]=null}var oi=null,ri=null,ii=!1,si=null;function ai(t,e){var n=Mu(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,null===(e=t.deletions)?(t.deletions=[n],t.flags|=16):e.push(n)}function li(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,oi=t,ri=cr(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,oi=t,ri=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(n=null!==Qr?{id:Xr,overflow:$r}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},(n=Mu(18,null,null,0)).stateNode=e,n.return=t,t.child=n,oi=t,ri=null,!0);default:return!1}}function ui(t){return 0!==(1&t.mode)&&0===(128&t.flags)}function ci(t){if(ii){var e=ri;if(e){var n=e;if(!li(t,e)){if(ui(t))throw Error(i(418));e=cr(n.nextSibling);var o=oi;e&&li(t,e)?ai(o,n):(t.flags=-4097&t.flags|2,ii=!1,oi=t)}}else{if(ui(t))throw Error(i(418));t.flags=-4097&t.flags|2,ii=!1,oi=t}}}function di(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;oi=t}function pi(t){if(t!==oi)return!1;if(!ii)return di(t),ii=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!or(t.type,t.memoizedProps)),e&&(e=ri)){if(ui(t))throw hi(),Error(i(418));for(;e;)ai(t,e),e=cr(e.nextSibling)}if(di(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(i(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){ri=cr(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}ri=null}}else ri=oi?cr(t.stateNode.nextSibling):null;return!0}function hi(){for(var t=ri;t;)t=cr(t.nextSibling)}function fi(){ri=oi=null,ii=!1}function gi(t){null===si?si=[t]:si.push(t)}var vi=w.ReactCurrentBatchConfig;function mi(t,e){if(t&&t.defaultProps){for(var n in e=I({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}var yi=Or(null),Ci=null,wi=null,bi=null;function _i(){bi=wi=Ci=null}function Si(t){var e=yi.current;xr(yi),t._currentValue=e}function Ei(t,e,n){for(;null!==t;){var o=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==o&&(o.childLanes|=e)):null!==o&&(o.childLanes&e)!==e&&(o.childLanes|=e),t===n)break;t=t.return}}function Oi(t,e){Ci=t,bi=wi=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(wa=!0),t.firstContext=null)}function xi(t){var e=t._currentValue;if(bi!==t)if(t={context:t,memoizedValue:e,next:null},null===wi){if(null===Ci)throw Error(i(308));wi=t,Ci.dependencies={lanes:0,firstContext:t}}else wi=wi.next=t;return e}var Ti=null;function Ri(t){null===Ti?Ti=[t]:Ti.push(t)}function Di(t,e,n,o){var r=e.interleaved;return null===r?(n.next=n,Ri(e)):(n.next=r.next,r.next=n),e.interleaved=n,Pi(t,o)}function Pi(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}var Li=!1;function Mi(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ai(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ki(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ni(t,e,n){var o=t.updateQueue;if(null===o)return null;if(o=o.shared,0!==(2&Dl)){var r=o.pending;return null===r?e.next=e:(e.next=r.next,r.next=e),o.pending=e,Pi(t,n)}return null===(r=o.interleaved)?(e.next=e,Ri(o)):(e.next=r.next,r.next=e),o.interleaved=e,Pi(t,n)}function Fi(t,e,n){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194240&n))){var o=e.lanes;n|=o&=t.pendingLanes,e.lanes=n,ye(t,n)}}function Ii(t,e){var n=t.updateQueue,o=t.alternate;if(null!==o&&n===(o=o.updateQueue)){var r=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?r=i=s:i=i.next=s,n=n.next}while(null!==n);null===i?r=i=e:i=i.next=e}else r=i=e;return n={baseState:o.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:o.shared,effects:o.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Gi(t,e,n,o){var r=t.updateQueue;Li=!1;var i=r.firstBaseUpdate,s=r.lastBaseUpdate,a=r.shared.pending;if(null!==a){r.shared.pending=null;var l=a,u=l.next;l.next=null,null===s?i=u:s.next=u,s=l;var c=t.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==s&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(null!==i){var d=r.baseState;for(s=0,c=u=l=null,a=i;;){var p=a.lane,h=a.eventTime;if((o&p)===p){null!==c&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var f=t,g=a;switch(p=e,h=n,g.tag){case 1:if("function"===typeof(f=g.payload)){d=f.call(h,d,p);break t}d=f;break t;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(p="function"===typeof(f=g.payload)?f.call(h,d,p):f)||void 0===p)break t;d=I({},d,p);break t;case 2:Li=!0}}null!==a.callback&&0!==a.lane&&(t.flags|=64,null===(p=r.effects)?r.effects=[a]:p.push(a))}else h={eventTime:h,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=h,l=d):c=c.next=h,s|=p;if(null===(a=a.next)){if(null===(a=r.shared.pending))break;a=(p=a).next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}if(null===c&&(l=d),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=c,null!==(e=r.shared.interleaved)){r=e;do{s|=r.lane,r=r.next}while(r!==e)}else null===i&&(r.shared.lanes=0);Il|=s,t.lanes=s,t.memoizedState=d}}function Hi(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var o=t[e],r=o.callback;if(null!==r){if(o.callback=null,o=n,"function"!==typeof r)throw Error(i(191,r));r.call(o)}}}var Vi=(new o.Component).refs;function ji(t,e,n,o){n=null===(n=n(o,e=t.memoizedState))||void 0===n?e:I({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var Bi={isMounted:function(t){return!!(t=t._reactInternals)&&Bt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var o=eu(),r=nu(t),i=ki(o,r);i.payload=e,void 0!==n&&null!==n&&(i.callback=n),null!==(e=Ni(t,i,r))&&(ou(e,t,r,o),Fi(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var o=eu(),r=nu(t),i=ki(o,r);i.tag=1,i.payload=e,void 0!==n&&null!==n&&(i.callback=n),null!==(e=Ni(t,i,r))&&(ou(e,t,r,o),Fi(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=eu(),o=nu(t),r=ki(n,o);r.tag=2,void 0!==e&&null!==e&&(r.callback=e),null!==(e=Ni(t,r,o))&&(ou(e,t,o,n),Fi(e,t,o))}};function Wi(t,e,n,o,r,i,s){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(o,i,s):!e.prototype||!e.prototype.isPureReactComponent||(!lo(n,o)||!lo(r,i))}function zi(t,e,n){var o=!1,r=Rr,i=e.contextType;return"object"===typeof i&&null!==i?i=xi(i):(r=Ar(e)?Lr:Dr.current,i=(o=null!==(o=e.contextTypes)&&void 0!==o)?Mr(t,r):Rr),e=new e(n,i),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=Bi,t.stateNode=e,e._reactInternals=t,o&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=i),e}function Ui(t,e,n,o){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,o),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,o),e.state!==t&&Bi.enqueueReplaceState(e,e.state,null)}function Yi(t,e,n,o){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs=Vi,Mi(t);var i=e.contextType;"object"===typeof i&&null!==i?r.context=xi(i):(i=Ar(e)?Lr:Dr.current,r.context=Mr(t,i)),r.state=t.memoizedState,"function"===typeof(i=e.getDerivedStateFromProps)&&(ji(t,e,i,n),r.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(e=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),e!==r.state&&Bi.enqueueReplaceState(r,r.state,null),Gi(t,n,r,o),r.state=t.memoizedState),"function"===typeof r.componentDidMount&&(t.flags|=4194308)}function Ki(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var o=n.stateNode}if(!o)throw Error(i(147,t));var r=o,s=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===s?e.ref:(e=function(t){var e=r.refs;e===Vi&&(e=r.refs={}),null===t?delete e[s]:e[s]=t},e._stringRef=s,e)}if("string"!==typeof t)throw Error(i(284));if(!n._owner)throw Error(i(290,t))}return t}function Zi(t,e){throw t=Object.prototype.toString.call(e),Error(i(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function qi(t){return(0,t._init)(t._payload)}function Qi(t){function e(e,n){if(t){var o=e.deletions;null===o?(e.deletions=[n],e.flags|=16):o.push(n)}}function n(n,o){if(!t)return null;for(;null!==o;)e(n,o),o=o.sibling;return null}function o(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(t,e){return(t=ku(t,e)).index=0,t.sibling=null,t}function s(e,n,o){return e.index=o,t?null!==(o=e.alternate)?(o=o.index)<n?(e.flags|=2,n):o:(e.flags|=2,n):(e.flags|=1048576,n)}function a(e){return t&&null===e.alternate&&(e.flags|=2),e}function l(t,e,n,o){return null===e||6!==e.tag?((e=Gu(n,t.mode,o)).return=t,e):((e=r(e,n)).return=t,e)}function u(t,e,n,o){var i=n.type;return i===S?d(t,e,n.props.children,o,n.key):null!==e&&(e.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===M&&qi(i)===e.type)?((o=r(e,n.props)).ref=Ki(t,e,n),o.return=t,o):((o=Nu(n.type,n.key,n.props,null,t.mode,o)).ref=Ki(t,e,n),o.return=t,o)}function c(t,e,n,o){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Hu(n,t.mode,o)).return=t,e):((e=r(e,n.children||[])).return=t,e)}function d(t,e,n,o,i){return null===e||7!==e.tag?((e=Fu(n,t.mode,o,i)).return=t,e):((e=r(e,n)).return=t,e)}function p(t,e,n){if("string"===typeof e&&""!==e||"number"===typeof e)return(e=Gu(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case b:return(n=Nu(e.type,e.key,e.props,null,t.mode,n)).ref=Ki(t,null,e),n.return=t,n;case _:return(e=Hu(e,t.mode,n)).return=t,e;case M:return p(t,(0,e._init)(e._payload),n)}if(et(e)||N(e))return(e=Fu(e,t.mode,n,null)).return=t,e;Zi(t,e)}return null}function h(t,e,n,o){var r=null!==e?e.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:l(t,e,""+n,o);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===r?u(t,e,n,o):null;case _:return n.key===r?c(t,e,n,o):null;case M:return h(t,e,(r=n._init)(n._payload),o)}if(et(n)||N(n))return null!==r?null:d(t,e,n,o,null);Zi(t,n)}return null}function f(t,e,n,o,r){if("string"===typeof o&&""!==o||"number"===typeof o)return l(e,t=t.get(n)||null,""+o,r);if("object"===typeof o&&null!==o){switch(o.$$typeof){case b:return u(e,t=t.get(null===o.key?n:o.key)||null,o,r);case _:return c(e,t=t.get(null===o.key?n:o.key)||null,o,r);case M:return f(t,e,n,(0,o._init)(o._payload),r)}if(et(o)||N(o))return d(e,t=t.get(n)||null,o,r,null);Zi(e,o)}return null}function g(r,i,a,l){for(var u=null,c=null,d=i,g=i=0,v=null;null!==d&&g<a.length;g++){d.index>g?(v=d,d=null):v=d.sibling;var m=h(r,d,a[g],l);if(null===m){null===d&&(d=v);break}t&&d&&null===m.alternate&&e(r,d),i=s(m,i,g),null===c?u=m:c.sibling=m,c=m,d=v}if(g===a.length)return n(r,d),ii&&Jr(r,g),u;if(null===d){for(;g<a.length;g++)null!==(d=p(r,a[g],l))&&(i=s(d,i,g),null===c?u=d:c.sibling=d,c=d);return ii&&Jr(r,g),u}for(d=o(r,d);g<a.length;g++)null!==(v=f(d,r,g,a[g],l))&&(t&&null!==v.alternate&&d.delete(null===v.key?g:v.key),i=s(v,i,g),null===c?u=v:c.sibling=v,c=v);return t&&d.forEach((function(t){return e(r,t)})),ii&&Jr(r,g),u}function v(r,a,l,u){var c=N(l);if("function"!==typeof c)throw Error(i(150));if(null==(l=c.call(l)))throw Error(i(151));for(var d=c=null,g=a,v=a=0,m=null,y=l.next();null!==g&&!y.done;v++,y=l.next()){g.index>v?(m=g,g=null):m=g.sibling;var C=h(r,g,y.value,u);if(null===C){null===g&&(g=m);break}t&&g&&null===C.alternate&&e(r,g),a=s(C,a,v),null===d?c=C:d.sibling=C,d=C,g=m}if(y.done)return n(r,g),ii&&Jr(r,v),c;if(null===g){for(;!y.done;v++,y=l.next())null!==(y=p(r,y.value,u))&&(a=s(y,a,v),null===d?c=y:d.sibling=y,d=y);return ii&&Jr(r,v),c}for(g=o(r,g);!y.done;v++,y=l.next())null!==(y=f(g,r,v,y.value,u))&&(t&&null!==y.alternate&&g.delete(null===y.key?v:y.key),a=s(y,a,v),null===d?c=y:d.sibling=y,d=y);return t&&g.forEach((function(t){return e(r,t)})),ii&&Jr(r,v),c}return function t(o,i,s,l){if("object"===typeof s&&null!==s&&s.type===S&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case b:t:{for(var u=s.key,c=i;null!==c;){if(c.key===u){if((u=s.type)===S){if(7===c.tag){n(o,c.sibling),(i=r(c,s.props.children)).return=o,o=i;break t}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===M&&qi(u)===c.type){n(o,c.sibling),(i=r(c,s.props)).ref=Ki(o,c,s),i.return=o,o=i;break t}n(o,c);break}e(o,c),c=c.sibling}s.type===S?((i=Fu(s.props.children,o.mode,l,s.key)).return=o,o=i):((l=Nu(s.type,s.key,s.props,null,o.mode,l)).ref=Ki(o,i,s),l.return=o,o=l)}return a(o);case _:t:{for(c=s.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===s.containerInfo&&i.stateNode.implementation===s.implementation){n(o,i.sibling),(i=r(i,s.children||[])).return=o,o=i;break t}n(o,i);break}e(o,i),i=i.sibling}(i=Hu(s,o.mode,l)).return=o,o=i}return a(o);case M:return t(o,i,(c=s._init)(s._payload),l)}if(et(s))return g(o,i,s,l);if(N(s))return v(o,i,s,l);Zi(o,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==i&&6===i.tag?(n(o,i.sibling),(i=r(i,s)).return=o,o=i):(n(o,i),(i=Gu(s,o.mode,l)).return=o,o=i),a(o)):n(o,i)}}var Xi=Qi(!0),$i=Qi(!1),Ji={},ts=Or(Ji),es=Or(Ji),ns=Or(Ji);function os(t){if(t===Ji)throw Error(i(174));return t}function rs(t,e){switch(Tr(ns,e),Tr(es,t),Tr(ts,Ji),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lt(null,"");break;default:e=lt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}xr(ts),Tr(ts,e)}function is(){xr(ts),xr(es),xr(ns)}function ss(t){os(ns.current);var e=os(ts.current),n=lt(e,t.type);e!==n&&(Tr(es,t),Tr(ts,n))}function as(t){es.current===t&&(xr(ts),xr(es))}var ls=Or(0);function us(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var cs=[];function ds(){for(var t=0;t<cs.length;t++)cs[t]._workInProgressVersionPrimary=null;cs.length=0}var ps=w.ReactCurrentDispatcher,hs=w.ReactCurrentBatchConfig,fs=0,gs=null,vs=null,ms=null,ys=!1,Cs=!1,ws=0,bs=0;function _s(){throw Error(i(321))}function Ss(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ao(t[n],e[n]))return!1;return!0}function Es(t,e,n,o,r,s){if(fs=s,gs=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ps.current=null===t||null===t.memoizedState?aa:la,t=n(o,r),Cs){s=0;do{if(Cs=!1,ws=0,25<=s)throw Error(i(301));s+=1,ms=vs=null,e.updateQueue=null,ps.current=ua,t=n(o,r)}while(Cs)}if(ps.current=sa,e=null!==vs&&null!==vs.next,fs=0,ms=vs=gs=null,ys=!1,e)throw Error(i(300));return t}function Os(){var t=0!==ws;return ws=0,t}function xs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ms?gs.memoizedState=ms=t:ms=ms.next=t,ms}function Ts(){if(null===vs){var t=gs.alternate;t=null!==t?t.memoizedState:null}else t=vs.next;var e=null===ms?gs.memoizedState:ms.next;if(null!==e)ms=e,vs=t;else{if(null===t)throw Error(i(310));t={memoizedState:(vs=t).memoizedState,baseState:vs.baseState,baseQueue:vs.baseQueue,queue:vs.queue,next:null},null===ms?gs.memoizedState=ms=t:ms=ms.next=t}return ms}function Rs(t,e){return"function"===typeof e?e(t):e}function Ds(t){var e=Ts(),n=e.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=t;var o=vs,r=o.baseQueue,s=n.pending;if(null!==s){if(null!==r){var a=r.next;r.next=s.next,s.next=a}o.baseQueue=r=s,n.pending=null}if(null!==r){s=r.next,o=o.baseState;var l=a=null,u=null,c=s;do{var d=c.lane;if((fs&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),o=c.hasEagerState?c.eagerState:t(o,c.action);else{var p={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=p,a=o):u=u.next=p,gs.lanes|=d,Il|=d}c=c.next}while(null!==c&&c!==s);null===u?a=o:u.next=l,ao(o,e.memoizedState)||(wa=!0),e.memoizedState=o,e.baseState=a,e.baseQueue=u,n.lastRenderedState=o}if(null!==(t=n.interleaved)){r=t;do{s=r.lane,gs.lanes|=s,Il|=s,r=r.next}while(r!==t)}else null===r&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ps(t){var e=Ts(),n=e.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=t;var o=n.dispatch,r=n.pending,s=e.memoizedState;if(null!==r){n.pending=null;var a=r=r.next;do{s=t(s,a.action),a=a.next}while(a!==r);ao(s,e.memoizedState)||(wa=!0),e.memoizedState=s,null===e.baseQueue&&(e.baseState=s),n.lastRenderedState=s}return[s,o]}function Ls(){}function Ms(t,e){var n=gs,o=Ts(),r=e(),s=!ao(o.memoizedState,r);if(s&&(o.memoizedState=r,wa=!0),o=o.queue,zs(Ns.bind(null,n,o,t),[t]),o.getSnapshot!==e||s||null!==ms&&1&ms.memoizedState.tag){if(n.flags|=2048,Hs(9,ks.bind(null,n,o,r,e),void 0,null),null===Pl)throw Error(i(349));0!==(30&fs)||As(n,e,r)}return r}function As(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},null===(e=gs.updateQueue)?(e={lastEffect:null,stores:null},gs.updateQueue=e,e.stores=[t]):null===(n=e.stores)?e.stores=[t]:n.push(t)}function ks(t,e,n,o){e.value=n,e.getSnapshot=o,Fs(e)&&Is(t)}function Ns(t,e,n){return n((function(){Fs(e)&&Is(t)}))}function Fs(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ao(t,n)}catch(o){return!0}}function Is(t){var e=Pi(t,1);null!==e&&ou(e,t,1,-1)}function Gs(t){var e=xs();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rs,lastRenderedState:t},e.queue=t,t=t.dispatch=na.bind(null,gs,t),[e.memoizedState,t]}function Hs(t,e,n,o){return t={tag:t,create:e,destroy:n,deps:o,next:null},null===(e=gs.updateQueue)?(e={lastEffect:null,stores:null},gs.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(o=n.next,n.next=t,t.next=o,e.lastEffect=t),t}function Vs(){return Ts().memoizedState}function js(t,e,n,o){var r=xs();gs.flags|=t,r.memoizedState=Hs(1|e,n,void 0,void 0===o?null:o)}function Bs(t,e,n,o){var r=Ts();o=void 0===o?null:o;var i=void 0;if(null!==vs){var s=vs.memoizedState;if(i=s.destroy,null!==o&&Ss(o,s.deps))return void(r.memoizedState=Hs(e,n,i,o))}gs.flags|=t,r.memoizedState=Hs(1|e,n,i,o)}function Ws(t,e){return js(8390656,8,t,e)}function zs(t,e){return Bs(2048,8,t,e)}function Us(t,e){return Bs(4,2,t,e)}function Ys(t,e){return Bs(4,4,t,e)}function Ks(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Zs(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Bs(4,4,Ks.bind(null,e,t),n)}function qs(){}function Qs(t,e){var n=Ts();e=void 0===e?null:e;var o=n.memoizedState;return null!==o&&null!==e&&Ss(e,o[1])?o[0]:(n.memoizedState=[t,e],t)}function Xs(t,e){var n=Ts();e=void 0===e?null:e;var o=n.memoizedState;return null!==o&&null!==e&&Ss(e,o[1])?o[0]:(t=t(),n.memoizedState=[t,e],t)}function $s(t,e,n){return 0===(21&fs)?(t.baseState&&(t.baseState=!1,wa=!0),t.memoizedState=n):(ao(n,e)||(n=ge(),gs.lanes|=n,Il|=n,t.baseState=!0),e)}function Js(t,e){var n=Ce;Ce=0!==n&&4>n?n:4,t(!0);var o=hs.transition;hs.transition={};try{t(!1),e()}finally{Ce=n,hs.transition=o}}function ta(){return Ts().memoizedState}function ea(t,e,n){var o=nu(t);if(n={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null},oa(t))ra(e,n);else if(null!==(n=Di(t,e,n,o))){ou(n,t,o,eu()),ia(n,e,o)}}function na(t,e,n){var o=nu(t),r={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null};if(oa(t))ra(e,r);else{var i=t.alternate;if(0===t.lanes&&(null===i||0===i.lanes)&&null!==(i=e.lastRenderedReducer))try{var s=e.lastRenderedState,a=i(s,n);if(r.hasEagerState=!0,r.eagerState=a,ao(a,s)){var l=e.interleaved;return null===l?(r.next=r,Ri(e)):(r.next=l.next,l.next=r),void(e.interleaved=r)}}catch(u){}null!==(n=Di(t,e,r,o))&&(ou(n,t,o,r=eu()),ia(n,e,o))}}function oa(t){var e=t.alternate;return t===gs||null!==e&&e===gs}function ra(t,e){Cs=ys=!0;var n=t.pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ia(t,e,n){if(0!==(4194240&n)){var o=e.lanes;n|=o&=t.pendingLanes,e.lanes=n,ye(t,n)}}var sa={readContext:xi,useCallback:_s,useContext:_s,useEffect:_s,useImperativeHandle:_s,useInsertionEffect:_s,useLayoutEffect:_s,useMemo:_s,useReducer:_s,useRef:_s,useState:_s,useDebugValue:_s,useDeferredValue:_s,useTransition:_s,useMutableSource:_s,useSyncExternalStore:_s,useId:_s,unstable_isNewReconciler:!1},aa={readContext:xi,useCallback:function(t,e){return xs().memoizedState=[t,void 0===e?null:e],t},useContext:xi,useEffect:Ws,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,js(4194308,4,Ks.bind(null,e,t),n)},useLayoutEffect:function(t,e){return js(4194308,4,t,e)},useInsertionEffect:function(t,e){return js(4,2,t,e)},useMemo:function(t,e){var n=xs();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var o=xs();return e=void 0!==n?n(e):e,o.memoizedState=o.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},o.queue=t,t=t.dispatch=ea.bind(null,gs,t),[o.memoizedState,t]},useRef:function(t){return t={current:t},xs().memoizedState=t},useState:Gs,useDebugValue:qs,useDeferredValue:function(t){return xs().memoizedState=t},useTransition:function(){var t=Gs(!1),e=t[0];return t=Js.bind(null,t[1]),xs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var o=gs,r=xs();if(ii){if(void 0===n)throw Error(i(407));n=n()}else{if(n=e(),null===Pl)throw Error(i(349));0!==(30&fs)||As(o,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,Ws(Ns.bind(null,o,s,t),[t]),o.flags|=2048,Hs(9,ks.bind(null,o,s,n,e),void 0,null),n},useId:function(){var t=xs(),e=Pl.identifierPrefix;if(ii){var n=$r;e=":"+e+"R"+(n=(Xr&~(1<<32-se(Xr)-1)).toString(32)+n),0<(n=ws++)&&(e+="H"+n.toString(32)),e+=":"}else e=":"+e+"r"+(n=bs++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},la={readContext:xi,useCallback:Qs,useContext:xi,useEffect:zs,useImperativeHandle:Zs,useInsertionEffect:Us,useLayoutEffect:Ys,useMemo:Xs,useReducer:Ds,useRef:Vs,useState:function(){return Ds(Rs)},useDebugValue:qs,useDeferredValue:function(t){return $s(Ts(),vs.memoizedState,t)},useTransition:function(){return[Ds(Rs)[0],Ts().memoizedState]},useMutableSource:Ls,useSyncExternalStore:Ms,useId:ta,unstable_isNewReconciler:!1},ua={readContext:xi,useCallback:Qs,useContext:xi,useEffect:zs,useImperativeHandle:Zs,useInsertionEffect:Us,useLayoutEffect:Ys,useMemo:Xs,useReducer:Ps,useRef:Vs,useState:function(){return Ps(Rs)},useDebugValue:qs,useDeferredValue:function(t){var e=Ts();return null===vs?e.memoizedState=t:$s(e,vs.memoizedState,t)},useTransition:function(){return[Ps(Rs)[0],Ts().memoizedState]},useMutableSource:Ls,useSyncExternalStore:Ms,useId:ta,unstable_isNewReconciler:!1};function ca(t,e){try{var n="",o=e;do{n+=j(o),o=o.return}while(o);var r=n}catch(i){r="\nError generating stack: "+i.message+"\n"+i.stack}return{value:t,source:e,stack:r,digest:null}}function da(t,e,n){return{value:t,source:null,stack:null!=n?n:null,digest:null!=e?e:null}}function pa(t,e){try{console.error(e.value)}catch(n){setTimeout((function(){throw n}))}}var ha="function"===typeof WeakMap?WeakMap:Map;function fa(t,e,n){(n=ki(-1,n)).tag=3,n.payload={element:null};var o=e.value;return n.callback=function(){Ul||(Ul=!0,Yl=o),pa(0,e)},n}function ga(t,e,n){(n=ki(-1,n)).tag=3;var o=t.type.getDerivedStateFromError;if("function"===typeof o){var r=e.value;n.payload=function(){return o(r)},n.callback=function(){pa(0,e)}}var i=t.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){pa(0,e),"function"!==typeof o&&(null===Kl?Kl=new Set([this]):Kl.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}function va(t,e,n){var o=t.pingCache;if(null===o){o=t.pingCache=new ha;var r=new Set;o.set(e,r)}else void 0===(r=o.get(e))&&(r=new Set,o.set(e,r));r.has(n)||(r.add(n),t=xu.bind(null,t,e,n),e.then(t,t))}function ma(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function ya(t,e,n,o,r){return 0===(1&t.mode)?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((e=ki(-1,1)).tag=2,Ni(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=r,t)}var Ca=w.ReactCurrentOwner,wa=!1;function ba(t,e,n,o){e.child=null===t?$i(e,null,n,o):Xi(e,t.child,n,o)}function _a(t,e,n,o,r){n=n.render;var i=e.ref;return Oi(e,r),o=Es(t,e,n,o,i,r),n=Os(),null===t||wa?(ii&&n&&ei(e),e.flags|=1,ba(t,e,o,r),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Ua(t,e,r))}function Sa(t,e,n,o,r){if(null===t){var i=n.type;return"function"!==typeof i||Au(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Nu(n.type,null,o,e,e.mode,r)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=i,Ea(t,e,i,o,r))}if(i=t.child,0===(t.lanes&r)){var s=i.memoizedProps;if((n=null!==(n=n.compare)?n:lo)(s,o)&&t.ref===e.ref)return Ua(t,e,r)}return e.flags|=1,(t=ku(i,o)).ref=e.ref,t.return=e,e.child=t}function Ea(t,e,n,o,r){if(null!==t){var i=t.memoizedProps;if(lo(i,o)&&t.ref===e.ref){if(wa=!1,e.pendingProps=o=i,0===(t.lanes&r))return e.lanes=t.lanes,Ua(t,e,r);0!==(131072&t.flags)&&(wa=!0)}}return Ta(t,e,n,o,r)}function Oa(t,e,n){var o=e.pendingProps,r=o.children,i=null!==t?t.memoizedState:null;if("hidden"===o.mode)if(0===(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tr(kl,Al),Al|=n;else{if(0===(1073741824&n))return t=null!==i?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Tr(kl,Al),Al|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=null!==i?i.baseLanes:n,Tr(kl,Al),Al|=o}else null!==i?(o=i.baseLanes|n,e.memoizedState=null):o=n,Tr(kl,Al),Al|=o;return ba(t,e,r,n),e.child}function xa(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ta(t,e,n,o,r){var i=Ar(n)?Lr:Dr.current;return i=Mr(e,i),Oi(e,r),n=Es(t,e,n,o,i,r),o=Os(),null===t||wa?(ii&&o&&ei(e),e.flags|=1,ba(t,e,n,r),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Ua(t,e,r))}function Ra(t,e,n,o,r){if(Ar(n)){var i=!0;Ir(e)}else i=!1;if(Oi(e,r),null===e.stateNode)za(t,e),zi(e,n,o),Yi(e,n,o,r),o=!0;else if(null===t){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;"object"===typeof u&&null!==u?u=xi(u):u=Mr(e,u=Ar(n)?Lr:Dr.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==o||l!==u)&&Ui(e,s,o,u),Li=!1;var p=e.memoizedState;s.state=p,Gi(e,o,s,r),l=e.memoizedState,a!==o||p!==l||Pr.current||Li?("function"===typeof c&&(ji(e,n,c,o),l=e.memoizedState),(a=Li||Wi(e,n,a,o,p,l,u))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(e.flags|=4194308)):("function"===typeof s.componentDidMount&&(e.flags|=4194308),e.memoizedProps=o,e.memoizedState=l),s.props=o,s.state=l,s.context=u,o=a):("function"===typeof s.componentDidMount&&(e.flags|=4194308),o=!1)}else{s=e.stateNode,Ai(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:mi(e.type,a),s.props=u,d=e.pendingProps,p=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=xi(l):l=Mr(e,l=Ar(n)?Lr:Dr.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||p!==l)&&Ui(e,s,o,l),Li=!1,p=e.memoizedState,s.state=p,Gi(e,o,s,r);var f=e.memoizedState;a!==d||p!==f||Pr.current||Li?("function"===typeof h&&(ji(e,n,h,o),f=e.memoizedState),(u=Li||Wi(e,n,u,o,p,f,l)||!1)?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(o,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(o,f,l)),"function"===typeof s.componentDidUpdate&&(e.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=o,e.memoizedState=f),s.props=o,s.state=f,s.context=l,o=u):("function"!==typeof s.componentDidUpdate||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),o=!1)}return Da(t,e,n,o,i,r)}function Da(t,e,n,o,r,i){xa(t,e);var s=0!==(128&e.flags);if(!o&&!s)return r&&Gr(e,n,!1),Ua(t,e,i);o=e.stateNode,Ca.current=e;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:o.render();return e.flags|=1,null!==t&&s?(e.child=Xi(e,t.child,null,i),e.child=Xi(e,null,a,i)):ba(t,e,a,i),e.memoizedState=o.state,r&&Gr(e,n,!0),e.child}function Pa(t){var e=t.stateNode;e.pendingContext?Nr(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Nr(0,e.context,!1),rs(t,e.containerInfo)}function La(t,e,n,o,r){return fi(),gi(r),e.flags|=256,ba(t,e,n,o),e.child}var Ma,Aa,ka,Na,Fa={dehydrated:null,treeContext:null,retryLane:0};function Ia(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ga(t,e,n){var o,r=e.pendingProps,s=ls.current,a=!1,l=0!==(128&e.flags);if((o=l)||(o=(null===t||null!==t.memoizedState)&&0!==(2&s)),o?(a=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(s|=1),Tr(ls,1&s),null===t)return ci(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(0===(1&e.mode)?e.lanes=1:"$!"===t.data?e.lanes=8:e.lanes=1073741824,null):(l=r.children,t=r.fallback,a?(r=e.mode,a=e.child,l={mode:"hidden",children:l},0===(1&r)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Iu(l,r,0,null),t=Fu(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Ia(n),e.memoizedState=Fa,t):Ha(e,l));if(null!==(s=t.memoizedState)&&null!==(o=s.dehydrated))return function(t,e,n,o,r,s,a){if(n)return 256&e.flags?(e.flags&=-257,Va(t,e,a,o=da(Error(i(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(s=o.fallback,r=e.mode,o=Iu({mode:"visible",children:o.children},r,0,null),(s=Fu(s,r,a,null)).flags|=2,o.return=e,s.return=e,o.sibling=s,e.child=o,0!==(1&e.mode)&&Xi(e,t.child,null,a),e.child.memoizedState=Ia(a),e.memoizedState=Fa,s);if(0===(1&e.mode))return Va(t,e,a,null);if("$!"===r.data){if(o=r.nextSibling&&r.nextSibling.dataset)var l=o.dgst;return o=l,Va(t,e,a,o=da(s=Error(i(419)),o,void 0))}if(l=0!==(a&t.childLanes),wa||l){if(null!==(o=Pl)){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(o.suspendedLanes|a))?0:r)&&r!==s.retryLane&&(s.retryLane=r,Pi(t,r),ou(o,t,r,-1))}return vu(),Va(t,e,a,o=da(Error(i(421))))}return"$?"===r.data?(e.flags|=128,e.child=t.child,e=Ru.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,ri=cr(r.nextSibling),oi=e,ii=!0,si=null,null!==t&&(Zr[qr++]=Xr,Zr[qr++]=$r,Zr[qr++]=Qr,Xr=t.id,$r=t.overflow,Qr=e),e=Ha(e,o.children),e.flags|=4096,e)}(t,e,l,r,o,s,n);if(a){a=r.fallback,l=e.mode,o=(s=t.child).sibling;var u={mode:"hidden",children:r.children};return 0===(1&l)&&e.child!==s?((r=e.child).childLanes=0,r.pendingProps=u,e.deletions=null):(r=ku(s,u)).subtreeFlags=14680064&s.subtreeFlags,null!==o?a=ku(o,a):(a=Fu(a,l,n,null)).flags|=2,a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,l=null===(l=t.child.memoizedState)?Ia(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=t.childLanes&~n,e.memoizedState=Fa,r}return t=(a=t.child).sibling,r=ku(a,{mode:"visible",children:r.children}),0===(1&e.mode)&&(r.lanes=n),r.return=e,r.sibling=null,null!==t&&(null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ha(t,e){return(e=Iu({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function Va(t,e,n,o){return null!==o&&gi(o),Xi(e,t.child,null,n),(t=Ha(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function ja(t,e,n){t.lanes|=e;var o=t.alternate;null!==o&&(o.lanes|=e),Ei(t.return,e,n)}function Ba(t,e,n,o,r){var i=t.memoizedState;null===i?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:r}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=o,i.tail=n,i.tailMode=r)}function Wa(t,e,n){var o=e.pendingProps,r=o.revealOrder,i=o.tail;if(ba(t,e,o.children,n),0!==(2&(o=ls.current)))o=1&o|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&ja(t,n,e);else if(19===t.tag)ja(t,n,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}if(Tr(ls,o),0===(1&e.mode))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;null!==n;)null!==(t=n.alternate)&&null===us(t)&&(r=n),n=n.sibling;null===(n=r)?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Ba(e,!1,r,n,i);break;case"backwards":for(n=null,r=e.child,e.child=null;null!==r;){if(null!==(t=r.alternate)&&null===us(t)){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Ba(e,!0,n,null,i);break;case"together":Ba(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function za(t,e){0===(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ua(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),Il|=e.lanes,0===(n&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(i(153));if(null!==e.child){for(n=ku(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=ku(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function Ya(t,e){if(!ii)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var o=null;null!==n;)null!==n.alternate&&(o=n),n=n.sibling;null===o?e||null===t.tail?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Ka(t){var e=null!==t.alternate&&t.alternate.child===t.child,n=0,o=0;if(e)for(var r=t.child;null!==r;)n|=r.lanes|r.childLanes,o|=14680064&r.subtreeFlags,o|=14680064&r.flags,r.return=t,r=r.sibling;else for(r=t.child;null!==r;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags,o|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=o,t.childLanes=n,e}function Za(t,e,n){var o=e.pendingProps;switch(ni(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ka(e),null;case 1:case 17:return Ar(e.type)&&kr(),Ka(e),null;case 3:return o=e.stateNode,is(),xr(Pr),xr(Dr),ds(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),null!==t&&null!==t.child||(pi(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,null!==si&&(au(si),si=null))),Aa(t,e),Ka(e),null;case 5:as(e);var r=os(ns.current);if(n=e.type,null!==t&&null!=e.stateNode)ka(t,e,n,o,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!o){if(null===e.stateNode)throw Error(i(166));return Ka(e),null}if(t=os(ts.current),pi(e)){o=e.stateNode,n=e.type;var s=e.memoizedProps;switch(o[hr]=e,o[fr]=s,t=0!==(1&e.mode),n){case"dialog":Vo("cancel",o),Vo("close",o);break;case"iframe":case"object":case"embed":Vo("load",o);break;case"video":case"audio":for(r=0;r<Fo.length;r++)Vo(Fo[r],o);break;case"source":Vo("error",o);break;case"img":case"image":case"link":Vo("error",o),Vo("load",o);break;case"details":Vo("toggle",o);break;case"input":Q(o,s),Vo("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!s.multiple},Vo("invalid",o);break;case"textarea":rt(o,s),Vo("invalid",o)}for(var l in yt(n,s),r=null,s)if(s.hasOwnProperty(l)){var u=s[l];"children"===l?"string"===typeof u?o.textContent!==u&&(!0!==s.suppressHydrationWarning&&Jo(o.textContent,u,t),r=["children",u]):"number"===typeof u&&o.textContent!==""+u&&(!0!==s.suppressHydrationWarning&&Jo(o.textContent,u,t),r=["children",""+u]):a.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Vo("scroll",o)}switch(n){case"input":Y(o),J(o,s,!0);break;case"textarea":Y(o),st(o);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(o.onclick=tr)}o=r,e.updateQueue=o,null!==o&&(e.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=at(n)),"http://www.w3.org/1999/xhtml"===t?"script"===n?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof o.is?t=l.createElement(n,{is:o.is}):(t=l.createElement(n),"select"===n&&(l=t,o.multiple?l.multiple=!0:o.size&&(l.size=o.size))):t=l.createElementNS(t,n),t[hr]=e,t[fr]=o,Ma(t,e,!1,!1),e.stateNode=t;t:{switch(l=Ct(n,o),n){case"dialog":Vo("cancel",t),Vo("close",t),r=o;break;case"iframe":case"object":case"embed":Vo("load",t),r=o;break;case"video":case"audio":for(r=0;r<Fo.length;r++)Vo(Fo[r],t);r=o;break;case"source":Vo("error",t),r=o;break;case"img":case"image":case"link":Vo("error",t),Vo("load",t),r=o;break;case"details":Vo("toggle",t),r=o;break;case"input":Q(t,o),r=q(t,o),Vo("invalid",t);break;case"option":default:r=o;break;case"select":t._wrapperState={wasMultiple:!!o.multiple},r=I({},o,{value:void 0}),Vo("invalid",t);break;case"textarea":rt(t,o),r=ot(t,o),Vo("invalid",t)}for(s in yt(n,r),u=r)if(u.hasOwnProperty(s)){var c=u[s];"style"===s?vt(t,c):"dangerouslySetInnerHTML"===s?null!=(c=c?c.__html:void 0)&&dt(t,c):"children"===s?"string"===typeof c?("textarea"!==n||""!==c)&&pt(t,c):"number"===typeof c&&pt(t,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=c&&"onScroll"===s&&Vo("scroll",t):null!=c&&C(t,s,c,l))}switch(n){case"input":Y(t),J(t,o,!1);break;case"textarea":Y(t),st(t);break;case"option":null!=o.value&&t.setAttribute("value",""+z(o.value));break;case"select":t.multiple=!!o.multiple,null!=(s=o.value)?nt(t,!!o.multiple,s,!1):null!=o.defaultValue&&nt(t,!!o.multiple,o.defaultValue,!0);break;default:"function"===typeof r.onClick&&(t.onclick=tr)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}}o&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return Ka(e),null;case 6:if(t&&null!=e.stateNode)Na(t,e,t.memoizedProps,o);else{if("string"!==typeof o&&null===e.stateNode)throw Error(i(166));if(n=os(ns.current),os(ts.current),pi(e)){if(o=e.stateNode,n=e.memoizedProps,o[hr]=e,(s=o.nodeValue!==n)&&null!==(t=oi))switch(t.tag){case 3:Jo(o.nodeValue,n,0!==(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&Jo(o.nodeValue,n,0!==(1&t.mode))}s&&(e.flags|=4)}else(o=(9===n.nodeType?n:n.ownerDocument).createTextNode(o))[hr]=e,e.stateNode=o}return Ka(e),null;case 13:if(xr(ls),o=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(ii&&null!==ri&&0!==(1&e.mode)&&0===(128&e.flags))hi(),fi(),e.flags|=98560,s=!1;else if(s=pi(e),null!==o&&null!==o.dehydrated){if(null===t){if(!s)throw Error(i(318));if(!(s=null!==(s=e.memoizedState)?s.dehydrated:null))throw Error(i(317));s[hr]=e}else fi(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;Ka(e),s=!1}else null!==si&&(au(si),si=null),s=!0;if(!s)return 65536&e.flags?e:null}return 0!==(128&e.flags)?(e.lanes=n,e):((o=null!==o)!==(null!==t&&null!==t.memoizedState)&&o&&(e.child.flags|=8192,0!==(1&e.mode)&&(null===t||0!==(1&ls.current)?0===Nl&&(Nl=3):vu())),null!==e.updateQueue&&(e.flags|=4),Ka(e),null);case 4:return is(),Aa(t,e),null===t&&Wo(e.stateNode.containerInfo),Ka(e),null;case 10:return Si(e.type._context),Ka(e),null;case 19:if(xr(ls),null===(s=e.memoizedState))return Ka(e),null;if(o=0!==(128&e.flags),null===(l=s.rendering))if(o)Ya(s,!1);else{if(0!==Nl||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(l=us(t))){for(e.flags|=128,Ya(s,!1),null!==(o=l.updateQueue)&&(e.updateQueue=o,e.flags|=4),e.subtreeFlags=0,o=n,n=e.child;null!==n;)t=o,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,t=l.dependencies,s.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Tr(ls,1&ls.current|2),e.child}t=t.sibling}null!==s.tail&&Xt()>Wl&&(e.flags|=128,o=!0,Ya(s,!1),e.lanes=4194304)}else{if(!o)if(null!==(t=us(l))){if(e.flags|=128,o=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),Ya(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ii)return Ka(e),null}else 2*Xt()-s.renderingStartTime>Wl&&1073741824!==n&&(e.flags|=128,o=!0,Ya(s,!1),e.lanes=4194304);s.isBackwards?(l.sibling=e.child,e.child=l):(null!==(n=s.last)?n.sibling=l:e.child=l,s.last=l)}return null!==s.tail?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Xt(),e.sibling=null,n=ls.current,Tr(ls,o?1&n|2:1&n),e):(Ka(e),null);case 22:case 23:return pu(),o=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==o&&(e.flags|=8192),o&&0!==(1&e.mode)?0!==(1073741824&Al)&&(Ka(e),6&e.subtreeFlags&&(e.flags|=8192)):Ka(e),null;case 24:case 25:return null}throw Error(i(156,e.tag))}function qa(t,e){switch(ni(e),e.tag){case 1:return Ar(e.type)&&kr(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return is(),xr(Pr),xr(Dr),ds(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 5:return as(e),null;case 13:if(xr(ls),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(i(340));fi()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return xr(ls),null;case 4:return is(),null;case 10:return Si(e.type._context),null;case 22:case 23:return pu(),null;default:return null}}Ma=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Aa=function(){},ka=function(t,e,n,o){var r=t.memoizedProps;if(r!==o){t=e.stateNode,os(ts.current);var i,s=null;switch(n){case"input":r=q(t,r),o=q(t,o),s=[];break;case"select":r=I({},r,{value:void 0}),o=I({},o,{value:void 0}),s=[];break;case"textarea":r=ot(t,r),o=ot(t,o),s=[];break;default:"function"!==typeof r.onClick&&"function"===typeof o.onClick&&(t.onclick=tr)}for(c in yt(n,o),n=null,r)if(!o.hasOwnProperty(c)&&r.hasOwnProperty(c)&&null!=r[c])if("style"===c){var l=r[c];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(a.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in o){var u=o[c];if(l=null!=r?r[c]:void 0,o.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(i in l)!l.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in u)u.hasOwnProperty(i)&&l[i]!==u[i]&&(n||(n={}),n[i]=u[i])}else n||(s||(s=[]),s.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(s=s||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(s=s||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(a.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Vo("scroll",t),s||l===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}},Na=function(t,e,n,o){n!==o&&(e.flags|=4)};var Qa=!1,Xa=!1,$a="function"===typeof WeakSet?WeakSet:Set,Ja=null;function tl(t,e){var n=t.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(o){Ou(t,e,o)}else n.current=null}function el(t,e,n){try{n()}catch(o){Ou(t,e,o)}}var nl=!1;function ol(t,e,n){var o=e.updateQueue;if(null!==(o=null!==o?o.lastEffect:null)){var r=o=o.next;do{if((r.tag&t)===t){var i=r.destroy;r.destroy=void 0,void 0!==i&&el(e,n,i)}r=r.next}while(r!==o)}}function rl(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var o=n.create;n.destroy=o()}n=n.next}while(n!==e)}}function il(t){var e=t.ref;if(null!==e){var n=t.stateNode;t.tag,t=n,"function"===typeof e?e(t):e.current=t}}function sl(t){var e=t.alternate;null!==e&&(t.alternate=null,sl(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&(delete e[hr],delete e[fr],delete e[vr],delete e[mr],delete e[yr])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function al(t){return 5===t.tag||3===t.tag||4===t.tag}function ll(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||al(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function ul(t,e,n){var o=t.tag;if(5===o||6===o)t=t.stateNode,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=tr));else if(4!==o&&null!==(t=t.child))for(ul(t,e,n),t=t.sibling;null!==t;)ul(t,e,n),t=t.sibling}function cl(t,e,n){var o=t.tag;if(5===o||6===o)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==o&&null!==(t=t.child))for(cl(t,e,n),t=t.sibling;null!==t;)cl(t,e,n),t=t.sibling}var dl=null,pl=!1;function hl(t,e,n){for(n=n.child;null!==n;)fl(t,e,n),n=n.sibling}function fl(t,e,n){if(ie&&"function"===typeof ie.onCommitFiberUnmount)try{ie.onCommitFiberUnmount(re,n)}catch(a){}switch(n.tag){case 5:Xa||tl(n,e);case 6:var o=dl,r=pl;dl=null,hl(t,e,n),pl=r,null!==(dl=o)&&(pl?(t=dl,n=n.stateNode,8===t.nodeType?t.parentNode.removeChild(n):t.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(pl?(t=dl,n=n.stateNode,8===t.nodeType?ur(t.parentNode,n):1===t.nodeType&&ur(t,n),Be(t)):ur(dl,n.stateNode));break;case 4:o=dl,r=pl,dl=n.stateNode.containerInfo,pl=!0,hl(t,e,n),dl=o,pl=r;break;case 0:case 11:case 14:case 15:if(!Xa&&(null!==(o=n.updateQueue)&&null!==(o=o.lastEffect))){r=o=o.next;do{var i=r,s=i.destroy;i=i.tag,void 0!==s&&(0!==(2&i)||0!==(4&i))&&el(n,e,s),r=r.next}while(r!==o)}hl(t,e,n);break;case 1:if(!Xa&&(tl(n,e),"function"===typeof(o=n.stateNode).componentWillUnmount))try{o.props=n.memoizedProps,o.state=n.memoizedState,o.componentWillUnmount()}catch(a){Ou(n,e,a)}hl(t,e,n);break;case 21:hl(t,e,n);break;case 22:1&n.mode?(Xa=(o=Xa)||null!==n.memoizedState,hl(t,e,n),Xa=o):hl(t,e,n);break;default:hl(t,e,n)}}function gl(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new $a),e.forEach((function(e){var o=Du.bind(null,t,e);n.has(e)||(n.add(e),e.then(o,o))}))}}function vl(t,e){var n=e.deletions;if(null!==n)for(var o=0;o<n.length;o++){var r=n[o];try{var s=t,a=e,l=a;t:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,pl=!1;break t;case 3:case 4:dl=l.stateNode.containerInfo,pl=!0;break t}l=l.return}if(null===dl)throw Error(i(160));fl(s,a,r),dl=null,pl=!1;var u=r.alternate;null!==u&&(u.return=null),r.return=null}catch(c){Ou(r,e,c)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)ml(e,t),e=e.sibling}function ml(t,e){var n=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(vl(e,t),yl(t),4&o){try{ol(3,t,t.return),rl(3,t)}catch(v){Ou(t,t.return,v)}try{ol(5,t,t.return)}catch(v){Ou(t,t.return,v)}}break;case 1:vl(e,t),yl(t),512&o&&null!==n&&tl(n,n.return);break;case 5:if(vl(e,t),yl(t),512&o&&null!==n&&tl(n,n.return),32&t.flags){var r=t.stateNode;try{pt(r,"")}catch(v){Ou(t,t.return,v)}}if(4&o&&null!=(r=t.stateNode)){var s=t.memoizedProps,a=null!==n?n.memoizedProps:s,l=t.type,u=t.updateQueue;if(t.updateQueue=null,null!==u)try{"input"===l&&"radio"===s.type&&null!=s.name&&X(r,s),Ct(l,a);var c=Ct(l,s);for(a=0;a<u.length;a+=2){var d=u[a],p=u[a+1];"style"===d?vt(r,p):"dangerouslySetInnerHTML"===d?dt(r,p):"children"===d?pt(r,p):C(r,d,p,c)}switch(l){case"input":$(r,s);break;case"textarea":it(r,s);break;case"select":var h=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var f=s.value;null!=f?nt(r,!!s.multiple,f,!1):h!==!!s.multiple&&(null!=s.defaultValue?nt(r,!!s.multiple,s.defaultValue,!0):nt(r,!!s.multiple,s.multiple?[]:"",!1))}r[fr]=s}catch(v){Ou(t,t.return,v)}}break;case 6:if(vl(e,t),yl(t),4&o){if(null===t.stateNode)throw Error(i(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(v){Ou(t,t.return,v)}}break;case 3:if(vl(e,t),yl(t),4&o&&null!==n&&n.memoizedState.isDehydrated)try{Be(e.containerInfo)}catch(v){Ou(t,t.return,v)}break;case 4:default:vl(e,t),yl(t);break;case 13:vl(e,t),yl(t),8192&(r=t.child).flags&&(s=null!==r.memoizedState,r.stateNode.isHidden=s,!s||null!==r.alternate&&null!==r.alternate.memoizedState||(Bl=Xt())),4&o&&gl(t);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&t.mode?(Xa=(c=Xa)||d,vl(e,t),Xa=c):vl(e,t),yl(t),8192&o){if(c=null!==t.memoizedState,(t.stateNode.isHidden=c)&&!d&&0!==(1&t.mode))for(Ja=t,d=t.child;null!==d;){for(p=Ja=d;null!==Ja;){switch(f=(h=Ja).child,h.tag){case 0:case 11:case 14:case 15:ol(4,h,h.return);break;case 1:tl(h,h.return);var g=h.stateNode;if("function"===typeof g.componentWillUnmount){o=h,n=h.return;try{e=o,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){Ou(o,n,v)}}break;case 5:tl(h,h.return);break;case 22:if(null!==h.memoizedState){_l(p);continue}}null!==f?(f.return=h,Ja=f):_l(p)}d=d.sibling}t:for(d=null,p=t;;){if(5===p.tag){if(null===d){d=p;try{r=p.stateNode,c?"function"===typeof(s=r.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=p.stateNode,a=void 0!==(u=p.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=gt("display",a))}catch(v){Ou(t,t.return,v)}}}else if(6===p.tag){if(null===d)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(v){Ou(t,t.return,v)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===t)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===t)break t;for(;null===p.sibling;){if(null===p.return||p.return===t)break t;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:vl(e,t),yl(t),4&o&&gl(t);case 21:}}function yl(t){var e=t.flags;if(2&e){try{t:{for(var n=t.return;null!==n;){if(al(n)){var o=n;break t}n=n.return}throw Error(i(160))}switch(o.tag){case 5:var r=o.stateNode;32&o.flags&&(pt(r,""),o.flags&=-33),cl(t,ll(t),r);break;case 3:case 4:var s=o.stateNode.containerInfo;ul(t,ll(t),s);break;default:throw Error(i(161))}}catch(a){Ou(t,t.return,a)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function Cl(t,e,n){Ja=t,wl(t,e,n)}function wl(t,e,n){for(var o=0!==(1&t.mode);null!==Ja;){var r=Ja,i=r.child;if(22===r.tag&&o){var s=null!==r.memoizedState||Qa;if(!s){var a=r.alternate,l=null!==a&&null!==a.memoizedState||Xa;a=Qa;var u=Xa;if(Qa=s,(Xa=l)&&!u)for(Ja=r;null!==Ja;)l=(s=Ja).child,22===s.tag&&null!==s.memoizedState?Sl(r):null!==l?(l.return=s,Ja=l):Sl(r);for(;null!==i;)Ja=i,wl(i,e,n),i=i.sibling;Ja=r,Qa=a,Xa=u}bl(t)}else 0!==(8772&r.subtreeFlags)&&null!==i?(i.return=r,Ja=i):bl(t)}}function bl(t){for(;null!==Ja;){var e=Ja;if(0!==(8772&e.flags)){var n=e.alternate;try{if(0!==(8772&e.flags))switch(e.tag){case 0:case 11:case 15:Xa||rl(5,e);break;case 1:var o=e.stateNode;if(4&e.flags&&!Xa)if(null===n)o.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:mi(e.type,n.memoizedProps);o.componentDidUpdate(r,n.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;null!==s&&Hi(e,s,o);break;case 3:var a=e.updateQueue;if(null!==a){if(n=null,null!==e.child)switch(e.child.tag){case 5:case 1:n=e.child.stateNode}Hi(e,a,n)}break;case 5:var l=e.stateNode;if(null===n&&4&e.flags){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var c=e.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var p=d.dehydrated;null!==p&&Be(p)}}}break;default:throw Error(i(163))}Xa||512&e.flags&&il(e)}catch(h){Ou(e,e.return,h)}}if(e===t){Ja=null;break}if(null!==(n=e.sibling)){n.return=e.return,Ja=n;break}Ja=e.return}}function _l(t){for(;null!==Ja;){var e=Ja;if(e===t){Ja=null;break}var n=e.sibling;if(null!==n){n.return=e.return,Ja=n;break}Ja=e.return}}function Sl(t){for(;null!==Ja;){var e=Ja;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{rl(4,e)}catch(l){Ou(e,n,l)}break;case 1:var o=e.stateNode;if("function"===typeof o.componentDidMount){var r=e.return;try{o.componentDidMount()}catch(l){Ou(e,r,l)}}var i=e.return;try{il(e)}catch(l){Ou(e,i,l)}break;case 5:var s=e.return;try{il(e)}catch(l){Ou(e,s,l)}}}catch(l){Ou(e,e.return,l)}if(e===t){Ja=null;break}var a=e.sibling;if(null!==a){a.return=e.return,Ja=a;break}Ja=e.return}}var El,Ol=Math.ceil,xl=w.ReactCurrentDispatcher,Tl=w.ReactCurrentOwner,Rl=w.ReactCurrentBatchConfig,Dl=0,Pl=null,Ll=null,Ml=0,Al=0,kl=Or(0),Nl=0,Fl=null,Il=0,Gl=0,Hl=0,Vl=null,jl=null,Bl=0,Wl=1/0,zl=null,Ul=!1,Yl=null,Kl=null,Zl=!1,ql=null,Ql=0,Xl=0,$l=null,Jl=-1,tu=0;function eu(){return 0!==(6&Dl)?Xt():-1!==Jl?Jl:Jl=Xt()}function nu(t){return 0===(1&t.mode)?1:0!==(2&Dl)&&0!==Ml?Ml&-Ml:null!==vi.transition?(0===tu&&(tu=ge()),tu):0!==(t=Ce)?t:t=void 0===(t=window.event)?16:Qe(t.type)}function ou(t,e,n,o){if(50<Xl)throw Xl=0,$l=null,Error(i(185));me(t,n,o),0!==(2&Dl)&&t===Pl||(t===Pl&&(0===(2&Dl)&&(Gl|=n),4===Nl&&lu(t,Ml)),ru(t,o),1===n&&0===Dl&&0===(1&e.mode)&&(Wl=Xt()+500,Vr&&Wr()))}function ru(t,e){var n=t.callbackNode;!function(t,e){for(var n=t.suspendedLanes,o=t.pingedLanes,r=t.expirationTimes,i=t.pendingLanes;0<i;){var s=31-se(i),a=1<<s,l=r[s];-1===l?0!==(a&n)&&0===(a&o)||(r[s]=he(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}(t,e);var o=pe(t,t===Pl?Ml:0);if(0===o)null!==n&&Zt(n),t.callbackNode=null,t.callbackPriority=0;else if(e=o&-o,t.callbackPriority!==e){if(null!=n&&Zt(n),1===e)0===t.tag?function(t){Vr=!0,Br(t)}(uu.bind(null,t)):Br(uu.bind(null,t)),ar((function(){0===(6&Dl)&&Wr()})),n=null;else{switch(we(o)){case 1:n=Jt;break;case 4:n=te;break;case 16:default:n=ee;break;case 536870912:n=oe}n=Pu(n,iu.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function iu(t,e){if(Jl=-1,tu=0,0!==(6&Dl))throw Error(i(327));var n=t.callbackNode;if(Su()&&t.callbackNode!==n)return null;var o=pe(t,t===Pl?Ml:0);if(0===o)return null;if(0!==(30&o)||0!==(o&t.expiredLanes)||e)e=mu(t,o);else{e=o;var r=Dl;Dl|=2;var s=gu();for(Pl===t&&Ml===e||(zl=null,Wl=Xt()+500,hu(t,e));;)try{Cu();break}catch(l){fu(t,l)}_i(),xl.current=s,Dl=r,null!==Ll?e=0:(Pl=null,Ml=0,e=Nl)}if(0!==e){if(2===e&&(0!==(r=fe(t))&&(o=r,e=su(t,r))),1===e)throw n=Fl,hu(t,0),lu(t,o),ru(t,Xt()),n;if(6===e)lu(t,o);else{if(r=t.current.alternate,0===(30&o)&&!function(t){for(var e=t;;){if(16384&e.flags){var n=e.updateQueue;if(null!==n&&null!==(n=n.stores))for(var o=0;o<n.length;o++){var r=n[o],i=r.getSnapshot;r=r.value;try{if(!ao(i(),r))return!1}catch(a){return!1}}}if(n=e.child,16384&e.subtreeFlags&&null!==n)n.return=e,e=n;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(r)&&(2===(e=mu(t,o))&&(0!==(s=fe(t))&&(o=s,e=su(t,s))),1===e))throw n=Fl,hu(t,0),lu(t,o),ru(t,Xt()),n;switch(t.finishedWork=r,t.finishedLanes=o,e){case 0:case 1:throw Error(i(345));case 2:case 5:_u(t,jl,zl);break;case 3:if(lu(t,o),(130023424&o)===o&&10<(e=Bl+500-Xt())){if(0!==pe(t,0))break;if(((r=t.suspendedLanes)&o)!==o){eu(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=rr(_u.bind(null,t,jl,zl),e);break}_u(t,jl,zl);break;case 4:if(lu(t,o),(4194240&o)===o)break;for(e=t.eventTimes,r=-1;0<o;){var a=31-se(o);s=1<<a,(a=e[a])>r&&(r=a),o&=~s}if(o=r,10<(o=(120>(o=Xt()-o)?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Ol(o/1960))-o)){t.timeoutHandle=rr(_u.bind(null,t,jl,zl),o);break}_u(t,jl,zl);break;default:throw Error(i(329))}}}return ru(t,Xt()),t.callbackNode===n?iu.bind(null,t):null}function su(t,e){var n=Vl;return t.current.memoizedState.isDehydrated&&(hu(t,e).flags|=256),2!==(t=mu(t,e))&&(e=jl,jl=n,null!==e&&au(e)),t}function au(t){null===jl?jl=t:jl.push.apply(jl,t)}function lu(t,e){for(e&=~Hl,e&=~Gl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-se(e),o=1<<n;t[n]=-1,e&=~o}}function uu(t){if(0!==(6&Dl))throw Error(i(327));Su();var e=pe(t,0);if(0===(1&e))return ru(t,Xt()),null;var n=mu(t,e);if(0!==t.tag&&2===n){var o=fe(t);0!==o&&(e=o,n=su(t,o))}if(1===n)throw n=Fl,hu(t,0),lu(t,e),ru(t,Xt()),n;if(6===n)throw Error(i(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_u(t,jl,zl),ru(t,Xt()),null}function cu(t,e){var n=Dl;Dl|=1;try{return t(e)}finally{0===(Dl=n)&&(Wl=Xt()+500,Vr&&Wr())}}function du(t){null!==ql&&0===ql.tag&&0===(6&Dl)&&Su();var e=Dl;Dl|=1;var n=Rl.transition,o=Ce;try{if(Rl.transition=null,Ce=1,t)return t()}finally{Ce=o,Rl.transition=n,0===(6&(Dl=e))&&Wr()}}function pu(){Al=kl.current,xr(kl)}function hu(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,ir(n)),null!==Ll)for(n=Ll.return;null!==n;){var o=n;switch(ni(o),o.tag){case 1:null!==(o=o.type.childContextTypes)&&void 0!==o&&kr();break;case 3:is(),xr(Pr),xr(Dr),ds();break;case 5:as(o);break;case 4:is();break;case 13:case 19:xr(ls);break;case 10:Si(o.type._context);break;case 22:case 23:pu()}n=n.return}if(Pl=t,Ll=t=ku(t.current,null),Ml=Al=e,Nl=0,Fl=null,Hl=Gl=Il=0,jl=Vl=null,null!==Ti){for(e=0;e<Ti.length;e++)if(null!==(o=(n=Ti[e]).interleaved)){n.interleaved=null;var r=o.next,i=n.pending;if(null!==i){var s=i.next;i.next=r,o.next=s}n.pending=o}Ti=null}return t}function fu(t,e){for(;;){var n=Ll;try{if(_i(),ps.current=sa,ys){for(var o=gs.memoizedState;null!==o;){var r=o.queue;null!==r&&(r.pending=null),o=o.next}ys=!1}if(fs=0,ms=vs=gs=null,Cs=!1,ws=0,Tl.current=null,null===n||null===n.return){Nl=1,Fl=e,Ll=null;break}t:{var s=t,a=n.return,l=n,u=e;if(e=Ml,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=l,p=d.tag;if(0===(1&d.mode)&&(0===p||11===p||15===p)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=ma(a);if(null!==f){f.flags&=-257,ya(f,a,l,0,e),1&f.mode&&va(s,c,e),u=c;var g=(e=f).updateQueue;if(null===g){var v=new Set;v.add(u),e.updateQueue=v}else g.add(u);break t}if(0===(1&e)){va(s,c,e),vu();break t}u=Error(i(426))}else if(ii&&1&l.mode){var m=ma(a);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),ya(m,a,l,0,e),gi(ca(u,l));break t}}s=u=ca(u,l),4!==Nl&&(Nl=2),null===Vl?Vl=[s]:Vl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e,Ii(s,fa(0,u,e));break t;case 1:l=u;var y=s.type,C=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==C&&"function"===typeof C.componentDidCatch&&(null===Kl||!Kl.has(C)))){s.flags|=65536,e&=-e,s.lanes|=e,Ii(s,ga(s,l,e));break t}}s=s.return}while(null!==s)}bu(n)}catch(w){e=w,Ll===n&&null!==n&&(Ll=n=n.return);continue}break}}function gu(){var t=xl.current;return xl.current=sa,null===t?sa:t}function vu(){0!==Nl&&3!==Nl&&2!==Nl||(Nl=4),null===Pl||0===(268435455&Il)&&0===(268435455&Gl)||lu(Pl,Ml)}function mu(t,e){var n=Dl;Dl|=2;var o=gu();for(Pl===t&&Ml===e||(zl=null,hu(t,e));;)try{yu();break}catch(r){fu(t,r)}if(_i(),Dl=n,xl.current=o,null!==Ll)throw Error(i(261));return Pl=null,Ml=0,Nl}function yu(){for(;null!==Ll;)wu(Ll)}function Cu(){for(;null!==Ll&&!qt();)wu(Ll)}function wu(t){var e=El(t.alternate,t,Al);t.memoizedProps=t.pendingProps,null===e?bu(t):Ll=e,Tl.current=null}function bu(t){var e=t;do{var n=e.alternate;if(t=e.return,0===(32768&e.flags)){if(null!==(n=Za(n,e,Al)))return void(Ll=n)}else{if(null!==(n=qa(n,e)))return n.flags&=32767,void(Ll=n);if(null===t)return Nl=6,void(Ll=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}if(null!==(e=e.sibling))return void(Ll=e);Ll=e=t}while(null!==e);0===Nl&&(Nl=5)}function _u(t,e,n){var o=Ce,r=Rl.transition;try{Rl.transition=null,Ce=1,function(t,e,n,o){do{Su()}while(null!==ql);if(0!==(6&Dl))throw Error(i(327));n=t.finishedWork;var r=t.finishedLanes;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(i(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var o=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-se(n),i=1<<r;e[r]=0,o[r]=-1,t[r]=-1,n&=~i}}(t,s),t===Pl&&(Ll=Pl=null,Ml=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Zl||(Zl=!0,Pu(ee,(function(){return Su(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Rl.transition,Rl.transition=null;var a=Ce;Ce=1;var l=Dl;Dl|=4,Tl.current=null,function(t,e){if(er=ze,fo(t=ho())){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{var o=(n=(n=t.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(o&&0!==o.rangeCount){n=o.anchorNode;var r=o.anchorOffset,s=o.focusNode;o=o.focusOffset;try{n.nodeType,s.nodeType}catch(b){n=null;break t}var a=0,l=-1,u=-1,c=0,d=0,p=t,h=null;e:for(;;){for(var f;p!==n||0!==r&&3!==p.nodeType||(l=a+r),p!==s||0!==o&&3!==p.nodeType||(u=a+o),3===p.nodeType&&(a+=p.nodeValue.length),null!==(f=p.firstChild);)h=p,p=f;for(;;){if(p===t)break e;if(h===n&&++c===r&&(l=a),h===s&&++d===o&&(u=a),null!==(f=p.nextSibling))break;h=(p=h).parentNode}p=f}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(nr={focusedElem:t,selectionRange:n},ze=!1,Ja=e;null!==Ja;)if(t=(e=Ja).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,Ja=t;else for(;null!==Ja;){e=Ja;try{var g=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var v=g.memoizedProps,m=g.memoizedState,y=e.stateNode,C=y.getSnapshotBeforeUpdate(e.elementType===e.type?v:mi(e.type,v),m);y.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var w=e.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(i(163))}}catch(b){Ou(e,e.return,b)}if(null!==(t=e.sibling)){t.return=e.return,Ja=t;break}Ja=e.return}g=nl,nl=!1}(t,n),ml(n,t),go(nr),ze=!!er,nr=er=null,t.current=n,Cl(n,t,r),Qt(),Dl=l,Ce=a,Rl.transition=s}else t.current=n;if(Zl&&(Zl=!1,ql=t,Ql=r),s=t.pendingLanes,0===s&&(Kl=null),function(t){if(ie&&"function"===typeof ie.onCommitFiberRoot)try{ie.onCommitFiberRoot(re,t,void 0,128===(128&t.current.flags))}catch(e){}}(n.stateNode),ru(t,Xt()),null!==e)for(o=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],o(r.value,{componentStack:r.stack,digest:r.digest});if(Ul)throw Ul=!1,t=Yl,Yl=null,t;0!==(1&Ql)&&0!==t.tag&&Su(),s=t.pendingLanes,0!==(1&s)?t===$l?Xl++:(Xl=0,$l=t):Xl=0,Wr()}(t,e,n,o)}finally{Rl.transition=r,Ce=o}return null}function Su(){if(null!==ql){var t=we(Ql),e=Rl.transition,n=Ce;try{if(Rl.transition=null,Ce=16>t?16:t,null===ql)var o=!1;else{if(t=ql,ql=null,Ql=0,0!==(6&Dl))throw Error(i(331));var r=Dl;for(Dl|=4,Ja=t.current;null!==Ja;){var s=Ja,a=s.child;if(0!==(16&Ja.flags)){var l=s.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Ja=c;null!==Ja;){var d=Ja;switch(d.tag){case 0:case 11:case 15:ol(8,d,s)}var p=d.child;if(null!==p)p.return=d,Ja=p;else for(;null!==Ja;){var h=(d=Ja).sibling,f=d.return;if(sl(d),d===c){Ja=null;break}if(null!==h){h.return=f,Ja=h;break}Ja=f}}}var g=s.alternate;if(null!==g){var v=g.child;if(null!==v){g.child=null;do{var m=v.sibling;v.sibling=null,v=m}while(null!==v)}}Ja=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Ja=a;else t:for(;null!==Ja;){if(0!==(2048&(s=Ja).flags))switch(s.tag){case 0:case 11:case 15:ol(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Ja=y;break t}Ja=s.return}}var C=t.current;for(Ja=C;null!==Ja;){var w=(a=Ja).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,Ja=w;else t:for(a=C;null!==Ja;){if(0!==(2048&(l=Ja).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(_){Ou(l,l.return,_)}if(l===a){Ja=null;break t}var b=l.sibling;if(null!==b){b.return=l.return,Ja=b;break t}Ja=l.return}}if(Dl=r,Wr(),ie&&"function"===typeof ie.onPostCommitFiberRoot)try{ie.onPostCommitFiberRoot(re,t)}catch(_){}o=!0}return o}finally{Ce=n,Rl.transition=e}}return!1}function Eu(t,e,n){t=Ni(t,e=fa(0,e=ca(n,e),1),1),e=eu(),null!==t&&(me(t,1,e),ru(t,e))}function Ou(t,e,n){if(3===t.tag)Eu(t,t,n);else for(;null!==e;){if(3===e.tag){Eu(e,t,n);break}if(1===e.tag){var o=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof o.componentDidCatch&&(null===Kl||!Kl.has(o))){e=Ni(e,t=ga(e,t=ca(n,t),1),1),t=eu(),null!==e&&(me(e,1,t),ru(e,t));break}}e=e.return}}function xu(t,e,n){var o=t.pingCache;null!==o&&o.delete(e),e=eu(),t.pingedLanes|=t.suspendedLanes&n,Pl===t&&(Ml&n)===n&&(4===Nl||3===Nl&&(130023424&Ml)===Ml&&500>Xt()-Bl?hu(t,0):Hl|=n),ru(t,e)}function Tu(t,e){0===e&&(0===(1&t.mode)?e=1:(e=ce,0===(130023424&(ce<<=1))&&(ce=4194304)));var n=eu();null!==(t=Pi(t,e))&&(me(t,e,n),ru(t,n))}function Ru(t){var e=t.memoizedState,n=0;null!==e&&(n=e.retryLane),Tu(t,n)}function Du(t,e){var n=0;switch(t.tag){case 13:var o=t.stateNode,r=t.memoizedState;null!==r&&(n=r.retryLane);break;case 19:o=t.stateNode;break;default:throw Error(i(314))}null!==o&&o.delete(e),Tu(t,n)}function Pu(t,e){return Kt(t,e)}function Lu(t,e,n,o){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mu(t,e,n,o){return new Lu(t,e,n,o)}function Au(t){return!(!(t=t.prototype)||!t.isReactComponent)}function ku(t,e){var n=t.alternate;return null===n?((n=Mu(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&t.flags,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Nu(t,e,n,o,r,s){var a=2;if(o=t,"function"===typeof t)Au(t)&&(a=1);else if("string"===typeof t)a=5;else t:switch(t){case S:return Fu(n.children,r,s,e);case E:a=8,r|=8;break;case O:return(t=Mu(12,n,e,2|r)).elementType=O,t.lanes=s,t;case D:return(t=Mu(13,n,e,r)).elementType=D,t.lanes=s,t;case P:return(t=Mu(19,n,e,r)).elementType=P,t.lanes=s,t;case A:return Iu(n,r,s,e);default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case x:a=10;break t;case T:a=9;break t;case R:a=11;break t;case L:a=14;break t;case M:a=16,o=null;break t}throw Error(i(130,null==t?t:typeof t,""))}return(e=Mu(a,n,e,r)).elementType=t,e.type=o,e.lanes=s,e}function Fu(t,e,n,o){return(t=Mu(7,t,o,e)).lanes=n,t}function Iu(t,e,n,o){return(t=Mu(22,t,o,e)).elementType=A,t.lanes=n,t.stateNode={isHidden:!1},t}function Gu(t,e,n){return(t=Mu(6,t,null,e)).lanes=n,t}function Hu(t,e,n){return(e=Mu(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Vu(t,e,n,o,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ve(0),this.expirationTimes=ve(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ve(0),this.identifierPrefix=o,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function ju(t,e,n,o,r,i,s,a,l){return t=new Vu(t,e,n,a,l),1===e?(e=1,!0===i&&(e|=8)):e=0,i=Mu(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:o,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mi(i),t}function Bu(t){if(!t)return Rr;t:{if(Bt(t=t._reactInternals)!==t||1!==t.tag)throw Error(i(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(Ar(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(i(171))}if(1===t.tag){var n=t.type;if(Ar(n))return Fr(t,n,e)}return e}function Wu(t,e,n,o,r,i,s,a,l){return(t=ju(n,o,!0,t,0,i,0,a,l)).context=Bu(null),n=t.current,(i=ki(o=eu(),r=nu(n))).callback=void 0!==e&&null!==e?e:null,Ni(n,i,r),t.current.lanes=r,me(t,r,o),ru(t,o),t}function zu(t,e,n,o){var r=e.current,i=eu(),s=nu(r);return n=Bu(n),null===e.context?e.context=n:e.pendingContext=n,(e=ki(i,s)).payload={element:t},null!==(o=void 0===o?null:o)&&(e.callback=o),null!==(t=Ni(r,e,s))&&(ou(t,r,s,i),Fi(t,r,s)),s}function Uu(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function Yu(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function Ku(t,e){Yu(t,e),(t=t.alternate)&&Yu(t,e)}El=function(t,e,n){if(null!==t)if(t.memoizedProps!==e.pendingProps||Pr.current)wa=!0;else{if(0===(t.lanes&n)&&0===(128&e.flags))return wa=!1,function(t,e,n){switch(e.tag){case 3:Pa(e),fi();break;case 5:ss(e);break;case 1:Ar(e.type)&&Ir(e);break;case 4:rs(e,e.stateNode.containerInfo);break;case 10:var o=e.type._context,r=e.memoizedProps.value;Tr(yi,o._currentValue),o._currentValue=r;break;case 13:if(null!==(o=e.memoizedState))return null!==o.dehydrated?(Tr(ls,1&ls.current),e.flags|=128,null):0!==(n&e.child.childLanes)?Ga(t,e,n):(Tr(ls,1&ls.current),null!==(t=Ua(t,e,n))?t.sibling:null);Tr(ls,1&ls.current);break;case 19:if(o=0!==(n&e.childLanes),0!==(128&t.flags)){if(o)return Wa(t,e,n);e.flags|=128}if(null!==(r=e.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Tr(ls,ls.current),o)break;return null;case 22:case 23:return e.lanes=0,Oa(t,e,n)}return Ua(t,e,n)}(t,e,n);wa=0!==(131072&t.flags)}else wa=!1,ii&&0!==(1048576&e.flags)&&ti(e,Kr,e.index);switch(e.lanes=0,e.tag){case 2:var o=e.type;za(t,e),t=e.pendingProps;var r=Mr(e,Dr.current);Oi(e,n),r=Es(null,e,o,t,r,n);var s=Os();return e.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ar(o)?(s=!0,Ir(e)):s=!1,e.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Mi(e),r.updater=Bi,e.stateNode=r,r._reactInternals=e,Yi(e,o,t,n),e=Da(null,e,o,!0,s,n)):(e.tag=0,ii&&s&&ei(e),ba(null,e,r,n),e=e.child),e;case 16:o=e.elementType;t:{switch(za(t,e),t=e.pendingProps,o=(r=o._init)(o._payload),e.type=o,r=e.tag=function(t){if("function"===typeof t)return Au(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===R)return 11;if(t===L)return 14}return 2}(o),t=mi(o,t),r){case 0:e=Ta(null,e,o,t,n);break t;case 1:e=Ra(null,e,o,t,n);break t;case 11:e=_a(null,e,o,t,n);break t;case 14:e=Sa(null,e,o,mi(o.type,t),n);break t}throw Error(i(306,o,""))}return e;case 0:return o=e.type,r=e.pendingProps,Ta(t,e,o,r=e.elementType===o?r:mi(o,r),n);case 1:return o=e.type,r=e.pendingProps,Ra(t,e,o,r=e.elementType===o?r:mi(o,r),n);case 3:t:{if(Pa(e),null===t)throw Error(i(387));o=e.pendingProps,r=(s=e.memoizedState).element,Ai(t,e),Gi(e,o,null,n);var a=e.memoizedState;if(o=a.element,s.isDehydrated){if(s={element:o,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,256&e.flags){e=La(t,e,o,n,r=ca(Error(i(423)),e));break t}if(o!==r){e=La(t,e,o,n,r=ca(Error(i(424)),e));break t}for(ri=cr(e.stateNode.containerInfo.firstChild),oi=e,ii=!0,si=null,n=$i(e,null,o,n),e.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),o===r){e=Ua(t,e,n);break t}ba(t,e,o,n)}e=e.child}return e;case 5:return ss(e),null===t&&ci(e),o=e.type,r=e.pendingProps,s=null!==t?t.memoizedProps:null,a=r.children,or(o,r)?a=null:null!==s&&or(o,s)&&(e.flags|=32),xa(t,e),ba(t,e,a,n),e.child;case 6:return null===t&&ci(e),null;case 13:return Ga(t,e,n);case 4:return rs(e,e.stateNode.containerInfo),o=e.pendingProps,null===t?e.child=Xi(e,null,o,n):ba(t,e,o,n),e.child;case 11:return o=e.type,r=e.pendingProps,_a(t,e,o,r=e.elementType===o?r:mi(o,r),n);case 7:return ba(t,e,e.pendingProps,n),e.child;case 8:case 12:return ba(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(o=e.type._context,r=e.pendingProps,s=e.memoizedProps,a=r.value,Tr(yi,o._currentValue),o._currentValue=a,null!==s)if(ao(s.value,a)){if(s.children===r.children&&!Pr.current){e=Ua(t,e,n);break t}}else for(null!==(s=e.child)&&(s.return=e);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var u=l.firstContext;null!==u;){if(u.context===o){if(1===s.tag){(u=ki(-1,n&-n)).tag=2;var c=s.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Ei(s.return,n,e),l.lanes|=n;break}u=u.next}}else if(10===s.tag)a=s.type===e.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(i(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Ei(a,n,e),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===e){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}ba(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,o=e.pendingProps.children,Oi(e,n),o=o(r=xi(r)),e.flags|=1,ba(t,e,o,n),e.child;case 14:return r=mi(o=e.type,e.pendingProps),Sa(t,e,o,r=mi(o.type,r),n);case 15:return Ea(t,e,e.type,e.pendingProps,n);case 17:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:mi(o,r),za(t,e),e.tag=1,Ar(o)?(t=!0,Ir(e)):t=!1,Oi(e,n),zi(e,o,r),Yi(e,o,r,n),Da(null,e,o,!0,t,n);case 19:return Wa(t,e,n);case 22:return Oa(t,e,n)}throw Error(i(156,e.tag))};var Zu="function"===typeof reportError?reportError:function(t){console.error(t)};function qu(t){this._internalRoot=t}function Qu(t){this._internalRoot=t}function Xu(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function $u(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Ju(){}function tc(t,e,n,o,r){var i=n._reactRootContainer;if(i){var s=i;if("function"===typeof r){var a=r;r=function(){var t=Uu(s);a.call(t)}}zu(e,s,t,r)}else s=function(t,e,n,o,r){if(r){if("function"===typeof o){var i=o;o=function(){var t=Uu(s);i.call(t)}}var s=Wu(e,o,t,0,null,!1,0,"",Ju);return t._reactRootContainer=s,t[gr]=s.current,Wo(8===t.nodeType?t.parentNode:t),du(),s}for(;r=t.lastChild;)t.removeChild(r);if("function"===typeof o){var a=o;o=function(){var t=Uu(l);a.call(t)}}var l=ju(t,0,!1,null,0,!1,0,"",Ju);return t._reactRootContainer=l,t[gr]=l.current,Wo(8===t.nodeType?t.parentNode:t),du((function(){zu(e,l,n,o)})),l}(n,e,t,r,o);return Uu(s)}Qu.prototype.render=qu.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(i(409));zu(t,e,null,null)},Qu.prototype.unmount=qu.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;du((function(){zu(null,t,null,null)})),e[gr]=null}},Qu.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ee();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ae.length&&0!==e&&e<Ae[n].priority;n++);Ae.splice(n,0,t),0===n&&Ie(t)}},be=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=de(e.pendingLanes);0!==n&&(ye(e,1|n),ru(e,Xt()),0===(6&Dl)&&(Wl=Xt()+500,Wr()))}break;case 13:du((function(){var e=Pi(t,1);if(null!==e){var n=eu();ou(e,t,1,n)}})),Ku(t,1)}},_e=function(t){if(13===t.tag){var e=Pi(t,134217728);if(null!==e)ou(e,t,134217728,eu());Ku(t,134217728)}},Se=function(t){if(13===t.tag){var e=nu(t),n=Pi(t,e);if(null!==n)ou(n,t,e,eu());Ku(t,e)}},Ee=function(){return Ce},Oe=function(t,e){var n=Ce;try{return Ce=t,e()}finally{Ce=n}},_t=function(t,e,n){switch(e){case"input":if($(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var o=n[e];if(o!==t&&o.form===t.form){var r=_r(o);if(!r)throw Error(i(90));K(o),$(o,r)}}}break;case"textarea":it(t,n);break;case"select":null!=(e=n.value)&&nt(t,!!n.multiple,e,!1)}},Rt=cu,Dt=du;var ec={usingClientEntryPoint:!1,Events:[wr,br,_r,xt,Tt,cu]},nc={findFiberByHostInstance:Cr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},oc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Ut(t))?null:t.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{re=rc.inject(oc),ie=rc}catch(ct){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,e.createPortal=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xu(e))throw Error(i(200));return function(t,e,n){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==o?null:""+o,children:t,containerInfo:e,implementation:n}}(t,e,null,n)},e.createRoot=function(t,e){if(!Xu(t))throw Error(i(299));var n=!1,o="",r=Zu;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(n=!0),void 0!==e.identifierPrefix&&(o=e.identifierPrefix),void 0!==e.onRecoverableError&&(r=e.onRecoverableError)),e=ju(t,1,!1,null,0,n,0,o,r),t[gr]=e.current,Wo(8===t.nodeType?t.parentNode:t),new qu(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(i(188));throw t=Object.keys(t).join(","),Error(i(268,t))}return t=null===(t=Ut(e))?null:t.stateNode},e.flushSync=function(t){return du(t)},e.hydrate=function(t,e,n){if(!$u(e))throw Error(i(200));return tc(null,t,e,!0,n)},e.hydrateRoot=function(t,e,n){if(!Xu(t))throw Error(i(405));var o=null!=n&&n.hydratedSources||null,r=!1,s="",a=Zu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),e=Wu(e,null,t,1,null!=n?n:null,r,0,s,a),t[gr]=e.current,Wo(t),o)for(t=0;t<o.length;t++)r=(r=(n=o[t])._getVersion)(n._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Qu(e)},e.render=function(t,e,n){if(!$u(e))throw Error(i(200));return tc(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!$u(t))throw Error(i(40));return!!t._reactRootContainer&&(du((function(){tc(null,null,t,!1,(function(){t._reactRootContainer=null,t[gr]=null}))})),!0)},e.unstable_batchedUpdates=cu,e.unstable_renderSubtreeIntoContainer=function(t,e,n,o){if(!$u(n))throw Error(i(200));if(null==t||void 0===t._reactInternals)throw Error(i(38));return tc(t,e,n,!1,o)},e.version="18.2.0-next-9e3b772b8-20220608"},1250:(t,e,n)=>{"use strict";var o=n(4164);e.createRoot=o.createRoot,e.hydrateRoot=o.hydrateRoot},4164:(t,e,n)=>{"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(4463)},8340:(t,e,n)=>{"use strict";var o,r;o=n(1071),r=n(5380),e.version=o.version,e.renderToString=o.renderToString,e.renderToStaticMarkup=o.renderToStaticMarkup,e.renderToNodeStream=o.renderToNodeStream,e.renderToStaticNodeStream=o.renderToStaticNodeStream,e.renderToReadableStream=r.renderToReadableStream},77:t=>{var e="undefined"!==typeof Element,n="function"===typeof Map,o="function"===typeof Set,r="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function i(t,s){if(t===s)return!0;if(t&&s&&"object"==typeof t&&"object"==typeof s){if(t.constructor!==s.constructor)return!1;var a,l,u,c;if(Array.isArray(t)){if((a=t.length)!=s.length)return!1;for(l=a;0!==l--;)if(!i(t[l],s[l]))return!1;return!0}if(n&&t instanceof Map&&s instanceof Map){if(t.size!==s.size)return!1;for(c=t.entries();!(l=c.next()).done;)if(!s.has(l.value[0]))return!1;for(c=t.entries();!(l=c.next()).done;)if(!i(l.value[1],s.get(l.value[0])))return!1;return!0}if(o&&t instanceof Set&&s instanceof Set){if(t.size!==s.size)return!1;for(c=t.entries();!(l=c.next()).done;)if(!s.has(l.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(s)){if((a=t.length)!=s.length)return!1;for(l=a;0!==l--;)if(t[l]!==s[l])return!1;return!0}if(t.constructor===RegExp)return t.source===s.source&&t.flags===s.flags;if(t.valueOf!==Object.prototype.valueOf&&"function"===typeof t.valueOf&&"function"===typeof s.valueOf)return t.valueOf()===s.valueOf();if(t.toString!==Object.prototype.toString&&"function"===typeof t.toString&&"function"===typeof s.toString)return t.toString()===s.toString();if((a=(u=Object.keys(t)).length)!==Object.keys(s).length)return!1;for(l=a;0!==l--;)if(!Object.prototype.hasOwnProperty.call(s,u[l]))return!1;if(e&&t instanceof Element)return!1;for(l=a;0!==l--;)if(("_owner"!==u[l]&&"__v"!==u[l]&&"__o"!==u[l]||!t.$$typeof)&&!i(t[u[l]],s[u[l]]))return!1;return!0}return t!==t&&s!==s}t.exports=function(t,e){try{return i(t,e)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},11:(t,e,n)=>{"use strict";n.r(e),n.d(e,{IGNORE_CLASS_NAME:()=>f,default:()=>v});var o=n(2791),r=n(4164);function i(t,e){return i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},i(t,e)}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t,e,n){return t===e||(t.correspondingElement?t.correspondingElement.classList.contains(n):t.classList.contains(n))}var l,u,c=(void 0===l&&(l=0),function(){return++l}),d={},p={},h=["touchstart","touchmove"],f="ignore-react-onclickoutside";function g(t,e){var n={};return-1!==h.indexOf(e)&&u&&(n.passive=!t.props.preventDefault),n}const v=function(t,e){var n,l,h=t.displayName||t.name||"Component";return l=n=function(n){var l,f;function v(t){var o;return(o=n.call(this,t)||this).__outsideClickHandler=function(t){if("function"!==typeof o.__clickOutsideHandlerProp){var e=o.getInstance();if("function"!==typeof e.props.handleClickOutside){if("function"!==typeof e.handleClickOutside)throw new Error("WrappedComponent: "+h+" lacks a handleClickOutside(event) function for processing outside click events.");e.handleClickOutside(t)}else e.props.handleClickOutside(t)}else o.__clickOutsideHandlerProp(t)},o.__getComponentNode=function(){var t=o.getInstance();return e&&"function"===typeof e.setClickOutsideRef?e.setClickOutsideRef()(t):"function"===typeof t.setClickOutsideRef?t.setClickOutsideRef():(0,r.findDOMNode)(t)},o.enableOnClickOutside=function(){if("undefined"!==typeof document&&!p[o._uid]){"undefined"===typeof u&&(u=function(){if("undefined"!==typeof window&&"function"===typeof window.addEventListener){var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}}),n=function(){};return window.addEventListener("testPassiveEventSupport",n,e),window.removeEventListener("testPassiveEventSupport",n,e),t}}()),p[o._uid]=!0;var t=o.props.eventTypes;t.forEach||(t=[t]),d[o._uid]=function(t){var e;null!==o.componentNode&&(o.props.preventDefault&&t.preventDefault(),o.props.stopPropagation&&t.stopPropagation(),o.props.excludeScrollbar&&(e=t,document.documentElement.clientWidth<=e.clientX||document.documentElement.clientHeight<=e.clientY)||function(t,e,n){if(t===e)return!0;for(;t.parentNode||t.host;){if(t.parentNode&&a(t,e,n))return!0;t=t.parentNode||t.host}return t}(t.composed&&t.composedPath&&t.composedPath().shift()||t.target,o.componentNode,o.props.outsideClickIgnoreClass)===document&&o.__outsideClickHandler(t))},t.forEach((function(t){document.addEventListener(t,d[o._uid],g(s(o),t))}))}},o.disableOnClickOutside=function(){delete p[o._uid];var t=d[o._uid];if(t&&"undefined"!==typeof document){var e=o.props.eventTypes;e.forEach||(e=[e]),e.forEach((function(e){return document.removeEventListener(e,t,g(s(o),e))})),delete d[o._uid]}},o.getRef=function(t){return o.instanceRef=t},o._uid=c(),o}f=n,(l=v).prototype=Object.create(f.prototype),l.prototype.constructor=l,i(l,f);var m=v.prototype;return m.getInstance=function(){if(t.prototype&&!t.prototype.isReactComponent)return this;var e=this.instanceRef;return e.getInstance?e.getInstance():e},m.componentDidMount=function(){if("undefined"!==typeof document&&document.createElement){var t=this.getInstance();if(e&&"function"===typeof e.handleClickOutside&&(this.__clickOutsideHandlerProp=e.handleClickOutside(t),"function"!==typeof this.__clickOutsideHandlerProp))throw new Error("WrappedComponent: "+h+" lacks a function for processing outside click events specified by the handleClickOutside config option.");this.componentNode=this.__getComponentNode(),this.props.disableOnClickOutside||this.enableOnClickOutside()}},m.componentDidUpdate=function(){this.componentNode=this.__getComponentNode()},m.componentWillUnmount=function(){this.disableOnClickOutside()},m.render=function(){var e=this.props;e.excludeScrollbar;var n=function(t,e){if(null==t)return{};var n,o,r={},i=Object.keys(t);for(o=0;o<i.length;o++)n=i[o],e.indexOf(n)>=0||(r[n]=t[n]);return r}(e,["excludeScrollbar"]);return t.prototype&&t.prototype.isReactComponent?n.ref=this.getRef:n.wrappedRef=this.getRef,n.disableOnClickOutside=this.disableOnClickOutside,n.enableOnClickOutside=this.enableOnClickOutside,(0,o.createElement)(t,n)},v}(o.Component),n.displayName="OnClickOutside("+h+")",n.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:e&&e.excludeScrollbar||!1,outsideClickIgnoreClass:f,preventDefault:!1,stopPropagation:!1},n.getClass=function(){return t.getClass?t.getClass():t},l}},2145:(t,e,n)=>{"use strict";n.r(e),n.d(e,{Manager:()=>s,Popper:()=>Nt,Reference:()=>Gt,usePopper:()=>Lt});var o=n(2791),r=o.createContext(),i=o.createContext();function s(t){var e=t.children,n=o.useState(null),s=n[0],a=n[1],l=o.useRef(!1);o.useEffect((function(){return function(){l.current=!0}}),[]);var u=o.useCallback((function(t){l.current||a(t)}),[]);return o.createElement(r.Provider,{value:s},o.createElement(i.Provider,{value:u},e))}var a=function(t){return Array.isArray(t)?t[0]:t},l=function(t){if("function"===typeof t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return t.apply(void 0,n)}},u=function(t,e){if("function"===typeof t)return l(t,e);null!=t&&(t.current=e)},c=function(t){return t.reduce((function(t,e){var n=e[0],o=e[1];return t[n]=o,t}),{})},d="undefined"!==typeof window&&window.document&&window.document.createElement?o.useLayoutEffect:o.useEffect,p=n(4164);function h(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function f(t){return t instanceof h(t).Element||t instanceof Element}function g(t){return t instanceof h(t).HTMLElement||t instanceof HTMLElement}function v(t){return"undefined"!==typeof ShadowRoot&&(t instanceof h(t).ShadowRoot||t instanceof ShadowRoot)}var m=Math.max,y=Math.min,C=Math.round;function w(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?t.brands.map((function(t){return t.brand+"/"+t.version})).join(" "):navigator.userAgent}function b(){return!/^((?!chrome|android).)*safari/i.test(w())}function _(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1);var o=t.getBoundingClientRect(),r=1,i=1;e&&g(t)&&(r=t.offsetWidth>0&&C(o.width)/t.offsetWidth||1,i=t.offsetHeight>0&&C(o.height)/t.offsetHeight||1);var s=(f(t)?h(t):window).visualViewport,a=!b()&&n,l=(o.left+(a&&s?s.offsetLeft:0))/r,u=(o.top+(a&&s?s.offsetTop:0))/i,c=o.width/r,d=o.height/i;return{width:c,height:d,top:u,right:l+c,bottom:u+d,left:l,x:l,y:u}}function S(t){var e=h(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function E(t){return t?(t.nodeName||"").toLowerCase():null}function O(t){return((f(t)?t.ownerDocument:t.document)||window.document).documentElement}function x(t){return _(O(t)).left+S(t).scrollLeft}function T(t){return h(t).getComputedStyle(t)}function R(t){var e=T(t),n=e.overflow,o=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+o)}function D(t,e,n){void 0===n&&(n=!1);var o=g(e),r=g(e)&&function(t){var e=t.getBoundingClientRect(),n=C(e.width)/t.offsetWidth||1,o=C(e.height)/t.offsetHeight||1;return 1!==n||1!==o}(e),i=O(e),s=_(t,r,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(o||!o&&!n)&&(("body"!==E(e)||R(i))&&(a=function(t){return t!==h(t)&&g(t)?{scrollLeft:(e=t).scrollLeft,scrollTop:e.scrollTop}:S(t);var e}(e)),g(e)?((l=_(e,!0)).x+=e.clientLeft,l.y+=e.clientTop):i&&(l.x=x(i))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function P(t){var e=_(t),n=t.offsetWidth,o=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-o)<=1&&(o=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:o}}function L(t){return"html"===E(t)?t:t.assignedSlot||t.parentNode||(v(t)?t.host:null)||O(t)}function M(t){return["html","body","#document"].indexOf(E(t))>=0?t.ownerDocument.body:g(t)&&R(t)?t:M(L(t))}function A(t,e){var n;void 0===e&&(e=[]);var o=M(t),r=o===(null==(n=t.ownerDocument)?void 0:n.body),i=h(o),s=r?[i].concat(i.visualViewport||[],R(o)?o:[]):o,a=e.concat(s);return r?a:a.concat(A(L(s)))}function k(t){return["table","td","th"].indexOf(E(t))>=0}function N(t){return g(t)&&"fixed"!==T(t).position?t.offsetParent:null}function F(t){for(var e=h(t),n=N(t);n&&k(n)&&"static"===T(n).position;)n=N(n);return n&&("html"===E(n)||"body"===E(n)&&"static"===T(n).position)?e:n||function(t){var e=/firefox/i.test(w());if(/Trident/i.test(w())&&g(t)&&"fixed"===T(t).position)return null;var n=L(t);for(v(n)&&(n=n.host);g(n)&&["html","body"].indexOf(E(n))<0;){var o=T(n);if("none"!==o.transform||"none"!==o.perspective||"paint"===o.contain||-1!==["transform","perspective"].indexOf(o.willChange)||e&&"filter"===o.willChange||e&&o.filter&&"none"!==o.filter)return n;n=n.parentNode}return null}(t)||e}var I="top",G="bottom",H="right",V="left",j="auto",B=[I,G,H,V],W="start",z="end",U="clippingParents",Y="viewport",K="popper",Z="reference",q=B.reduce((function(t,e){return t.concat([e+"-"+W,e+"-"+z])}),[]),Q=[].concat(B,[j]).reduce((function(t,e){return t.concat([e,e+"-"+W,e+"-"+z])}),[]),X=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function $(t){var e=new Map,n=new Set,o=[];function r(t){n.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach((function(t){if(!n.has(t)){var o=e.get(t);o&&r(o)}})),o.push(t)}return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){n.has(t.name)||r(t)})),o}function J(t){var e;return function(){return e||(e=new Promise((function(n){Promise.resolve().then((function(){e=void 0,n(t())}))}))),e}}var tt={placement:"bottom",modifiers:[],strategy:"absolute"};function et(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some((function(t){return!(t&&"function"===typeof t.getBoundingClientRect)}))}function nt(t){void 0===t&&(t={});var e=t,n=e.defaultModifiers,o=void 0===n?[]:n,r=e.defaultOptions,i=void 0===r?tt:r;return function(t,e,n){void 0===n&&(n=i);var r={placement:"bottom",orderedModifiers:[],options:Object.assign({},tt,i),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},s=[],a=!1,l={state:r,setOptions:function(n){var a="function"===typeof n?n(r.options):n;u(),r.options=Object.assign({},i,r.options,a),r.scrollParents={reference:f(t)?A(t):t.contextElement?A(t.contextElement):[],popper:A(e)};var c=function(t){var e=$(t);return X.reduce((function(t,n){return t.concat(e.filter((function(t){return t.phase===n})))}),[])}(function(t){var e=t.reduce((function(t,e){var n=t[e.name];return t[e.name]=n?Object.assign({},n,e,{options:Object.assign({},n.options,e.options),data:Object.assign({},n.data,e.data)}):e,t}),{});return Object.keys(e).map((function(t){return e[t]}))}([].concat(o,r.options.modifiers)));return r.orderedModifiers=c.filter((function(t){return t.enabled})),r.orderedModifiers.forEach((function(t){var e=t.name,n=t.options,o=void 0===n?{}:n,i=t.effect;if("function"===typeof i){var a=i({state:r,name:e,instance:l,options:o}),u=function(){};s.push(a||u)}})),l.update()},forceUpdate:function(){if(!a){var t=r.elements,e=t.reference,n=t.popper;if(et(e,n)){r.rects={reference:D(e,F(n),"fixed"===r.options.strategy),popper:P(n)},r.reset=!1,r.placement=r.options.placement,r.orderedModifiers.forEach((function(t){return r.modifiersData[t.name]=Object.assign({},t.data)}));for(var o=0;o<r.orderedModifiers.length;o++)if(!0!==r.reset){var i=r.orderedModifiers[o],s=i.fn,u=i.options,c=void 0===u?{}:u,d=i.name;"function"===typeof s&&(r=s({state:r,options:c,name:d,instance:l})||r)}else r.reset=!1,o=-1}}},update:J((function(){return new Promise((function(t){l.forceUpdate(),t(r)}))})),destroy:function(){u(),a=!0}};if(!et(t,e))return l;function u(){s.forEach((function(t){return t()})),s=[]}return l.setOptions(n).then((function(t){!a&&n.onFirstUpdate&&n.onFirstUpdate(t)})),l}}var ot={passive:!0};function rt(t){return t.split("-")[0]}function it(t){return t.split("-")[1]}function st(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function at(t){var e,n=t.reference,o=t.element,r=t.placement,i=r?rt(r):null,s=r?it(r):null,a=n.x+n.width/2-o.width/2,l=n.y+n.height/2-o.height/2;switch(i){case I:e={x:a,y:n.y-o.height};break;case G:e={x:a,y:n.y+n.height};break;case H:e={x:n.x+n.width,y:l};break;case V:e={x:n.x-o.width,y:l};break;default:e={x:n.x,y:n.y}}var u=i?st(i):null;if(null!=u){var c="y"===u?"height":"width";switch(s){case W:e[u]=e[u]-(n[c]/2-o[c]/2);break;case z:e[u]=e[u]+(n[c]/2-o[c]/2)}}return e}var lt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ut(t){var e,n=t.popper,o=t.popperRect,r=t.placement,i=t.variation,s=t.offsets,a=t.position,l=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,d=t.isFixed,p=s.x,f=void 0===p?0:p,g=s.y,v=void 0===g?0:g,m="function"===typeof c?c({x:f,y:v}):{x:f,y:v};f=m.x,v=m.y;var y=s.hasOwnProperty("x"),w=s.hasOwnProperty("y"),b=V,_=I,S=window;if(u){var E=F(n),x="clientHeight",R="clientWidth";if(E===h(n)&&"static"!==T(E=O(n)).position&&"absolute"===a&&(x="scrollHeight",R="scrollWidth"),r===I||(r===V||r===H)&&i===z)_=G,v-=(d&&E===S&&S.visualViewport?S.visualViewport.height:E[x])-o.height,v*=l?1:-1;if(r===V||(r===I||r===G)&&i===z)b=H,f-=(d&&E===S&&S.visualViewport?S.visualViewport.width:E[R])-o.width,f*=l?1:-1}var D,P=Object.assign({position:a},u&&lt),L=!0===c?function(t,e){var n=t.x,o=t.y,r=e.devicePixelRatio||1;return{x:C(n*r)/r||0,y:C(o*r)/r||0}}({x:f,y:v},h(n)):{x:f,y:v};return f=L.x,v=L.y,l?Object.assign({},P,((D={})[_]=w?"0":"",D[b]=y?"0":"",D.transform=(S.devicePixelRatio||1)<=1?"translate("+f+"px, "+v+"px)":"translate3d("+f+"px, "+v+"px, 0)",D)):Object.assign({},P,((e={})[_]=w?v+"px":"",e[b]=y?f+"px":"",e.transform="",e))}const ct={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,n=t.options,o=t.name,r=n.offset,i=void 0===r?[0,0]:r,s=Q.reduce((function(t,n){return t[n]=function(t,e,n){var o=rt(t),r=[V,I].indexOf(o)>=0?-1:1,i="function"===typeof n?n(Object.assign({},e,{placement:t})):n,s=i[0],a=i[1];return s=s||0,a=(a||0)*r,[V,H].indexOf(o)>=0?{x:a,y:s}:{x:s,y:a}}(n,e.rects,i),t}),{}),a=s[e.placement],l=a.x,u=a.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[o]=s}};var dt={left:"right",right:"left",bottom:"top",top:"bottom"};function pt(t){return t.replace(/left|right|bottom|top/g,(function(t){return dt[t]}))}var ht={start:"end",end:"start"};function ft(t){return t.replace(/start|end/g,(function(t){return ht[t]}))}function gt(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&v(n)){var o=e;do{if(o&&t.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function vt(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function mt(t,e,n){return e===Y?vt(function(t,e){var n=h(t),o=O(t),r=n.visualViewport,i=o.clientWidth,s=o.clientHeight,a=0,l=0;if(r){i=r.width,s=r.height;var u=b();(u||!u&&"fixed"===e)&&(a=r.offsetLeft,l=r.offsetTop)}return{width:i,height:s,x:a+x(t),y:l}}(t,n)):f(e)?function(t,e){var n=_(t,!1,"fixed"===e);return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}(e,n):vt(function(t){var e,n=O(t),o=S(t),r=null==(e=t.ownerDocument)?void 0:e.body,i=m(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=m(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-o.scrollLeft+x(t),l=-o.scrollTop;return"rtl"===T(r||n).direction&&(a+=m(n.clientWidth,r?r.clientWidth:0)-i),{width:i,height:s,x:a,y:l}}(O(t)))}function yt(t,e,n,o){var r="clippingParents"===e?function(t){var e=A(L(t)),n=["absolute","fixed"].indexOf(T(t).position)>=0&&g(t)?F(t):t;return f(n)?e.filter((function(t){return f(t)&&gt(t,n)&&"body"!==E(t)})):[]}(t):[].concat(e),i=[].concat(r,[n]),s=i[0],a=i.reduce((function(e,n){var r=mt(t,n,o);return e.top=m(r.top,e.top),e.right=y(r.right,e.right),e.bottom=y(r.bottom,e.bottom),e.left=m(r.left,e.left),e}),mt(t,s,o));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Ct(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function wt(t,e){return e.reduce((function(e,n){return e[n]=t,e}),{})}function bt(t,e){void 0===e&&(e={});var n=e,o=n.placement,r=void 0===o?t.placement:o,i=n.strategy,s=void 0===i?t.strategy:i,a=n.boundary,l=void 0===a?U:a,u=n.rootBoundary,c=void 0===u?Y:u,d=n.elementContext,p=void 0===d?K:d,h=n.altBoundary,g=void 0!==h&&h,v=n.padding,m=void 0===v?0:v,y=Ct("number"!==typeof m?m:wt(m,B)),C=p===K?Z:K,w=t.rects.popper,b=t.elements[g?C:p],S=yt(f(b)?b:b.contextElement||O(t.elements.popper),l,c,s),E=_(t.elements.reference),x=at({reference:E,element:w,strategy:"absolute",placement:r}),T=vt(Object.assign({},w,x)),R=p===K?T:E,D={top:S.top-R.top+y.top,bottom:R.bottom-S.bottom+y.bottom,left:S.left-R.left+y.left,right:R.right-S.right+y.right},P=t.modifiersData.offset;if(p===K&&P){var L=P[r];Object.keys(D).forEach((function(t){var e=[H,G].indexOf(t)>=0?1:-1,n=[I,G].indexOf(t)>=0?"y":"x";D[t]+=L[n]*e}))}return D}function _t(t,e,n){return m(t,y(e,n))}const St={name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,o=t.name,r=n.mainAxis,i=void 0===r||r,s=n.altAxis,a=void 0!==s&&s,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,p=n.tether,h=void 0===p||p,f=n.tetherOffset,g=void 0===f?0:f,v=bt(e,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),C=rt(e.placement),w=it(e.placement),b=!w,_=st(C),S="x"===_?"y":"x",E=e.modifiersData.popperOffsets,O=e.rects.reference,x=e.rects.popper,T="function"===typeof g?g(Object.assign({},e.rects,{placement:e.placement})):g,R="number"===typeof T?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),D=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,L={x:0,y:0};if(E){if(i){var M,A="y"===_?I:V,k="y"===_?G:H,N="y"===_?"height":"width",j=E[_],B=j+v[A],z=j-v[k],U=h?-x[N]/2:0,Y=w===W?O[N]:x[N],K=w===W?-x[N]:-O[N],Z=e.elements.arrow,q=h&&Z?P(Z):{width:0,height:0},Q=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},X=Q[A],$=Q[k],J=_t(0,O[N],q[N]),tt=b?O[N]/2-U-J-X-R.mainAxis:Y-J-X-R.mainAxis,et=b?-O[N]/2+U+J+$+R.mainAxis:K+J+$+R.mainAxis,nt=e.elements.arrow&&F(e.elements.arrow),ot=nt?"y"===_?nt.clientTop||0:nt.clientLeft||0:0,at=null!=(M=null==D?void 0:D[_])?M:0,lt=j+et-at,ut=_t(h?y(B,j+tt-at-ot):B,j,h?m(z,lt):z);E[_]=ut,L[_]=ut-j}if(a){var ct,dt="x"===_?I:V,pt="x"===_?G:H,ht=E[S],ft="y"===S?"height":"width",gt=ht+v[dt],vt=ht-v[pt],mt=-1!==[I,V].indexOf(C),yt=null!=(ct=null==D?void 0:D[S])?ct:0,Ct=mt?gt:ht-O[ft]-x[ft]-yt+R.altAxis,wt=mt?ht+O[ft]+x[ft]-yt-R.altAxis:vt,St=h&&mt?function(t,e,n){var o=_t(t,e,n);return o>n?n:o}(Ct,ht,wt):_t(h?Ct:gt,ht,h?wt:vt);E[S]=St,L[S]=St-ht}e.modifiersData[o]=L}},requiresIfExists:["offset"]};const Et={name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,n=t.state,o=t.name,r=t.options,i=n.elements.arrow,s=n.modifiersData.popperOffsets,a=rt(n.placement),l=st(a),u=[V,H].indexOf(a)>=0?"height":"width";if(i&&s){var c=function(t,e){return Ct("number"!==typeof(t="function"===typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:wt(t,B))}(r.padding,n),d=P(i),p="y"===l?I:V,h="y"===l?G:H,f=n.rects.reference[u]+n.rects.reference[l]-s[l]-n.rects.popper[u],g=s[l]-n.rects.reference[l],v=F(i),m=v?"y"===l?v.clientHeight||0:v.clientWidth||0:0,y=f/2-g/2,C=c[p],w=m-d[u]-c[h],b=m/2-d[u]/2+y,_=_t(C,b,w),S=l;n.modifiersData[o]=((e={})[S]=_,e.centerOffset=_-b,e)}},effect:function(t){var e=t.state,n=t.options.element,o=void 0===n?"[data-popper-arrow]":n;null!=o&&("string"!==typeof o||(o=e.elements.popper.querySelector(o)))&&gt(e.elements.popper,o)&&(e.elements.arrow=o)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ot(t,e,n){return void 0===n&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function xt(t){return[I,H,G,V].some((function(e){return t[e]>=0}))}var Tt=nt({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,n=t.instance,o=t.options,r=o.scroll,i=void 0===r||r,s=o.resize,a=void 0===s||s,l=h(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&u.forEach((function(t){t.addEventListener("scroll",n.update,ot)})),a&&l.addEventListener("resize",n.update,ot),function(){i&&u.forEach((function(t){t.removeEventListener("scroll",n.update,ot)})),a&&l.removeEventListener("resize",n.update,ot)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,n=t.name;e.modifiersData[n]=at({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,n=t.options,o=n.gpuAcceleration,r=void 0===o||o,i=n.adaptive,s=void 0===i||i,a=n.roundOffsets,l=void 0===a||a,u={placement:rt(e.placement),variation:it(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,ut(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,ut(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var n=e.styles[t]||{},o=e.attributes[t]||{},r=e.elements[t];g(r)&&E(r)&&(Object.assign(r.style,n),Object.keys(o).forEach((function(t){var e=o[t];!1===e?r.removeAttribute(t):r.setAttribute(t,!0===e?"":e)})))}))},effect:function(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach((function(t){var o=e.elements[t],r=e.attributes[t]||{},i=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:n[t]).reduce((function(t,e){return t[e]="",t}),{});g(o)&&E(o)&&(Object.assign(o.style,i),Object.keys(r).forEach((function(t){o.removeAttribute(t)})))}))}},requires:["computeStyles"]},ct,{name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,o=t.name;if(!e.modifiersData[o]._skip){for(var r=n.mainAxis,i=void 0===r||r,s=n.altAxis,a=void 0===s||s,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,p=n.altBoundary,h=n.flipVariations,f=void 0===h||h,g=n.allowedAutoPlacements,v=e.options.placement,m=rt(v),y=l||(m===v||!f?[pt(v)]:function(t){if(rt(t)===j)return[];var e=pt(t);return[ft(t),e,ft(e)]}(v)),C=[v].concat(y).reduce((function(t,n){return t.concat(rt(n)===j?function(t,e){void 0===e&&(e={});var n=e,o=n.placement,r=n.boundary,i=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=void 0===l?Q:l,c=it(o),d=c?a?q:q.filter((function(t){return it(t)===c})):B,p=d.filter((function(t){return u.indexOf(t)>=0}));0===p.length&&(p=d);var h=p.reduce((function(e,n){return e[n]=bt(t,{placement:n,boundary:r,rootBoundary:i,padding:s})[rt(n)],e}),{});return Object.keys(h).sort((function(t,e){return h[t]-h[e]}))}(e,{placement:n,boundary:c,rootBoundary:d,padding:u,flipVariations:f,allowedAutoPlacements:g}):n)}),[]),w=e.rects.reference,b=e.rects.popper,_=new Map,S=!0,E=C[0],O=0;O<C.length;O++){var x=C[O],T=rt(x),R=it(x)===W,D=[I,G].indexOf(T)>=0,P=D?"width":"height",L=bt(e,{placement:x,boundary:c,rootBoundary:d,altBoundary:p,padding:u}),M=D?R?H:V:R?G:I;w[P]>b[P]&&(M=pt(M));var A=pt(M),k=[];if(i&&k.push(L[T]<=0),a&&k.push(L[M]<=0,L[A]<=0),k.every((function(t){return t}))){E=x,S=!1;break}_.set(x,k)}if(S)for(var N=function(t){var e=C.find((function(e){var n=_.get(e);if(n)return n.slice(0,t).every((function(t){return t}))}));if(e)return E=e,"break"},F=f?3:1;F>0;F--){if("break"===N(F))break}e.placement!==E&&(e.modifiersData[o]._skip=!0,e.placement=E,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},St,Et,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,n=t.name,o=e.rects.reference,r=e.rects.popper,i=e.modifiersData.preventOverflow,s=bt(e,{elementContext:"reference"}),a=bt(e,{altBoundary:!0}),l=Ot(s,o),u=Ot(a,r,i),c=xt(l),d=xt(u);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}}]}),Rt=n(77),Dt=n.n(Rt),Pt=[],Lt=function(t,e,n){void 0===n&&(n={});var r=o.useRef(null),i={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||Pt},s=o.useState({styles:{popper:{position:i.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),a=s[0],l=s[1],u=o.useMemo((function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(t){var e=t.state,n=Object.keys(e.elements);p.flushSync((function(){l({styles:c(n.map((function(t){return[t,e.styles[t]||{}]}))),attributes:c(n.map((function(t){return[t,e.attributes[t]]})))})}))},requires:["computeStyles"]}}),[]),h=o.useMemo((function(){var t={onFirstUpdate:i.onFirstUpdate,placement:i.placement,strategy:i.strategy,modifiers:[].concat(i.modifiers,[u,{name:"applyStyles",enabled:!1}])};return Dt()(r.current,t)?r.current||t:(r.current=t,t)}),[i.onFirstUpdate,i.placement,i.strategy,i.modifiers,u]),f=o.useRef();return d((function(){f.current&&f.current.setOptions(h)}),[h]),d((function(){if(null!=t&&null!=e){var o=(n.createPopper||Tt)(t,e,h);return f.current=o,function(){o.destroy(),f.current=null}}}),[t,e,n.createPopper]),{state:f.current?f.current.state:null,styles:a.styles,attributes:a.attributes,update:f.current?f.current.update:null,forceUpdate:f.current?f.current.forceUpdate:null}},Mt=function(){},At=function(){return Promise.resolve(null)},kt=[];function Nt(t){var e=t.placement,n=void 0===e?"bottom":e,i=t.strategy,s=void 0===i?"absolute":i,l=t.modifiers,c=void 0===l?kt:l,d=t.referenceElement,p=t.onFirstUpdate,h=t.innerRef,f=t.children,g=o.useContext(r),v=o.useState(null),m=v[0],y=v[1],C=o.useState(null),w=C[0],b=C[1];o.useEffect((function(){u(h,m)}),[h,m]);var _=o.useMemo((function(){return{placement:n,strategy:s,onFirstUpdate:p,modifiers:[].concat(c,[{name:"arrow",enabled:null!=w,options:{element:w}}])}}),[n,s,p,c,w]),S=Lt(d||g,m,_),E=S.state,O=S.styles,x=S.forceUpdate,T=S.update,R=o.useMemo((function(){return{ref:y,style:O.popper,placement:E?E.placement:n,hasPopperEscaped:E&&E.modifiersData.hide?E.modifiersData.hide.hasPopperEscaped:null,isReferenceHidden:E&&E.modifiersData.hide?E.modifiersData.hide.isReferenceHidden:null,arrowProps:{style:O.arrow,ref:b},forceUpdate:x||Mt,update:T||At}}),[y,b,n,E,O,T,x]);return a(f)(R)}var Ft=n(2391),It=n.n(Ft);function Gt(t){var e=t.children,n=t.innerRef,r=o.useContext(i),s=o.useCallback((function(t){u(n,t),l(r,t)}),[n,r]);return o.useEffect((function(){return function(){return u(n,null)}}),[]),o.useEffect((function(){It()(Boolean(r),"`Reference` should not be used outside of a `Manager` component.")}),[r]),a(e)({ref:s})}},6374:(t,e,n)=>{"use strict";var o=n(2791),r=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(t,e,n){var o,i={},u=null,c=null;for(o in void 0!==n&&(u=""+n),void 0!==e.key&&(u=""+e.key),void 0!==e.ref&&(c=e.ref),e)s.call(e,o)&&!l.hasOwnProperty(o)&&(i[o]=e[o]);if(t&&t.defaultProps)for(o in e=t.defaultProps)void 0===i[o]&&(i[o]=e[o]);return{$$typeof:r,type:t,key:u,ref:c,props:i,_owner:a.current}}e.Fragment=i,e.jsx=u,e.jsxs=u},9117:(t,e)=>{"use strict";var n=Symbol.for("react.element"),o=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,v={};function m(t,e,n){this.props=t,this.context=e,this.refs=v,this.updater=n||f}function y(){}function C(t,e,n){this.props=t,this.context=e,this.refs=v,this.updater=n||f}m.prototype.isReactComponent={},m.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},m.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},y.prototype=m.prototype;var w=C.prototype=new y;w.constructor=C,g(w,m.prototype),w.isPureReactComponent=!0;var b=Array.isArray,_=Object.prototype.hasOwnProperty,S={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function O(t,e,o){var r,i={},s=null,a=null;if(null!=e)for(r in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(s=""+e.key),e)_.call(e,r)&&!E.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(1===l)i.children=o;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps)void 0===i[r]&&(i[r]=l[r]);return{$$typeof:n,type:t,key:s,ref:a,props:i,_owner:S.current}}function x(t){return"object"===typeof t&&null!==t&&t.$$typeof===n}var T=/\/+/g;function R(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function D(t,e,r,i,s){var a=typeof t;"undefined"!==a&&"boolean"!==a||(t=null);var l=!1;if(null===t)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case n:case o:l=!0}}if(l)return s=s(l=t),t=""===i?"."+R(l,0):i,b(s)?(r="",null!=t&&(r=t.replace(T,"$&/")+"/"),D(s,e,r,"",(function(t){return t}))):null!=s&&(x(s)&&(s=function(t,e){return{$$typeof:n,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(s,r+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(T,"$&/")+"/")+t)),e.push(s)),1;if(l=0,i=""===i?".":i+":",b(t))for(var u=0;u<t.length;u++){var c=i+R(a=t[u],u);l+=D(a,e,r,c,s)}else if(c=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=h&&t[h]||t["@@iterator"])?t:null}(t),"function"===typeof c)for(t=c.call(t),u=0;!(a=t.next()).done;)l+=D(a=a.value,e,r,c=i+R(a,u++),s);else if("object"===a)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function P(t,e,n){if(null==t)return t;var o=[],r=0;return D(t,o,"","",(function(t){return e.call(n,t,r++)})),o}function L(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var M={current:null},A={transition:null},k={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:A,ReactCurrentOwner:S};e.Children={map:P,forEach:function(t,e,n){P(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return P(t,(function(){e++})),e},toArray:function(t){return P(t,(function(t){return t}))||[]},only:function(t){if(!x(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=m,e.Fragment=r,e.Profiler=s,e.PureComponent=C,e.StrictMode=i,e.Suspense=c,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k,e.cloneElement=function(t,e,o){if(null===t||void 0===t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=g({},t.props),i=t.key,s=t.ref,a=t._owner;if(null!=e){if(void 0!==e.ref&&(s=e.ref,a=S.current),void 0!==e.key&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)_.call(e,u)&&!E.hasOwnProperty(u)&&(r[u]=void 0===e[u]&&void 0!==l?l[u]:e[u])}var u=arguments.length-2;if(1===u)r.children=o;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:n,type:t.type,key:i,ref:s,props:r,_owner:a}},e.createContext=function(t){return(t={$$typeof:l,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:t},t.Consumer=t},e.createElement=O,e.createFactory=function(t){var e=O.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:u,render:t}},e.isValidElement=x,e.lazy=function(t){return{$$typeof:p,_payload:{_status:-1,_result:t},_init:L}},e.memo=function(t,e){return{$$typeof:d,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=A.transition;A.transition={};try{t()}finally{A.transition=e}},e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},e.useCallback=function(t,e){return M.current.useCallback(t,e)},e.useContext=function(t){return M.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return M.current.useDeferredValue(t)},e.useEffect=function(t,e){return M.current.useEffect(t,e)},e.useId=function(){return M.current.useId()},e.useImperativeHandle=function(t,e,n){return M.current.useImperativeHandle(t,e,n)},e.useInsertionEffect=function(t,e){return M.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return M.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return M.current.useMemo(t,e)},e.useReducer=function(t,e,n){return M.current.useReducer(t,e,n)},e.useRef=function(t){return M.current.useRef(t)},e.useState=function(t){return M.current.useState(t)},e.useSyncExternalStore=function(t,e,n){return M.current.useSyncExternalStore(t,e,n)},e.useTransition=function(){return M.current.useTransition()},e.version="18.2.0"},2791:(t,e,n)=>{"use strict";t.exports=n(9117)},184:(t,e,n)=>{"use strict";t.exports=n(6374)},6813:(t,e)=>{"use strict";function n(t,e){var n=t.length;t.push(e);t:for(;0<n;){var o=n-1>>>1,r=t[o];if(!(0<i(r,e)))break t;t[o]=e,t[n]=r,n=o}}function o(t){return 0===t.length?null:t[0]}function r(t){if(0===t.length)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;t:for(var o=0,r=t.length,s=r>>>1;o<s;){var a=2*(o+1)-1,l=t[a],u=a+1,c=t[u];if(0>i(l,n))u<r&&0>i(c,l)?(t[o]=c,t[u]=n,o=u):(t[o]=l,t[a]=n,o=a);else{if(!(u<r&&0>i(c,n)))break t;t[o]=c,t[u]=n,o=u}}}return e}function i(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var u=[],c=[],d=1,p=null,h=3,f=!1,g=!1,v=!1,m="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,C="undefined"!==typeof setImmediate?setImmediate:null;function w(t){for(var e=o(c);null!==e;){if(null===e.callback)r(c);else{if(!(e.startTime<=t))break;r(c),e.sortIndex=e.expirationTime,n(u,e)}e=o(c)}}function b(t){if(v=!1,w(t),!g)if(null!==o(u))g=!0,A(_);else{var e=o(c);null!==e&&k(b,e.startTime-t)}}function _(t,n){g=!1,v&&(v=!1,y(x),x=-1),f=!0;var i=h;try{for(w(n),p=o(u);null!==p&&(!(p.expirationTime>n)||t&&!D());){var s=p.callback;if("function"===typeof s){p.callback=null,h=p.priorityLevel;var a=s(p.expirationTime<=n);n=e.unstable_now(),"function"===typeof a?p.callback=a:p===o(u)&&r(u),w(n)}else r(u);p=o(u)}if(null!==p)var l=!0;else{var d=o(c);null!==d&&k(b,d.startTime-n),l=!1}return l}finally{p=null,h=i,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,O=null,x=-1,T=5,R=-1;function D(){return!(e.unstable_now()-R<T)}function P(){if(null!==O){var t=e.unstable_now();R=t;var n=!0;try{n=O(!0,t)}finally{n?S():(E=!1,O=null)}}else E=!1}if("function"===typeof C)S=function(){C(P)};else if("undefined"!==typeof MessageChannel){var L=new MessageChannel,M=L.port2;L.port1.onmessage=P,S=function(){M.postMessage(null)}}else S=function(){m(P,0)};function A(t){O=t,E||(E=!0,S())}function k(t,n){x=m((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){g||f||(g=!0,A(_))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return o(u)},e.unstable_next=function(t){switch(h){case 1:case 2:case 3:var e=3;break;default:e=h}var n=h;h=e;try{return t()}finally{h=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=h;h=t;try{return e()}finally{h=n}},e.unstable_scheduleCallback=function(t,r,i){var s=e.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?s+i:s:i=s,t){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return t={id:d++,callback:r,priorityLevel:t,startTime:i,expirationTime:a=i+a,sortIndex:-1},i>s?(t.sortIndex=i,n(c,t),null===o(u)&&t===o(c)&&(v?(y(x),x=-1):v=!0,k(b,i-s))):(t.sortIndex=a,n(u,t),g||f||(g=!0,A(_))),t},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(t){var e=h;return function(){var n=h;h=e;try{return t.apply(this,arguments)}finally{h=n}}}},5296:(t,e,n)=>{"use strict";t.exports=n(6813)},2391:t=>{"use strict";var e=function(){};t.exports=e},4942:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var o=n(9142);function r(t,e,n){return(e=(0,o.Z)(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},9611:(t,e,n)=>{"use strict";function o(t,e){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},o(t,e)}n.d(e,{Z:()=>o})},9142:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var o=n(1002);function r(t){var e=function(t,e){if("object"!=(0,o.Z)(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=(0,o.Z)(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==(0,o.Z)(e)?e:String(e)}},1002:(t,e,n)=>{"use strict";function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}n.d(e,{Z:()=>o})}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={id:o,loaded:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=t,n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},(()=>{var t,e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__;n.t=function(o,r){if(1&r&&(o=this(o)),8&r)return o;if("object"===typeof o&&o){if(4&r&&o.__esModule)return o;if(16&r&&"function"===typeof o.then)return o}var i=Object.create(null);n.r(i);var s={};t=t||[null,e({}),e([]),e(e)];for(var a=2&r&&o;"object"==typeof a&&!~t.indexOf(a);a=e(a))Object.getOwnPropertyNames(a).forEach((t=>s[t]=()=>o[t]));return s.default=()=>o,n.d(i,s),i}})(),n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.f={},n.e=t=>Promise.all(Object.keys(n.f).reduce(((e,o)=>(n.f[o](t,e),e)),[])),n.u=t=>"static/js/"+t+".637148c7.chunk.js",n.miniCssF=t=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={},e="geospatial-data-explorer:";n.l=(o,r,i,s)=>{if(t[o])t[o].push(r);else{var a,l;if(void 0!==i)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==o||d.getAttribute("data-webpack")==e+i){a=d;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",e+i),a.src=o),t[o]=[r];var p=(e,n)=>{a.onerror=a.onload=null,clearTimeout(h);var r=t[o];if(delete t[o],a.parentNode&&a.parentNode.removeChild(a),r&&r.forEach((t=>t(n))),e)return e(n)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=p.bind(null,a.onerror),a.onload=p.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),n.p="/giuliamml/geospatial-explorer/",(()=>{var t={179:0};n.f.j=(e,o)=>{var r=n.o(t,e)?t[e]:void 0;if(0!==r)if(r)o.push(r[2]);else{var i=new Promise(((n,o)=>r=t[e]=[n,o]));o.push(r[2]=i);var s=n.p+n.u(e),a=new Error;n.l(s,(o=>{if(n.o(t,e)&&(0!==(r=t[e])&&(t[e]=void 0),r)){var i=o&&("load"===o.type?"missing":o.type),s=o&&o.target&&o.target.src;a.message="Loading chunk "+e+" failed.\n("+i+": "+s+")",a.name="ChunkLoadError",a.type=i,a.request=s,r[1](a)}}),"chunk-"+e,e)}};var e=(e,o)=>{var r,i,s=o[0],a=o[1],l=o[2],u=0;if(s.some((e=>0!==t[e]))){for(r in a)n.o(a,r)&&(n.m[r]=a[r]);if(l)l(n)}for(e&&e(o);u<s.length;u++)i=s[u],n.o(t,i)&&t[i]&&t[i][0](),t[i]=0},o=self.webpackChunkgeospatial_data_explorer=self.webpackChunkgeospatial_data_explorer||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))})(),(()=>{"use strict";var t={};n.r(t),n.d(t,{hasBrowserEnv:()=>Ee,hasStandardBrowserEnv:()=>Oe,hasStandardBrowserWebWorkerEnv:()=>Te});var e=n(2791),o=n.t(e,2),r=n(1250),i=n(1694),s=n.n(i),a=n(184);const l=["xxl","xl","lg","md","sm","xs"],u="xs",c=e.createContext({prefixes:{},breakpoints:l,minBreakpoint:u}),{Consumer:d,Provider:p}=c;function h(t,n){const{prefixes:o}=(0,e.useContext)(c);return t||o[n]||n}function f(){const{breakpoints:t}=(0,e.useContext)(c);return t}function g(){const{minBreakpoint:t}=(0,e.useContext)(c);return t}const v=e.forwardRef(((t,e)=>{let{bsPrefix:n,fluid:o=!1,as:r="div",className:i,...l}=t;const u=h(n,"container"),c="string"===typeof o?"-".concat(o):"-fluid";return(0,a.jsx)(r,{ref:e,...l,className:s()(i,o?"".concat(u).concat(c):u)})}));v.displayName="Container";const m=v,y=e.forwardRef(((t,e)=>{let{bsPrefix:n,className:o,as:r="div",...i}=t;const l=h(n,"row"),u=f(),c=g(),d="".concat(l,"-cols"),p=[];return u.forEach((t=>{const e=i[t];let n;delete i[t],null!=e&&"object"===typeof e?({cols:n}=e):n=e;const o=t!==c?"-".concat(t):"";null!=n&&p.push("".concat(d).concat(o,"-").concat(n))})),(0,a.jsx)(r,{ref:e,...i,className:s()(o,l,...p)})}));y.displayName="Row";const C=y;const w=e.forwardRef(((t,e)=>{const[{className:n,...o},{as:r="div",bsPrefix:i,spans:l}]=function(t){let{as:e,bsPrefix:n,className:o,...r}=t;n=h(n,"col");const i=f(),a=g(),l=[],u=[];return i.forEach((t=>{const e=r[t];let o,i,s;delete r[t],"object"===typeof e&&null!=e?({span:o,offset:i,order:s}=e):o=e;const c=t!==a?"-".concat(t):"";o&&l.push(!0===o?"".concat(n).concat(c):"".concat(n).concat(c,"-").concat(o)),null!=s&&u.push("order".concat(c,"-").concat(s)),null!=i&&u.push("offset".concat(c,"-").concat(i))})),[{...r,className:s()(o,...l,...u)},{as:e,bsPrefix:n,spans:l}]}(t);return(0,a.jsx)(r,{...o,ref:e,className:s()(n,!l.length&&i)})}));w.displayName="Col";const b=w;var _=n(2426),S=n.n(_);function E(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u;const o=[];return Object.entries(t).forEach((t=>{let[r,i]=t;null!=i&&("object"===typeof i?e.forEach((t=>{const e=i[t];if(null!=e){const i=t!==n?"-".concat(t):"";o.push("".concat(r).concat(i,"-").concat(e))}})):o.push("".concat(r,"-").concat(i)))})),o}const O=e.forwardRef(((t,e)=>{let{as:n="div",bsPrefix:o,className:r,direction:i,gap:l,...u}=t;o=h(o,"horizontal"===i?"hstack":"vstack");const c=f(),d=g();return(0,a.jsx)(n,{...u,ref:e,className:s()(r,o,...E({gap:l},c,d))})}));O.displayName="Stack";const x=O,T=["as","disabled"];function R(t){let{tagName:e,disabled:n,href:o,target:r,rel:i,role:s,onClick:a,tabIndex:l=0,type:u}=t;e||(e=null!=o||null!=r||null!=i?"a":"button");const c={tagName:e};if("button"===e)return[{type:u||"button",disabled:n},c];const d=t=>{(n||"a"===e&&function(t){return!t||"#"===t.trim()}(o))&&t.preventDefault(),n?t.stopPropagation():null==a||a(t)};return"a"===e&&(o||(o="#"),n&&(o=void 0)),[{role:null!=s?s:"button",disabled:void 0,tabIndex:n?void 0:l,href:o,target:"a"===e?r:void 0,"aria-disabled":n||void 0,rel:"a"===e?i:void 0,onClick:d,onKeyDown:t=>{" "===t.key&&(t.preventDefault(),d(t))}},c]}const D=e.forwardRef(((t,e)=>{let{as:n,disabled:o}=t,r=function(t,e){if(null==t)return{};var n,o,r={},i=Object.keys(t);for(o=0;o<i.length;o++)n=i[o],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,T);const[i,{tagName:s}]=R(Object.assign({tagName:n,disabled:o},r));return(0,a.jsx)(s,Object.assign({},r,i,{ref:e}))}));D.displayName="Button";const P=D,L=e.forwardRef(((t,e)=>{let{as:n,bsPrefix:o,variant:r="primary",size:i,active:l=!1,disabled:u=!1,className:c,...d}=t;const p=h(o,"btn"),[f,{tagName:g}]=R({tagName:n,disabled:u,...d}),v=g;return(0,a.jsx)(v,{...f,...d,ref:e,disabled:u,className:s()(c,p,l&&"active",r&&"".concat(p,"-").concat(r),i&&"".concat(p,"-").concat(i),d.href&&u&&"disabled")})}));L.displayName="Button";const M=L,A="Button_button__Zk130",k=t=>{let{handleClick:e,label:n}=t;return(0,a.jsx)(M,{as:"a",variant:"primary",onClick:e,className:A,children:n})};var N=n(9513),F=n.n(N);const I=t=>{let{handleOnChange:e,startDate:n,endDate:o}=t;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("label",{htmlFor:"form-control",children:"Dates of interest:"}),(0,a.jsx)(F(),{selectsRange:!0,startDate:n,endDate:o,onChange:e,isClearable:!0,className:"form-control",dateFormat:"yyyy/MM/dd"})]})},G=t=>{let{handleClick:e,setDates:n,dates:o}=t;return console.log("dates",o),(0,a.jsxs)(x,{gap:3,direction:"vertical",children:[(0,a.jsx)(I,{handleOnChange:t=>{if(t){const[e,o]=t.map((t=>t?S()(t).format("YYYY-MM-DDTHH:mm:ssZ"):null));n([e,o])}else n([null,null])},startDate:o[0]?new Date(o[0]):null,endDate:o[1]?new Date(o[1]):null}),(0,a.jsx)(k,{handleClick:t=>e(t),label:"search"})]})},H="FileUploader_fileUploaderWrapper__Nck-1",V="FileUploader_fileDropArea__ux4Ho",j="FileUploader_chooseFileButton__G8Qyl",B="FileUploader_fileMessage__lxpAX",W="FileUploader_fileInput__2DT3G",z=()=>(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"#9588deff",viewBox:"0 0 16 16",children:[(0,a.jsx)("path",{fillRule:"evenodd",d:"M4.406 1.342A5.53 5.53 0 0 1 8 0c2.69 0 4.923 2 5.166 4.579C14.758 4.804 16 6.137 16 7.773 16 9.569 14.502 11 12.687 11H10a.5.5 0 0 1 0-1h2.688C13.979 10 15 8.988 15 7.773c0-1.216-1.02-2.228-2.313-2.228h-.5v-.5C12.188 2.825 10.328 1 8 1a4.53 4.53 0 0 0-2.941 1.1c-.757.652-1.153 1.438-1.153 2.055v.448l-.445.049C2.064 4.805 1 5.952 1 7.318 1 8.785 2.23 10 3.781 10H6a.5.5 0 0 1 0 1H3.781C1.708 11 0 9.366 0 7.318c0-1.763 1.266-3.223 2.942-3.593.143-.863.698-1.723 1.464-2.383z"}),(0,a.jsx)("path",{fillRule:"evenodd",d:"M7.646 4.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707V14.5a.5.5 0 0 1-1 0V5.707L5.354 7.854a.5.5 0 1 1-.708-.708z"})]}),U=t=>{let{setBbox:n,setGeoJsonData:o}=t;const[r,i]=(0,e.useState)({heading:"Drag and drop file here",subHeading:"Limit 10MB per file \u2022 JSON"}),s=t=>{if(t.bbox)return t.bbox;const e=[],n=[];return t.features.forEach((t=>{var o;const r=null===t||void 0===t||null===(o=t.geometry)||void 0===o?void 0:o.coordinates[0];null===r||void 0===r||r.forEach((t=>{let[o,r]=t;n.push(o),e.push(r)}))})),[Math.min(...n),Math.min(...e),Math.max(...n),Math.max(...e)]};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{children:"Upload GeoJSON or draw a polygon on the map."}),(0,a.jsxs)("div",{className:H,children:[(0,a.jsx)(z,{}),(0,a.jsxs)("div",{className:V,children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:B,children:r.heading}),(0,a.jsx)("span",{className:B,children:r.subHeading})]}),(0,a.jsx)("span",{className:j,children:"Browse files"}),(0,a.jsx)("input",{className:W,type:"file","aria-label":"file-upload",multiple:!0,onChange:t=>{if(console.log(t),t.target.files){const e=t.target.files[0];if(e){const t=e.name;console.log(t);const r=new FileReader;r.onload=e=>{var r;const a=null===(r=e.target)||void 0===r?void 0:r.result;try{const e=JSON.parse(a);if(e&&"FeatureCollection"===e.type){i({heading:t,subHeading:""}),o(e);const r=s(e);console.log("Bbox coordinates:",r),n(r)}else alert("The uploaded JSON file it is not a GeoJSON.")}catch(l){alert("Error parsing the file: ".concat(l))}},r.readAsText(e)}}}})]})]})]})},Y=1;const K=(0,e.createContext)(null),Z=K.Provider;function q(){const t=(0,e.useContext)(K);if(null==t)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}var Q=n(8559),X=n.n(Q);function $(){return $=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},$.apply(this,arguments)}function J(t,n){let{bounds:o,boundsOptions:r,center:i,children:s,className:a,id:l,placeholder:u,style:c,whenReady:d,zoom:p,...h}=t;const[f]=(0,e.useState)({className:a,id:l,style:c}),[g,v]=(0,e.useState)(null);(0,e.useImperativeHandle)(n,(()=>{var t;return null!==(t=null===g||void 0===g?void 0:g.map)&&void 0!==t?t:null}),[g]);const m=(0,e.useCallback)((t=>{if(null!==t&&null===g){const e=new Q.Map(t,h);null!=i&&null!=p?e.setView(i,p):null!=o&&e.fitBounds(o,r),null!=d&&e.whenReady(d),v(function(t){return Object.freeze({__version:Y,map:t})}(e))}}),[]);(0,e.useEffect)((()=>()=>{null===g||void 0===g||g.map.remove()}),[g]);const y=g?e.createElement(Z,{value:g},s):null!==u&&void 0!==u?u:null;return e.createElement("div",$({},f,{ref:m}),y)}const tt=(0,e.forwardRef)(J);var et=n(4164),nt=n.t(et,2);function ot(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function rt(t,n){return null==n?function(n,o){const r=(0,e.useRef)();return r.current||(r.current=t(n,o)),r}:function(o,r){const i=(0,e.useRef)();i.current||(i.current=t(o,r));const s=(0,e.useRef)(o),{instance:a}=i.current;return(0,e.useEffect)((function(){s.current!==o&&(n(a,o,s.current),s.current=o)}),[a,o,r]),i}}function it(t,n){const o=(0,e.useRef)();(0,e.useEffect)((function(){return null!=n&&t.instance.on(n),o.current=n,function(){null!=o.current&&t.instance.off(o.current),o.current=null}}),[t,n])}function st(t,e){var n;const o=null!==(n=t.pane)&&void 0!==n?n:e.pane;return o?{...t,pane:o}:t}function at(t,n){(0,e.useEffect)((function(){var e;return(null!==(e=n.layerContainer)&&void 0!==e?e:n.map).addLayer(t.instance),function(){var e;null===(e=n.layerContainer)||void 0===e||e.removeLayer(t.instance),n.map.removeLayer(t.instance)}}),[n,t])}function lt(t){return function(n){const o=q(),r=t(st(n,o),o);return function(t,n){const o=(0,e.useRef)(n);(0,e.useEffect)((function(){n!==o.current&&null!=t.attributionControl&&(null!=o.current&&t.attributionControl.removeAttribution(o.current),null!=n&&t.attributionControl.addAttribution(n)),o.current=n}),[t,n])}(o.map,n.attribution),it(r.current,n.eventHandlers),at(r.current,o),r}}function ut(t){return function(n){const o=q(),r=t(st(n,o),o);return it(r.current,n.eventHandlers),at(r.current,o),function(t,n){const o=(0,e.useRef)();(0,e.useEffect)((function(){if(n.pathOptions!==o.current){var e;const r=null!==(e=n.pathOptions)&&void 0!==e?e:{};t.instance.setStyle(r),o.current=r}}),[t,n])}(r.current,n),r}}const ct=(dt=function(t,e){let{url:n,...o}=t;return ot(new Q.TileLayer(n,st(o,e)),e)},function(t){function n(n,o){const{instance:r}=t(n).current;return(0,e.useImperativeHandle)(o,(()=>r)),null}return(0,e.forwardRef)(n)}(lt(rt(dt,(function(t,e,n){!function(t,e,n){const{opacity:o,zIndex:r}=e;null!=o&&o!==n.opacity&&t.setOpacity(o),null!=r&&r!==n.zIndex&&t.setZIndex(r)}(t,e,n);const{url:o}=e;null!=o&&o!==n.url&&t.setUrl(o)})))));var dt;const pt=function(t,n){return function(t){function n(n,o){const{instance:r,context:i}=t(n).current;return(0,e.useImperativeHandle)(o,(()=>r)),null==n.children?null:e.createElement(Z,{value:i},n.children)}return(0,e.forwardRef)(n)}(ut(rt(t,n)))}((function(t,e){let{children:n,...o}=t;const r=new Q.FeatureGroup([],o);return ot(r,(i=e,s={layerContainer:r,overlayContainer:r},Object.freeze({...i,...s})));var i,s}));var ht=n(2007),ft=n.n(ht),gt=(n(8192),n(8262)),vt=n.n(gt);function mt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function yt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?mt(Object(n),!0).forEach((function(e){Ct(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ct(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var wt={onEdited:"draw:edited",onDrawStart:"draw:drawstart",onDrawStop:"draw:drawstop",onDrawVertex:"draw:drawvertex",onEditStart:"draw:editstart",onEditMove:"draw:editmove",onEditResize:"draw:editresize",onEditVertex:"draw:editvertex",onEditStop:"draw:editstop",onDeleted:"draw:deleted",onDeleteStart:"draw:deletestart",onDeleteStop:"draw:deletestop"};function bt(t){var n=q(),o=(0,e.useRef)(),r=(0,e.useRef)(t),i=function(e){var o=t.onCreated;(n.layerContainer||n.map).addLayer(e.layer),o&&o(e)};return e.useEffect((function(){var e=n.map,r=t.onMounted;for(var s in wt)e.on(wt[s],(function(e){var n=Object.keys(wt).filter((function(t){return wt[t]===e.type}));if(1===n.length){var o=n[0];t[o]&&t[o](e)}}));return e.on(X().Draw.Event.CREATED,i),o.current=_t(t,n),e.addControl(o.current),r&&r(o.current),function(){for(var n in e.off(X().Draw.Event.CREATED,i),wt)t[n]&&e.off(wt[n],t[n]);o.current.remove(e)}}),[]),e.useEffect((function(){if(!vt()(t.draw,r.current.draw)||!vt()(t.edit,r.current.edit)||t.position!==r.current.position){var e=n.map;o.current.remove(e),o.current=_t(t,n),o.current.addTo(e);var i=t.onMounted;return i&&i(o.current),function(){o.current.remove(e)}}}),[t.draw,t.edit,t.position]),null}function _t(t,e){var n=e.layerContainer,o=t.draw,r=t.edit,i=t.position,s={edit:yt(yt({},r),{},{featureGroup:n})};return o&&(s.draw=yt({},o)),i&&(s.position=i),new Q.Control.Draw(s)}bt.propTypes=yt(yt({},Object.keys(wt).reduce((function(t,e){return t[e]=ht.PropTypes.func,t}),{})),{},{onCreated:ht.PropTypes.func,onMounted:ht.PropTypes.func,draw:ht.PropTypes.shape({polyline:ht.PropTypes.oneOfType([ht.PropTypes.object,ht.PropTypes.bool]),polygon:ht.PropTypes.oneOfType([ht.PropTypes.object,ht.PropTypes.bool]),rectangle:ht.PropTypes.oneOfType([ht.PropTypes.object,ht.PropTypes.bool]),circle:ht.PropTypes.oneOfType([ht.PropTypes.object,ht.PropTypes.bool]),marker:ht.PropTypes.oneOfType([ht.PropTypes.object,ht.PropTypes.bool])}),edit:ht.PropTypes.shape({edit:ht.PropTypes.oneOfType([ht.PropTypes.object,ht.PropTypes.bool]),remove:ht.PropTypes.oneOfType([ht.PropTypes.object,ht.PropTypes.bool]),poly:ht.PropTypes.oneOfType([ht.PropTypes.object,ht.PropTypes.bool]),allowIntersection:ht.PropTypes.bool}),position:ht.PropTypes.oneOf(["topright","topleft","bottomright","bottomleft"]),leaflet:ht.PropTypes.shape({map:ht.PropTypes.instanceOf(Q.Map),layerContainer:ht.PropTypes.shape({addLayer:ht.PropTypes.func.isRequired,removeLayer:ht.PropTypes.func.isRequired})})});const St=bt,Et=t=>{let{setBbox:n,bbox:o,geoJsonData:r}=t;const i=(0,e.useRef)(null);return(0,e.useEffect)((()=>{if(i.current&&r){const t=i.current;X().geoJSON(r).addTo(t),o&&(console.log(o,"bbox"),t.flyTo([o[1],o[0]],4))}}),[o,r]),(0,a.jsxs)(tt,{ref:i,center:[51.505,-.09],zoom:2,style:{height:"500px"},children:[(0,a.jsx)(ct,{url:"https://{s}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}",maxZoom:20,subdomains:["mt1","mt2","mt3"]}),(0,a.jsx)(pt,{children:(0,a.jsx)(St,{position:"topleft",onCreated:t=>{const e=t.layer.getBounds(),o=[e.getSouthWest().lng,e.getSouthWest().lat,e.getNorthEast().lng,e.getNorthEast().lat];n(o)},draw:{polyline:!1,circle:!1,circlemarker:!1,marker:!1,rectangle:!0,polygon:!0}})})]})};function Ot(t,e){return function(){return t.apply(e,arguments)}}const{toString:xt}=Object.prototype,{getPrototypeOf:Tt}=Object,Rt=(Dt=Object.create(null),t=>{const e=xt.call(t);return Dt[e]||(Dt[e]=e.slice(8,-1).toLowerCase())});var Dt;const Pt=t=>(t=t.toLowerCase(),e=>Rt(e)===t),Lt=t=>e=>typeof e===t,{isArray:Mt}=Array,At=Lt("undefined");const kt=Pt("ArrayBuffer");const Nt=Lt("string"),Ft=Lt("function"),It=Lt("number"),Gt=t=>null!==t&&"object"===typeof t,Ht=t=>{if("object"!==Rt(t))return!1;const e=Tt(t);return(null===e||e===Object.prototype||null===Object.getPrototypeOf(e))&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Vt=Pt("Date"),jt=Pt("File"),Bt=Pt("Blob"),Wt=Pt("FileList"),zt=Pt("URLSearchParams");function Ut(t,e){let n,o,{allOwnKeys:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==t&&"undefined"!==typeof t)if("object"!==typeof t&&(t=[t]),Mt(t))for(n=0,o=t.length;n<o;n++)e.call(null,t[n],n,t);else{const o=r?Object.getOwnPropertyNames(t):Object.keys(t),i=o.length;let s;for(n=0;n<i;n++)s=o[n],e.call(null,t[s],s,t)}}function Yt(t,e){e=e.toLowerCase();const n=Object.keys(t);let o,r=n.length;for(;r-- >0;)if(o=n[r],e===o.toLowerCase())return o;return null}const Kt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Zt=t=>!At(t)&&t!==Kt;const qt=(Qt="undefined"!==typeof Uint8Array&&Tt(Uint8Array),t=>Qt&&t instanceof Qt);var Qt;const Xt=Pt("HTMLFormElement"),$t=(t=>{let{hasOwnProperty:e}=t;return(t,n)=>e.call(t,n)})(Object.prototype),Jt=Pt("RegExp"),te=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),o={};Ut(n,((n,r)=>{let i;!1!==(i=e(n,r,t))&&(o[r]=i||n)})),Object.defineProperties(t,o)},ee="abcdefghijklmnopqrstuvwxyz",ne="0123456789",oe={DIGIT:ne,ALPHA:ee,ALPHA_DIGIT:ee+ee.toUpperCase()+ne};const re=Pt("AsyncFunction"),ie={isArray:Mt,isArrayBuffer:kt,isBuffer:function(t){return null!==t&&!At(t)&&null!==t.constructor&&!At(t.constructor)&&Ft(t.constructor.isBuffer)&&t.constructor.isBuffer(t)},isFormData:t=>{let e;return t&&("function"===typeof FormData&&t instanceof FormData||Ft(t.append)&&("formdata"===(e=Rt(t))||"object"===e&&Ft(t.toString)&&"[object FormData]"===t.toString()))},isArrayBufferView:function(t){let e;return e="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&kt(t.buffer),e},isString:Nt,isNumber:It,isBoolean:t=>!0===t||!1===t,isObject:Gt,isPlainObject:Ht,isUndefined:At,isDate:Vt,isFile:jt,isBlob:Bt,isRegExp:Jt,isFunction:Ft,isStream:t=>Gt(t)&&Ft(t.pipe),isURLSearchParams:zt,isTypedArray:qt,isFileList:Wt,forEach:Ut,merge:function t(){const{caseless:e}=Zt(this)&&this||{},n={},o=(o,r)=>{const i=e&&Yt(n,r)||r;Ht(n[i])&&Ht(o)?n[i]=t(n[i],o):Ht(o)?n[i]=t({},o):Mt(o)?n[i]=o.slice():n[i]=o};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Ut(arguments[r],o);return n},extend:function(t,e,n){let{allOwnKeys:o}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Ut(e,((e,o)=>{n&&Ft(e)?t[o]=Ot(e,n):t[o]=e}),{allOwnKeys:o}),t},trim:t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:t=>(65279===t.charCodeAt(0)&&(t=t.slice(1)),t),inherits:(t,e,n,o)=>{t.prototype=Object.create(e.prototype,o),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},toFlatObject:(t,e,n,o)=>{let r,i,s;const a={};if(e=e||{},null==t)return e;do{for(r=Object.getOwnPropertyNames(t),i=r.length;i-- >0;)s=r[i],o&&!o(s,t,e)||a[s]||(e[s]=t[s],a[s]=!0);t=!1!==n&&Tt(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},kindOf:Rt,kindOfTest:Pt,endsWith:(t,e,n)=>{t=String(t),(void 0===n||n>t.length)&&(n=t.length),n-=e.length;const o=t.indexOf(e,n);return-1!==o&&o===n},toArray:t=>{if(!t)return null;if(Mt(t))return t;let e=t.length;if(!It(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},forEachEntry:(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let o;for(;(o=n.next())&&!o.done;){const n=o.value;e.call(t,n[0],n[1])}},matchAll:(t,e)=>{let n;const o=[];for(;null!==(n=t.exec(e));)o.push(n);return o},isHTMLForm:Xt,hasOwnProperty:$t,hasOwnProp:$t,reduceDescriptors:te,freezeMethods:t=>{te(t,((e,n)=>{if(Ft(t)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const o=t[n];Ft(o)&&(e.enumerable=!1,"writable"in e?e.writable=!1:e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(t,e)=>{const n={},o=t=>{t.forEach((t=>{n[t]=!0}))};return Mt(t)?o(t):o(String(t).split(e)),n},toCamelCase:t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(t,e,n){return e.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(t,e)=>(t=+t,Number.isFinite(t)?t:e),findKey:Yt,global:Kt,isContextDefined:Zt,ALPHABET:oe,generateString:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oe.ALPHA_DIGIT,n="";const{length:o}=e;for(;t--;)n+=e[Math.random()*o|0];return n},isSpecCompliantForm:function(t){return!!(t&&Ft(t.append)&&"FormData"===t[Symbol.toStringTag]&&t[Symbol.iterator])},toJSONObject:t=>{const e=new Array(10),n=(t,o)=>{if(Gt(t)){if(e.indexOf(t)>=0)return;if(!("toJSON"in t)){e[o]=t;const r=Mt(t)?[]:{};return Ut(t,((t,e)=>{const i=n(t,o+1);!At(i)&&(r[e]=i)})),e[o]=void 0,r}}return t};return n(t,0)},isAsyncFn:re,isThenable:t=>t&&(Gt(t)||Ft(t))&&Ft(t.then)&&Ft(t.catch)};function se(t,e,n,o,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),o&&(this.request=o),r&&(this.response=r)}ie.inherits(se,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ie.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const ae=se.prototype,le={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((t=>{le[t]={value:t}})),Object.defineProperties(se,le),Object.defineProperty(ae,"isAxiosError",{value:!0}),se.from=(t,e,n,o,r,i)=>{const s=Object.create(ae);return ie.toFlatObject(t,s,(function(t){return t!==Error.prototype}),(t=>"isAxiosError"!==t)),se.call(s,t.message,e,n,o,r),s.cause=t,s.name=t.name,i&&Object.assign(s,i),s};const ue=se;function ce(t){return ie.isPlainObject(t)||ie.isArray(t)}function de(t){return ie.endsWith(t,"[]")?t.slice(0,-2):t}function pe(t,e,n){return t?t.concat(e).map((function(t,e){return t=de(t),!n&&e?"["+t+"]":t})).join(n?".":""):e}const he=ie.toFlatObject(ie,{},null,(function(t){return/^is[A-Z]/.test(t)}));const fe=function(t,e,n){if(!ie.isObject(t))throw new TypeError("target must be an object");e=e||new FormData;const o=(n=ie.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(t,e){return!ie.isUndefined(e[t])}))).metaTokens,r=n.visitor||u,i=n.dots,s=n.indexes,a=(n.Blob||"undefined"!==typeof Blob&&Blob)&&ie.isSpecCompliantForm(e);if(!ie.isFunction(r))throw new TypeError("visitor must be a function");function l(t){if(null===t)return"";if(ie.isDate(t))return t.toISOString();if(!a&&ie.isBlob(t))throw new ue("Blob is not supported. Use a Buffer instead.");return ie.isArrayBuffer(t)||ie.isTypedArray(t)?a&&"function"===typeof Blob?new Blob([t]):Buffer.from(t):t}function u(t,n,r){let a=t;if(t&&!r&&"object"===typeof t)if(ie.endsWith(n,"{}"))n=o?n:n.slice(0,-2),t=JSON.stringify(t);else if(ie.isArray(t)&&function(t){return ie.isArray(t)&&!t.some(ce)}(t)||(ie.isFileList(t)||ie.endsWith(n,"[]"))&&(a=ie.toArray(t)))return n=de(n),a.forEach((function(t,o){!ie.isUndefined(t)&&null!==t&&e.append(!0===s?pe([n],o,i):null===s?n:n+"[]",l(t))})),!1;return!!ce(t)||(e.append(pe(r,n,i),l(t)),!1)}const c=[],d=Object.assign(he,{defaultVisitor:u,convertValue:l,isVisitable:ce});if(!ie.isObject(t))throw new TypeError("data must be an object");return function t(n,o){if(!ie.isUndefined(n)){if(-1!==c.indexOf(n))throw Error("Circular reference detected in "+o.join("."));c.push(n),ie.forEach(n,(function(n,i){!0===(!(ie.isUndefined(n)||null===n)&&r.call(e,n,ie.isString(i)?i.trim():i,o,d))&&t(n,o?o.concat(i):[i])})),c.pop()}}(t),e};function ge(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,(function(t){return e[t]}))}function ve(t,e){this._pairs=[],t&&fe(t,this,e)}const me=ve.prototype;me.append=function(t,e){this._pairs.push([t,e])},me.toString=function(t){const e=t?function(e){return t.call(this,e,ge)}:ge;return this._pairs.map((function(t){return e(t[0])+"="+e(t[1])}),"").join("&")};const ye=ve;function Ce(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function we(t,e,n){if(!e)return t;const o=n&&n.encode||Ce,r=n&&n.serialize;let i;if(i=r?r(e,n):ie.isURLSearchParams(e)?e.toString():new ye(e,n).toString(o),i){const e=t.indexOf("#");-1!==e&&(t=t.slice(0,e)),t+=(-1===t.indexOf("?")?"?":"&")+i}return t}const be=class{constructor(){this.handlers=[]}use(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ie.forEach(this.handlers,(function(e){null!==e&&t(e)}))}},_e={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Se={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:ye,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Ee="undefined"!==typeof window&&"undefined"!==typeof document,Oe=(xe="undefined"!==typeof navigator&&navigator.product,Ee&&["ReactNative","NativeScript","NS"].indexOf(xe)<0);var xe;const Te="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Re={...t,...Se};const De=function(t){function e(t,n,o,r){let i=t[r++];const s=Number.isFinite(+i),a=r>=t.length;if(i=!i&&ie.isArray(o)?o.length:i,a)return ie.hasOwnProp(o,i)?o[i]=[o[i],n]:o[i]=n,!s;o[i]&&ie.isObject(o[i])||(o[i]=[]);return e(t,n,o[i],r)&&ie.isArray(o[i])&&(o[i]=function(t){const e={},n=Object.keys(t);let o;const r=n.length;let i;for(o=0;o<r;o++)i=n[o],e[i]=t[i];return e}(o[i])),!s}if(ie.isFormData(t)&&ie.isFunction(t.entries)){const n={};return ie.forEachEntry(t,((t,o)=>{e(function(t){return ie.matchAll(/\w+|\[(\w*)]/g,t).map((t=>"[]"===t[0]?"":t[1]||t[0]))}(t),o,n,0)})),n}return null};const Pe={transitional:_e,adapter:["xhr","http"],transformRequest:[function(t,e){const n=e.getContentType()||"",o=n.indexOf("application/json")>-1,r=ie.isObject(t);r&&ie.isHTMLForm(t)&&(t=new FormData(t));if(ie.isFormData(t))return o&&o?JSON.stringify(De(t)):t;if(ie.isArrayBuffer(t)||ie.isBuffer(t)||ie.isStream(t)||ie.isFile(t)||ie.isBlob(t))return t;if(ie.isArrayBufferView(t))return t.buffer;if(ie.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let i;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(t,e){return fe(t,new Re.classes.URLSearchParams,Object.assign({visitor:function(t,e,n,o){return Re.isNode&&ie.isBuffer(t)?(this.append(e,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}(t,this.formSerializer).toString();if((i=ie.isFileList(t))||n.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return fe(i?{"files[]":t}:t,e&&new e,this.formSerializer)}}return r||o?(e.setContentType("application/json",!1),function(t,e,n){if(ie.isString(t))try{return(e||JSON.parse)(t),ie.trim(t)}catch(o){if("SyntaxError"!==o.name)throw o}return(n||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){const e=this.transitional||Pe.transitional,n=e&&e.forcedJSONParsing,o="json"===this.responseType;if(t&&ie.isString(t)&&(n&&!this.responseType||o)){const n=!(e&&e.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(r){if(n){if("SyntaxError"===r.name)throw ue.from(r,ue.ERR_BAD_RESPONSE,this,null,this.response);throw r}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Re.classes.FormData,Blob:Re.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ie.forEach(["delete","get","head","post","put","patch"],(t=>{Pe.headers[t]={}}));const Le=Pe,Me=ie.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ae=Symbol("internals");function ke(t){return t&&String(t).trim().toLowerCase()}function Ne(t){return!1===t||null==t?t:ie.isArray(t)?t.map(Ne):String(t)}function Fe(t,e,n,o,r){return ie.isFunction(o)?o.call(this,e,n):(r&&(e=n),ie.isString(e)?ie.isString(o)?-1!==e.indexOf(o):ie.isRegExp(o)?o.test(e):void 0:void 0)}class Ie{constructor(t){t&&this.set(t)}set(t,e,n){const o=this;function r(t,e,n){const r=ke(e);if(!r)throw new Error("header name must be a non-empty string");const i=ie.findKey(o,r);(!i||void 0===o[i]||!0===n||void 0===n&&!1!==o[i])&&(o[i||e]=Ne(t))}const i=(t,e)=>ie.forEach(t,((t,n)=>r(t,n,e)));return ie.isPlainObject(t)||t instanceof this.constructor?i(t,e):ie.isString(t)&&(t=t.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim())?i((t=>{const e={};let n,o,r;return t&&t.split("\n").forEach((function(t){r=t.indexOf(":"),n=t.substring(0,r).trim().toLowerCase(),o=t.substring(r+1).trim(),!n||e[n]&&Me[n]||("set-cookie"===n?e[n]?e[n].push(o):e[n]=[o]:e[n]=e[n]?e[n]+", "+o:o)})),e})(t),e):null!=t&&r(e,t,n),this}get(t,e){if(t=ke(t)){const n=ie.findKey(this,t);if(n){const t=this[n];if(!e)return t;if(!0===e)return function(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=n.exec(t);)e[o[1]]=o[2];return e}(t);if(ie.isFunction(e))return e.call(this,t,n);if(ie.isRegExp(e))return e.exec(t);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=ke(t)){const n=ie.findKey(this,t);return!(!n||void 0===this[n]||e&&!Fe(0,this[n],n,e))}return!1}delete(t,e){const n=this;let o=!1;function r(t){if(t=ke(t)){const r=ie.findKey(n,t);!r||e&&!Fe(0,n[r],r,e)||(delete n[r],o=!0)}}return ie.isArray(t)?t.forEach(r):r(t),o}clear(t){const e=Object.keys(this);let n=e.length,o=!1;for(;n--;){const r=e[n];t&&!Fe(0,this[r],r,t,!0)||(delete this[r],o=!0)}return o}normalize(t){const e=this,n={};return ie.forEach(this,((o,r)=>{const i=ie.findKey(n,r);if(i)return e[i]=Ne(o),void delete e[r];const s=t?function(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((t,e,n)=>e.toUpperCase()+n))}(r):String(r).trim();s!==r&&delete e[r],e[s]=Ne(o),n[s]=!0})),this}concat(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.constructor.concat(this,...e)}toJSON(t){const e=Object.create(null);return ie.forEach(this,((n,o)=>{null!=n&&!1!==n&&(e[o]=t&&ie.isArray(n)?n.join(", "):n)})),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((t=>{let[e,n]=t;return e+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t){const e=new this(t);for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return o.forEach((t=>e.set(t))),e}static accessor(t){const e=(this[Ae]=this[Ae]={accessors:{}}).accessors,n=this.prototype;function o(t){const o=ke(t);e[o]||(!function(t,e){const n=ie.toCamelCase(" "+e);["get","set","has"].forEach((o=>{Object.defineProperty(t,o+n,{value:function(t,n,r){return this[o].call(this,e,t,n,r)},configurable:!0})}))}(n,t),e[o]=!0)}return ie.isArray(t)?t.forEach(o):o(t),this}}Ie.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),ie.reduceDescriptors(Ie.prototype,((t,e)=>{let{value:n}=t,o=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(t){this[o]=t}}})),ie.freezeMethods(Ie);const Ge=Ie;function He(t,e){const n=this||Le,o=e||n,r=Ge.from(o.headers);let i=o.data;return ie.forEach(t,(function(t){i=t.call(n,i,r.normalize(),e?e.status:void 0)})),r.normalize(),i}function Ve(t){return!(!t||!t.__CANCEL__)}function je(t,e,n){ue.call(this,null==t?"canceled":t,ue.ERR_CANCELED,e,n),this.name="CanceledError"}ie.inherits(je,ue,{__CANCEL__:!0});const Be=je;const We=Re.hasStandardBrowserEnv?{write(t,e,n,o,r,i){const s=[t+"="+encodeURIComponent(e)];ie.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),ie.isString(o)&&s.push("path="+o),ie.isString(r)&&s.push("domain="+r),!0===i&&s.push("secure"),document.cookie=s.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function ze(t,e){return t&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)?function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}(t,e):e}const Ue=Re.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");let n;function o(n){let o=n;return t&&(e.setAttribute("href",o),o=e.href),e.setAttribute("href",o),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:"/"===e.pathname.charAt(0)?e.pathname:"/"+e.pathname}}return n=o(window.location.href),function(t){const e=ie.isString(t)?o(t):t;return e.protocol===n.protocol&&e.host===n.host}}():function(){return!0};const Ye=function(t,e){t=t||10;const n=new Array(t),o=new Array(t);let r,i=0,s=0;return e=void 0!==e?e:1e3,function(a){const l=Date.now(),u=o[s];r||(r=l),n[i]=a,o[i]=l;let c=s,d=0;for(;c!==i;)d+=n[c++],c%=t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),l-r<e)return;const p=u&&l-u;return p?Math.round(1e3*d/p):void 0}};function Ke(t,e){let n=0;const o=Ye(50,250);return r=>{const i=r.loaded,s=r.lengthComputable?r.total:void 0,a=i-n,l=o(a);n=i;const u={loaded:i,total:s,progress:s?i/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&i<=s?(s-i)/l:void 0,event:r};u[e?"download":"upload"]=!0,t(u)}}const Ze="undefined"!==typeof XMLHttpRequest&&function(t){return new Promise((function(e,n){let o=t.data;const r=Ge.from(t.headers).normalize();let i,s,{responseType:a,withXSRFToken:l}=t;function u(){t.cancelToken&&t.cancelToken.unsubscribe(i),t.signal&&t.signal.removeEventListener("abort",i)}if(ie.isFormData(o))if(Re.hasStandardBrowserEnv||Re.hasStandardBrowserWebWorkerEnv)r.setContentType(!1);else if(!1!==(s=r.getContentType())){const[t,...e]=s?s.split(";").map((t=>t.trim())).filter(Boolean):[];r.setContentType([t||"multipart/form-data",...e].join("; "))}let c=new XMLHttpRequest;if(t.auth){const e=t.auth.username||"",n=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";r.set("Authorization","Basic "+btoa(e+":"+n))}const d=ze(t.baseURL,t.url);function p(){if(!c)return;const o=Ge.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders());!function(t,e,n){const o=n.config.validateStatus;n.status&&o&&!o(n.status)?e(new ue("Request failed with status code "+n.status,[ue.ERR_BAD_REQUEST,ue.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):t(n)}((function(t){e(t),u()}),(function(t){n(t),u()}),{data:a&&"text"!==a&&"json"!==a?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:o,config:t,request:c}),c=null}if(c.open(t.method.toUpperCase(),we(d,t.params,t.paramsSerializer),!0),c.timeout=t.timeout,"onloadend"in c?c.onloadend=p:c.onreadystatechange=function(){c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))&&setTimeout(p)},c.onabort=function(){c&&(n(new ue("Request aborted",ue.ECONNABORTED,t,c)),c=null)},c.onerror=function(){n(new ue("Network Error",ue.ERR_NETWORK,t,c)),c=null},c.ontimeout=function(){let e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const o=t.transitional||_e;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(new ue(e,o.clarifyTimeoutError?ue.ETIMEDOUT:ue.ECONNABORTED,t,c)),c=null},Re.hasStandardBrowserEnv&&(l&&ie.isFunction(l)&&(l=l(t)),l||!1!==l&&Ue(d))){const e=t.xsrfHeaderName&&t.xsrfCookieName&&We.read(t.xsrfCookieName);e&&r.set(t.xsrfHeaderName,e)}void 0===o&&r.setContentType(null),"setRequestHeader"in c&&ie.forEach(r.toJSON(),(function(t,e){c.setRequestHeader(e,t)})),ie.isUndefined(t.withCredentials)||(c.withCredentials=!!t.withCredentials),a&&"json"!==a&&(c.responseType=t.responseType),"function"===typeof t.onDownloadProgress&&c.addEventListener("progress",Ke(t.onDownloadProgress,!0)),"function"===typeof t.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",Ke(t.onUploadProgress)),(t.cancelToken||t.signal)&&(i=e=>{c&&(n(!e||e.type?new Be(null,t,c):e),c.abort(),c=null)},t.cancelToken&&t.cancelToken.subscribe(i),t.signal&&(t.signal.aborted?i():t.signal.addEventListener("abort",i)));const h=function(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}(d);h&&-1===Re.protocols.indexOf(h)?n(new ue("Unsupported protocol "+h+":",ue.ERR_BAD_REQUEST,t)):c.send(o||null)}))},qe={http:null,xhr:Ze};ie.forEach(qe,((t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch(n){}Object.defineProperty(t,"adapterName",{value:e})}}));const Qe=t=>"- ".concat(t),Xe=t=>ie.isFunction(t)||null===t||!1===t,$e=t=>{t=ie.isArray(t)?t:[t];const{length:e}=t;let n,o;const r={};for(let i=0;i<e;i++){let e;if(n=t[i],o=n,!Xe(n)&&(o=qe[(e=String(n)).toLowerCase()],void 0===o))throw new ue("Unknown adapter '".concat(e,"'"));if(o)break;r[e||"#"+i]=o}if(!o){const t=Object.entries(r).map((t=>{let[e,n]=t;return"adapter ".concat(e," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=e?t.length>1?"since :\n"+t.map(Qe).join("\n"):" "+Qe(t[0]):"as no adapter specified";throw new ue("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return o};function Je(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Be(null,t)}function tn(t){Je(t),t.headers=Ge.from(t.headers),t.data=He.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1);return $e(t.adapter||Le.adapter)(t).then((function(e){return Je(t),e.data=He.call(t,t.transformResponse,e),e.headers=Ge.from(e.headers),e}),(function(e){return Ve(e)||(Je(t),e&&e.response&&(e.response.data=He.call(t,t.transformResponse,e.response),e.response.headers=Ge.from(e.response.headers))),Promise.reject(e)}))}const en=t=>t instanceof Ge?t.toJSON():t;function nn(t,e){e=e||{};const n={};function o(t,e,n){return ie.isPlainObject(t)&&ie.isPlainObject(e)?ie.merge.call({caseless:n},t,e):ie.isPlainObject(e)?ie.merge({},e):ie.isArray(e)?e.slice():e}function r(t,e,n){return ie.isUndefined(e)?ie.isUndefined(t)?void 0:o(void 0,t,n):o(t,e,n)}function i(t,e){if(!ie.isUndefined(e))return o(void 0,e)}function s(t,e){return ie.isUndefined(e)?ie.isUndefined(t)?void 0:o(void 0,t):o(void 0,e)}function a(n,r,i){return i in e?o(n,r):i in t?o(void 0,n):void 0}const l={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(t,e)=>r(en(t),en(e),!0)};return ie.forEach(Object.keys(Object.assign({},t,e)),(function(o){const i=l[o]||r,s=i(t[o],e[o],o);ie.isUndefined(s)&&i!==a||(n[o]=s)})),n}const on="1.6.2",rn={};["object","boolean","number","function","string","symbol"].forEach(((t,e)=>{rn[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}}));const sn={};rn.transitional=function(t,e,n){function o(t,e){return"[Axios v1.6.2] Transitional option '"+t+"'"+e+(n?". "+n:"")}return(n,r,i)=>{if(!1===t)throw new ue(o(r," has been removed"+(e?" in "+e:"")),ue.ERR_DEPRECATED);return e&&!sn[r]&&(sn[r]=!0,console.warn(o(r," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,r,i)}};const an={assertOptions:function(t,e,n){if("object"!==typeof t)throw new ue("options must be an object",ue.ERR_BAD_OPTION_VALUE);const o=Object.keys(t);let r=o.length;for(;r-- >0;){const i=o[r],s=e[i];if(s){const e=t[i],n=void 0===e||s(e,i,t);if(!0!==n)throw new ue("option "+i+" must be "+n,ue.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new ue("Unknown option "+i,ue.ERR_BAD_OPTION)}},validators:rn},ln=an.validators;class un{constructor(t){this.defaults=t,this.interceptors={request:new be,response:new be}}request(t,e){"string"===typeof t?(e=e||{}).url=t:e=t||{},e=nn(this.defaults,e);const{transitional:n,paramsSerializer:o,headers:r}=e;void 0!==n&&an.assertOptions(n,{silentJSONParsing:ln.transitional(ln.boolean),forcedJSONParsing:ln.transitional(ln.boolean),clarifyTimeoutError:ln.transitional(ln.boolean)},!1),null!=o&&(ie.isFunction(o)?e.paramsSerializer={serialize:o}:an.assertOptions(o,{encode:ln.function,serialize:ln.function},!0)),e.method=(e.method||this.defaults.method||"get").toLowerCase();let i=r&&ie.merge(r.common,r[e.method]);r&&ie.forEach(["delete","get","head","post","put","patch","common"],(t=>{delete r[t]})),e.headers=Ge.concat(i,r);const s=[];let a=!0;this.interceptors.request.forEach((function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(a=a&&t.synchronous,s.unshift(t.fulfilled,t.rejected))}));const l=[];let u;this.interceptors.response.forEach((function(t){l.push(t.fulfilled,t.rejected)}));let c,d=0;if(!a){const t=[tn.bind(this),void 0];for(t.unshift.apply(t,s),t.push.apply(t,l),c=t.length,u=Promise.resolve(e);d<c;)u=u.then(t[d++],t[d++]);return u}c=s.length;let p=e;for(d=0;d<c;){const t=s[d++],e=s[d++];try{p=t(p)}catch(h){e.call(this,h);break}}try{u=tn.call(this,p)}catch(h){return Promise.reject(h)}for(d=0,c=l.length;d<c;)u=u.then(l[d++],l[d++]);return u}getUri(t){return we(ze((t=nn(this.defaults,t)).baseURL,t.url),t.params,t.paramsSerializer)}}ie.forEach(["delete","get","head","options"],(function(t){un.prototype[t]=function(e,n){return this.request(nn(n||{},{method:t,url:e,data:(n||{}).data}))}})),ie.forEach(["post","put","patch"],(function(t){function e(e){return function(n,o,r){return this.request(nn(r||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:n,data:o}))}}un.prototype[t]=e(),un.prototype[t+"Form"]=e(!0)}));const cn=un;class dn{constructor(t){if("function"!==typeof t)throw new TypeError("executor must be a function.");let e;this.promise=new Promise((function(t){e=t}));const n=this;this.promise.then((t=>{if(!n._listeners)return;let e=n._listeners.length;for(;e-- >0;)n._listeners[e](t);n._listeners=null})),this.promise.then=t=>{let e;const o=new Promise((t=>{n.subscribe(t),e=t})).then(t);return o.cancel=function(){n.unsubscribe(e)},o},t((function(t,o,r){n.reason||(n.reason=new Be(t,o,r),e(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}static source(){let t;return{token:new dn((function(e){t=e})),cancel:t}}}const pn=dn;const hn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(hn).forEach((t=>{let[e,n]=t;hn[n]=e}));const fn=hn;const gn=function t(e){const n=new cn(e),o=Ot(cn.prototype.request,n);return ie.extend(o,cn.prototype,n,{allOwnKeys:!0}),ie.extend(o,n,null,{allOwnKeys:!0}),o.create=function(n){return t(nn(e,n))},o}(Le);gn.Axios=cn,gn.CanceledError=Be,gn.CancelToken=pn,gn.isCancel=Ve,gn.VERSION=on,gn.toFormData=fe,gn.AxiosError=ue,gn.Cancel=gn.CanceledError,gn.all=function(t){return Promise.all(t)},gn.spread=function(t){return function(e){return t.apply(null,e)}},gn.isAxiosError=function(t){return ie.isObject(t)&&!0===t.isAxiosError},gn.mergeConfig=nn,gn.AxiosHeaders=Ge,gn.formToJSON=t=>De(ie.isHTMLForm(t)?new FormData(t):t),gn.getAdapter=$e,gn.HttpStatusCode=fn,gn.default=gn;const vn=gn,mn=()=>{const[t,n]=(0,e.useState)(null),[o,r]=(0,e.useState)(!1),[i,s]=(0,e.useState)(null);return{data:t,loading:o,error:i,fetchData:async(t,e)=>{r(!0);try{const o=await vn.get(t,{params:e});n(o.data),s(null),r(!1)}catch(i){if(vn.isAxiosError(i)){const e=i;e.response?(console.error("Response error:",e.response.data),s(e.response.data)):e.request?(console.error("Request error:",e.request),s(e.request)):(console.error("Error",e.message),s(e.message))}else console.error("Unexpected error",i),s(i);s(i),n(null),r(!1)}}}},yn=e.forwardRef(((t,e)=>{let{bsPrefix:n,variant:o,animation:r="border",size:i,as:l="div",className:u,...c}=t;n=h(n,"spinner");const d="".concat(n,"-").concat(r);return(0,a.jsx)(l,{ref:e,...c,className:s()(u,d,i&&"".concat(d,"-").concat(i),o&&"text-".concat(o))})}));yn.displayName="Spinner";const Cn=yn,wn="Loader_loader__Iv4Mh",bn=()=>(0,a.jsx)(Cn,{className:wn,animation:"border",role:"status"});function _n(){return _n=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_n.apply(this,arguments)}var Sn;!function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"}(Sn||(Sn={}));const En="popstate";function On(t,e){if(!1===t||null===t||"undefined"===typeof t)throw new Error(e)}function xn(t,e){if(!t){"undefined"!==typeof console&&console.warn(e);try{throw new Error(e)}catch(n){}}}function Tn(t,e){return{usr:t.state,key:t.key,idx:e}}function Rn(t,e,n,o){return void 0===n&&(n=null),_n({pathname:"string"===typeof t?t:t.pathname,search:"",hash:""},"string"===typeof e?Pn(e):e,{state:n,key:e&&e.key||o||Math.random().toString(36).substr(2,8)})}function Dn(t){let{pathname:e="/",search:n="",hash:o=""}=t;return n&&"?"!==n&&(e+="?"===n.charAt(0)?n:"?"+n),o&&"#"!==o&&(e+="#"===o.charAt(0)?o:"#"+o),e}function Pn(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let o=t.indexOf("?");o>=0&&(e.search=t.substr(o),t=t.substr(0,o)),t&&(e.pathname=t)}return e}function Ln(t,e,n,o){void 0===o&&(o={});let{window:r=document.defaultView,v5Compat:i=!1}=o,s=r.history,a=Sn.Pop,l=null,u=c();function c(){return(s.state||{idx:null}).idx}function d(){a=Sn.Pop;let t=c(),e=null==t?null:t-u;u=t,l&&l({action:a,location:h.location,delta:e})}function p(t){let e="null"!==r.location.origin?r.location.origin:r.location.href,n="string"===typeof t?t:Dn(t);return On(e,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,e)}null==u&&(u=0,s.replaceState(_n({},s.state,{idx:u}),""));let h={get action(){return a},get location(){return t(r,s)},listen(t){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(En,d),l=t,()=>{r.removeEventListener(En,d),l=null}},createHref:t=>e(r,t),createURL:p,encodeLocation(t){let e=p(t);return{pathname:e.pathname,search:e.search,hash:e.hash}},push:function(t,e){a=Sn.Push;let o=Rn(h.location,t,e);n&&n(o,t),u=c()+1;let d=Tn(o,u),p=h.createHref(o);try{s.pushState(d,"",p)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;r.location.assign(p)}i&&l&&l({action:a,location:h.location,delta:1})},replace:function(t,e){a=Sn.Replace;let o=Rn(h.location,t,e);n&&n(o,t),u=c();let r=Tn(o,u),d=h.createHref(o);s.replaceState(r,"",d),i&&l&&l({action:a,location:h.location,delta:0})},go:t=>s.go(t)};return h}var Mn;!function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"}(Mn||(Mn={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function An(t,e,n){void 0===n&&(n="/");let o=Kn(("string"===typeof e?Pn(e):e).pathname||"/",n);if(null==o)return null;let r=kn(t);!function(t){t.sort(((t,e)=>t.score!==e.score?e.score-t.score:function(t,e){let n=t.length===e.length&&t.slice(0,-1).every(((t,n)=>t===e[n]));return n?t[t.length-1]-e[e.length-1]:0}(t.routesMeta.map((t=>t.childrenIndex)),e.routesMeta.map((t=>t.childrenIndex)))))}(r);let i=null;for(let s=0;null==i&&s<r.length;++s)i=zn(r[s],Yn(o));return i}function kn(t,e,n,o){void 0===e&&(e=[]),void 0===n&&(n=[]),void 0===o&&(o="");let r=(t,r,i)=>{let s={relativePath:void 0===i?t.path||"":i,caseSensitive:!0===t.caseSensitive,childrenIndex:r,route:t};s.relativePath.startsWith("/")&&(On(s.relativePath.startsWith(o),'Absolute route path "'+s.relativePath+'" nested under path "'+o+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(o.length));let a=$n([o,s.relativePath]),l=n.concat(s);t.children&&t.children.length>0&&(On(!0!==t.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),kn(t.children,e,l,a)),(null!=t.path||t.index)&&e.push({path:a,score:Wn(a,t.index),routesMeta:l})};return t.forEach(((t,e)=>{var n;if(""!==t.path&&null!=(n=t.path)&&n.includes("?"))for(let o of Nn(t.path))r(t,e,o);else r(t,e)})),e}function Nn(t){let e=t.split("/");if(0===e.length)return[];let[n,...o]=e,r=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===o.length)return r?[i,""]:[i];let s=Nn(o.join("/")),a=[];return a.push(...s.map((t=>""===t?i:[i,t].join("/")))),r&&a.push(...s),a.map((e=>t.startsWith("/")&&""===e?"/":e))}const Fn=/^:\w+$/,In=3,Gn=2,Hn=1,Vn=10,jn=-2,Bn=t=>"*"===t;function Wn(t,e){let n=t.split("/"),o=n.length;return n.some(Bn)&&(o+=jn),e&&(o+=Gn),n.filter((t=>!Bn(t))).reduce(((t,e)=>t+(Fn.test(e)?In:""===e?Hn:Vn)),o)}function zn(t,e){let{routesMeta:n}=t,o={},r="/",i=[];for(let s=0;s<n.length;++s){let t=n[s],a=s===n.length-1,l="/"===r?e:e.slice(r.length)||"/",u=Un({path:t.relativePath,caseSensitive:t.caseSensitive,end:a},l);if(!u)return null;Object.assign(o,u.params);let c=t.route;i.push({params:o,pathname:$n([r,u.pathname]),pathnameBase:Jn($n([r,u.pathnameBase])),route:c}),"/"!==u.pathnameBase&&(r=$n([r,u.pathnameBase]))}return i}function Un(t,e){"string"===typeof t&&(t={path:t,caseSensitive:!1,end:!0});let[n,o]=function(t,e,n){void 0===e&&(e=!1);void 0===n&&(n=!0);xn("*"===t||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were "'+t.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+t.replace(/\*$/,"/*")+'".');let o=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,((t,e,n)=>(o.push({paramName:e,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));t.endsWith("*")?(o.push({paramName:"*"}),r+="*"===t||"/*"===t?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==t&&"/"!==t&&(r+="(?:(?=\\/|$))");let i=new RegExp(r,e?void 0:"i");return[i,o]}(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let i=r[0],s=i.replace(/(.)\/+$/,"$1"),a=r.slice(1),l=o.reduce(((t,e,n)=>{let{paramName:o,isOptional:r}=e;if("*"===o){let t=a[n]||"";s=i.slice(0,i.length-t.length).replace(/(.)\/+$/,"$1")}const l=a[n];return t[o]=r&&!l?void 0:function(t,e){try{return decodeURIComponent(t)}catch(n){return xn(!1,'The value for the URL param "'+e+'" will not be decoded because the string "'+t+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),t}}(l||"",o),t}),{});return{params:l,pathname:i,pathnameBase:s,pattern:t}}function Yn(t){try{return decodeURI(t)}catch(e){return xn(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+e+")."),t}}function Kn(t,e){if("/"===e)return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,o=t.charAt(n);return o&&"/"!==o?null:t.slice(n)||"/"}function Zn(t,e,n,o){return"Cannot include a '"+t+"' character in a manually specified `to."+e+"` field ["+JSON.stringify(o)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function qn(t){return t.filter(((t,e)=>0===e||t.route.path&&t.route.path.length>0))}function Qn(t,e){let n=qn(t);return e?n.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)):n.map((t=>t.pathnameBase))}function Xn(t,e,n,o){let r;void 0===o&&(o=!1),"string"===typeof t?r=Pn(t):(r=_n({},t),On(!r.pathname||!r.pathname.includes("?"),Zn("?","pathname","search",r)),On(!r.pathname||!r.pathname.includes("#"),Zn("#","pathname","hash",r)),On(!r.search||!r.search.includes("#"),Zn("#","search","hash",r)));let i,s=""===t||""===r.pathname,a=s?"/":r.pathname;if(null==a)i=n;else if(o){let t=0===e.length?[]:e[e.length-1].replace(/^\//,"").split("/");if(a.startsWith("..")){let e=a.split("/");for(;".."===e[0];)e.shift(),t.pop();r.pathname=e.join("/")}i="/"+t.join("/")}else{let t=e.length-1;if(a.startsWith("..")){let e=a.split("/");for(;".."===e[0];)e.shift(),t-=1;r.pathname=e.join("/")}i=t>=0?e[t]:"/"}let l=function(t,e){void 0===e&&(e="/");let{pathname:n,search:o="",hash:r=""}="string"===typeof t?Pn(t):t,i=n?n.startsWith("/")?n:function(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach((t=>{".."===t?n.length>1&&n.pop():"."!==t&&n.push(t)})),n.length>1?n.join("/"):"/"}(n,e):e;return{pathname:i,search:to(o),hash:eo(r)}}(r,i),u=a&&"/"!==a&&a.endsWith("/"),c=(s||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!c||(l.pathname+="/"),l}const $n=t=>t.join("/").replace(/\/\/+/g,"/"),Jn=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),to=t=>t&&"?"!==t?t.startsWith("?")?t:"?"+t:"",eo=t=>t&&"#"!==t?t.startsWith("#")?t:"#"+t:"";Error;function no(t){return null!=t&&"number"===typeof t.status&&"string"===typeof t.statusText&&"boolean"===typeof t.internal&&"data"in t}const oo=["post","put","patch","delete"],ro=(new Set(oo),["get",...oo]);new Set(ro),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function io(){return io=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},io.apply(this,arguments)}const so=e.createContext(null);const ao=e.createContext(null);const lo=e.createContext(null);const uo=e.createContext(null);const co=e.createContext({outlet:null,matches:[],isDataRoute:!1});const po=e.createContext(null);function ho(){return null!=e.useContext(uo)}function fo(){return ho()||On(!1),e.useContext(uo).location}function go(t){e.useContext(lo).static||e.useLayoutEffect(t)}function vo(){let{isDataRoute:t}=e.useContext(co);return t?function(){let{router:t}=Oo(So.UseNavigateStable),n=To(Eo.UseNavigateStable),o=e.useRef(!1);go((()=>{o.current=!0}));let r=e.useCallback((function(e,r){void 0===r&&(r={}),o.current&&("number"===typeof e?t.navigate(e):t.navigate(e,io({fromRouteId:n},r)))}),[t,n]);return r}():function(){ho()||On(!1);let t=e.useContext(so),{basename:n,future:o,navigator:r}=e.useContext(lo),{matches:i}=e.useContext(co),{pathname:s}=fo(),a=JSON.stringify(Qn(i,o.v7_relativeSplatPath)),l=e.useRef(!1);go((()=>{l.current=!0}));let u=e.useCallback((function(e,o){if(void 0===o&&(o={}),!l.current)return;if("number"===typeof e)return void r.go(e);let i=Xn(e,JSON.parse(a),s,"path"===o.relative);null==t&&"/"!==n&&(i.pathname="/"===i.pathname?n:$n([n,i.pathname])),(o.replace?r.replace:r.push)(i,o.state,o)}),[n,r,a,s,t]);return u}()}function mo(t,n,o,r){ho()||On(!1);let{navigator:i}=e.useContext(lo),{matches:s}=e.useContext(co),a=s[s.length-1],l=a?a.params:{},u=(a&&a.pathname,a?a.pathnameBase:"/");a&&a.route;let c,d=fo();if(n){var p;let t="string"===typeof n?Pn(n):n;"/"===u||(null==(p=t.pathname)?void 0:p.startsWith(u))||On(!1),c=t}else c=d;let h=c.pathname||"/",f=An(t,{pathname:"/"===u?h:h.slice(u.length)||"/"});let g=_o(f&&f.map((t=>Object.assign({},t,{params:Object.assign({},l,t.params),pathname:$n([u,i.encodeLocation?i.encodeLocation(t.pathname).pathname:t.pathname]),pathnameBase:"/"===t.pathnameBase?u:$n([u,i.encodeLocation?i.encodeLocation(t.pathnameBase).pathname:t.pathnameBase])}))),s,o,r);return n&&g?e.createElement(uo.Provider,{value:{location:io({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Sn.Pop}},g):g}function yo(){let t=function(){var t;let n=e.useContext(po),o=xo(Eo.UseRouteError),r=To(Eo.UseRouteError);if(void 0!==n)return n;return null==(t=o.errors)?void 0:t[r]}(),n=no(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),o=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r};return e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),o?e.createElement("pre",{style:i},o):null,null)}const Co=e.createElement(yo,null);class wo extends e.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||"idle"!==e.revalidation&&"idle"===t.revalidation?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:void 0!==t.error?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return void 0!==this.state.error?e.createElement(co.Provider,{value:this.props.routeContext},e.createElement(po.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function bo(t){let{routeContext:n,match:o,children:r}=t,i=e.useContext(so);return i&&i.static&&i.staticContext&&(o.route.errorElement||o.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=o.route.id),e.createElement(co.Provider,{value:n},r)}function _o(t,n,o,r){var i;if(void 0===n&&(n=[]),void 0===o&&(o=null),void 0===r&&(r=null),null==t){var s;if(null==(s=o)||!s.errors)return null;t=o.matches}let a=t,l=null==(i=o)?void 0:i.errors;if(null!=l){let t=a.findIndex((t=>t.route.id&&(null==l?void 0:l[t.route.id])));t>=0||On(!1),a=a.slice(0,Math.min(a.length,t+1))}let u=!1,c=-1;if(o&&r&&r.v7_partialHydration)for(let e=0;e<a.length;e++){let t=a[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(c=e),t.route.loader&&t.route.id&&void 0===o.loaderData[t.route.id]&&(!o.errors||void 0===o.errors[t.route.id])){u=!0,a=c>=0?a.slice(0,c+1):[a[0]];break}}return a.reduceRight(((t,r,i)=>{let s,d=!1,p=null,h=null;var f;o&&(s=l&&r.route.id?l[r.route.id]:void 0,p=r.route.errorElement||Co,u&&(c<0&&0===i?(f="route-fallback",!1||Ro[f]||(Ro[f]=!0),d=!0,h=null):c===i&&(d=!0,h=r.route.hydrateFallbackElement||null)));let g=n.concat(a.slice(0,i+1)),v=()=>{let n;return n=s?p:d?h:r.route.Component?e.createElement(r.route.Component,null):r.route.element?r.route.element:t,e.createElement(bo,{match:r,routeContext:{outlet:t,matches:g,isDataRoute:null!=o},children:n})};return o&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?e.createElement(wo,{location:o.location,revalidation:o.revalidation,component:p,error:s,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()}),null)}var So=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(So||{}),Eo=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Eo||{});function Oo(t){let n=e.useContext(so);return n||On(!1),n}function xo(t){let n=e.useContext(ao);return n||On(!1),n}function To(t){let n=function(t){let n=e.useContext(co);return n||On(!1),n}(),o=n.matches[n.matches.length-1];return o.route.id||On(!1),o.route.id}const Ro={};o.startTransition;function Do(t){On(!1)}function Po(t){let{basename:n="/",children:o=null,location:r,navigationType:i=Sn.Pop,navigator:s,static:a=!1,future:l}=t;ho()&&On(!1);let u=n.replace(/^\/*/,"/"),c=e.useMemo((()=>({basename:u,navigator:s,static:a,future:io({v7_relativeSplatPath:!1},l)})),[u,l,s,a]);"string"===typeof r&&(r=Pn(r));let{pathname:d="/",search:p="",hash:h="",state:f=null,key:g="default"}=r,v=e.useMemo((()=>{let t=Kn(d,u);return null==t?null:{location:{pathname:t,search:p,hash:h,state:f,key:g},navigationType:i}}),[u,d,p,h,f,g,i]);return null==v?null:e.createElement(lo.Provider,{value:c},e.createElement(uo.Provider,{children:o,value:v}))}function Lo(t){let{children:e,location:n}=t;return mo(Mo(e),n)}new Promise((()=>{}));e.Component;function Mo(t,n){void 0===n&&(n=[]);let o=[];return e.Children.forEach(t,((t,r)=>{if(!e.isValidElement(t))return;let i=[...n,r];if(t.type===e.Fragment)return void o.push.apply(o,Mo(t.props.children,i));t.type!==Do&&On(!1),t.props.index&&t.props.children&&On(!1);let s={id:t.props.id||i.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(s.children=Mo(t.props.children,i)),o.push(s)})),o}const Ao={container:"DataExplorer_container__WDoFg",tabsSection:"DataExplorer_tabsSection__tvXbj"};function ko(){return ko=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},ko.apply(this,arguments)}function No(t,e){if(null==t)return{};var n,o,r={},i=Object.keys(t);for(o=0;o<i.length;o++)n=i[o],e.indexOf(n)>=0||(r[n]=t[n]);return r}n(2176);function Fo(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function Io(t){var e=function(t,e){if("object"!==typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===typeof e?e:String(e)}function Go(t,n){return Object.keys(n).reduce((function(o,r){var i,s=o,a=s[Fo(r)],l=s[r],u=No(s,[Fo(r),r].map(Io)),c=n[r],d=function(t,n,o){var r=(0,e.useRef)(void 0!==t),i=(0,e.useState)(n),s=i[0],a=i[1],l=void 0!==t,u=r.current;return r.current=l,!l&&u&&s!==n&&a(n),[l?t:s,(0,e.useCallback)((function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];o&&o.apply(void 0,[t].concat(n)),a(t)}),[o])]}(l,a,t[c]),p=d[0],h=d[1];return ko({},u,((i={})[r]=p,i[c]=h,i))}),t)}function Ho(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==t&&void 0!==t&&this.setState(t)}function Vo(t){this.setState(function(e){var n=this.constructor.getDerivedStateFromProps(t,e);return null!==n&&void 0!==n?n:null}.bind(this))}function jo(t,e){try{var n=this.props,o=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,o)}finally{this.props=n,this.state=o}}Ho.__suppressDeprecationWarning=!0,Vo.__suppressDeprecationWarning=!0,jo.__suppressDeprecationWarning=!0;function Bo(t,n,o){const r=(0,e.useRef)(void 0!==t),[i,s]=(0,e.useState)(n),a=void 0!==t,l=r.current;return r.current=a,!a&&l&&i!==n&&s(n),[a?t:i,(0,e.useCallback)((function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const[r,...i]=e;let a=null==o?void 0:o(r,...i);return s(r),a}),[o])]}const Wo={prefix:String(Math.round(1e10*Math.random())),current:0},zo=e.createContext(Wo),Uo=e.createContext(!1);let Yo=Boolean("undefined"!==typeof window&&window.document&&window.document.createElement),Ko=new WeakMap;function Zo(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=(0,e.useContext)(zo),o=(0,e.useRef)(null);if(null===o.current&&!t){var r,i;let t=null===(i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)||void 0===i||null===(r=i.ReactCurrentOwner)||void 0===r?void 0:r.current;if(t){let e=Ko.get(t);null==e?Ko.set(t,{id:n.current,state:t.memoizedState}):t.memoizedState!==e.state&&(n.current=e.id,Ko.delete(t))}o.current=++n.current}return o.current}const qo="function"===typeof e.useId?function(t){let n=e.useId(),[o]=(0,e.useState)("function"===typeof e.useSyncExternalStore?e.useSyncExternalStore($o,Qo,Xo):(0,e.useContext)(Uo)),r=o?"react-aria":"react-aria".concat(Wo.prefix);return t||"".concat(r,"-").concat(n)}:function(t){let n=(0,e.useContext)(zo);n!==Wo||Yo||console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let o=Zo(!!t),r="react-aria".concat(n.prefix);return t||"".concat(r,"-").concat(o)};function Qo(){return!1}function Xo(){return!0}function $o(t){return()=>{}}const Jo=e.createContext(null),tr=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=t?String(t):e||null},er=e.createContext(null);const nr=function(t){const n=(0,e.useRef)(t);return(0,e.useEffect)((()=>{n.current=t}),[t]),n};function or(t){const n=nr(t);return(0,e.useCallback)((function(){return n.current&&n.current(...arguments)}),[n])}const rr=t=>t&&"function"!==typeof t?e=>{t.current=e}:t;const ir=function(t,n){return(0,e.useMemo)((()=>function(t,e){const n=rr(t),o=rr(e);return t=>{n&&n(t),o&&o(t)}}(t,n)),[t,n])};const sr=function(t){let{children:n,in:o,onExited:r,mountOnEnter:i,unmountOnExit:s}=t;const a=(0,e.useRef)(null),l=(0,e.useRef)(o),u=or(r);(0,e.useEffect)((()=>{o?l.current=!0:u(a.current)}),[o,u]);const c=ir(a,n.ref),d=(0,e.cloneElement)(n,{ref:c});return o?d:s||!l.current&&i?null:d},ar=["active","eventKey","mountOnEnter","transition","unmountOnExit","role","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],lr=["activeKey","getControlledId","getControllerId"],ur=["as"];function cr(t,e){if(null==t)return{};var n,o,r={},i=Object.keys(t);for(o=0;o<i.length;o++)n=i[o],e.indexOf(n)>=0||(r[n]=t[n]);return r}function dr(t){let{active:n,eventKey:o,mountOnEnter:r,transition:i,unmountOnExit:s,role:a="tabpanel",onEnter:l,onEntering:u,onEntered:c,onExit:d,onExiting:p,onExited:h}=t,f=cr(t,ar);const g=(0,e.useContext)(Jo);if(!g)return[Object.assign({},f,{role:a}),{eventKey:o,isActive:n,mountOnEnter:r,transition:i,unmountOnExit:s,onEnter:l,onEntering:u,onEntered:c,onExit:d,onExiting:p,onExited:h}];const{activeKey:v,getControlledId:m,getControllerId:y}=g,C=cr(g,lr),w=tr(o);return[Object.assign({},f,{role:a,id:m(o),"aria-labelledby":y(o)}),{eventKey:o,isActive:null==n&&null!=w?tr(v)===w:n,transition:i||C.transition,mountOnEnter:null!=r?r:C.mountOnEnter,unmountOnExit:null!=s?s:C.unmountOnExit,onEnter:l,onEntering:u,onEntered:c,onExit:d,onExiting:p,onExited:h}]}const pr=e.forwardRef(((t,e)=>{let{as:n="div"}=t,o=cr(t,ur);const[r,{isActive:i,onEnter:s,onEntering:l,onEntered:u,onExit:c,onExiting:d,onExited:p,mountOnEnter:h,unmountOnExit:f,transition:g=sr}]=dr(o);return(0,a.jsx)(Jo.Provider,{value:null,children:(0,a.jsx)(er.Provider,{value:null,children:(0,a.jsx)(g,{in:i,onEnter:s,onEntering:l,onEntered:u,onExit:c,onExiting:d,onExited:p,mountOnEnter:h,unmountOnExit:f,children:(0,a.jsx)(n,Object.assign({},r,{ref:e,hidden:!i,"aria-hidden":!i}))})})})}));pr.displayName="TabPanel";const hr=t=>{const{id:n,generateChildId:o,onSelect:r,activeKey:i,defaultActiveKey:s,transition:l,mountOnEnter:u,unmountOnExit:c,children:d}=t,[p,h]=Bo(i,s,r),f=qo(n),g=(0,e.useMemo)((()=>o||((t,e)=>f?"".concat(f,"-").concat(e,"-").concat(t):null)),[f,o]),v=(0,e.useMemo)((()=>({onSelect:h,activeKey:p,transition:l,mountOnEnter:u||!1,unmountOnExit:c||!1,getControlledId:t=>g(t,"tabpane"),getControllerId:t=>g(t,"tab")})),[h,p,l,u,c,g]);return(0,a.jsx)(Jo.Provider,{value:v,children:(0,a.jsx)(er.Provider,{value:h||null,children:d})})};hr.Panel=pr;const fr=hr;n(3573);var gr=Function.prototype.bind.call(Function.prototype.call,[].slice);function vr(t,e){return gr(t.querySelectorAll(e))}const mr=e.createContext(null);mr.displayName="NavContext";const yr=mr,Cr="data-rr-ui-";function wr(t){return"".concat(Cr).concat(t)}const br=["as","active","eventKey"];function _r(t){let{key:n,onClick:o,active:r,id:i,role:s,disabled:a}=t;const l=(0,e.useContext)(er),u=(0,e.useContext)(yr),c=(0,e.useContext)(Jo);let d=r;const p={role:s};if(u){s||"tablist"!==u.role||(p.role="tab");const t=u.getControllerId(null!=n?n:null),e=u.getControlledId(null!=n?n:null);p[wr("event-key")]=n,p.id=t||i,d=null==r&&null!=n?u.activeKey===n:r,!d&&(null!=c&&c.unmountOnExit||null!=c&&c.mountOnEnter)||(p["aria-controls"]=e)}return"tab"===p.role&&(p["aria-selected"]=d,d||(p.tabIndex=-1),a&&(p.tabIndex=-1,p["aria-disabled"]=!0)),p.onClick=or((t=>{a||(null==o||o(t),null!=n&&l&&!t.isPropagationStopped()&&l(n,t))})),[p,{isActive:d}]}const Sr=e.forwardRef(((t,e)=>{let{as:n=P,active:o,eventKey:r}=t,i=function(t,e){if(null==t)return{};var n,o,r={},i=Object.keys(t);for(o=0;o<i.length;o++)n=i[o],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,br);const[s,l]=_r(Object.assign({key:tr(r,i.href),active:o},i));return s[wr("active")]=l.isActive,(0,a.jsx)(n,Object.assign({},i,s,{ref:e}))}));Sr.displayName="NavItem";const Er=Sr,Or=["as","onSelect","activeKey","role","onKeyDown"];const xr=()=>{},Tr=wr("event-key"),Rr=e.forwardRef(((t,n)=>{let{as:o="div",onSelect:r,activeKey:i,role:s,onKeyDown:l}=t,u=function(t,e){if(null==t)return{};var n,o,r={},i=Object.keys(t);for(o=0;o<i.length;o++)n=i[o],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,Or);const c=function(){const[,t]=(0,e.useReducer)((t=>!t),!1);return t}(),d=(0,e.useRef)(!1),p=(0,e.useContext)(er),h=(0,e.useContext)(Jo);let f,g;h&&(s=s||"tablist",i=h.activeKey,f=h.getControlledId,g=h.getControllerId);const v=(0,e.useRef)(null),m=t=>{const e=v.current;if(!e)return null;const n=vr(e,"[".concat(Tr,"]:not([aria-disabled=true])")),o=e.querySelector("[aria-selected=true]");if(!o||o!==document.activeElement)return null;const r=n.indexOf(o);if(-1===r)return null;let i=r+t;return i>=n.length&&(i=0),i<0&&(i=n.length-1),n[i]},y=(t,e)=>{null!=t&&(null==r||r(t,e),null==p||p(t,e))};(0,e.useEffect)((()=>{if(v.current&&d.current){const t=v.current.querySelector("[".concat(Tr,"][aria-selected=true]"));null==t||t.focus()}d.current=!1}));const C=ir(n,v);return(0,a.jsx)(er.Provider,{value:y,children:(0,a.jsx)(yr.Provider,{value:{role:s,activeKey:tr(i),getControlledId:f||xr,getControllerId:g||xr},children:(0,a.jsx)(o,Object.assign({},u,{onKeyDown:t=>{if(null==l||l(t),!h)return;let e;switch(t.key){case"ArrowLeft":case"ArrowUp":e=m(-1);break;case"ArrowRight":case"ArrowDown":e=m(1);break;default:return}var n;e&&(t.preventDefault(),y(e.dataset[(n="EventKey","".concat("rrUi").concat(n))]||null,t),d.current=!0,c())},ref:C,role:s}))})})}));Rr.displayName="Nav";const Dr=Object.assign(Rr,{Item:Er}),Pr=e.createContext(null);Pr.displayName="NavbarContext";const Lr=Pr,Mr=e.createContext(null);Mr.displayName="CardHeaderContext";const Ar=Mr,kr=e.forwardRef(((t,e)=>{let{className:n,bsPrefix:o,as:r="div",...i}=t;return o=h(o,"nav-item"),(0,a.jsx)(r,{ref:e,className:s()(n,o),...i})}));kr.displayName="NavItem";const Nr=kr;const Fr="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,Ir="undefined"!==typeof document||Fr?e.useLayoutEffect:e.useEffect;new WeakMap;const Gr=["onKeyDown"];const Hr=e.forwardRef(((t,e)=>{let{onKeyDown:n}=t,o=function(t,e){if(null==t)return{};var n,o,r={},i=Object.keys(t);for(o=0;o<i.length;o++)n=i[o],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,Gr);const[r]=R(Object.assign({tagName:"a"},o)),i=or((t=>{r.onKeyDown(t),null==n||n(t)}));return(s=o.href)&&"#"!==s.trim()&&"button"!==o.role?(0,a.jsx)("a",Object.assign({ref:e},o,{onKeyDown:n})):(0,a.jsx)("a",Object.assign({ref:e},o,r,{onKeyDown:i}));var s}));Hr.displayName="Anchor";const Vr=Hr,jr=e.forwardRef(((t,e)=>{let{bsPrefix:n,className:o,as:r=Vr,active:i,eventKey:l,disabled:u=!1,...c}=t;n=h(n,"nav-link");const[d,p]=_r({key:tr(l,c.href),active:i,disabled:u,...c});return(0,a.jsx)(r,{...c,...d,ref:e,disabled:u,className:s()(o,n,u&&"disabled",p.isActive&&"active")})}));jr.displayName="NavLink";const Br=jr,Wr=e.forwardRef(((t,n)=>{const{as:o="div",bsPrefix:r,variant:i,fill:l=!1,justify:u=!1,navbar:c,navbarScroll:d,className:p,activeKey:f,...g}=Go(t,{activeKey:"onSelect"}),v=h(r,"nav");let m,y,C=!1;const w=(0,e.useContext)(Lr),b=(0,e.useContext)(Ar);return w?(m=w.bsPrefix,C=null==c||c):b&&({cardHeaderBsPrefix:y}=b),(0,a.jsx)(Dr,{as:o,ref:n,activeKey:f,className:s()(p,{[v]:!C,["".concat(m,"-nav")]:C,["".concat(m,"-nav-scroll")]:C&&d,["".concat(y,"-").concat(i)]:!!y,["".concat(v,"-").concat(i)]:!!i,["".concat(v,"-fill")]:l,["".concat(v,"-justified")]:u}),...g})}));Wr.displayName="Nav";const zr=Object.assign(Wr,{Item:Nr,Link:Br}),Ur=e.forwardRef(((t,e)=>{let{className:n,bsPrefix:o,as:r="div",...i}=t;return o=h(o,"tab-content"),(0,a.jsx)(r,{ref:e,className:s()(n,o),...i})}));Ur.displayName="TabContent";const Yr=Ur;var Kr=n(9611);const Zr=!1,qr=e.createContext(null);var Qr="unmounted",Xr="exited",$r="entering",Jr="entered",ti="exiting",ei=function(t){var n,o;function r(e,n){var o;o=t.call(this,e,n)||this;var r,i=n&&!n.isMounting?e.enter:e.appear;return o.appearStatus=null,e.in?i?(r=Xr,o.appearStatus=$r):r=Jr:r=e.unmountOnExit||e.mountOnEnter?Qr:Xr,o.state={status:r},o.nextCallback=null,o}o=t,(n=r).prototype=Object.create(o.prototype),n.prototype.constructor=n,(0,Kr.Z)(n,o),r.getDerivedStateFromProps=function(t,e){return t.in&&e.status===Qr?{status:Xr}:null};var i=r.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(t){var e=null;if(t!==this.props){var n=this.state.status;this.props.in?n!==$r&&n!==Jr&&(e=$r):n!==$r&&n!==Jr||(e=ti)}this.updateStatus(!1,e)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var t,e,n,o=this.props.timeout;return t=e=n=o,null!=o&&"number"!==typeof o&&(t=o.exit,e=o.enter,n=void 0!==o.appear?o.appear:e),{exit:t,enter:e,appear:n}},i.updateStatus=function(t,e){if(void 0===t&&(t=!1),null!==e)if(this.cancelNextCallback(),e===$r){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:et.findDOMNode(this);n&&function(t){t.scrollTop}(n)}this.performEnter(t)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Xr&&this.setState({status:Qr})},i.performEnter=function(t){var e=this,n=this.props.enter,o=this.context?this.context.isMounting:t,r=this.props.nodeRef?[o]:[et.findDOMNode(this),o],i=r[0],s=r[1],a=this.getTimeouts(),l=o?a.appear:a.enter;!t&&!n||Zr?this.safeSetState({status:Jr},(function(){e.props.onEntered(i)})):(this.props.onEnter(i,s),this.safeSetState({status:$r},(function(){e.props.onEntering(i,s),e.onTransitionEnd(l,(function(){e.safeSetState({status:Jr},(function(){e.props.onEntered(i,s)}))}))})))},i.performExit=function(){var t=this,e=this.props.exit,n=this.getTimeouts(),o=this.props.nodeRef?void 0:et.findDOMNode(this);e&&!Zr?(this.props.onExit(o),this.safeSetState({status:ti},(function(){t.props.onExiting(o),t.onTransitionEnd(n.exit,(function(){t.safeSetState({status:Xr},(function(){t.props.onExited(o)}))}))}))):this.safeSetState({status:Xr},(function(){t.props.onExited(o)}))},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(t,e){e=this.setNextCallback(e),this.setState(t,e)},i.setNextCallback=function(t){var e=this,n=!0;return this.nextCallback=function(o){n&&(n=!1,e.nextCallback=null,t(o))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},i.onTransitionEnd=function(t,e){this.setNextCallback(e);var n=this.props.nodeRef?this.props.nodeRef.current:et.findDOMNode(this),o=null==t&&!this.props.addEndListener;if(n&&!o){if(this.props.addEndListener){var r=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],i=r[0],s=r[1];this.props.addEndListener(i,s)}null!=t&&setTimeout(this.nextCallback,t)}else setTimeout(this.nextCallback,0)},i.render=function(){var t=this.state.status;if(t===Qr)return null;var n=this.props,o=n.children,r=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,No(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return e.createElement(qr.Provider,{value:null},"function"===typeof o?o(t,r):e.cloneElement(e.Children.only(o),r))},r}(e.Component);function ni(){}ei.contextType=qr,ei.propTypes={},ei.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ni,onEntering:ni,onEntered:ni,onExit:ni,onExiting:ni,onExited:ni},ei.UNMOUNTED=Qr,ei.EXITED=Xr,ei.ENTERING=$r,ei.ENTERED=Jr,ei.EXITING=ti;const oi=ei;function ri(t){return t&&t.ownerDocument||document}function ii(t,e){return function(t){var e=ri(t);return e&&e.defaultView||window}(t).getComputedStyle(t,e)}var si=/([A-Z])/g;var ai=/^ms-/;function li(t){return function(t){return t.replace(si,"-$1").toLowerCase()}(t).replace(ai,"-ms-")}var ui=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;const ci=function(t,e){var n="",o="";if("string"===typeof e)return t.style.getPropertyValue(li(e))||ii(t).getPropertyValue(li(e));Object.keys(e).forEach((function(r){var i=e[r];i||0===i?!function(t){return!(!t||!ui.test(t))}(r)?n+=li(r)+": "+i+";":o+=r+"("+i+") ":t.style.removeProperty(li(r))})),o&&(n+="transform: "+o+";"),t.style.cssText+=";"+n},di=!("undefined"===typeof window||!window.document||!window.document.createElement);var pi=!1,hi=!1;try{var fi={get passive(){return pi=!0},get once(){return hi=pi=!0}};di&&(window.addEventListener("test",fi,fi),window.removeEventListener("test",fi,!0))}catch(Mg){}const gi=function(t,e,n,o){if(o&&"boolean"!==typeof o&&!hi){var r=o.once,i=o.capture,s=n;!hi&&r&&(s=n.__once||function t(o){this.removeEventListener(e,t,i),n.call(this,o)},n.__once=s),t.addEventListener(e,s,pi?o:i)}t.addEventListener(e,n,o)};const vi=function(t,e,n,o){var r=o&&"boolean"!==typeof o?o.capture:o;t.removeEventListener(e,n,r),n.__once&&t.removeEventListener(e,n.__once,r)};const mi=function(t,e,n,o){return gi(t,e,n,o),function(){vi(t,e,n,o)}};function yi(t,e,n){void 0===n&&(n=5);var o=!1,r=setTimeout((function(){o||function(t,e,n,o){if(void 0===n&&(n=!1),void 0===o&&(o=!0),t){var r=document.createEvent("HTMLEvents");r.initEvent(e,n,o),t.dispatchEvent(r)}}(t,"transitionend",!0)}),e+n),i=mi(t,"transitionend",(function(){o=!0}),{once:!0});return function(){clearTimeout(r),i()}}function Ci(t,e,n,o){null==n&&(n=function(t){var e=ci(t,"transitionDuration")||"",n=-1===e.indexOf("ms")?1e3:1;return parseFloat(e)*n}(t)||0);var r=yi(t,n,o),i=mi(t,"transitionend",e);return function(){r(),i()}}function wi(t,e){const n=ci(t,e)||"",o=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*o}function bi(t,e){const n=wi(t,"transitionDuration"),o=wi(t,"transitionDelay"),r=Ci(t,(n=>{n.target===t&&(r(),e(n))}),n+o)}function _i(t){t.offsetHeight}const Si=e.forwardRef(((t,n)=>{let{onEnter:o,onEntering:r,onEntered:i,onExit:s,onExiting:l,onExited:u,addEndListener:c,children:d,childRef:p,...h}=t;const f=(0,e.useRef)(null),g=ir(f,p),v=t=>{var e;g((e=t)&&"setState"in e?et.findDOMNode(e):null!=e?e:null)},m=t=>e=>{t&&f.current&&t(f.current,e)},y=(0,e.useCallback)(m(o),[o]),C=(0,e.useCallback)(m(r),[r]),w=(0,e.useCallback)(m(i),[i]),b=(0,e.useCallback)(m(s),[s]),_=(0,e.useCallback)(m(l),[l]),S=(0,e.useCallback)(m(u),[u]),E=(0,e.useCallback)(m(c),[c]);return(0,a.jsx)(oi,{ref:n,...h,onEnter:y,onEntered:w,onEntering:C,onExit:b,onExited:S,onExiting:_,addEndListener:E,nodeRef:f,children:"function"===typeof d?(t,e)=>d(t,{...e,ref:v}):e.cloneElement(d,{ref:v})})})),Ei=Si,Oi={[$r]:"show",[Jr]:"show"},xi=e.forwardRef(((t,n)=>{let{className:o,children:r,transitionClasses:i={},onEnter:l,...u}=t;const c={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...u},d=(0,e.useCallback)(((t,e)=>{_i(t),null==l||l(t,e)}),[l]);return(0,a.jsx)(Ei,{ref:n,addEndListener:bi,...c,onEnter:d,childRef:r.ref,children:(t,n)=>e.cloneElement(r,{...n,className:s()("fade",o,r.props.className,Oi[t],i[t])})})}));xi.displayName="Fade";const Ti=xi;function Ri(t){return"boolean"===typeof t?t?Ti:sr:t}const Di=e.forwardRef(((t,e)=>{let{bsPrefix:n,transition:o,...r}=t;const[{className:i,as:l="div",...u},{isActive:c,onEnter:d,onEntering:p,onEntered:f,onExit:g,onExiting:v,onExited:m,mountOnEnter:y,unmountOnExit:C,transition:w=Ti}]=dr({...r,transition:Ri(o)}),b=h(n,"tab-pane");return(0,a.jsx)(Jo.Provider,{value:null,children:(0,a.jsx)(er.Provider,{value:null,children:(0,a.jsx)(w,{in:c,onEnter:d,onEntering:p,onEntered:f,onExit:g,onExiting:v,onExited:m,mountOnEnter:y,unmountOnExit:C,children:(0,a.jsx)(l,{...u,ref:e,className:s()(i,b,c&&"active")})})})})}));Di.displayName="TabPane";const Pi=Di;function Li(t,n){let o=0;return e.Children.map(t,(t=>e.isValidElement(t)?n(t,o++):t))}function Mi(t){let n;return function(t,n){let o=0;e.Children.forEach(t,(t=>{e.isValidElement(t)&&n(t,o++)}))}(t,(t=>{null==n&&(n=t.props.eventKey)})),n}function Ai(t){const{title:e,eventKey:n,disabled:o,tabClassName:r,tabAttrs:i,id:s}=t.props;return null==e?null:(0,a.jsx)(Nr,{as:"li",role:"presentation",children:(0,a.jsx)(Br,{as:"button",type:"button",eventKey:n,disabled:o,id:s,className:r,...i,children:e})})}const ki=t=>{const{id:e,onSelect:n,transition:o,mountOnEnter:r=!1,unmountOnExit:i=!1,variant:s="tabs",children:l,activeKey:u=Mi(l),...c}=Go(t,{activeKey:"onSelect"});return(0,a.jsxs)(fr,{id:e,activeKey:u,onSelect:n,transition:Ri(o),mountOnEnter:r,unmountOnExit:i,children:[(0,a.jsx)(zr,{...c,role:"tablist",as:"ul",variant:s,children:Li(l,Ai)}),(0,a.jsx)(Yr,{children:Li(l,(t=>{const e={...t.props};return delete e.title,delete e.disabled,delete e.tabClassName,delete e.tabAttrs,(0,a.jsx)(Pi,{...e})}))})]})};ki.displayName="Tabs";const Ni=ki,Fi=t=>{let{transition:e,...n}=t;return(0,a.jsx)(fr,{...n,transition:Ri(e)})};Fi.displayName="TabContainer";const Ii=Fi,Gi={eventKey:ft().oneOfType([ft().string,ft().number]),title:ft().node.isRequired,disabled:ft().bool,tabClassName:ft().string,tabAttrs:ft().object},Hi=()=>{throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")};Hi.propTypes=Gi;const Vi=Object.assign(Hi,{Container:Ii,Content:Yr,Pane:Pi});var ji=n(4942);function Bi(t){return t+.5|0}const Wi=(t,e,n)=>Math.max(Math.min(t,n),e);function zi(t){return Wi(Bi(2.55*t),0,255)}function Ui(t){return Wi(Bi(255*t),0,255)}function Yi(t){return Wi(Bi(t/2.55)/100,0,1)}function Ki(t){return Wi(Bi(100*t),0,100)}const Zi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},qi=[..."0123456789ABCDEF"],Qi=t=>qi[15&t],Xi=t=>qi[(240&t)>>4]+qi[15&t],$i=t=>(240&t)>>4===(15&t);function Ji(t){var e=(t=>$i(t.r)&&$i(t.g)&&$i(t.b)&&$i(t.a))(t)?Qi:Xi;return t?"#"+e(t.r)+e(t.g)+e(t.b)+((t,e)=>t<255?e(t):"")(t.a,e):void 0}const ts=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function es(t,e,n){const o=e*Math.min(n,1-n),r=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+t/30)%12;return n-o*Math.max(Math.min(r-3,9-r,1),-1)};return[r(0),r(8),r(4)]}function ns(t,e,n){const o=function(o){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(o+t/60)%6;return n-n*e*Math.max(Math.min(r,4-r,1),0)};return[o(5),o(3),o(1)]}function os(t,e,n){const o=es(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)o[r]*=1-e-n,o[r]+=e;return o}function rs(t){const e=t.r/255,n=t.g/255,o=t.b/255,r=Math.max(e,n,o),i=Math.min(e,n,o),s=(r+i)/2;let a,l,u;return r!==i&&(u=r-i,l=s>.5?u/(2-r-i):u/(r+i),a=function(t,e,n,o,r){return t===r?(e-n)/o+(e<n?6:0):e===r?(n-t)/o+2:(t-e)/o+4}(e,n,o,u,r),a=60*a+.5),[0|a,l||0,s]}function is(t,e,n,o){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,o)).map(Ui)}function ss(t,e,n){return is(es,t,e,n)}function as(t){return(t%360+360)%360}function ls(t){const e=ts.exec(t);let n,o=255;if(!e)return;e[5]!==n&&(o=e[6]?zi(+e[5]):Ui(+e[5]));const r=as(+e[2]),i=+e[3]/100,s=+e[4]/100;return n="hwb"===e[1]?function(t,e,n){return is(os,t,e,n)}(r,i,s):"hsv"===e[1]?function(t,e,n){return is(ns,t,e,n)}(r,i,s):ss(r,i,s),{r:n[0],g:n[1],b:n[2],a:o}}const us={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},cs={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let ds;function ps(t){ds||(ds=function(){const t={},e=Object.keys(cs),n=Object.keys(us);let o,r,i,s,a;for(o=0;o<e.length;o++){for(s=a=e[o],r=0;r<n.length;r++)i=n[r],a=a.replace(i,us[i]);i=parseInt(cs[s],16),t[a]=[i>>16&255,i>>8&255,255&i]}return t}(),ds.transparent=[0,0,0,0]);const e=ds[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}const hs=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const fs=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,gs=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function vs(t,e,n){if(t){let o=rs(t);o[e]=Math.max(0,Math.min(o[e]+o[e]*n,0===e?360:1)),o=ss(o),t.r=o[0],t.g=o[1],t.b=o[2]}}function ms(t,e){return t?Object.assign(e||{},t):t}function ys(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Ui(t[3]))):(e=ms(t,{r:0,g:0,b:0,a:1})).a=Ui(e.a),e}function Cs(t){return"r"===t.charAt(0)?function(t){const e=hs.exec(t);let n,o,r,i=255;if(e){if(e[7]!==n){const t=+e[7];i=e[8]?zi(t):Wi(255*t,0,255)}return n=+e[1],o=+e[3],r=+e[5],n=255&(e[2]?zi(n):Wi(n,0,255)),o=255&(e[4]?zi(o):Wi(o,0,255)),r=255&(e[6]?zi(r):Wi(r,0,255)),{r:n,g:o,b:r,a:i}}}(t):ls(t)}class ws{constructor(t){if(t instanceof ws)return t;const e=typeof t;let n;"object"===e?n=ys(t):"string"===e&&(n=function(t){var e,n=t.length;return"#"===t[0]&&(4===n||5===n?e={r:255&17*Zi[t[1]],g:255&17*Zi[t[2]],b:255&17*Zi[t[3]],a:5===n?17*Zi[t[4]]:255}:7!==n&&9!==n||(e={r:Zi[t[1]]<<4|Zi[t[2]],g:Zi[t[3]]<<4|Zi[t[4]],b:Zi[t[5]]<<4|Zi[t[6]],a:9===n?Zi[t[7]]<<4|Zi[t[8]]:255})),e}(t)||ps(t)||Cs(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=ms(this._rgb);return t&&(t.a=Yi(t.a)),t}set rgb(t){this._rgb=ys(t)}rgbString(){return this._valid?(t=this._rgb)&&(t.a<255?"rgba(".concat(t.r,", ").concat(t.g,", ").concat(t.b,", ").concat(Yi(t.a),")"):"rgb(".concat(t.r,", ").concat(t.g,", ").concat(t.b,")")):void 0;var t}hexString(){return this._valid?Ji(this._rgb):void 0}hslString(){return this._valid?function(t){if(!t)return;const e=rs(t),n=e[0],o=Ki(e[1]),r=Ki(e[2]);return t.a<255?"hsla(".concat(n,", ").concat(o,"%, ").concat(r,"%, ").concat(Yi(t.a),")"):"hsl(".concat(n,", ").concat(o,"%, ").concat(r,"%)")}(this._rgb):void 0}mix(t,e){if(t){const n=this.rgb,o=t.rgb;let r;const i=e===r?.5:e,s=2*i-1,a=n.a-o.a,l=((s*a===-1?s:(s+a)/(1+s*a))+1)/2;r=1-l,n.r=255&l*n.r+r*o.r+.5,n.g=255&l*n.g+r*o.g+.5,n.b=255&l*n.b+r*o.b+.5,n.a=i*n.a+(1-i)*o.a,this.rgb=n}return this}interpolate(t,e){return t&&(this._rgb=function(t,e,n){const o=gs(Yi(t.r)),r=gs(Yi(t.g)),i=gs(Yi(t.b));return{r:Ui(fs(o+n*(gs(Yi(e.r))-o))),g:Ui(fs(r+n*(gs(Yi(e.g))-r))),b:Ui(fs(i+n*(gs(Yi(e.b))-i))),a:t.a+n*(e.a-t.a)}}(this._rgb,t._rgb,e)),this}clone(){return new ws(this.rgb)}alpha(t){return this._rgb.a=Ui(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=Bi(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return vs(this._rgb,2,t),this}darken(t){return vs(this._rgb,2,-t),this}saturate(t){return vs(this._rgb,1,t),this}desaturate(t){return vs(this._rgb,1,-t),this}rotate(t){return function(t,e){var n=rs(t);n[0]=as(n[0]+e),n=ss(n),t.r=n[0],t.g=n[1],t.b=n[2]}(this._rgb,t),this}}function bs(){}const _s=(()=>{let t=0;return()=>t++})();function Ss(t){return null===t||"undefined"===typeof t}function Es(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return"[object"===e.slice(0,7)&&"Array]"===e.slice(-6)}function Os(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}function xs(t){return("number"===typeof t||t instanceof Number)&&isFinite(+t)}function Ts(t,e){return xs(t)?t:e}function Rs(t,e){return"undefined"===typeof t?e:t}const Ds=(t,e)=>"string"===typeof t&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Ps(t,e,n){if(t&&"function"===typeof t.call)return t.apply(n,e)}function Ls(t,e,n,o){let r,i,s;if(Es(t))if(i=t.length,o)for(r=i-1;r>=0;r--)e.call(n,t[r],r);else for(r=0;r<i;r++)e.call(n,t[r],r);else if(Os(t))for(s=Object.keys(t),i=s.length,r=0;r<i;r++)e.call(n,t[s[r]],s[r])}function Ms(t,e){let n,o,r,i;if(!t||!e||t.length!==e.length)return!1;for(n=0,o=t.length;n<o;++n)if(r=t[n],i=e[n],r.datasetIndex!==i.datasetIndex||r.index!==i.index)return!1;return!0}function As(t){if(Es(t))return t.map(As);if(Os(t)){const e=Object.create(null),n=Object.keys(t),o=n.length;let r=0;for(;r<o;++r)e[n[r]]=As(t[n[r]]);return e}return t}function ks(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function Ns(t,e,n,o){if(!ks(t))return;const r=e[t],i=n[t];Os(r)&&Os(i)?Fs(r,i,o):e[t]=As(i)}function Fs(t,e,n){const o=Es(e)?e:[e],r=o.length;if(!Os(t))return t;const i=(n=n||{}).merger||Ns;let s;for(let a=0;a<r;++a){if(s=o[a],!Os(s))continue;const e=Object.keys(s);for(let o=0,r=e.length;o<r;++o)i(e[o],t,s,n)}return t}function Is(t,e){return Fs(t,e,{merger:Gs})}function Gs(t,e,n){if(!ks(t))return;const o=e[t],r=n[t];Os(o)&&Os(r)?Is(o,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=As(r))}const Hs={"":t=>t,x:t=>t.x,y:t=>t.y};function Vs(t,e){const n=Hs[e]||(Hs[e]=function(t){const e=function(t){const e=t.split("."),n=[];let o="";for(const r of e)o+=r,o.endsWith("\\")?o=o.slice(0,-1)+".":(n.push(o),o="");return n}(t);return t=>{for(const n of e){if(""===n)break;t=t&&t[n]}return t}}(e));return n(t)}function js(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Bs=t=>"undefined"!==typeof t,Ws=t=>"function"===typeof t,zs=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};const Us=Math.PI,Ys=2*Us,Ks=Ys+Us,Zs=Number.POSITIVE_INFINITY,qs=Us/180,Qs=Us/2,Xs=Us/4,$s=2*Us/3,Js=Math.log10,ta=Math.sign;function ea(t,e,n){return Math.abs(t-e)<n}function na(t){const e=Math.round(t);t=ea(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Js(t))),o=t/n;return(o<=1?1:o<=2?2:o<=5?5:10)*n}function oa(t){return!isNaN(parseFloat(t))&&isFinite(t)}function ra(t,e,n){let o,r,i;for(o=0,r=t.length;o<r;o++)i=t[o][n],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function ia(t){return t*(Us/180)}function sa(t){return t*(180/Us)}function aa(t){if(!xs(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function la(t,e){const n=e.x-t.x,o=e.y-t.y,r=Math.sqrt(n*n+o*o);let i=Math.atan2(o,n);return i<-.5*Us&&(i+=Ys),{angle:i,distance:r}}function ua(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function ca(t,e){return(t-e+Ks)%Ys-Us}function da(t){return(t%Ys+Ys)%Ys}function pa(t,e,n,o){const r=da(t),i=da(e),s=da(n),a=da(i-r),l=da(s-r),u=da(r-i),c=da(r-s);return r===i||r===s||o&&i===s||a>l&&u<c}function ha(t,e,n){return Math.max(e,Math.min(n,t))}function fa(t,e,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return t>=Math.min(e,n)-o&&t<=Math.max(e,n)+o}function ga(t,e,n){n=n||(n=>t[n]<e);let o,r=t.length-1,i=0;for(;r-i>1;)o=i+r>>1,n(o)?i=o:r=o;return{lo:i,hi:r}}const va=(t,e,n,o)=>ga(t,n,o?o=>{const r=t[o][e];return r<n||r===n&&t[o+1][e]===n}:o=>t[o][e]<n),ma=(t,e,n)=>ga(t,n,(o=>t[o][e]>=n));const ya=["push","pop","shift","splice","unshift"];function Ca(t,e){const n=t._chartjs;if(!n)return;const o=n.listeners,r=o.indexOf(e);-1!==r&&o.splice(r,1),o.length>0||(ya.forEach((e=>{delete t[e]})),delete t._chartjs)}function wa(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const ba="undefined"===typeof window?function(t){return t()}:window.requestAnimationFrame;function _a(t,e){let n=[],o=!1;return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];n=i,o||(o=!0,ba.call(window,(()=>{o=!1,t.apply(e,n)})))}}const Sa=t=>"start"===t?"left":"end"===t?"right":"center",Ea=(t,e,n)=>"start"===t?e:"end"===t?n:(e+n)/2;function Oa(t,e,n){const o=e.length;let r=0,i=o;if(t._sorted){const{iScale:s,_parsed:a}=t,l=s.axis,{min:u,max:c,minDefined:d,maxDefined:p}=s.getUserBounds();d&&(r=ha(Math.min(va(a,l,u).lo,n?o:va(e,l,s.getPixelForValue(u)).lo),0,o-1)),i=p?ha(Math.max(va(a,s.axis,c,!0).hi+1,n?0:va(e,l,s.getPixelForValue(c),!0).hi+1),r,o)-r:o-r}return{start:r,count:i}}function xa(t){const{xScale:e,yScale:n,_scaleRanges:o}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!o)return t._scaleRanges=r,!0;const i=o.xmin!==e.min||o.xmax!==e.max||o.ymin!==n.min||o.ymax!==n.max;return Object.assign(o,r),i}const Ta=t=>0===t||1===t,Ra=(t,e,n)=>-Math.pow(2,10*(t-=1))*Math.sin((t-e)*Ys/n),Da=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Ys/n)+1,Pa={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*Qs),easeOutSine:t=>Math.sin(t*Qs),easeInOutSine:t=>-.5*(Math.cos(Us*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>Ta(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1))),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Ta(t)?t:Ra(t,.075,.3),easeOutElastic:t=>Ta(t)?t:Da(t,.075,.3),easeInOutElastic(t){const e=.1125;return Ta(t)?t:t<.5?.5*Ra(2*t,e,.45):.5+.5*Da(2*t-1,e,.45)},easeInBack(t){const e=1.70158;return t*t*((e+1)*t-e)},easeOutBack(t){const e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:t=>1-Pa.easeOutBounce(1-t),easeOutBounce(t){const e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375},easeInOutBounce:t=>t<.5?.5*Pa.easeInBounce(2*t):.5*Pa.easeOutBounce(2*t-1)+.5};function La(t){if(t&&"object"===typeof t){const e=t.toString();return"[object CanvasPattern]"===e||"[object CanvasGradient]"===e}return!1}function Ma(t){return La(t)?t:new ws(t)}function Aa(t){return La(t)?t:new ws(t).saturate(.5).darken(.1).hexString()}const ka=["x","y","borderWidth","radius","tension"],Na=["color","borderColor","backgroundColor"];const Fa=new Map;function Ia(t,e,n){return function(t,e){e=e||{};const n=t+JSON.stringify(e);let o=Fa.get(n);return o||(o=new Intl.NumberFormat(t,e),Fa.set(n,o)),o}(e,n).format(t)}const Ga={values:t=>Es(t)?t:""+t,numeric(t,e,n){if(0===t)return"0";const o=this.chart.options.locale;let r,i=t;if(n.length>1){const e=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(e<1e-4||e>1e15)&&(r="scientific"),i=function(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t));return n}(t,n)}const s=Js(Math.abs(i)),a=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Ia(t,o,l)},logarithmic(t,e,n){if(0===t)return"0";const o=n[e].significand||t/Math.pow(10,Math.floor(Js(t)));return[1,2,3,5,10,15].includes(o)||e>.8*n.length?Ga.numeric.call(this,t,e,n):""}};var Ha={formatters:Ga};const Va=Object.create(null),ja=Object.create(null);function Ba(t,e){if(!e)return t;const n=e.split(".");for(let o=0,r=n.length;o<r;++o){const e=n[o];t=t[e]||(t[e]=Object.create(null))}return t}function Wa(t,e,n){return"string"===typeof e?Fs(Ba(t,e),n):Fs(Ba(t,""),e)}class za{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,e)=>Aa(e.backgroundColor),this.hoverBorderColor=(t,e)=>Aa(e.borderColor),this.hoverColor=(t,e)=>Aa(e.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Wa(this,t,e)}get(t){return Ba(this,t)}describe(t,e){return Wa(ja,t,e)}override(t,e){return Wa(Va,t,e)}route(t,e,n,o){const r=Ba(this,t),i=Ba(this,n),s="_"+e;Object.defineProperties(r,{[s]:{value:r[e],writable:!0},[e]:{enumerable:!0,get(){const t=this[s],e=i[o];return Os(t)?Object.assign({},e,t):Rs(t,e)},set(t){this[s]=t}}})}apply(t){t.forEach((t=>t(this)))}}var Ua=new za({_scriptable:t=>!t.startsWith("on"),_indexable:t=>"events"!==t,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),t.set("animations",{colors:{type:"color",properties:Na},numbers:{type:"number",properties:ka}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}})},function(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ha.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t&&"dash"!==t}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t})}]);function Ya(t,e,n,o,r){let i=e[r];return i||(i=e[r]=t.measureText(r).width,n.push(r)),i>o&&(o=i),o}function Ka(t,e,n,o){let r=(o=o||{}).data=o.data||{},i=o.garbageCollect=o.garbageCollect||[];o.font!==e&&(r=o.data={},i=o.garbageCollect=[],o.font=e),t.save(),t.font=e;let s=0;const a=n.length;let l,u,c,d,p;for(l=0;l<a;l++)if(d=n[l],void 0===d||null===d||Es(d)){if(Es(d))for(u=0,c=d.length;u<c;u++)p=d[u],void 0===p||null===p||Es(p)||(s=Ya(t,r,i,s,p))}else s=Ya(t,r,i,s,d);t.restore();const h=i.length/2;if(h>n.length){for(l=0;l<h;l++)delete r[i[l]];i.splice(0,h)}return s}function Za(t,e,n){const o=t.currentDevicePixelRatio,r=0!==n?Math.max(n/2,.5):0;return Math.round((e-r)*o)/o+r}function qa(t,e){(e=e||t.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function Qa(t,e,n,o){Xa(t,e,n,o,null)}function Xa(t,e,n,o,r){let i,s,a,l,u,c,d,p;const h=e.pointStyle,f=e.rotation,g=e.radius;let v=(f||0)*qs;if(h&&"object"===typeof h&&(i=h.toString(),"[object HTMLImageElement]"===i||"[object HTMLCanvasElement]"===i))return t.save(),t.translate(n,o),t.rotate(v),t.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),void t.restore();if(!(isNaN(g)||g<=0)){switch(t.beginPath(),h){default:r?t.ellipse(n,o,r/2,g,0,0,Ys):t.arc(n,o,g,0,Ys),t.closePath();break;case"triangle":c=r?r/2:g,t.moveTo(n+Math.sin(v)*c,o-Math.cos(v)*g),v+=$s,t.lineTo(n+Math.sin(v)*c,o-Math.cos(v)*g),v+=$s,t.lineTo(n+Math.sin(v)*c,o-Math.cos(v)*g),t.closePath();break;case"rectRounded":u=.516*g,l=g-u,s=Math.cos(v+Xs)*l,d=Math.cos(v+Xs)*(r?r/2-u:l),a=Math.sin(v+Xs)*l,p=Math.sin(v+Xs)*(r?r/2-u:l),t.arc(n-d,o-a,u,v-Us,v-Qs),t.arc(n+p,o-s,u,v-Qs,v),t.arc(n+d,o+a,u,v,v+Qs),t.arc(n-p,o+s,u,v+Qs,v+Us),t.closePath();break;case"rect":if(!f){l=Math.SQRT1_2*g,c=r?r/2:l,t.rect(n-c,o-l,2*c,2*l);break}v+=Xs;case"rectRot":d=Math.cos(v)*(r?r/2:g),s=Math.cos(v)*g,a=Math.sin(v)*g,p=Math.sin(v)*(r?r/2:g),t.moveTo(n-d,o-a),t.lineTo(n+p,o-s),t.lineTo(n+d,o+a),t.lineTo(n-p,o+s),t.closePath();break;case"crossRot":v+=Xs;case"cross":d=Math.cos(v)*(r?r/2:g),s=Math.cos(v)*g,a=Math.sin(v)*g,p=Math.sin(v)*(r?r/2:g),t.moveTo(n-d,o-a),t.lineTo(n+d,o+a),t.moveTo(n+p,o-s),t.lineTo(n-p,o+s);break;case"star":d=Math.cos(v)*(r?r/2:g),s=Math.cos(v)*g,a=Math.sin(v)*g,p=Math.sin(v)*(r?r/2:g),t.moveTo(n-d,o-a),t.lineTo(n+d,o+a),t.moveTo(n+p,o-s),t.lineTo(n-p,o+s),v+=Xs,d=Math.cos(v)*(r?r/2:g),s=Math.cos(v)*g,a=Math.sin(v)*g,p=Math.sin(v)*(r?r/2:g),t.moveTo(n-d,o-a),t.lineTo(n+d,o+a),t.moveTo(n+p,o-s),t.lineTo(n-p,o+s);break;case"line":s=r?r/2:Math.cos(v)*g,a=Math.sin(v)*g,t.moveTo(n-s,o-a),t.lineTo(n+s,o+a);break;case"dash":t.moveTo(n,o),t.lineTo(n+Math.cos(v)*(r?r/2:g),o+Math.sin(v)*g);break;case!1:t.closePath()}t.fill(),e.borderWidth>0&&t.stroke()}}function $a(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Ja(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function tl(t){t.restore()}function el(t,e,n,o,r){if(!e)return t.lineTo(n.x,n.y);if("middle"===r){const o=(e.x+n.x)/2;t.lineTo(o,e.y),t.lineTo(o,n.y)}else"after"===r!==!!o?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function nl(t,e,n,o){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(o?e.cp1x:e.cp2x,o?e.cp1y:e.cp2y,o?n.cp2x:n.cp1x,o?n.cp2y:n.cp1y,n.x,n.y)}function ol(t,e,n,o,r){if(r.strikethrough||r.underline){const i=t.measureText(o),s=e-i.actualBoundingBoxLeft,a=e+i.actualBoundingBoxRight,l=n-i.actualBoundingBoxAscent,u=n+i.actualBoundingBoxDescent,c=r.strikethrough?(l+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(s,c),t.lineTo(a,c),t.stroke()}}function rl(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function il(t,e,n,o,r){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=Es(e)?e:[e],a=i.strokeWidth>0&&""!==i.strokeColor;let l,u;for(t.save(),t.font=r.string,function(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Ss(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}(t,i),l=0;l<s.length;++l)u=s[l],i.backdrop&&rl(t,i.backdrop),a&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),Ss(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(u,n,o,i.maxWidth)),t.fillText(u,n,o,i.maxWidth),ol(t,n,o,u,i),o+=Number(r.lineHeight);t.restore()}function sl(t,e){const{x:n,y:o,w:r,h:i,radius:s}=e;t.arc(n+s.topLeft,o+s.topLeft,s.topLeft,1.5*Us,Us,!0),t.lineTo(n,o+i-s.bottomLeft),t.arc(n+s.bottomLeft,o+i-s.bottomLeft,s.bottomLeft,Us,Qs,!0),t.lineTo(n+r-s.bottomRight,o+i),t.arc(n+r-s.bottomRight,o+i-s.bottomRight,s.bottomRight,Qs,0,!0),t.lineTo(n+r,o+s.topRight),t.arc(n+r-s.topRight,o+s.topRight,s.topRight,0,-Qs,!0),t.lineTo(n+s.topLeft,o)}const al=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,ll=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function ul(t,e){const n=(""+t).match(al);if(!n||"normal"===n[1])return 1.2*e;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100}return e*t}const cl=t=>+t||0;function dl(t,e){const n={},o=Os(e),r=o?Object.keys(e):e,i=Os(t)?o?n=>Rs(t[n],t[e[n]]):e=>t[e]:()=>t;for(const s of r)n[s]=cl(i(s));return n}function pl(t){return dl(t,{top:"y",right:"x",bottom:"y",left:"x"})}function hl(t){return dl(t,["topLeft","topRight","bottomLeft","bottomRight"])}function fl(t){const e=pl(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function gl(t,e){t=t||{},e=e||Ua.font;let n=Rs(t.size,e.size);"string"===typeof n&&(n=parseInt(n,10));let o=Rs(t.style,e.style);o&&!(""+o).match(ll)&&(console.warn('Invalid font style specified: "'+o+'"'),o=void 0);const r={family:Rs(t.family,e.family),lineHeight:ul(Rs(t.lineHeight,e.lineHeight),n),size:n,style:o,weight:Rs(t.weight,e.weight),string:""};return r.string=function(t){return!t||Ss(t.size)||Ss(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}(r),r}function vl(t,e,n,o){let r,i,s,a=!0;for(r=0,i=t.length;r<i;++r)if(s=t[r],void 0!==s&&(void 0!==e&&"function"===typeof s&&(s=s(e),a=!1),void 0!==n&&Es(s)&&(s=s[n%s.length],a=!1),void 0!==s))return o&&!a&&(o.cacheable=!1),s}function ml(t,e){return Object.assign(Object.create(t),e)}function yl(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>t[0];const r=(arguments.length>2?arguments[2]:void 0)||t;"undefined"===typeof n&&(n=Dl("_fallback",t));const i={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:n,_getTarget:o,override:o=>yl([o,...t],e,r,n)};return new Proxy(i,{deleteProperty:(e,n)=>(delete e[n],delete e._keys,delete t[0][n],!0),get:(n,o)=>Sl(n,o,(()=>function(t,e,n,o){let r;for(const i of e)if(r=Dl(bl(i,t),n),"undefined"!==typeof r)return _l(t,r)?Tl(n,o,t,r):r}(o,e,t,n))),getOwnPropertyDescriptor:(t,e)=>Reflect.getOwnPropertyDescriptor(t._scopes[0],e),getPrototypeOf:()=>Reflect.getPrototypeOf(t[0]),has:(t,e)=>Pl(t).includes(e),ownKeys:t=>Pl(t),set(t,e,n){const r=t._storage||(t._storage=o());return t[e]=r[e]=n,delete t._keys,!0}})}function Cl(t,e,n,o){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:wl(t,o),setContext:e=>Cl(t,e,n,o),override:r=>Cl(t.override(r),e,n,o)};return new Proxy(r,{deleteProperty:(e,n)=>(delete e[n],delete t[n],!0),get:(t,e,n)=>Sl(t,e,(()=>function(t,e,n){const{_proxy:o,_context:r,_subProxy:i,_descriptors:s}=t;let a=o[e];Ws(a)&&s.isScriptable(e)&&(a=function(t,e,n,o){const{_proxy:r,_context:i,_subProxy:s,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(i,s||o);a.delete(t),_l(t,l)&&(l=Tl(r._scopes,r,t,l));return l}(e,a,t,n));Es(a)&&a.length&&(a=function(t,e,n,o){const{_proxy:r,_context:i,_subProxy:s,_descriptors:a}=n;if("undefined"!==typeof i.index&&o(t))return e[i.index%e.length];if(Os(e[0])){const n=e,o=r._scopes.filter((t=>t!==n));e=[];for(const l of n){const n=Tl(o,r,t,l);e.push(Cl(n,i,s&&s[t],a))}}return e}(e,a,t,s.isIndexable));_l(e,a)&&(a=Cl(a,r,i&&i[e],s));return a}(t,e,n))),getOwnPropertyDescriptor:(e,n)=>e._descriptors.allKeys?Reflect.has(t,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,n),getPrototypeOf:()=>Reflect.getPrototypeOf(t),has:(e,n)=>Reflect.has(t,n),ownKeys:()=>Reflect.ownKeys(t),set:(e,n,o)=>(t[n]=o,delete e[n],!0)})}function wl(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:n=e.scriptable,_indexable:o=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:o,isScriptable:Ws(n)?n:()=>n,isIndexable:Ws(o)?o:()=>o}}const bl=(t,e)=>t?t+js(e):e,_l=(t,e)=>Os(e)&&"adapters"!==t&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function Sl(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const o=n();return t[e]=o,o}function El(t,e,n){return Ws(t)?t(e,n):t}const Ol=(t,e)=>!0===t?e:"string"===typeof t?Vs(e,t):void 0;function xl(t,e,n,o,r){for(const i of e){const e=Ol(n,i);if(e){t.add(e);const i=El(e._fallback,n,r);if("undefined"!==typeof i&&i!==n&&i!==o)return i}else if(!1===e&&"undefined"!==typeof o&&n!==o)return null}return!1}function Tl(t,e,n,o){const r=e._rootScopes,i=El(e._fallback,n,o),s=[...t,...r],a=new Set;a.add(o);let l=Rl(a,s,n,i||n,o);return null!==l&&(("undefined"===typeof i||i===n||(l=Rl(a,s,i,l,o),null!==l))&&yl(Array.from(a),[""],r,i,(()=>function(t,e,n){const o=t._getTarget();e in o||(o[e]={});const r=o[e];if(Es(r)&&Os(n))return n;return r||{}}(e,n,o))))}function Rl(t,e,n,o,r){for(;n;)n=xl(t,e,n,o,r);return n}function Dl(t,e){for(const n of e){if(!n)continue;const e=n[t];if("undefined"!==typeof e)return e}}function Pl(t){let e=t._keys;return e||(e=t._keys=function(t){const e=new Set;for(const n of t)for(const t of Object.keys(n).filter((t=>!t.startsWith("_"))))e.add(t);return Array.from(e)}(t._scopes)),e}function Ll(t,e,n,o){const{iScale:r}=t,{key:i="r"}=this._parsing,s=new Array(o);let a,l,u,c;for(a=0,l=o;a<l;++a)u=a+n,c=e[u],s[a]={r:r.parse(Vs(c,i),u)};return s}const Ml=Number.EPSILON||1e-14,Al=(t,e)=>e<t.length&&!t[e].skip&&t[e],kl=t=>"x"===t?"y":"x";function Nl(t,e,n,o){const r=t.skip?e:t,i=e,s=n.skip?e:n,a=ua(i,r),l=ua(s,i);let u=a/(a+l),c=l/(a+l);u=isNaN(u)?0:u,c=isNaN(c)?0:c;const d=o*u,p=o*c;return{previous:{x:i.x-d*(s.x-r.x),y:i.y-d*(s.y-r.y)},next:{x:i.x+p*(s.x-r.x),y:i.y+p*(s.y-r.y)}}}function Fl(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const n=kl(e),o=t.length,r=Array(o).fill(0),i=Array(o);let s,a,l,u=Al(t,0);for(s=0;s<o;++s)if(a=l,l=u,u=Al(t,s+1),l){if(u){const t=u[e]-l[e];r[s]=0!==t?(u[n]-l[n])/t:0}i[s]=a?u?ta(r[s-1])!==ta(r[s])?0:(r[s-1]+r[s])/2:r[s-1]:r[s]}!function(t,e,n){const o=t.length;let r,i,s,a,l,u=Al(t,0);for(let c=0;c<o-1;++c)l=u,u=Al(t,c+1),l&&u&&(ea(e[c],0,Ml)?n[c]=n[c+1]=0:(r=n[c]/e[c],i=n[c+1]/e[c],a=Math.pow(r,2)+Math.pow(i,2),a<=9||(s=3/Math.sqrt(a),n[c]=r*s*e[c],n[c+1]=i*s*e[c])))}(t,r,i),function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const o=kl(n),r=t.length;let i,s,a,l=Al(t,0);for(let u=0;u<r;++u){if(s=a,a=l,l=Al(t,u+1),!a)continue;const r=a[n],c=a[o];s&&(i=(r-s[n])/3,a["cp1".concat(n)]=r-i,a["cp1".concat(o)]=c-i*e[u]),l&&(i=(l[n]-r)/3,a["cp2".concat(n)]=r+i,a["cp2".concat(o)]=c+i*e[u])}}(t,i,e)}function Il(t,e,n){return Math.max(Math.min(t,n),e)}function Gl(t,e,n,o,r){let i,s,a,l;if(e.spanGaps&&(t=t.filter((t=>!t.skip))),"monotone"===e.cubicInterpolationMode)Fl(t,r);else{let n=o?t[t.length-1]:t[0];for(i=0,s=t.length;i<s;++i)a=t[i],l=Nl(n,a,t[Math.min(i+1,s-(o?0:1))%s],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,n=a}e.capBezierPoints&&function(t,e){let n,o,r,i,s,a=$a(t[0],e);for(n=0,o=t.length;n<o;++n)s=i,i=a,a=n<o-1&&$a(t[n+1],e),i&&(r=t[n],s&&(r.cp1x=Il(r.cp1x,e.left,e.right),r.cp1y=Il(r.cp1y,e.top,e.bottom)),a&&(r.cp2x=Il(r.cp2x,e.left,e.right),r.cp2y=Il(r.cp2y,e.top,e.bottom)))}(t,n)}function Hl(){return"undefined"!==typeof window&&"undefined"!==typeof document}function Vl(t){let e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function jl(t,e,n){let o;return"string"===typeof t?(o=parseInt(t,10),-1!==t.indexOf("%")&&(o=o/100*e.parentNode[n])):o=t,o}const Bl=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);const Wl=["top","right","bottom","left"];function zl(t,e,n){const o={};n=n?"-"+n:"";for(let r=0;r<4;r++){const i=Wl[r];o[i]=parseFloat(t[e+"-"+i+n])||0}return o.width=o.left+o.right,o.height=o.top+o.bottom,o}const Ul=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function Yl(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:o}=e,r=Bl(n),i="border-box"===r.boxSizing,s=zl(r,"padding"),a=zl(r,"border","width"),{x:l,y:u,box:c}=function(t,e){const n=t.touches,o=n&&n.length?n[0]:t,{offsetX:r,offsetY:i}=o;let s,a,l=!1;if(Ul(r,i,t.target))s=r,a=i;else{const t=e.getBoundingClientRect();s=o.clientX-t.left,a=o.clientY-t.top,l=!0}return{x:s,y:a,box:l}}(t,n),d=s.left+(c&&a.left),p=s.top+(c&&a.top);let{width:h,height:f}=e;return i&&(h-=s.width+a.width,f-=s.height+a.height),{x:Math.round((l-d)/h*n.width/o),y:Math.round((u-p)/f*n.height/o)}}const Kl=t=>Math.round(10*t)/10;function Zl(t,e,n,o){const r=Bl(t),i=zl(r,"margin"),s=jl(r.maxWidth,t,"clientWidth")||Zs,a=jl(r.maxHeight,t,"clientHeight")||Zs,l=function(t,e,n){let o,r;if(void 0===e||void 0===n){const i=Vl(t);if(i){const t=i.getBoundingClientRect(),s=Bl(i),a=zl(s,"border","width"),l=zl(s,"padding");e=t.width-l.width-a.width,n=t.height-l.height-a.height,o=jl(s.maxWidth,i,"clientWidth"),r=jl(s.maxHeight,i,"clientHeight")}else e=t.clientWidth,n=t.clientHeight}return{width:e,height:n,maxWidth:o||Zs,maxHeight:r||Zs}}(t,e,n);let{width:u,height:c}=l;if("content-box"===r.boxSizing){const t=zl(r,"border","width"),e=zl(r,"padding");u-=e.width+t.width,c-=e.height+t.height}u=Math.max(0,u-i.width),c=Math.max(0,o?u/o:c-i.height),u=Kl(Math.min(u,s,l.maxWidth)),c=Kl(Math.min(c,a,l.maxHeight)),u&&!c&&(c=Kl(u/2));return(void 0!==e||void 0!==n)&&o&&l.height&&c>l.height&&(c=l.height,u=Kl(Math.floor(c*o))),{width:u,height:c}}function ql(t,e,n){const o=e||1,r=Math.floor(t.height*o),i=Math.floor(t.width*o);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const s=t.canvas;return s.style&&(n||!s.style.height&&!s.style.width)&&(s.style.height="".concat(t.height,"px"),s.style.width="".concat(t.width,"px")),(t.currentDevicePixelRatio!==o||s.height!==r||s.width!==i)&&(t.currentDevicePixelRatio=o,s.height=r,s.width=i,t.ctx.setTransform(o,0,0,o,0,0),!0)}const Ql=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Hl()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch(Mg){}return t}();function Xl(t,e){const n=function(t,e){return Bl(t).getPropertyValue(e)}(t,e),o=n&&n.match(/^(\d+)(\.\d+)?px$/);return o?+o[1]:void 0}function $l(t,e,n,o){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function Jl(t,e,n,o){return{x:t.x+n*(e.x-t.x),y:"middle"===o?n<.5?t.y:e.y:"after"===o?n<1?t.y:e.y:n>0?e.y:t.y}}function tu(t,e,n,o){const r={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},s=$l(t,r,n),a=$l(r,i,n),l=$l(i,e,n),u=$l(s,a,n),c=$l(a,l,n);return $l(u,c,n)}function eu(t,e,n){return t?function(t,e){return{x:n=>t+t+e-n,setWidth(t){e=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,e)=>t-e,leftForLtr:(t,e)=>t-e}}(e,n):{x:t=>t,setWidth(t){},textAlign:t=>t,xPlus:(t,e)=>t+e,leftForLtr:(t,e)=>t}}function nu(t,e){let n,o;"ltr"!==e&&"rtl"!==e||(n=t.canvas.style,o=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=o)}function ou(t,e){void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function ru(t){return"angle"===t?{between:pa,compare:ca,normalize:da}:{between:fa,compare:(t,e)=>t-e,normalize:t=>t}}function iu(t){let{start:e,end:n,count:o,loop:r,style:i}=t;return{start:e%o,end:n%o,loop:r&&(n-e+1)%o===0,style:i}}function su(t,e,n){if(!n)return[t];const{property:o,start:r,end:i}=n,s=e.length,{compare:a,between:l,normalize:u}=ru(o),{start:c,end:d,loop:p,style:h}=function(t,e,n){const{property:o,start:r,end:i}=n,{between:s,normalize:a}=ru(o),l=e.length;let u,c,{start:d,end:p,loop:h}=t;if(h){for(d+=l,p+=l,u=0,c=l;u<c&&s(a(e[d%l][o]),r,i);++u)d--,p--;d%=l,p%=l}return p<d&&(p+=l),{start:d,end:p,loop:h,style:t.style}}(t,e,n),f=[];let g,v,m,y=!1,C=null;const w=()=>y||l(r,m,g)&&0!==a(r,m),b=()=>!y||0===a(i,g)||l(i,m,g);for(let _=c,S=c;_<=d;++_)v=e[_%s],v.skip||(g=u(v[o]),g!==m&&(y=l(g,r,i),null===C&&w()&&(C=0===a(g,r)?_:S),null!==C&&b()&&(f.push(iu({start:C,end:_,loop:p,count:s,style:h})),C=null),S=_,m=g));return null!==C&&f.push(iu({start:C,end:d,loop:p,count:s,style:h})),f}function au(t,e){const n=[],o=t.segments;for(let r=0;r<o.length;r++){const i=su(o[r],t.points,e);i.length&&n.push(...i)}return n}function lu(t,e,n,o){return o&&o.setContext&&n?function(t,e,n,o){const r=t._chart.getContext(),i=uu(t.options),{_datasetIndex:s,options:{spanGaps:a}}=t,l=n.length,u=[];let c=i,d=e[0].start,p=d;function h(t,e,o,r){const i=a?-1:1;if(t!==e){for(t+=l;n[t%l].skip;)t-=i;for(;n[e%l].skip;)e+=i;t%l!==e%l&&(u.push({start:t%l,end:e%l,loop:o,style:r}),c=r,d=e%l)}}for(const f of e){d=a?d:f.start;let t,e=n[d%l];for(p=d+1;p<=f.end;p++){const i=n[p%l];t=uu(o.setContext(ml(r,{type:"segment",p0:e,p1:i,p0DataIndex:(p-1)%l,p1DataIndex:p%l,datasetIndex:s}))),cu(t,c)&&h(d,p-1,f.loop,c),e=i,c=t}d<p-1&&h(d,p-1,f.loop,c)}return u}(t,e,n,o):e}function uu(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function cu(t,e){if(!e)return!1;const n=[],o=function(t,e){return La(e)?(n.includes(e)||n.push(e),n.indexOf(e)):e};return JSON.stringify(t,o)!==JSON.stringify(e,o)}class du{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,n,o){const r=e.listeners[o],i=e.duration;r.forEach((o=>o({chart:t,initial:e.initial,numSteps:i,currentStep:Math.min(n-e.start,i)})))}_refresh(){this._request||(this._running=!0,this._request=ba.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),e=0;this._charts.forEach(((n,o)=>{if(!n.running||!n.items.length)return;const r=n.items;let i,s=r.length-1,a=!1;for(;s>=0;--s)i=r[s],i._active?(i._total>n.duration&&(n.duration=i._total),i.tick(t),a=!0):(r[s]=r[r.length-1],r.pop());a&&(o.draw(),this._notify(o,n,t,"progress")),r.length||(n.running=!1,this._notify(o,n,t,"complete"),n.initial=!1),e+=r.length})),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}listen(t,e,n){this._getAnims(t).listeners[e].push(n)}add(t,e){e&&e.length&&this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce(((t,e)=>Math.max(t,e._duration)),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!!(e&&e.running&&e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const n=e.items;let o=n.length-1;for(;o>=0;--o)n[o].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var pu=new du;const hu="transparent",fu={boolean:(t,e,n)=>n>.5?e:t,color(t,e,n){const o=Ma(t||hu),r=o.valid&&Ma(e||hu);return r&&r.valid?r.mix(o,n).hexString():e},number:(t,e,n)=>t+(e-t)*n};class gu{constructor(t,e,n,o){const r=e[n];o=vl([t.to,o,r,t.from]);const i=vl([t.from,r,o]);this._active=!0,this._fn=t.fn||fu[t.type||typeof i],this._easing=Pa[t.easing]||Pa.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=n,this._from=i,this._to=o,this._promises=void 0}active(){return this._active}update(t,e,n){if(this._active){this._notify(!1);const o=this._target[this._prop],r=n-this._start,i=this._duration-r;this._start=n,this._duration=Math.floor(Math.max(i,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=vl([t.to,e,o,t.from]),this._from=vl([t.from,o,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,n=this._duration,o=this._prop,r=this._from,i=this._loop,s=this._to;let a;if(this._active=r!==s&&(i||e<n),!this._active)return this._target[o]=s,void this._notify(!0);e<0?this._target[o]=r:(a=e/n%2,a=i&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[o]=this._fn(r,s,a))}wait(){const t=this._promises||(this._promises=[]);return new Promise(((e,n)=>{t.push({res:e,rej:n})}))}_notify(t){const e=t?"res":"rej",n=this._promises||[];for(let o=0;o<n.length;o++)n[o][e]()}}class vu{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Os(t))return;const e=Object.keys(Ua.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach((o=>{const r=t[o];if(!Os(r))return;const i={};for(const t of e)i[t]=r[t];(Es(r.properties)&&r.properties||[o]).forEach((t=>{t!==o&&n.has(t)||n.set(t,i)}))}))}_animateOptions(t,e){const n=e.options,o=function(t,e){if(!e)return;let n=t.options;if(!n)return void(t.options=e);n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(t,n);if(!o)return[];const r=this._createAnimations(o,n);return n.$shared&&function(t,e){const n=[],o=Object.keys(e);for(let r=0;r<o.length;r++){const e=t[o[r]];e&&e.active()&&n.push(e.wait())}return Promise.all(n)}(t.options.$animations,n).then((()=>{t.options=n}),(()=>{})),r}_createAnimations(t,e){const n=this._properties,o=[],r=t.$animations||(t.$animations={}),i=Object.keys(e),s=Date.now();let a;for(a=i.length-1;a>=0;--a){const l=i[a];if("$"===l.charAt(0))continue;if("options"===l){o.push(...this._animateOptions(t,e));continue}const u=e[l];let c=r[l];const d=n.get(l);if(c){if(d&&c.active()){c.update(d,u,s);continue}c.cancel()}d&&d.duration?(r[l]=c=new gu(d,t,l,u),o.push(c)):t[l]=u}return o}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const n=this._createAnimations(t,e);return n.length?(pu.add(this._chart,n),!0):void 0}}function mu(t,e){const n=t&&t.options||{},o=n.reverse,r=void 0===n.min?e:0,i=void 0===n.max?e:0;return{start:o?i:r,end:o?r:i}}function yu(t,e){const n=[],o=t._getSortedDatasetMetas(e);let r,i;for(r=0,i=o.length;r<i;++r)n.push(o[r].index);return n}function Cu(t,e,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r=t.keys,i="single"===o.mode;let s,a,l,u;if(null!==e){for(s=0,a=r.length;s<a;++s){if(l=+r[s],l===n){if(o.all)continue;break}u=t.values[l],xs(u)&&(i||0===e||ta(e)===ta(u))&&(e+=u)}return e}}function wu(t,e){const n=t&&t.options.stacked;return n||void 0===n&&void 0!==e.stack}function bu(t,e,n){const o=t[e]||(t[e]={});return o[n]||(o[n]={})}function _u(t,e,n,o){for(const r of e.getMatchingVisibleMetas(o).reverse()){const e=t[r.index];if(n&&e>0||!n&&e<0)return r.index}return null}function Su(t,e){const{chart:n,_cachedMeta:o}=t,r=n._stacks||(n._stacks={}),{iScale:i,vScale:s,index:a}=o,l=i.axis,u=s.axis,c=function(t,e,n){return"".concat(t.id,".").concat(e.id,".").concat(n.stack||n.type)}(i,s,o),d=e.length;let p;for(let h=0;h<d;++h){const t=e[h],{[l]:n,[u]:i}=t;p=(t._stacks||(t._stacks={}))[u]=bu(r,c,n),p[a]=i,p._top=_u(p,s,!0,o.type),p._bottom=_u(p,s,!1,o.type);(p._visualValues||(p._visualValues={}))[a]=i}}function Eu(t,e){const n=t.scales;return Object.keys(n).filter((t=>n[t].axis===e)).shift()}function Ou(t,e){const n=t.controller.index,o=t.vScale&&t.vScale.axis;if(o){e=e||t._parsed;for(const t of e){const e=t._stacks;if(!e||void 0===e[o]||void 0===e[o][n])return;delete e[o][n],void 0!==e[o]._visualValues&&void 0!==e[o]._visualValues[n]&&delete e[o]._visualValues[n]}}}const xu=t=>"reset"===t||"none"===t,Tu=(t,e)=>e?t:Object.assign({},t);class Ru{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=wu(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Ou(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,n=this.getDataset(),o=(t,e,n,o)=>"x"===t?e:"r"===t?o:n,r=e.xAxisID=Rs(n.xAxisID,Eu(t,"x")),i=e.yAxisID=Rs(n.yAxisID,Eu(t,"y")),s=e.rAxisID=Rs(n.rAxisID,Eu(t,"r")),a=e.indexAxis,l=e.iAxisID=o(a,r,i,s),u=e.vAxisID=o(a,i,r,s);e.xScale=this.getScaleForId(r),e.yScale=this.getScaleForId(i),e.rScale=this.getScaleForId(s),e.iScale=this.getScaleForId(l),e.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Ca(this._data,this),t._stacked&&Ou(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),n=this._data;if(Os(e))this._data=function(t){const e=Object.keys(t),n=new Array(e.length);let o,r,i;for(o=0,r=e.length;o<r;++o)i=e[o],n[o]={x:i,y:t[i]};return n}(e);else if(n!==e){if(n){Ca(n,this);const t=this._cachedMeta;Ou(t),t._parsed=[]}e&&Object.isExtensible(e)&&(r=this,(o=e)._chartjs?o._chartjs.listeners.push(r):(Object.defineProperty(o,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[r]}}),ya.forEach((t=>{const e="_onData"+js(t),n=o[t];Object.defineProperty(o,t,{configurable:!0,enumerable:!1,value(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];const s=n.apply(this,r);return o._chartjs.listeners.forEach((t=>{"function"===typeof t[e]&&t[e](...r)})),s}})})))),this._syncList=[],this._data=e}var o,r}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,n=this.getDataset();let o=!1;this._dataCheck();const r=e._stacked;e._stacked=wu(e.vScale,e),e.stack!==n.stack&&(o=!0,Ou(e),e.stack=n.stack),this._resyncElements(t),(o||r!==e._stacked)&&Su(this,e._parsed)}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:n,_data:o}=this,{iScale:r,_stacked:i}=n,s=r.axis;let a,l,u,c=0===t&&e===o.length||n._sorted,d=t>0&&n._parsed[t-1];if(!1===this._parsing)n._parsed=o,n._sorted=!0,u=o;else{u=Es(o[t])?this.parseArrayData(n,o,t,e):Os(o[t])?this.parseObjectData(n,o,t,e):this.parsePrimitiveData(n,o,t,e);const r=()=>null===l[s]||d&&l[s]<d[s];for(a=0;a<e;++a)n._parsed[a+t]=l=u[a],c&&(r()&&(c=!1),d=l);n._sorted=c}i&&Su(this,u)}parsePrimitiveData(t,e,n,o){const{iScale:r,vScale:i}=t,s=r.axis,a=i.axis,l=r.getLabels(),u=r===i,c=new Array(o);let d,p,h;for(d=0,p=o;d<p;++d)h=d+n,c[d]={[s]:u||r.parse(l[h],h),[a]:i.parse(e[h],h)};return c}parseArrayData(t,e,n,o){const{xScale:r,yScale:i}=t,s=new Array(o);let a,l,u,c;for(a=0,l=o;a<l;++a)u=a+n,c=e[u],s[a]={x:r.parse(c[0],u),y:i.parse(c[1],u)};return s}parseObjectData(t,e,n,o){const{xScale:r,yScale:i}=t,{xAxisKey:s="x",yAxisKey:a="y"}=this._parsing,l=new Array(o);let u,c,d,p;for(u=0,c=o;u<c;++u)d=u+n,p=e[d],l[u]={x:r.parse(Vs(p,s),d),y:i.parse(Vs(p,a),d)};return l}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,n){const o=this.chart,r=this._cachedMeta,i=e[t.axis];return Cu({keys:yu(o,!0),values:e._stacks[t.axis]._visualValues},i,r.index,{mode:n})}updateRangeFromParsed(t,e,n,o){const r=n[e.axis];let i=null===r?NaN:r;const s=o&&n._stacks[e.axis];o&&s&&(o.values=s,i=Cu(o,r,this._cachedMeta.index)),t.min=Math.min(t.min,i),t.max=Math.max(t.max,i)}getMinMax(t,e){const n=this._cachedMeta,o=n._parsed,r=n._sorted&&t===n.iScale,i=o.length,s=this._getOtherScale(t),a=((t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:yu(n,!0),values:null})(e,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:c}=function(t){const{min:e,max:n,minDefined:o,maxDefined:r}=t.getUserBounds();return{min:o?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}(s);let d,p;function h(){p=o[d];const e=p[s.axis];return!xs(p[t.axis])||u>e||c<e}for(d=0;d<i&&(h()||(this.updateRangeFromParsed(l,t,p,a),!r));++d);if(r)for(d=i-1;d>=0;--d)if(!h()){this.updateRangeFromParsed(l,t,p,a);break}return l}getAllParsedValues(t){const e=this._cachedMeta._parsed,n=[];let o,r,i;for(o=0,r=e.length;o<r;++o)i=e[o][t.axis],xs(i)&&n.push(i);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,n=e.iScale,o=e.vScale,r=this.getParsed(t);return{label:n?""+n.getLabelForValue(r[n.axis]):"",value:o?""+o.getLabelForValue(r[o.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=function(t){let e,n,o,r;return Os(t)?(e=t.top,n=t.right,o=t.bottom,r=t.left):e=n=o=r=t,{top:e,right:n,bottom:o,left:r,disabled:!1===t}}(Rs(this.options.clip,function(t,e,n){if(!1===n)return!1;const o=mu(t,n),r=mu(e,n);return{top:r.end,right:o.end,bottom:r.start,left:o.start}}(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,n=this._cachedMeta,o=n.data||[],r=e.chartArea,i=[],s=this._drawStart||0,a=this._drawCount||o.length-s,l=this.options.drawActiveElementsOnTop;let u;for(n.dataset&&n.dataset.draw(t,r,s,a),u=s;u<s+a;++u){const e=o[u];e.hidden||(e.active&&l?i.push(e):e.draw(t,r))}for(u=0;u<i.length;++u)i[u].draw(t,r)}getStyle(t,e){const n=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,e,n){const o=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const e=this._cachedMeta.data[t];r=e.$context||(e.$context=function(t,e,n){return ml(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}(this.getContext(),t,e)),r.parsed=this.getParsed(t),r.raw=o.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=function(t,e){return ml(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),r.dataset=o,r.index=r.datasetIndex=this.index;return r.active=!!e,r.mode=n,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0;const o="active"===e,r=this._cachedDataOpts,i=t+"-"+e,s=r[i],a=this.enableOptionSharing&&Bs(n);if(s)return Tu(s,a);const l=this.chart.config,u=l.datasetElementScopeKeys(this._type,t),c=o?["".concat(t,"Hover"),"hover",t,""]:[t,""],d=l.getOptionScopes(this.getDataset(),u),p=Object.keys(Ua.elements[t]),h=l.resolveNamedOptions(d,p,(()=>this.getContext(n,o,e)),c);return h.$shared&&(h.$shared=a,r[i]=Object.freeze(Tu(h,a))),h}_resolveAnimations(t,e,n){const o=this.chart,r=this._cachedDataOpts,i="animation-".concat(e),s=r[i];if(s)return s;let a;if(!1!==o.options.animation){const o=this.chart.config,r=o.datasetAnimationScopeKeys(this._type,e),i=o.getOptionScopes(this.getDataset(),r);a=o.createResolver(i,this.getContext(t,n,e))}const l=new vu(o,a&&a.animations);return a&&a._cacheable&&(r[i]=Object.freeze(l)),l}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||xu(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const n=this.resolveDataElementOptions(t,e),o=this._sharedOptions,r=this.getSharedOptions(n),i=this.includeOptions(e,r)||r!==o;return this.updateSharedOptions(r,e,n),{sharedOptions:r,includeOptions:i}}updateElement(t,e,n,o){xu(o)?Object.assign(t,n):this._resolveAnimations(e,o).update(t,n)}updateSharedOptions(t,e,n){t&&!xu(e)&&this._resolveAnimations(void 0,e).update(t,n)}_setStyle(t,e,n,o){t.active=o;const r=this.getStyle(e,o);this._resolveAnimations(e,n,o).update(t,{options:!o&&this.getSharedOptions(r)||r})}removeHoverStyle(t,e,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,e,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,n=this._cachedMeta.data;for(const[s,a,l]of this._syncList)this[s](a,l);this._syncList=[];const o=n.length,r=e.length,i=Math.min(r,o);i&&this.parse(0,i),r>o?this._insertElements(o,r-o,t):r<o&&this._removeElements(r,o-r)}_insertElements(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const o=this._cachedMeta,r=o.data,i=t+e;let s;const a=t=>{for(t.length+=e,s=t.length-1;s>=i;s--)t[s]=t[s-e]};for(a(r),s=t;s<i;++s)r[s]=new this.dataElementType;this._parsing&&a(o._parsed),this.parse(t,e),n&&this.updateElements(r,t,e,"reset")}updateElements(t,e,n,o){}_removeElements(t,e){const n=this._cachedMeta;if(this._parsing){const o=n._parsed.splice(t,e);n._stacked&&Ou(n,o)}n.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,n,o]=t;this[e](n,o)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Du(t){const e=t.iScale,n=function(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let o=[];for(let e=0,r=n.length;e<r;e++)o=o.concat(n[e].controller.getAllParsedValues(t));t._cache.$bar=wa(o.sort(((t,e)=>t-e)))}return t._cache.$bar}(e,t.type);let o,r,i,s,a=e._length;const l=()=>{32767!==i&&-32768!==i&&(Bs(s)&&(a=Math.min(a,Math.abs(i-s)||a)),s=i)};for(o=0,r=n.length;o<r;++o)i=e.getPixelForValue(n[o]),l();for(s=void 0,o=0,r=e.ticks.length;o<r;++o)i=e.getPixelForTick(o),l();return a}function Pu(t,e,n,o){return Es(t)?function(t,e,n,o){const r=n.parse(t[0],o),i=n.parse(t[1],o),s=Math.min(r,i),a=Math.max(r,i);let l=s,u=a;Math.abs(s)>Math.abs(a)&&(l=a,u=s),e[n.axis]=u,e._custom={barStart:l,barEnd:u,start:r,end:i,min:s,max:a}}(t,e,n,o):e[n.axis]=n.parse(t,o),e}function Lu(t,e,n,o){const r=t.iScale,i=t.vScale,s=r.getLabels(),a=r===i,l=[];let u,c,d,p;for(u=n,c=n+o;u<c;++u)p=e[u],d={},d[r.axis]=a||r.parse(s[u],u),l.push(Pu(p,d,i,u));return l}function Mu(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function Au(t,e,n,o){let r=e.borderSkipped;const i={};if(!r)return void(t.borderSkipped=i);if(!0===r)return void(t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:s,end:a,reverse:l,top:u,bottom:c}=function(t){let e,n,o,r,i;return t.horizontal?(e=t.base>t.x,n="left",o="right"):(e=t.base<t.y,n="bottom",o="top"),e?(r="end",i="start"):(r="start",i="end"),{start:n,end:o,reverse:e,top:r,bottom:i}}(t);"middle"===r&&n&&(t.enableBorderRadius=!0,(n._top||0)===o?r=u:(n._bottom||0)===o?r=c:(i[ku(c,s,a,l)]=!0,r=u)),i[ku(r,s,a,l)]=!0,t.borderSkipped=i}function ku(t,e,n,o){var r,i,s;return o?(s=n,t=Nu(t=(r=t)===(i=e)?s:r===s?i:r,n,e)):t=Nu(t,e,n),t}function Nu(t,e,n){return"start"===t?e:"end"===t?n:t}function Fu(t,e,n){let{inflateAmount:o}=e;t.inflateAmount="auto"===o?1===n?.33:0:o}(0,ji.Z)(Ru,"defaults",{}),(0,ji.Z)(Ru,"datasetElementType",null),(0,ji.Z)(Ru,"dataElementType",null);class Iu extends Ru{parsePrimitiveData(t,e,n,o){return Lu(t,e,n,o)}parseArrayData(t,e,n,o){return Lu(t,e,n,o)}parseObjectData(t,e,n,o){const{iScale:r,vScale:i}=t,{xAxisKey:s="x",yAxisKey:a="y"}=this._parsing,l="x"===r.axis?s:a,u="x"===i.axis?s:a,c=[];let d,p,h,f;for(d=n,p=n+o;d<p;++d)f=e[d],h={},h[r.axis]=r.parse(Vs(f,l),d),c.push(Pu(Vs(f,u),h,i,d));return c}updateRangeFromParsed(t,e,n,o){super.updateRangeFromParsed(t,e,n,o);const r=n._custom;r&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:n,vScale:o}=e,r=this.getParsed(t),i=r._custom,s=Mu(i)?"["+i.start+", "+i.end+"]":""+o.getLabelForValue(r[o.axis]);return{label:""+n.getLabelForValue(r[n.axis]),value:s}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,n,o){const r="reset"===o,{index:i,_cachedMeta:{vScale:s}}=this,a=s.getBasePixel(),l=s.isHorizontal(),u=this._getRuler(),{sharedOptions:c,includeOptions:d}=this._getSharedOptions(e,o);for(let p=e;p<e+n;p++){const e=this.getParsed(p),n=r||Ss(e[s.axis])?{base:a,head:a}:this._calculateBarValuePixels(p),h=this._calculateBarIndexPixels(p,u),f=(e._stacks||{})[s.axis],g={horizontal:l,base:n.base,enableBorderRadius:!f||Mu(e._custom)||i===f._top||i===f._bottom,x:l?n.head:h.center,y:l?h.center:n.head,height:l?h.size:Math.abs(n.size),width:l?Math.abs(n.size):h.size};d&&(g.options=c||this.resolveDataElementOptions(p,t[p].active?"active":o));const v=g.options||t[p].options;Au(g,v,f,i),Fu(g,v,u.ratio),this.updateElement(t[p],p,g,o)}}_getStacks(t,e){const{iScale:n}=this._cachedMeta,o=n.getMatchingVisibleMetas(this._type).filter((t=>t.controller.options.grouped)),r=n.options.stacked,i=[],s=t=>{const n=t.controller.getParsed(e),o=n&&n[t.vScale.axis];if(Ss(o)||isNaN(o))return!0};for(const a of o)if((void 0===e||!s(a))&&((!1===r||-1===i.indexOf(a.stack)||void 0===r&&void 0===a.stack)&&i.push(a.stack),a.index===t))break;return i.length||i.push(void 0),i}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,n){const o=this._getStacks(t,n),r=void 0!==e?o.indexOf(e):-1;return-1===r?o.length-1:r}_getRuler(){const t=this.options,e=this._cachedMeta,n=e.iScale,o=[];let r,i;for(r=0,i=e.data.length;r<i;++r)o.push(n.getPixelForValue(this.getParsed(r)[n.axis],r));const s=t.barThickness;return{min:s||Du(e),pixels:o,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:s?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:n,index:o},options:{base:r,minBarLength:i}}=this,s=r||0,a=this.getParsed(t),l=a._custom,u=Mu(l);let c,d,p=a[e.axis],h=0,f=n?this.applyStack(e,a,n):p;f!==p&&(h=f-p,f=p),u&&(p=l.barStart,f=l.barEnd-l.barStart,0!==p&&ta(p)!==ta(l.barEnd)&&(h=0),h+=p);const g=Ss(r)||u?h:r;let v=e.getPixelForValue(g);if(c=this.chart.getDataVisibility(t)?e.getPixelForValue(h+f):v,d=c-v,Math.abs(d)<i){d=function(t,e,n){return 0!==t?ta(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}(d,e,s)*i,p===s&&(v-=d/2);const t=e.getPixelForDecimal(0),r=e.getPixelForDecimal(1),l=Math.min(t,r),h=Math.max(t,r);v=Math.max(Math.min(v,h),l),c=v+d,n&&!u&&(a._stacks[e.axis]._visualValues[o]=e.getValueForPixel(c)-e.getValueForPixel(v))}if(v===e.getPixelForValue(s)){const t=ta(d)*e.getLineWidthForValue(s)/2;v+=t,d-=t}return{size:d,base:v,head:c,center:c+d/2}}_calculateBarIndexPixels(t,e){const n=e.scale,o=this.options,r=o.skipNull,i=Rs(o.maxBarThickness,1/0);let s,a;if(e.grouped){const n=r?this._getStackCount(t):e.stackCount,l="flex"===o.barThickness?function(t,e,n,o){const r=e.pixels,i=r[t];let s=t>0?r[t-1]:null,a=t<r.length-1?r[t+1]:null;const l=n.categoryPercentage;null===s&&(s=i-(null===a?e.end-e.start:a-i)),null===a&&(a=i+i-s);const u=i-(i-Math.min(s,a))/2*l;return{chunk:Math.abs(a-s)/2*l/o,ratio:n.barPercentage,start:u}}(t,e,o,n):function(t,e,n,o){const r=n.barThickness;let i,s;return Ss(r)?(i=e.min*n.categoryPercentage,s=n.barPercentage):(i=r*o,s=1),{chunk:i/o,ratio:s,start:e.pixels[t]-i/2}}(t,e,o,n),u=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0);s=l.start+l.chunk*u+l.chunk/2,a=Math.min(i,l.chunk*l.ratio)}else s=n.getPixelForValue(this.getParsed(t)[n.axis],t),a=Math.min(i,e.min*e.ratio);return{base:s-a/2,head:s+a/2,center:s,size:a}}draw(){const t=this._cachedMeta,e=t.vScale,n=t.data,o=n.length;let r=0;for(;r<o;++r)null!==this.getParsed(r)[e.axis]&&n[r].draw(this._ctx)}}(0,ji.Z)(Iu,"id","bar"),(0,ji.Z)(Iu,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),(0,ji.Z)(Iu,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Gu extends Ru{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,n,o){const r=super.parsePrimitiveData(t,e,n,o);for(let i=0;i<r.length;i++)r[i]._custom=this.resolveDataElementOptions(i+n).radius;return r}parseArrayData(t,e,n,o){const r=super.parseArrayData(t,e,n,o);for(let i=0;i<r.length;i++){const t=e[n+i];r[i]._custom=Rs(t[2],this.resolveDataElementOptions(i+n).radius)}return r}parseObjectData(t,e,n,o){const r=super.parseObjectData(t,e,n,o);for(let i=0;i<r.length;i++){const t=e[n+i];r[i]._custom=Rs(t&&t.r&&+t.r,this.resolveDataElementOptions(i+n).radius)}return r}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart.data.labels||[],{xScale:o,yScale:r}=e,i=this.getParsed(t),s=o.getLabelForValue(i.x),a=r.getLabelForValue(i.y),l=i._custom;return{label:n[t]||"",value:"("+s+", "+a+(l?", "+l:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,n,o){const r="reset"===o,{iScale:i,vScale:s}=this._cachedMeta,{sharedOptions:a,includeOptions:l}=this._getSharedOptions(e,o),u=i.axis,c=s.axis;for(let d=e;d<e+n;d++){const e=t[d],n=!r&&this.getParsed(d),p={},h=p[u]=r?i.getPixelForDecimal(.5):i.getPixelForValue(n[u]),f=p[c]=r?s.getBasePixel():s.getPixelForValue(n[c]);p.skip=isNaN(h)||isNaN(f),l&&(p.options=a||this.resolveDataElementOptions(d,e.active?"active":o),r&&(p.options.radius=0)),this.updateElement(e,d,p,o)}}resolveDataElementOptions(t,e){const n=this.getParsed(t);let o=super.resolveDataElementOptions(t,e);o.$shared&&(o=Object.assign({},o,{$shared:!1}));const r=o.radius;return"active"!==e&&(o.radius=0),o.radius+=Rs(n&&n._custom,r),o}}(0,ji.Z)(Gu,"id","bubble"),(0,ji.Z)(Gu,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),(0,ji.Z)(Gu,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class Hu extends Ru{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const n=this.getDataset().data,o=this._cachedMeta;if(!1===this._parsing)o._parsed=n;else{let r,i,s=t=>+n[t];if(Os(n[t])){const{key:t="value"}=this._parsing;s=e=>+Vs(n[e],t)}for(r=t,i=t+e;r<i;++r)o._parsed[r]=s(r)}}_getRotation(){return ia(this.options.rotation-90)}_getCircumference(){return ia(this.options.circumference)}_getRotationExtents(){let t=Ys,e=-Ys;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const o=this.chart.getDatasetMeta(n).controller,r=o._getRotation(),i=o._getCircumference();t=Math.min(t,r),e=Math.max(e,r+i)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:n}=e,o=this._cachedMeta,r=o.data,i=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,s=Math.max((Math.min(n.width,n.height)-i)/2,0),a=Math.min((l=this.options.cutout,u=s,"string"===typeof l&&l.endsWith("%")?parseFloat(l)/100:+l/u),1);var l,u;const c=this._getRingWeight(this.index),{circumference:d,rotation:p}=this._getRotationExtents(),{ratioX:h,ratioY:f,offsetX:g,offsetY:v}=function(t,e,n){let o=1,r=1,i=0,s=0;if(e<Ys){const a=t,l=a+e,u=Math.cos(a),c=Math.sin(a),d=Math.cos(l),p=Math.sin(l),h=(t,e,o)=>pa(t,a,l,!0)?1:Math.max(e,e*n,o,o*n),f=(t,e,o)=>pa(t,a,l,!0)?-1:Math.min(e,e*n,o,o*n),g=h(0,u,d),v=h(Qs,c,p),m=f(Us,u,d),y=f(Us+Qs,c,p);o=(g-m)/2,r=(v-y)/2,i=-(g+m)/2,s=-(v+y)/2}return{ratioX:o,ratioY:r,offsetX:i,offsetY:s}}(p,d,a),m=(n.width-i)/h,y=(n.height-i)/f,C=Math.max(Math.min(m,y)/2,0),w=Ds(this.options.radius,C),b=(w-Math.max(w*a,0))/this._getVisibleDatasetWeightTotal();this.offsetX=g*w,this.offsetY=v*w,o.total=this.calculateTotal(),this.outerRadius=w-b*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-b*c,0),this.updateElements(r,0,r.length,t)}_circumference(t,e){const n=this.options,o=this._cachedMeta,r=this._getCircumference();return e&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||null===o._parsed[t]||o.data[t].hidden?0:this.calculateCircumference(o._parsed[t]*r/Ys)}updateElements(t,e,n,o){const r="reset"===o,i=this.chart,s=i.chartArea,a=i.options.animation,l=(s.left+s.right)/2,u=(s.top+s.bottom)/2,c=r&&a.animateScale,d=c?0:this.innerRadius,p=c?0:this.outerRadius,{sharedOptions:h,includeOptions:f}=this._getSharedOptions(e,o);let g,v=this._getRotation();for(g=0;g<e;++g)v+=this._circumference(g,r);for(g=e;g<e+n;++g){const e=this._circumference(g,r),n=t[g],i={x:l+this.offsetX,y:u+this.offsetY,startAngle:v,endAngle:v+e,circumference:e,outerRadius:p,innerRadius:d};f&&(i.options=h||this.resolveDataElementOptions(g,n.active?"active":o)),v+=e,this.updateElement(n,g,i,o)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let n,o=0;for(n=0;n<e.length;n++){const r=t._parsed[n];null===r||isNaN(r)||!this.chart.getDataVisibility(n)||e[n].hidden||(o+=Math.abs(r))}return o}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?Ys*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,o=n.data.labels||[],r=Ia(e._parsed[t],n.options.locale);return{label:o[t]||"",value:r}}getMaxBorderWidth(t){let e=0;const n=this.chart;let o,r,i,s,a;if(!t)for(o=0,r=n.data.datasets.length;o<r;++o)if(n.isDatasetVisible(o)){i=n.getDatasetMeta(o),t=i.data,s=i.controller;break}if(!t)return 0;for(o=0,r=t.length;o<r;++o)a=s.resolveDataElementOptions(o),"inner"!==a.borderAlign&&(e=Math.max(e,a.borderWidth||0,a.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let n=0,o=t.length;n<o;++n){const t=this.resolveDataElementOptions(n);e=Math.max(e,t.offset||0,t.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(e+=this._getRingWeight(n));return e}_getRingWeight(t){return Math.max(Rs(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}(0,ji.Z)(Hu,"id","doughnut"),(0,ji.Z)(Hu,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),(0,ji.Z)(Hu,"descriptors",{_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),(0,ji.Z)(Hu,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n,color:o}}=t.legend.options;return e.labels.map(((e,r)=>{const i=t.getDatasetMeta(0).controller.getStyle(r);return{text:e,fillStyle:i.backgroundColor,strokeStyle:i.borderColor,fontColor:o,lineWidth:i.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(r),index:r}}))}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}}});class Vu extends Ru{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:n,data:o=[],_dataset:r}=e,i=this.chart._animationsDisabled;let{start:s,count:a}=Oa(e,o,i);this._drawStart=s,this._drawCount=a,xa(e)&&(s=0,a=o.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!r._decimated,n.points=o;const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!i,options:l},t),this.updateElements(o,s,a,t)}updateElements(t,e,n,o){const r="reset"===o,{iScale:i,vScale:s,_stacked:a,_dataset:l}=this._cachedMeta,{sharedOptions:u,includeOptions:c}=this._getSharedOptions(e,o),d=i.axis,p=s.axis,{spanGaps:h,segment:f}=this.options,g=oa(h)?h:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||r||"none"===o,m=e+n,y=t.length;let C=e>0&&this.getParsed(e-1);for(let w=0;w<y;++w){const n=t[w],h=v?n:{};if(w<e||w>=m){h.skip=!0;continue}const y=this.getParsed(w),b=Ss(y[p]),_=h[d]=i.getPixelForValue(y[d],w),S=h[p]=r||b?s.getBasePixel():s.getPixelForValue(a?this.applyStack(s,y,a):y[p],w);h.skip=isNaN(_)||isNaN(S)||b,h.stop=w>0&&Math.abs(y[d]-C[d])>g,f&&(h.parsed=y,h.raw=l.data[w]),c&&(h.options=u||this.resolveDataElementOptions(w,n.active?"active":o)),v||this.updateElement(n,w,h,o),C=y}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,n=e.options&&e.options.borderWidth||0,o=t.data||[];if(!o.length)return n;const r=o[0].size(this.resolveDataElementOptions(0)),i=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(n,r,i)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}(0,ji.Z)(Vu,"id","line"),(0,ji.Z)(Vu,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),(0,ji.Z)(Vu,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class ju extends Ru{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,o=n.data.labels||[],r=Ia(e._parsed[t].r,n.options.locale);return{label:o[t]||"",value:r}}parseObjectData(t,e,n,o){return Ll.bind(this)(t,e,n,o)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach(((t,n)=>{const o=this.getParsed(n).r;!isNaN(o)&&this.chart.getDataVisibility(n)&&(o<e.min&&(e.min=o),o>e.max&&(e.max=o))})),e}_updateRadius(){const t=this.chart,e=t.chartArea,n=t.options,o=Math.min(e.right-e.left,e.bottom-e.top),r=Math.max(o/2,0),i=(r-Math.max(n.cutoutPercentage?r/100*n.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=r-i*this.index,this.innerRadius=this.outerRadius-i}updateElements(t,e,n,o){const r="reset"===o,i=this.chart,s=i.options.animation,a=this._cachedMeta.rScale,l=a.xCenter,u=a.yCenter,c=a.getIndexAngle(0)-.5*Us;let d,p=c;const h=360/this.countVisibleElements();for(d=0;d<e;++d)p+=this._computeAngle(d,o,h);for(d=e;d<e+n;d++){const e=t[d];let n=p,f=p+this._computeAngle(d,o,h),g=i.getDataVisibility(d)?a.getDistanceFromCenterForValue(this.getParsed(d).r):0;p=f,r&&(s.animateScale&&(g=0),s.animateRotate&&(n=f=c));const v={x:l,y:u,innerRadius:0,outerRadius:g,startAngle:n,endAngle:f,options:this.resolveDataElementOptions(d,e.active?"active":o)};this.updateElement(e,d,v,o)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach(((t,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&e++})),e}_computeAngle(t,e,n){return this.chart.getDataVisibility(t)?ia(this.resolveDataElementOptions(t,e).angle||n):0}}(0,ji.Z)(ju,"id","polarArea"),(0,ji.Z)(ju,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),(0,ji.Z)(ju,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n,color:o}}=t.legend.options;return e.labels.map(((e,r)=>{const i=t.getDatasetMeta(0).controller.getStyle(r);return{text:e,fillStyle:i.backgroundColor,strokeStyle:i.borderColor,fontColor:o,lineWidth:i.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(r),index:r}}))}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Bu extends Hu{}(0,ji.Z)(Bu,"id","pie"),(0,ji.Z)(Bu,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Wu extends Ru{getLabelAndValue(t){const e=this._cachedMeta.vScale,n=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(n[e.axis])}}parseObjectData(t,e,n,o){return Ll.bind(this)(t,e,n,o)}update(t){const e=this._cachedMeta,n=e.dataset,o=e.data||[],r=e.iScale.getLabels();if(n.points=o,"resize"!==t){const e=this.resolveDatasetElementOptions(t);this.options.showLine||(e.borderWidth=0);const i={_loop:!0,_fullLoop:r.length===o.length,options:e};this.updateElement(n,void 0,i,t)}this.updateElements(o,0,o.length,t)}updateElements(t,e,n,o){const r=this._cachedMeta.rScale,i="reset"===o;for(let s=e;s<e+n;s++){const e=t[s],n=this.resolveDataElementOptions(s,e.active?"active":o),a=r.getPointPositionForValue(s,this.getParsed(s).r),l=i?r.xCenter:a.x,u=i?r.yCenter:a.y,c={x:l,y:u,angle:a.angle,skip:isNaN(l)||isNaN(u),options:n};this.updateElement(e,s,c,o)}}}(0,ji.Z)(Wu,"id","radar"),(0,ji.Z)(Wu,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),(0,ji.Z)(Wu,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class zu extends Ru{getLabelAndValue(t){const e=this._cachedMeta,n=this.chart.data.labels||[],{xScale:o,yScale:r}=e,i=this.getParsed(t),s=o.getLabelForValue(i.x),a=r.getLabelForValue(i.y);return{label:n[t]||"",value:"("+s+", "+a+")"}}update(t){const e=this._cachedMeta,{data:n=[]}=e,o=this.chart._animationsDisabled;let{start:r,count:i}=Oa(e,n,o);if(this._drawStart=r,this._drawCount=i,xa(e)&&(r=0,i=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:r,_dataset:i}=e;r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!i._decimated,r.points=n;const s=this.resolveDatasetElementOptions(t);s.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:s},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(n,r,i,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,n,o){const r="reset"===o,{iScale:i,vScale:s,_stacked:a,_dataset:l}=this._cachedMeta,u=this.resolveDataElementOptions(e,o),c=this.getSharedOptions(u),d=this.includeOptions(o,c),p=i.axis,h=s.axis,{spanGaps:f,segment:g}=this.options,v=oa(f)?f:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||r||"none"===o;let y=e>0&&this.getParsed(e-1);for(let C=e;C<e+n;++C){const e=t[C],n=this.getParsed(C),u=m?e:{},f=Ss(n[h]),w=u[p]=i.getPixelForValue(n[p],C),b=u[h]=r||f?s.getBasePixel():s.getPixelForValue(a?this.applyStack(s,n,a):n[h],C);u.skip=isNaN(w)||isNaN(b)||f,u.stop=C>0&&Math.abs(n[p]-y[p])>v,g&&(u.parsed=n,u.raw=l.data[C]),d&&(u.options=c||this.resolveDataElementOptions(C,e.active?"active":o)),m||this.updateElement(e,C,u,o),y=n}this.updateSharedOptions(c,o,u)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}const n=t.dataset,o=n.options&&n.options.borderWidth||0;if(!e.length)return o;const r=e[0].size(this.resolveDataElementOptions(0)),i=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(o,r,i)/2}}(0,ji.Z)(zu,"id","scatter"),(0,ji.Z)(zu,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),(0,ji.Z)(zu,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var Uu=Object.freeze({__proto__:null,BarController:Iu,BubbleController:Gu,DoughnutController:Hu,LineController:Vu,PieController:Bu,PolarAreaController:ju,RadarController:Wu,ScatterController:zu});function Yu(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Ku{static override(t){Object.assign(Ku.prototype,t)}constructor(t){(0,ji.Z)(this,"options",void 0),this.options=t||{}}init(){}formats(){return Yu()}parse(){return Yu()}format(){return Yu()}add(){return Yu()}diff(){return Yu()}startOf(){return Yu()}endOf(){return Yu()}}var Zu=Ku;function qu(t,e,n,o){const{controller:r,data:i,_sorted:s}=t,a=r._cachedMeta.iScale;if(a&&e===a.axis&&"r"!==e&&s&&i.length){const t=a._reversePixels?ma:va;if(!o)return t(i,e,n);if(r._sharedOptions){const o=i[0],r="function"===typeof o.getRange&&o.getRange(e);if(r){const o=t(i,e,n-r),s=t(i,e,n+r);return{lo:o.lo,hi:s.hi}}}}return{lo:0,hi:i.length-1}}function Qu(t,e,n,o,r){const i=t.getSortedVisibleDatasetMetas(),s=n[e];for(let a=0,l=i.length;a<l;++a){const{index:t,data:n}=i[a],{lo:l,hi:u}=qu(i[a],e,s,r);for(let e=l;e<=u;++e){const r=n[e];r.skip||o(r,t,e)}}}function Xu(t,e,n,o,r){const i=[];if(!r&&!t.isPointInArea(e))return i;return Qu(t,n,e,(function(n,s,a){(r||$a(n,t.chartArea,0))&&n.inRange(e.x,e.y,o)&&i.push({element:n,datasetIndex:s,index:a})}),!0),i}function $u(t,e,n,o,r,i){let s=[];const a=function(t){const e=-1!==t.indexOf("x"),n=-1!==t.indexOf("y");return function(t,o){const r=e?Math.abs(t.x-o.x):0,i=n?Math.abs(t.y-o.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(i,2))}}(n);let l=Number.POSITIVE_INFINITY;return Qu(t,n,e,(function(n,u,c){const d=n.inRange(e.x,e.y,r);if(o&&!d)return;const p=n.getCenterPoint(r);if(!(!!i||t.isPointInArea(p))&&!d)return;const h=a(e,p);h<l?(s=[{element:n,datasetIndex:u,index:c}],l=h):h===l&&s.push({element:n,datasetIndex:u,index:c})})),s}function Ju(t,e,n,o,r,i){return i||t.isPointInArea(e)?"r"!==n||o?$u(t,e,n,o,r,i):function(t,e,n,o){let r=[];return Qu(t,n,e,(function(t,n,i){const{startAngle:s,endAngle:a}=t.getProps(["startAngle","endAngle"],o),{angle:l}=la(t,{x:e.x,y:e.y});pa(l,s,a)&&r.push({element:t,datasetIndex:n,index:i})})),r}(t,e,n,r):[]}function tc(t,e,n,o,r){const i=[],s="x"===n?"inXRange":"inYRange";let a=!1;return Qu(t,n,e,((t,o,l)=>{t[s](e[n],r)&&(i.push({element:t,datasetIndex:o,index:l}),a=a||t.inRange(e.x,e.y,r))})),o&&!a?[]:i}var ec={evaluateInteractionItems:Qu,modes:{index(t,e,n,o){const r=Yl(e,t),i=n.axis||"x",s=n.includeInvisible||!1,a=n.intersect?Xu(t,r,i,o,s):Ju(t,r,i,!1,o,s),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach((t=>{const e=a[0].index,n=t.data[e];n&&!n.skip&&l.push({element:n,datasetIndex:t.index,index:e})})),l):[]},dataset(t,e,n,o){const r=Yl(e,t),i=n.axis||"xy",s=n.includeInvisible||!1;let a=n.intersect?Xu(t,r,i,o,s):Ju(t,r,i,!1,o,s);if(a.length>0){const e=a[0].datasetIndex,n=t.getDatasetMeta(e).data;a=[];for(let t=0;t<n.length;++t)a.push({element:n[t],datasetIndex:e,index:t})}return a},point:(t,e,n,o)=>Xu(t,Yl(e,t),n.axis||"xy",o,n.includeInvisible||!1),nearest(t,e,n,o){const r=Yl(e,t),i=n.axis||"xy",s=n.includeInvisible||!1;return Ju(t,r,i,n.intersect,o,s)},x:(t,e,n,o)=>tc(t,Yl(e,t),"x",n.intersect,o),y:(t,e,n,o)=>tc(t,Yl(e,t),"y",n.intersect,o)}};const nc=["left","top","right","bottom"];function oc(t,e){return t.filter((t=>t.pos===e))}function rc(t,e){return t.filter((t=>-1===nc.indexOf(t.pos)&&t.box.axis===e))}function ic(t,e){return t.sort(((t,n)=>{const o=e?n:t,r=e?t:n;return o.weight===r.weight?o.index-r.index:o.weight-r.weight}))}function sc(t,e){const n=function(t){const e={};for(const n of t){const{stack:t,pos:o,stackWeight:r}=n;if(!t||!nc.includes(o))continue;const i=e[t]||(e[t]={count:0,placed:0,weight:0,size:0});i.count++,i.weight+=r}return e}(t),{vBoxMaxWidth:o,hBoxMaxHeight:r}=e;let i,s,a;for(i=0,s=t.length;i<s;++i){a=t[i];const{fullSize:s}=a.box,l=n[a.stack],u=l&&a.stackWeight/l.weight;a.horizontal?(a.width=u?u*o:s&&e.availableWidth,a.height=r):(a.width=o,a.height=u?u*r:s&&e.availableHeight)}return n}function ac(t,e,n,o){return Math.max(t[n],e[n])+Math.max(t[o],e[o])}function lc(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function uc(t,e,n,o){const{pos:r,box:i}=n,s=t.maxPadding;if(!Os(r)){n.size&&(t[r]-=n.size);const e=o[n.stack]||{size:0,count:1};e.size=Math.max(e.size,n.horizontal?i.height:i.width),n.size=e.size/e.count,t[r]+=n.size}i.getPadding&&lc(s,i.getPadding());const a=Math.max(0,e.outerWidth-ac(s,t,"left","right")),l=Math.max(0,e.outerHeight-ac(s,t,"top","bottom")),u=a!==t.w,c=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:u,other:c}:{same:c,other:u}}function cc(t,e){const n=e.maxPadding;function o(t){const o={left:0,top:0,right:0,bottom:0};return t.forEach((t=>{o[t]=Math.max(e[t],n[t])})),o}return o(t?["left","right"]:["top","bottom"])}function dc(t,e,n,o){const r=[];let i,s,a,l,u,c;for(i=0,s=t.length,u=0;i<s;++i){a=t[i],l=a.box,l.update(a.width||e.w,a.height||e.h,cc(a.horizontal,e));const{same:s,other:d}=uc(e,n,a,o);u|=s&&r.length,c=c||d,l.fullSize||r.push(a)}return u&&dc(r,e,n,o)||c}function pc(t,e,n,o,r){t.top=n,t.left=e,t.right=e+o,t.bottom=n+r,t.width=o,t.height=r}function hc(t,e,n,o){const r=n.padding;let{x:i,y:s}=e;for(const a of t){const t=a.box,l=o[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/l.weight||1;if(a.horizontal){const o=e.w*u,i=l.size||t.height;Bs(l.start)&&(s=l.start),t.fullSize?pc(t,r.left,s,n.outerWidth-r.right-r.left,i):pc(t,e.left+l.placed,s,o,i),l.start=s,l.placed+=o,s=t.bottom}else{const o=e.h*u,s=l.size||t.width;Bs(l.start)&&(i=l.start),t.fullSize?pc(t,i,r.top,s,n.outerHeight-r.bottom-r.top):pc(t,i,e.top+l.placed,s,o),l.start=i,l.placed+=o,i=t.right}}e.x=i,e.y=s}var fc={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;-1!==n&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,o){if(!t)return;const r=fl(t.options.layout.padding),i=Math.max(e-r.width,0),s=Math.max(n-r.height,0),a=function(t){const e=function(t){const e=[];let n,o,r,i,s,a;for(n=0,o=(t||[]).length;n<o;++n)r=t[n],({position:i,options:{stack:s,stackWeight:a=1}}=r),e.push({index:n,box:r,pos:i,horizontal:r.isHorizontal(),weight:r.weight,stack:s&&i+s,stackWeight:a});return e}(t),n=ic(e.filter((t=>t.box.fullSize)),!0),o=ic(oc(e,"left"),!0),r=ic(oc(e,"right")),i=ic(oc(e,"top"),!0),s=ic(oc(e,"bottom")),a=rc(e,"x"),l=rc(e,"y");return{fullSize:n,leftAndTop:o.concat(i),rightAndBottom:r.concat(l).concat(s).concat(a),chartArea:oc(e,"chartArea"),vertical:o.concat(r).concat(l),horizontal:i.concat(s).concat(a)}}(t.boxes),l=a.vertical,u=a.horizontal;Ls(t.boxes,(t=>{"function"===typeof t.beforeLayout&&t.beforeLayout()}));const c=l.reduce(((t,e)=>e.box.options&&!1===e.box.options.display?t:t+1),0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:i,availableHeight:s,vBoxMaxWidth:i/2/c,hBoxMaxHeight:s/2}),p=Object.assign({},r);lc(p,fl(o));const h=Object.assign({maxPadding:p,w:i,h:s,x:r.left,y:r.top},r),f=sc(l.concat(u),d);dc(a.fullSize,h,d,f),dc(l,h,d,f),dc(u,h,d,f)&&dc(l,h,d,f),function(t){const e=t.maxPadding;function n(n){const o=Math.max(e[n]-t[n],0);return t[n]+=o,o}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}(h),hc(a.leftAndTop,h,d,f),h.x+=h.w,h.y+=h.h,hc(a.rightAndBottom,h,d,f),t.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},Ls(a.chartArea,(e=>{const n=e.box;Object.assign(n,t.chartArea),n.update(h.w,h.h,{left:0,top:0,right:0,bottom:0})}))}};class gc{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,n){}removeEventListener(t,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,n,o){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,o?Math.floor(e/o):n)}}isAttached(t){return!0}updateConfig(t){}}class vc extends gc{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const mc="$chartjs",yc={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Cc=t=>null===t||""===t;const wc=!!Ql&&{passive:!0};function bc(t,e,n){t.canvas.removeEventListener(e,n,wc)}function _c(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function Sc(t,e,n){const o=t.canvas,r=new MutationObserver((t=>{let e=!1;for(const n of t)e=e||_c(n.addedNodes,o),e=e&&!_c(n.removedNodes,o);e&&n()}));return r.observe(document,{childList:!0,subtree:!0}),r}function Ec(t,e,n){const o=t.canvas,r=new MutationObserver((t=>{let e=!1;for(const n of t)e=e||_c(n.removedNodes,o),e=e&&!_c(n.addedNodes,o);e&&n()}));return r.observe(document,{childList:!0,subtree:!0}),r}const Oc=new Map;let xc=0;function Tc(){const t=window.devicePixelRatio;t!==xc&&(xc=t,Oc.forEach(((e,n)=>{n.currentDevicePixelRatio!==t&&e()})))}function Rc(t,e,n){const o=t.canvas,r=o&&Vl(o);if(!r)return;const i=_a(((t,e)=>{const o=r.clientWidth;n(t,e),o<r.clientWidth&&n()}),window),s=new ResizeObserver((t=>{const e=t[0],n=e.contentRect.width,o=e.contentRect.height;0===n&&0===o||i(n,o)}));return s.observe(r),function(t,e){Oc.size||window.addEventListener("resize",Tc),Oc.set(t,e)}(t,i),s}function Dc(t,e,n){n&&n.disconnect(),"resize"===e&&function(t){Oc.delete(t),Oc.size||window.removeEventListener("resize",Tc)}(t)}function Pc(t,e,n){const o=t.canvas,r=_a((e=>{null!==t.ctx&&n(function(t,e){const n=yc[t.type]||t.type,{x:o,y:r}=Yl(t,e);return{type:n,chart:e,native:t,x:void 0!==o?o:null,y:void 0!==r?r:null}}(e,t))}),t);return function(t,e,n){t.addEventListener(e,n,wc)}(o,e,r),r}class Lc extends gc{acquireContext(t,e){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(function(t,e){const n=t.style,o=t.getAttribute("height"),r=t.getAttribute("width");if(t[mc]={initial:{height:o,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Cc(r)){const e=Xl(t,"width");void 0!==e&&(t.width=e)}if(Cc(o))if(""===t.style.height)t.height=t.width/(e||2);else{const e=Xl(t,"height");void 0!==e&&(t.height=e)}}(t,e),n):null}releaseContext(t){const e=t.canvas;if(!e[mc])return!1;const n=e[mc].initial;["height","width"].forEach((t=>{const o=n[t];Ss(o)?e.removeAttribute(t):e.setAttribute(t,o)}));const o=n.style||{};return Object.keys(o).forEach((t=>{e.style[t]=o[t]})),e.width=e.width,delete e[mc],!0}addEventListener(t,e,n){this.removeEventListener(t,e);const o=t.$proxies||(t.$proxies={}),r={attach:Sc,detach:Ec,resize:Rc}[e]||Pc;o[e]=r(t,e,n)}removeEventListener(t,e){const n=t.$proxies||(t.$proxies={}),o=n[e];if(!o)return;({attach:Dc,detach:Dc,resize:Dc}[e]||bc)(t,e,o),n[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,n,o){return Zl(t,e,n,o)}isAttached(t){const e=Vl(t);return!(!e||!e.isConnected)}}class Mc{constructor(){(0,ji.Z)(this,"x",void 0),(0,ji.Z)(this,"y",void 0),(0,ji.Z)(this,"active",!1),(0,ji.Z)(this,"options",void 0),(0,ji.Z)(this,"$animations",void 0)}tooltipPosition(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}hasValue(){return oa(this.x)&&oa(this.y)}getProps(t,e){const n=this.$animations;if(!e||!n)return this;const o={};return t.forEach((t=>{o[t]=n[t]&&n[t].active()?n[t]._to:this[t]})),o}}function Ac(t,e){const n=t.options.ticks,o=function(t){const e=t.options.offset,n=t._tickSize(),o=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(o,r))}(t),r=Math.min(n.maxTicksLimit||o,o),i=n.major.enabled?function(t){const e=[];let n,o;for(n=0,o=t.length;n<o;n++)t[n].major&&e.push(n);return e}(e):[],s=i.length,a=i[0],l=i[s-1],u=[];if(s>r)return function(t,e,n,o){let r,i=0,s=n[0];for(o=Math.ceil(o),r=0;r<t.length;r++)r===s&&(e.push(t[r]),i++,s=n[i*o])}(e,u,i,s/r),u;const c=function(t,e,n){const o=function(t){const e=t.length;let n,o;if(e<2)return!1;for(o=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==o)return!1;return o}(t),r=e.length/n;if(!o)return Math.max(r,1);const i=function(t){const e=[],n=Math.sqrt(t);let o;for(o=1;o<n;o++)t%o===0&&(e.push(o),e.push(t/o));return n===(0|n)&&e.push(n),e.sort(((t,e)=>t-e)).pop(),e}(o);for(let s=0,a=i.length-1;s<a;s++){const t=i[s];if(t>r)return t}return Math.max(r,1)}(i,e,r);if(s>0){let t,n;const o=s>1?Math.round((l-a)/(s-1)):null;for(kc(e,u,c,Ss(o)?0:a-o,a),t=0,n=s-1;t<n;t++)kc(e,u,c,i[t],i[t+1]);return kc(e,u,c,l,Ss(o)?e.length:l+o),u}return kc(e,u,c),u}function kc(t,e,n,o,r){const i=Rs(o,0),s=Math.min(Rs(r,t.length),t.length);let a,l,u,c=0;for(n=Math.ceil(n),r&&(a=r-o,n=a/Math.floor(a/n)),u=i;u<0;)c++,u=Math.round(i+c*n);for(l=Math.max(i,0);l<s;l++)l===u&&(e.push(t[l]),c++,u=Math.round(i+c*n))}(0,ji.Z)(Mc,"defaults",{}),(0,ji.Z)(Mc,"defaultRoutes",void 0);const Nc=(t,e,n)=>"top"===e||"left"===e?t[e]+n:t[e]-n,Fc=(t,e)=>Math.min(e||t,t);function Ic(t,e){const n=[],o=t.length/e,r=t.length;let i=0;for(;i<r;i+=o)n.push(t[Math.floor(i)]);return n}function Gc(t,e,n){const o=t.ticks.length,r=Math.min(e,o-1),i=t._startPixel,s=t._endPixel,a=1e-6;let l,u=t.getPixelForTick(r);if(!(n&&(l=1===o?Math.max(u-i,s-u):0===e?(t.getPixelForTick(1)-u)/2:(u-t.getPixelForTick(r-1))/2,u+=r<e?l:-l,u<i-a||u>s+a)))return u}function Hc(t){return t.drawTicks?t.tickLength:0}function Vc(t,e){if(!t.display)return 0;const n=gl(t.font,e),o=fl(t.padding);return(Es(t.text)?t.text.length:1)*n.lineHeight+o.height}function jc(t,e,n){let o=Sa(t);return(n&&"right"!==e||!n&&"right"===e)&&(o=(t=>"left"===t?"right":"right"===t?"left":t)(o)),o}class Bc extends Mc{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:n,_suggestedMax:o}=this;return t=Ts(t,Number.POSITIVE_INFINITY),e=Ts(e,Number.NEGATIVE_INFINITY),n=Ts(n,Number.POSITIVE_INFINITY),o=Ts(o,Number.NEGATIVE_INFINITY),{min:Ts(t,n),max:Ts(e,o),minDefined:xs(t),maxDefined:xs(e)}}getMinMax(t){let e,{min:n,max:o,minDefined:r,maxDefined:i}=this.getUserBounds();if(r&&i)return{min:n,max:o};const s=this.getMatchingVisibleMetas();for(let a=0,l=s.length;a<l;++a)e=s[a].controller.getMinMax(this,t),r||(n=Math.min(n,e.min)),i||(o=Math.max(o,e.max));return n=i&&n>o?o:n,o=r&&n>o?n:o,{min:Ts(n,Ts(o,n)),max:Ts(o,Ts(n,o))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ps(this.options.beforeUpdate,[this])}update(t,e,n){const{beginAtZero:o,grace:r,ticks:i}=this.options,s=i.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(t,e,n){const{min:o,max:r}=t,i=Ds(e,(r-o)/2),s=(t,e)=>n&&0===t?0:t+e;return{min:s(o,-Math.abs(i)),max:s(r,i)}}(this,r,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const a=s<this.ticks.length;this._convertTicksToLabels(a?Ic(this.ticks,s):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),i.display&&(i.autoSkip||"auto"===i.source)&&(this.ticks=Ac(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,e,n=this.options.reverse;this.isHorizontal()?(t=this.left,e=this.right):(t=this.top,e=this.bottom,n=!n),this._startPixel=t,this._endPixel=e,this._reversePixels=n,this._length=e-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ps(this.options.afterUpdate,[this])}beforeSetDimensions(){Ps(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ps(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Ps(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ps(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let n,o,r;for(n=0,o=t.length;n<o;n++)r=t[n],r.label=Ps(e.callback,[r.value,n,t],this)}afterTickToLabelConversion(){Ps(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ps(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,n=Fc(this.ticks.length,t.ticks.maxTicksLimit),o=e.minRotation||0,r=e.maxRotation;let i,s,a,l=o;if(!this._isVisible()||!e.display||o>=r||n<=1||!this.isHorizontal())return void(this.labelRotation=o);const u=this._getLabelSizes(),c=u.widest.width,d=u.highest.height,p=ha(this.chart.width-c,0,this.maxWidth);i=t.offset?this.maxWidth/n:p/(n-1),c+6>i&&(i=p/(n-(t.offset?.5:1)),s=this.maxHeight-Hc(t.grid)-e.padding-Vc(t.title,this.chart.options.font),a=Math.sqrt(c*c+d*d),l=sa(Math.min(Math.asin(ha((u.highest.height+6)/i,-1,1)),Math.asin(ha(s/a,-1,1))-Math.asin(ha(d/a,-1,1)))),l=Math.max(o,Math.min(r,l))),this.labelRotation=l}afterCalculateLabelRotation(){Ps(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ps(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:n,title:o,grid:r}}=this,i=this._isVisible(),s=this.isHorizontal();if(i){const i=Vc(o,e.options.font);if(s?(t.width=this.maxWidth,t.height=Hc(r)+i):(t.height=this.maxHeight,t.width=Hc(r)+i),n.display&&this.ticks.length){const{first:e,last:o,widest:r,highest:i}=this._getLabelSizes(),a=2*n.padding,l=ia(this.labelRotation),u=Math.cos(l),c=Math.sin(l);if(s){const e=n.mirror?0:c*r.width+u*i.height;t.height=Math.min(this.maxHeight,t.height+e+a)}else{const e=n.mirror?0:u*r.width+c*i.height;t.width=Math.min(this.maxWidth,t.width+e+a)}this._calculatePadding(e,o,c,u)}}this._handleMargins(),s?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,n,o){const{ticks:{align:r,padding:i},position:s}=this.options,a=0!==this.labelRotation,l="top"!==s&&"x"===this.axis;if(this.isHorizontal()){const s=this.getPixelForTick(0)-this.left,u=this.right-this.getPixelForTick(this.ticks.length-1);let c=0,d=0;a?l?(c=o*t.width,d=n*e.height):(c=n*t.height,d=o*e.width):"start"===r?d=e.width:"end"===r?c=t.width:"inner"!==r&&(c=t.width/2,d=e.width/2),this.paddingLeft=Math.max((c-s+i)*this.width/(this.width-s),0),this.paddingRight=Math.max((d-u+i)*this.width/(this.width-u),0)}else{let n=e.height/2,o=t.height/2;"start"===r?(n=0,o=t.height):"end"===r&&(n=e.height,o=0),this.paddingTop=n+i,this.paddingBottom=o+i}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ps(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,n=t.length;e<n;e++)Ss(t[e].label)&&(t.splice(e,1),n--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let n=this.ticks;e<n.length&&(n=Ic(n,e)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,n){const{ctx:o,_longestTextCache:r}=this,i=[],s=[],a=Math.floor(e/Fc(e,n));let l,u,c,d,p,h,f,g,v,m,y,C=0,w=0;for(l=0;l<e;l+=a){if(d=t[l].label,p=this._resolveTickFontOptions(l),o.font=h=p.string,f=r[h]=r[h]||{data:{},gc:[]},g=p.lineHeight,v=m=0,Ss(d)||Es(d)){if(Es(d))for(u=0,c=d.length;u<c;++u)y=d[u],Ss(y)||Es(y)||(v=Ya(o,f.data,f.gc,v,y),m+=g)}else v=Ya(o,f.data,f.gc,v,d),m=g;i.push(v),s.push(m),C=Math.max(v,C),w=Math.max(m,w)}!function(t,e){Ls(t,(t=>{const n=t.gc,o=n.length/2;let r;if(o>e){for(r=0;r<o;++r)delete t.data[n[r]];n.splice(0,o)}}))}(r,e);const b=i.indexOf(C),_=s.indexOf(w),S=t=>({width:i[t]||0,height:s[t]||0});return{first:S(0),last:S(e-1),widest:S(b),highest:S(_),widths:i,heights:s}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return ha(this._alignToPixels?Za(this.chart,e,0):e,-32768,32767)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const n=e[t];return n.$context||(n.$context=function(t,e,n){return ml(t,{tick:n,index:e,type:"tick"})}(this.getContext(),t,n))}return this.$context||(this.$context=ml(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const t=this.options.ticks,e=ia(this.labelRotation),n=Math.abs(Math.cos(e)),o=Math.abs(Math.sin(e)),r=this._getLabelSizes(),i=t.autoSkipPadding||0,s=r?r.widest.width+i:0,a=r?r.highest.height+i:0;return this.isHorizontal()?a*n>s*o?s/n:a/o:a*o<s*n?a/n:s/o}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,n=this.chart,o=this.options,{grid:r,position:i,border:s}=o,a=r.offset,l=this.isHorizontal(),u=this.ticks.length+(a?1:0),c=Hc(r),d=[],p=s.setContext(this.getContext()),h=p.display?p.width:0,f=h/2,g=function(t){return Za(n,t,h)};let v,m,y,C,w,b,_,S,E,O,x,T;if("top"===i)v=g(this.bottom),b=this.bottom-c,S=v-f,O=g(t.top)+f,T=t.bottom;else if("bottom"===i)v=g(this.top),O=t.top,T=g(t.bottom)-f,b=v+f,S=this.top+c;else if("left"===i)v=g(this.right),w=this.right-c,_=v-f,E=g(t.left)+f,x=t.right;else if("right"===i)v=g(this.left),E=t.left,x=g(t.right)-f,w=v+f,_=this.left+c;else if("x"===e){if("center"===i)v=g((t.top+t.bottom)/2+.5);else if(Os(i)){const t=Object.keys(i)[0],e=i[t];v=g(this.chart.scales[t].getPixelForValue(e))}O=t.top,T=t.bottom,b=v+f,S=b+c}else if("y"===e){if("center"===i)v=g((t.left+t.right)/2);else if(Os(i)){const t=Object.keys(i)[0],e=i[t];v=g(this.chart.scales[t].getPixelForValue(e))}w=v-f,_=w-c,E=t.left,x=t.right}const R=Rs(o.ticks.maxTicksLimit,u),D=Math.max(1,Math.ceil(u/R));for(m=0;m<u;m+=D){const t=this.getContext(m),e=r.setContext(t),o=s.setContext(t),i=e.lineWidth,u=e.color,c=o.dash||[],p=o.dashOffset,h=e.tickWidth,f=e.tickColor,g=e.tickBorderDash||[],v=e.tickBorderDashOffset;y=Gc(this,m,a),void 0!==y&&(C=Za(n,y,i),l?w=_=E=x=C:b=S=O=T=C,d.push({tx1:w,ty1:b,tx2:_,ty2:S,x1:E,y1:O,x2:x,y2:T,width:i,color:u,borderDash:c,borderDashOffset:p,tickWidth:h,tickColor:f,tickBorderDash:g,tickBorderDashOffset:v}))}return this._ticksLength=u,this._borderValue=v,d}_computeLabelItems(t){const e=this.axis,n=this.options,{position:o,ticks:r}=n,i=this.isHorizontal(),s=this.ticks,{align:a,crossAlign:l,padding:u,mirror:c}=r,d=Hc(n.grid),p=d+u,h=c?-u:p,f=-ia(this.labelRotation),g=[];let v,m,y,C,w,b,_,S,E,O,x,T,R="middle";if("top"===o)b=this.bottom-h,_=this._getXAxisLabelAlignment();else if("bottom"===o)b=this.top+h,_=this._getXAxisLabelAlignment();else if("left"===o){const t=this._getYAxisLabelAlignment(d);_=t.textAlign,w=t.x}else if("right"===o){const t=this._getYAxisLabelAlignment(d);_=t.textAlign,w=t.x}else if("x"===e){if("center"===o)b=(t.top+t.bottom)/2+p;else if(Os(o)){const t=Object.keys(o)[0],e=o[t];b=this.chart.scales[t].getPixelForValue(e)+p}_=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===o)w=(t.left+t.right)/2-p;else if(Os(o)){const t=Object.keys(o)[0],e=o[t];w=this.chart.scales[t].getPixelForValue(e)}_=this._getYAxisLabelAlignment(d).textAlign}"y"===e&&("start"===a?R="top":"end"===a&&(R="bottom"));const D=this._getLabelSizes();for(v=0,m=s.length;v<m;++v){y=s[v],C=y.label;const t=r.setContext(this.getContext(v));S=this.getPixelForTick(v)+r.labelOffset,E=this._resolveTickFontOptions(v),O=E.lineHeight,x=Es(C)?C.length:1;const e=x/2,n=t.color,a=t.textStrokeColor,u=t.textStrokeWidth;let d,p=_;if(i?(w=S,"inner"===_&&(p=v===m-1?this.options.reverse?"left":"right":0===v?this.options.reverse?"right":"left":"center"),T="top"===o?"near"===l||0!==f?-x*O+O/2:"center"===l?-D.highest.height/2-e*O+O:-D.highest.height+O/2:"near"===l||0!==f?O/2:"center"===l?D.highest.height/2-e*O:D.highest.height-x*O,c&&(T*=-1),0===f||t.showLabelBackdrop||(w+=O/2*Math.sin(f))):(b=S,T=(1-x)*O/2),t.showLabelBackdrop){const e=fl(t.backdropPadding),n=D.heights[v],o=D.widths[v];let r=T-e.top,i=0-e.left;switch(R){case"middle":r-=n/2;break;case"bottom":r-=n}switch(_){case"center":i-=o/2;break;case"right":i-=o;break;case"inner":v===m-1?i-=o:v>0&&(i-=o/2)}d={left:i,top:r,width:o+e.width,height:n+e.height,color:t.backdropColor}}g.push({label:C,font:E,textOffset:T,options:{rotation:f,color:n,strokeColor:a,strokeWidth:u,textAlign:p,textBaseline:R,translation:[w,b],backdrop:d}})}return g}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-ia(this.labelRotation))return"top"===t?"left":"right";let n="center";return"start"===e.align?n="left":"end"===e.align?n="right":"inner"===e.align&&(n="inner"),n}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:n,mirror:o,padding:r}}=this.options,i=t+r,s=this._getLabelSizes().widest.width;let a,l;return"left"===e?o?(l=this.right+r,"near"===n?a="left":"center"===n?(a="center",l+=s/2):(a="right",l+=s)):(l=this.right-i,"near"===n?a="right":"center"===n?(a="center",l-=s/2):(a="left",l=this.left)):"right"===e?o?(l=this.left+r,"near"===n?a="right":"center"===n?(a="center",l-=s/2):(a="left",l-=s)):(l=this.left+i,"near"===n?a="left":"center"===n?(a="center",l+=s/2):(a="right",l=this.right)):a="right",{textAlign:a,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:n,top:o,width:r,height:i}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(n,o,r,i),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const n=this.ticks.findIndex((e=>e.value===t));if(n>=0){return e.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(t){const e=this.options.grid,n=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,i;const s=(t,e,o)=>{o.width&&o.color&&(n.save(),n.lineWidth=o.width,n.strokeStyle=o.color,n.setLineDash(o.borderDash||[]),n.lineDashOffset=o.borderDashOffset,n.beginPath(),n.moveTo(t.x,t.y),n.lineTo(e.x,e.y),n.stroke(),n.restore())};if(e.display)for(r=0,i=o.length;r<i;++r){const t=o[r];e.drawOnChartArea&&s({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},t),e.drawTicks&&s({x:t.tx1,y:t.ty1},{x:t.tx2,y:t.ty2},{color:t.tickColor,width:t.tickWidth,borderDash:t.tickBorderDash,borderDashOffset:t.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:n,grid:o}}=this,r=n.setContext(this.getContext()),i=n.display?r.width:0;if(!i)return;const s=o.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let l,u,c,d;this.isHorizontal()?(l=Za(t,this.left,i)-i/2,u=Za(t,this.right,s)+s/2,c=d=a):(c=Za(t,this.top,i)-i/2,d=Za(t,this.bottom,s)+s/2,l=u=a),e.save(),e.lineWidth=r.width,e.strokeStyle=r.color,e.beginPath(),e.moveTo(l,c),e.lineTo(u,d),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const e=this.ctx,n=this._computeLabelArea();n&&Ja(e,n);const o=this.getLabelItems(t);for(const r of o){const t=r.options,n=r.font;il(e,r.label,0,r.textOffset,n,t)}n&&tl(e)}drawTitle(){const{ctx:t,options:{position:e,title:n,reverse:o}}=this;if(!n.display)return;const r=gl(n.font),i=fl(n.padding),s=n.align;let a=r.lineHeight/2;"bottom"===e||"center"===e||Os(e)?(a+=i.bottom,Es(n.text)&&(a+=r.lineHeight*(n.text.length-1))):a+=i.top;const{titleX:l,titleY:u,maxWidth:c,rotation:d}=function(t,e,n,o){const{top:r,left:i,bottom:s,right:a,chart:l}=t,{chartArea:u,scales:c}=l;let d,p,h,f=0;const g=s-r,v=a-i;if(t.isHorizontal()){if(p=Ea(o,i,a),Os(n)){const t=Object.keys(n)[0],o=n[t];h=c[t].getPixelForValue(o)+g-e}else h="center"===n?(u.bottom+u.top)/2+g-e:Nc(t,n,e);d=a-i}else{if(Os(n)){const t=Object.keys(n)[0],o=n[t];p=c[t].getPixelForValue(o)-v+e}else p="center"===n?(u.left+u.right)/2-v+e:Nc(t,n,e);h=Ea(o,s,r),f="left"===n?-Qs:Qs}return{titleX:p,titleY:h,maxWidth:d,rotation:f}}(this,a,e,s);il(t,n.text,0,0,r,{color:n.color,maxWidth:c,rotation:d,textAlign:jc(s,e,o),textBaseline:"middle",translation:[l,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,n=Rs(t.grid&&t.grid.z,-1),o=Rs(t.border&&t.border.z,0);return this._isVisible()&&this.draw===Bc.prototype.draw?[{z:n,draw:t=>{this.drawBackground(),this.drawGrid(t),this.drawTitle()}},{z:o,draw:()=>{this.drawBorder()}},{z:e,draw:t=>{this.drawLabels(t)}}]:[{z:e,draw:t=>{this.draw(t)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",o=[];let r,i;for(r=0,i=e.length;r<i;++r){const i=e[r];i[n]!==this.id||t&&i.type!==t||o.push(i)}return o}_resolveTickFontOptions(t){return gl(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Wc{constructor(t,e,n){this.type=t,this.scope=e,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let n;(function(t){return"id"in t&&"defaults"in t})(e)&&(n=this.register(e));const o=this.items,r=t.id,i=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in o||(o[r]=t,function(t,e,n){const o=Fs(Object.create(null),[n?Ua.get(n):{},Ua.get(e),t.defaults]);Ua.set(e,o),t.defaultRoutes&&function(t,e){Object.keys(e).forEach((n=>{const o=n.split("."),r=o.pop(),i=[t].concat(o).join("."),s=e[n].split("."),a=s.pop(),l=s.join(".");Ua.route(i,r,l,a)}))}(e,t.defaultRoutes);t.descriptors&&Ua.describe(e,t.descriptors)}(t,i,n),this.override&&Ua.override(t.id,t.overrides)),i}get(t){return this.items[t]}unregister(t){const e=this.items,n=t.id,o=this.scope;n in e&&delete e[n],o&&n in Ua[o]&&(delete Ua[o][n],this.override&&delete Va[n])}}class zc{constructor(){this.controllers=new Wc(Ru,"datasets",!0),this.elements=new Wc(Mc,"elements"),this.plugins=new Wc(Object,"plugins"),this.scales=new Wc(Bc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e)}remove(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e)}addControllers(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.controllers)}addElements(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.elements)}addPlugins(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.plugins)}addScales(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.controllers)}removeElements(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.elements)}removePlugins(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.plugins)}removeScales(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.scales)}_each(t,e,n){[...e].forEach((e=>{const o=n||this._getRegistryForType(e);n||o.isForType(e)||o===this.plugins&&e.id?this._exec(t,o,e):Ls(e,(e=>{const o=n||this._getRegistryForType(e);this._exec(t,o,e)}))}))}_exec(t,e,n){const o=js(t);Ps(n["before"+o],[],n),e[t](n),Ps(n["after"+o],[],n)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}_get(t,e,n){const o=e.get(t);if(void 0===o)throw new Error('"'+t+'" is not a registered '+n+".");return o}}var Uc=new zc;class Yc{constructor(){this._init=[]}notify(t,e,n,o){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=o?this._descriptors(t).filter(o):this._descriptors(t),i=this._notify(r,t,e,n);return"afterDestroy"===e&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),i}_notify(t,e,n,o){o=o||{};for(const r of t){const t=r.plugin;if(!1===Ps(t[n],[e,o,r.options],t)&&o.cancelable)return!1}return!0}invalidate(){Ss(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const n=t&&t.config,o=Rs(n.options&&n.options.plugins,{}),r=function(t){const e={},n=[],o=Object.keys(Uc.plugins.items);for(let i=0;i<o.length;i++)n.push(Uc.getPlugin(o[i]));const r=t.plugins||[];for(let i=0;i<r.length;i++){const t=r[i];-1===n.indexOf(t)&&(n.push(t),e[t.id]=!0)}return{plugins:n,localIds:e}}(n);return!1!==o||e?function(t,e,n,o){let{plugins:r,localIds:i}=e;const s=[],a=t.getContext();for(const l of r){const e=l.id,r=Kc(n[e],o);null!==r&&s.push({plugin:l,options:Zc(t.config,{plugin:l,local:i[e]},r,a)})}return s}(t,r,o,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],n=this._cache,o=(t,e)=>t.filter((t=>!e.some((e=>t.plugin.id===e.plugin.id))));this._notify(o(e,n),t,"stop"),this._notify(o(n,e),t,"start")}}function Kc(t,e){return e||!1!==t?!0===t?{}:t:null}function Zc(t,e,n,o){let{plugin:r,local:i}=e;const s=t.pluginScopeKeys(r),a=t.getOptionScopes(n,s);return i&&r.defaults&&a.push(r.defaults),t.createResolver(a,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function qc(t,e){const n=Ua.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function Qc(t){if("x"===t||"y"===t||"r"===t)return t}function Xc(t){if(Qc(t))return t;for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];for(const i of n){const e=i.axis||("top"===(r=i.position)||"bottom"===r?"x":"left"===r||"right"===r?"y":void 0)||t.length>1&&Qc(t[0].toLowerCase());if(e)return e}var r;throw new Error("Cannot determine type of '".concat(t,"' axis. Please provide 'axis' or 'position' option."))}function $c(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function Jc(t,e){const n=Va[t.type]||{scales:{}},o=e.scales||{},r=qc(t.type,e),i=Object.create(null);return Object.keys(o).forEach((e=>{const s=o[e];if(!Os(s))return console.error("Invalid scale configuration for scale: ".concat(e));if(s._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(e));const a=Xc(e,s,function(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter((e=>e.xAxisID===t||e.yAxisID===t));if(n.length)return $c(t,"x",n[0])||$c(t,"y",n[0])}return{}}(e,t),Ua.scales[s.type]),l=function(t,e){return t===e?"_index_":"_value_"}(a,r),u=n.scales||{};i[e]=Is(Object.create(null),[{axis:a},s,u[a],u[l]])})),t.data.datasets.forEach((n=>{const r=n.type||t.type,s=n.indexAxis||qc(r,e),a=(Va[r]||{}).scales||{};Object.keys(a).forEach((t=>{const e=function(t,e){let n=t;return"_index_"===t?n=e:"_value_"===t&&(n="x"===e?"y":"x"),n}(t,s),r=n[e+"AxisID"]||e;i[r]=i[r]||Object.create(null),Is(i[r],[{axis:e},o[r],a[t]])}))})),Object.keys(i).forEach((t=>{const e=i[t];Is(e,[Ua.scales[e.type],Ua.scale])})),i}function td(t){const e=t.options||(t.options={});e.plugins=Rs(e.plugins,{}),e.scales=Jc(t,e)}function ed(t){return(t=t||{}).datasets=t.datasets||[],t.labels=t.labels||[],t}const nd=new Map,od=new Set;function rd(t,e){let n=nd.get(t);return n||(n=e(),nd.set(t,n),od.add(n)),n}const id=(t,e,n)=>{const o=Vs(e,n);void 0!==o&&t.add(o)};class sd{constructor(t){this._config=function(t){return(t=t||{}).data=ed(t.data),td(t),t}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=ed(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),td(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return rd(t,(()=>[["datasets.".concat(t),""]]))}datasetAnimationScopeKeys(t,e){return rd("".concat(t,".transition.").concat(e),(()=>[["datasets.".concat(t,".transitions.").concat(e),"transitions.".concat(e)],["datasets.".concat(t),""]]))}datasetElementScopeKeys(t,e){return rd("".concat(t,"-").concat(e),(()=>[["datasets.".concat(t,".elements.").concat(e),"datasets.".concat(t),"elements.".concat(e),""]]))}pluginScopeKeys(t){const e=t.id,n=this.type;return rd("".concat(n,"-plugin-").concat(e),(()=>[["plugins.".concat(e),...t.additionalOptionScopes||[]]]))}_cachedScopes(t,e){const n=this._scopeCache;let o=n.get(t);return o&&!e||(o=new Map,n.set(t,o)),o}getOptionScopes(t,e,n){const{options:o,type:r}=this,i=this._cachedScopes(t,n),s=i.get(e);if(s)return s;const a=new Set;e.forEach((e=>{t&&(a.add(t),e.forEach((e=>id(a,t,e)))),e.forEach((t=>id(a,o,t))),e.forEach((t=>id(a,Va[r]||{},t))),e.forEach((t=>id(a,Ua,t))),e.forEach((t=>id(a,ja,t)))}));const l=Array.from(a);return 0===l.length&&l.push(Object.create(null)),od.has(e)&&i.set(e,l),l}chartOptionScopes(){const{options:t,type:e}=this;return[t,Va[e]||{},Ua.datasets[e]||{},{type:e},Ua,ja]}resolveNamedOptions(t,e,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const r={$shared:!0},{resolver:i,subPrefixes:s}=ad(this._resolverCache,t,o);let a=i;if(function(t,e){const{isScriptable:n,isIndexable:o}=wl(t);for(const r of e){const e=n(r),i=o(r),s=(i||e)&&t[r];if(e&&(Ws(s)||ld(s))||i&&Es(s))return!0}return!1}(i,e)){r.$shared=!1;a=Cl(i,n=Ws(n)?n():n,this.createResolver(t,n,s))}for(const l of e)r[l]=a[l];return r}createResolver(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],o=arguments.length>3?arguments[3]:void 0;const{resolver:r}=ad(this._resolverCache,t,n);return Os(e)?Cl(r,e,void 0,o):r}}function ad(t,e,n){let o=t.get(e);o||(o=new Map,t.set(e,o));const r=n.join();let i=o.get(r);if(!i){i={resolver:yl(e,n),subPrefixes:n.filter((t=>!t.toLowerCase().includes("hover")))},o.set(r,i)}return i}const ld=t=>Os(t)&&Object.getOwnPropertyNames(t).some((e=>Ws(t[e])));const ud=["top","bottom","left","right","chartArea"];function cd(t,e){return"top"===t||"bottom"===t||-1===ud.indexOf(t)&&"x"===e}function dd(t,e){return function(n,o){return n[t]===o[t]?n[e]-o[e]:n[t]-o[t]}}function pd(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Ps(n&&n.onComplete,[t],e)}function hd(t){const e=t.chart,n=e.options.animation;Ps(n&&n.onProgress,[t],e)}function fd(t){return Hl()&&"string"===typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const gd={},vd=t=>{const e=fd(t);return Object.values(gd).filter((t=>t.canvas===e)).pop()};function md(t,e,n){const o=Object.keys(t);for(const r of o){const o=+r;if(o>=e){const i=t[r];delete t[r],(n>0||o>e)&&(t[o+n]=i)}}}function yd(t,e,n){return t.options.clip?t[n]:e[n]}class Cd{static register(){Uc.add(...arguments),wd()}static unregister(){Uc.remove(...arguments),wd()}constructor(t,e){const n=this.config=new sd(e),o=fd(t),r=vd(o);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const i=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(t){return!Hl()||"undefined"!==typeof OffscreenCanvas&&t instanceof OffscreenCanvas?vc:Lc}(o)),this.platform.updateConfig(n);const s=this.platform.acquireContext(o,i.aspectRatio),a=s&&s.canvas,l=a&&a.height,u=a&&a.width;this.id=_s(),this.ctx=s,this.canvas=a,this.width=u,this.height=l,this._options=i,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Yc,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(t,e){let n;return function(){for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}((t=>this.update(t)),i.resizeDelay||0),this._dataChanges=[],gd[this.id]=this,s&&a?(pu.listen(this,"complete",pd),pu.listen(this,"progress",hd),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:n,height:o,_aspectRatio:r}=this;return Ss(t)?e&&r?r:o?n/o:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Uc}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ql(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return qa(this.canvas,this.ctx),this}stop(){return pu.stop(this),this}resize(t,e){pu.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const n=this.options,o=this.canvas,r=n.maintainAspectRatio&&this.aspectRatio,i=this.platform.getMaximumSize(o,t,e,r),s=n.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=i.width,this.height=i.height,this._aspectRatio=this.aspectRatio,ql(this,s,!0)&&(this.notifyPlugins("resize",{size:i}),Ps(n.onResize,[this,i],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){Ls(this.options.scales||{},((t,e)=>{t.id=e}))}buildOrUpdateScales(){const t=this.options,e=t.scales,n=this.scales,o=Object.keys(n).reduce(((t,e)=>(t[e]=!1,t)),{});let r=[];e&&(r=r.concat(Object.keys(e).map((t=>{const n=e[t],o=Xc(t,n),r="r"===o,i="x"===o;return{options:n,dposition:r?"chartArea":i?"bottom":"left",dtype:r?"radialLinear":i?"category":"linear"}})))),Ls(r,(e=>{const r=e.options,i=r.id,s=Xc(i,r),a=Rs(r.type,e.dtype);void 0!==r.position&&cd(r.position,s)===cd(e.dposition)||(r.position=e.dposition),o[i]=!0;let l=null;if(i in n&&n[i].type===a)l=n[i];else{l=new(Uc.getScale(a))({id:i,type:a,ctx:this.ctx,chart:this}),n[l.id]=l}l.init(r,t)})),Ls(o,((t,e)=>{t||delete n[e]})),Ls(n,(t=>{fc.configure(this,t,t.options),fc.addBox(this,t)}))}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,n=t.length;if(t.sort(((t,e)=>t.index-e.index)),n>e){for(let t=e;t<n;++t)this._destroyDatasetMeta(t);t.splice(e,n-e)}this._sortedMetasets=t.slice(0).sort(dd("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach(((t,n)=>{0===e.filter((e=>e===t._dataset)).length&&this._destroyDatasetMeta(n)}))}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let n,o;for(this._removeUnreferencedMetasets(),n=0,o=e.length;n<o;n++){const o=e[n];let r=this.getDatasetMeta(n);const i=o.type||this.config.type;if(r.type&&r.type!==i&&(this._destroyDatasetMeta(n),r=this.getDatasetMeta(n)),r.type=i,r.indexAxis=o.indexAxis||qc(i,this.options),r.order=o.order||0,r.index=n,r.label=""+o.label,r.visible=this.isDatasetVisible(n),r.controller)r.controller.updateIndex(n),r.controller.linkScales();else{const e=Uc.getController(i),{datasetElementType:o,dataElementType:s}=Ua.datasets[i];Object.assign(e,{dataElementType:Uc.getElement(s),datasetElementType:o&&Uc.getElement(o)}),r.controller=new e(this,n),t.push(r.controller)}}return this._updateMetasets(),t}_resetElements(){Ls(this.data.datasets,((t,e)=>{this.getDatasetMeta(e).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const n=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let i=0;for(let l=0,u=this.data.datasets.length;l<u;l++){const{controller:t}=this.getDatasetMeta(l),e=!o&&-1===r.indexOf(t);t.buildOrUpdateElements(e),i=Math.max(+t.getMaxOverflow(),i)}i=this._minPadding=n.layout.autoPadding?i:0,this._updateLayout(i),o||Ls(r,(t=>{t.reset()})),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(dd("z","_idx"));const{_active:s,_lastEvent:a}=this;a?this._eventHandler(a,!0):s.length&&this._updateHoverStyles(s,s,!0),this.render()}_updateScales(){Ls(this.scales,(t=>{fc.removeBox(this,t)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),n=new Set(t.events);zs(e,n)&&!!this._responsiveListeners===t.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:n,start:o,count:r}of e){md(t,o,"_removeElements"===n?-r:r)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,n=e=>new Set(t.filter((t=>t[0]===e)).map(((t,e)=>e+","+t.splice(1).join(",")))),o=n(0);for(let r=1;r<e;r++)if(!zs(o,n(r)))return;return Array.from(o).map((t=>t.split(","))).map((t=>({method:t[1],start:+t[2],count:+t[3]})))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;fc.update(this,this.width,this.height,t);const e=this.chartArea,n=e.width<=0||e.height<=0;this._layers=[],Ls(this.boxes,(t=>{n&&"chartArea"===t.position||(t.configure&&t.configure(),this._layers.push(...t._layers()))}),this),this._layers.forEach(((t,e)=>{t._idx=e})),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let t=0,e=this.data.datasets.length;t<e;++t)this.getDatasetMeta(t).controller.configure();for(let e=0,n=this.data.datasets.length;e<n;++e)this._updateDataset(e,Ws(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const n=this.getDatasetMeta(t),o={meta:n,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",o)&&(n.controller._update(e),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(pu.has(this)?this.attached&&!pu.running(this)&&pu.start(this):(this.draw(),pd({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:t,height:e}=this._resizeBeforeDraw;this._resize(t,e),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,n=[];let o,r;for(o=0,r=e.length;o<r;++o){const r=e[o];t&&!r.visible||n.push(r)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,n=t._clip,o=!n.disabled,r=function(t,e){const{xScale:n,yScale:o}=t;return n&&o?{left:yd(n,e,"left"),right:yd(n,e,"right"),top:yd(o,e,"top"),bottom:yd(o,e,"bottom")}:e}(t,this.chartArea),i={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",i)&&(o&&Ja(e,{left:!1===n.left?0:r.left-n.left,right:!1===n.right?this.width:r.right+n.right,top:!1===n.top?0:r.top-n.top,bottom:!1===n.bottom?this.height:r.bottom+n.bottom}),t.controller.draw(),o&&tl(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return $a(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,n,o){const r=ec.modes[e];return"function"===typeof r?r(this,t,n,o):[]}getDatasetMeta(t){const e=this.data.datasets[t],n=this._metasets;let o=n.filter((t=>t&&t._dataset===e)).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},n.push(o)),o}getContext(){return this.$context||(this.$context=ml(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const n=this.getDatasetMeta(t);return"boolean"===typeof n.hidden?!n.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,n){const o=n?"show":"hide",r=this.getDatasetMeta(t),i=r.controller._resolveAnimations(void 0,o);Bs(e)?(r.data[e].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),i.update(r,{visible:n}),this.update((e=>e.datasetIndex===t?o:void 0)))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),pu.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),qa(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete gd[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,n=(n,o)=>{e.addEventListener(this,n,o),t[n]=o},o=(t,e,n)=>{t.offsetX=e,t.offsetY=n,this._eventHandler(t)};Ls(this.options.events,(t=>n(t,o)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,n=(n,o)=>{e.addEventListener(this,n,o),t[n]=o},o=(n,o)=>{t[n]&&(e.removeEventListener(this,n,o),delete t[n])},r=(t,e)=>{this.canvas&&this.resize(t,e)};let i;const s=()=>{o("attach",s),this.attached=!0,this.resize(),n("resize",r),n("detach",i)};i=()=>{this.attached=!1,o("resize",r),this._stop(),this._resize(0,0),n("attach",s)},e.isAttached(this.canvas)?s():i()}unbindEvents(){Ls(this._listeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._listeners={},Ls(this._responsiveListeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._responsiveListeners=void 0}updateHoverStyle(t,e,n){const o=n?"set":"remove";let r,i,s,a;for("dataset"===e&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+o+"DatasetHoverStyle"]()),s=0,a=t.length;s<a;++s){i=t[s];const e=i&&this.getDatasetMeta(i.datasetIndex).controller;e&&e[o+"HoverStyle"](i.element,i.datasetIndex,i.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],n=t.map((t=>{let{datasetIndex:e,index:n}=t;const o=this.getDatasetMeta(e);if(!o)throw new Error("No dataset found at index "+e);return{datasetIndex:e,element:o.data[n],index:n}}));!Ms(n,e)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,e))}notifyPlugins(t,e,n){return this._plugins.notify(this,t,e,n)}isPluginEnabled(t){return 1===this._plugins._cache.filter((e=>e.plugin.id===t)).length}_updateHoverStyles(t,e,n){const o=this.options.hover,r=(t,e)=>t.filter((t=>!e.some((e=>t.datasetIndex===e.datasetIndex&&t.index===e.index)))),i=r(e,t),s=n?t:r(t,e);i.length&&this.updateHoverStyle(i,o.mode,!1),s.length&&o.mode&&this.updateHoverStyle(s,o.mode,!0)}_eventHandler(t,e){const n={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},o=e=>(e.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",n,o))return;const r=this._handleEvent(t,e,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,o),(r||n.changed)&&this.render(),this}_handleEvent(t,e,n){const{_active:o=[],options:r}=this,i=e,s=this._getActiveElements(t,o,n,i),a=function(t){return"mouseup"===t.type||"click"===t.type||"contextmenu"===t.type}(t),l=function(t,e,n,o){return n&&"mouseout"!==t.type?o?e:t:null}(t,this._lastEvent,n,a);n&&(this._lastEvent=null,Ps(r.onHover,[t,s,this],this),a&&Ps(r.onClick,[t,s,this],this));const u=!Ms(s,o);return(u||e)&&(this._active=s,this._updateHoverStyles(s,o,e)),this._lastEvent=l,u}_getActiveElements(t,e,n,o){if("mouseout"===t.type)return[];if(!n)return e;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,o)}}function wd(){return Ls(Cd.instances,(t=>t._plugins.invalidate()))}function bd(t,e,n,o){const r=dl(t.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const i=(n-e)/2,s=Math.min(i,o*e/2),a=t=>{const e=(n-Math.min(i,t))*o/2;return ha(t,0,Math.min(i,e))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:ha(r.innerStart,0,s),innerEnd:ha(r.innerEnd,0,s)}}function _d(t,e,n,o){return{x:n+t*Math.cos(e),y:o+t*Math.sin(e)}}function Sd(t,e,n,o,r,i){const{x:s,y:a,startAngle:l,pixelMargin:u,innerRadius:c}=e,d=Math.max(e.outerRadius+o+n-u,0),p=c>0?c+o+n+u:0;let h=0;const f=r-l;if(o){const t=((c>0?c-o:0)+(d>0?d-o:0))/2;h=(f-(0!==t?f*t/(t+o):f))/2}const g=(f-Math.max(.001,f*d-n/Us)/d)/2,v=l+g+h,m=r-g-h,{outerStart:y,outerEnd:C,innerStart:w,innerEnd:b}=bd(e,p,d,m-v),_=d-y,S=d-C,E=v+y/_,O=m-C/S,x=p+w,T=p+b,R=v+w/x,D=m-b/T;if(t.beginPath(),i){const e=(E+O)/2;if(t.arc(s,a,d,E,e),t.arc(s,a,d,e,O),C>0){const e=_d(S,O,s,a);t.arc(e.x,e.y,C,O,m+Qs)}const n=_d(T,m,s,a);if(t.lineTo(n.x,n.y),b>0){const e=_d(T,D,s,a);t.arc(e.x,e.y,b,m+Qs,D+Math.PI)}const o=(m-b/p+(v+w/p))/2;if(t.arc(s,a,p,m-b/p,o,!0),t.arc(s,a,p,o,v+w/p,!0),w>0){const e=_d(x,R,s,a);t.arc(e.x,e.y,w,R+Math.PI,v-Qs)}const r=_d(_,v,s,a);if(t.lineTo(r.x,r.y),y>0){const e=_d(_,E,s,a);t.arc(e.x,e.y,y,v-Qs,E)}}else{t.moveTo(s,a);const e=Math.cos(E)*d+s,n=Math.sin(E)*d+a;t.lineTo(e,n);const o=Math.cos(O)*d+s,r=Math.sin(O)*d+a;t.lineTo(o,r)}t.closePath()}function Ed(t,e,n,o,r){const{fullCircles:i,startAngle:s,circumference:a,options:l}=e,{borderWidth:u,borderJoinStyle:c,borderDash:d,borderDashOffset:p}=l,h="inner"===l.borderAlign;if(!u)return;t.setLineDash(d||[]),t.lineDashOffset=p,h?(t.lineWidth=2*u,t.lineJoin=c||"round"):(t.lineWidth=u,t.lineJoin=c||"bevel");let f=e.endAngle;if(i){Sd(t,e,n,o,f,r);for(let e=0;e<i;++e)t.stroke();isNaN(a)||(f=s+(a%Ys||Ys))}h&&function(t,e,n){const{startAngle:o,pixelMargin:r,x:i,y:s,outerRadius:a,innerRadius:l}=e;let u=r/a;t.beginPath(),t.arc(i,s,a,o-u,n+u),l>r?(u=r/l,t.arc(i,s,l,n+u,o-u,!0)):t.arc(i,s,r,n+Qs,o-Qs),t.closePath(),t.clip()}(t,e,f),i||(Sd(t,e,n,o,f,r),t.stroke())}(0,ji.Z)(Cd,"defaults",Ua),(0,ji.Z)(Cd,"instances",gd),(0,ji.Z)(Cd,"overrides",Va),(0,ji.Z)(Cd,"registry",Uc),(0,ji.Z)(Cd,"version","4.4.1"),(0,ji.Z)(Cd,"getChart",vd);class Od extends Mc{constructor(t){super(),(0,ji.Z)(this,"circumference",void 0),(0,ji.Z)(this,"endAngle",void 0),(0,ji.Z)(this,"fullCircles",void 0),(0,ji.Z)(this,"innerRadius",void 0),(0,ji.Z)(this,"outerRadius",void 0),(0,ji.Z)(this,"pixelMargin",void 0),(0,ji.Z)(this,"startAngle",void 0),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,n){const o=this.getProps(["x","y"],n),{angle:r,distance:i}=la(o,{x:t,y:e}),{startAngle:s,endAngle:a,innerRadius:l,outerRadius:u,circumference:c}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),d=(this.options.spacing+this.options.borderWidth)/2,p=Rs(c,a-s)>=Ys||pa(r,s,a),h=fa(i,l+d,u+d);return p&&h}getCenterPoint(t){const{x:e,y:n,startAngle:o,endAngle:r,innerRadius:i,outerRadius:s}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:a,spacing:l}=this.options,u=(o+r)/2,c=(i+s+l+a)/2;return{x:e+Math.cos(u)*c,y:n+Math.sin(u)*c}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:n}=this,o=(e.offset||0)/4,r=(e.spacing||0)/2,i=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=n>Ys?Math.floor(n/Ys):0,0===n||this.innerRadius<0||this.outerRadius<0)return;t.save();const s=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(s)*o,Math.sin(s)*o);const a=o*(1-Math.sin(Math.min(Us,n||0)));t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,function(t,e,n,o,r){const{fullCircles:i,startAngle:s,circumference:a}=e;let l=e.endAngle;if(i){Sd(t,e,n,o,l,r);for(let e=0;e<i;++e)t.fill();isNaN(a)||(l=s+(a%Ys||Ys))}Sd(t,e,n,o,l,r),t.fill()}(t,this,a,r,i),Ed(t,this,a,r,i),t.restore()}}function xd(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;t.lineCap=Rs(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Rs(n.borderDash,e.borderDash)),t.lineDashOffset=Rs(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Rs(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Rs(n.borderWidth,e.borderWidth),t.strokeStyle=Rs(n.borderColor,e.borderColor)}function Td(t,e,n){t.lineTo(n.x,n.y)}function Rd(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=t.length,{start:r=0,end:i=o-1}=n,{start:s,end:a}=e,l=Math.max(r,s),u=Math.min(i,a),c=r<s&&i<s||r>a&&i>a;return{count:o,start:l,loop:e.loop,ilen:u<l&&!c?o+u-l:u-l}}function Dd(t,e,n,o){const{points:r,options:i}=e,{count:s,start:a,loop:l,ilen:u}=Rd(r,n,o),c=function(t){return t.stepped?el:t.tension||"monotone"===t.cubicInterpolationMode?nl:Td}(i);let d,p,h,{move:f=!0,reverse:g}=o||{};for(d=0;d<=u;++d)p=r[(a+(g?u-d:d))%s],p.skip||(f?(t.moveTo(p.x,p.y),f=!1):c(t,h,p,g,i.stepped),h=p);return l&&(p=r[(a+(g?u:0))%s],c(t,h,p,g,i.stepped)),!!l}function Pd(t,e,n,o){const r=e.points,{count:i,start:s,ilen:a}=Rd(r,n,o),{move:l=!0,reverse:u}=o||{};let c,d,p,h,f,g,v=0,m=0;const y=t=>(s+(u?a-t:t))%i,C=()=>{h!==f&&(t.lineTo(v,f),t.lineTo(v,h),t.lineTo(v,g))};for(l&&(d=r[y(0)],t.moveTo(d.x,d.y)),c=0;c<=a;++c){if(d=r[y(c)],d.skip)continue;const e=d.x,n=d.y,o=0|e;o===p?(n<h?h=n:n>f&&(f=n),v=(m*v+e)/++m):(C(),t.lineTo(e,n),p=o,m=0,h=f=n),g=n}C()}function Ld(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&"monotone"!==e.cubicInterpolationMode&&!e.stepped&&!n?Pd:Dd}(0,ji.Z)(Od,"id","arc"),(0,ji.Z)(Od,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),(0,ji.Z)(Od,"defaultRoutes",{backgroundColor:"backgroundColor"}),(0,ji.Z)(Od,"descriptors",{_scriptable:!0,_indexable:t=>"borderDash"!==t});const Md="function"===typeof Path2D;function Ad(t,e,n,o){Md&&!e.options.segment?function(t,e,n,o){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,o)&&r.closePath()),xd(t,e.options),t.stroke(r)}(t,e,n,o):function(t,e,n,o){const{segments:r,options:i}=e,s=Ld(e);for(const a of r)xd(t,i,a.style),t.beginPath(),s(t,e,a,{start:n,end:n+o-1})&&t.closePath(),t.stroke()}(t,e,n,o)}class kd extends Mc{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const o=n.spanGaps?this._loop:this._fullLoop;Gl(this._points,n,t,o,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(t,e){const n=t.points,o=t.options.spanGaps,r=n.length;if(!r)return[];const i=!!t._loop,{start:s,end:a}=function(t,e,n,o){let r=0,i=e-1;if(n&&!o)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(i+=r);i>r&&t[i%e].skip;)i--;return i%=e,{start:r,end:i}}(n,r,i,o);return lu(t,!0===o?[{start:s,end:a,loop:i}]:function(t,e,n,o){const r=t.length,i=[];let s,a=e,l=t[e];for(s=e+1;s<=n;++s){const n=t[s%r];n.skip||n.stop?l.skip||(o=!1,i.push({start:e%r,end:(s-1)%r,loop:o}),e=a=n.stop?s:null):(a=s,l.skip&&(e=s)),l=n}return null!==a&&i.push({start:e%r,end:a%r,loop:o}),i}(n,s,a<s?a+r:a,!!t._fullLoop&&0===s&&a===r-1),n,e)}(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,n=t.length;return n&&e[t[n-1].end]}interpolate(t,e){const n=this.options,o=t[e],r=this.points,i=au(this,{property:e,start:o,end:o});if(!i.length)return;const s=[],a=function(t){return t.stepped?Jl:t.tension||"monotone"===t.cubicInterpolationMode?tu:$l}(n);let l,u;for(l=0,u=i.length;l<u;++l){const{start:u,end:c}=i[l],d=r[u],p=r[c];if(d===p){s.push(d);continue}const h=a(d,p,Math.abs((o-d[e])/(p[e]-d[e])),n.stepped);h[e]=t[e],s.push(h)}return 1===s.length?s[0]:s}pathSegment(t,e,n){return Ld(this)(t,this,e,n)}path(t,e,n){const o=this.segments,r=Ld(this);let i=this._loop;e=e||0,n=n||this.points.length-e;for(const s of o)i&=r(t,this,s,{start:e,end:e+n-1});return!!i}draw(t,e,n,o){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),Ad(t,this,n,o),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Nd(t,e,n,o){const r=t.options,{[n]:i}=t.getProps([n],o);return Math.abs(e-i)<r.radius+r.hitRadius}(0,ji.Z)(kd,"id","line"),(0,ji.Z)(kd,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),(0,ji.Z)(kd,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),(0,ji.Z)(kd,"descriptors",{_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t});class Fd extends Mc{constructor(t){super(),(0,ji.Z)(this,"parsed",void 0),(0,ji.Z)(this,"skip",void 0),(0,ji.Z)(this,"stop",void 0),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,n){const o=this.options,{x:r,y:i}=this.getProps(["x","y"],n);return Math.pow(t-r,2)+Math.pow(e-i,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(t,e){return Nd(this,t,"x",e)}inYRange(t,e){return Nd(this,t,"y",e)}getCenterPoint(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}size(t){let e=(t=t||this.options||{}).radius||0;e=Math.max(e,e&&t.hoverRadius||0);return 2*(e+(e&&t.borderWidth||0))}draw(t,e){const n=this.options;this.skip||n.radius<.1||!$a(this,e,this.size(n)/2)||(t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.fillStyle=n.backgroundColor,Qa(t,n,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function Id(t,e){const{x:n,y:o,base:r,width:i,height:s}=t.getProps(["x","y","base","width","height"],e);let a,l,u,c,d;return t.horizontal?(d=s/2,a=Math.min(n,r),l=Math.max(n,r),u=o-d,c=o+d):(d=i/2,a=n-d,l=n+d,u=Math.min(o,r),c=Math.max(o,r)),{left:a,top:u,right:l,bottom:c}}function Gd(t,e,n,o){return t?0:ha(e,n,o)}function Hd(t){const e=Id(t),n=e.right-e.left,o=e.bottom-e.top,r=function(t,e,n){const o=t.options.borderWidth,r=t.borderSkipped,i=pl(o);return{t:Gd(r.top,i.top,0,n),r:Gd(r.right,i.right,0,e),b:Gd(r.bottom,i.bottom,0,n),l:Gd(r.left,i.left,0,e)}}(t,n/2,o/2),i=function(t,e,n){const{enableBorderRadius:o}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,i=hl(r),s=Math.min(e,n),a=t.borderSkipped,l=o||Os(r);return{topLeft:Gd(!l||a.top||a.left,i.topLeft,0,s),topRight:Gd(!l||a.top||a.right,i.topRight,0,s),bottomLeft:Gd(!l||a.bottom||a.left,i.bottomLeft,0,s),bottomRight:Gd(!l||a.bottom||a.right,i.bottomRight,0,s)}}(t,n/2,o/2);return{outer:{x:e.left,y:e.top,w:n,h:o,radius:i},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:o-r.t-r.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,i.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(r.b,r.r))}}}}function Vd(t,e,n,o){const r=null===e,i=null===n,s=t&&!(r&&i)&&Id(t,o);return s&&(r||fa(e,s.left,s.right))&&(i||fa(n,s.top,s.bottom))}function jd(t,e){t.rect(e.x,e.y,e.w,e.h)}function Bd(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,i=(t.x+t.w!==n.x+n.w?e:0)-o,s=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+o,y:t.y+r,w:t.w+i,h:t.h+s,radius:t.radius}}(0,ji.Z)(Fd,"id","point"),(0,ji.Z)(Fd,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),(0,ji.Z)(Fd,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class Wd extends Mc{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:n,backgroundColor:o}}=this,{inner:r,outer:i}=Hd(this),s=function(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}(i.radius)?sl:jd;t.save(),i.w===r.w&&i.h===r.h||(t.beginPath(),s(t,Bd(i,e,r)),t.clip(),s(t,Bd(r,-e,i)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),s(t,Bd(r,e)),t.fillStyle=o,t.fill(),t.restore()}inRange(t,e,n){return Vd(this,t,e,n)}inXRange(t,e){return Vd(this,t,null,e)}inYRange(t,e){return Vd(this,null,t,e)}getCenterPoint(t){const{x:e,y:n,base:o,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(e+o)/2:e,y:r?n:(n+o)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}(0,ji.Z)(Wd,"id","bar"),(0,ji.Z)(Wd,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),(0,ji.Z)(Wd,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var zd=Object.freeze({__proto__:null,ArcElement:Od,BarElement:Wd,LineElement:kd,PointElement:Fd});const Ud=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Yd=Ud.map((t=>t.replace("rgb(","rgba(").replace(")",", 0.5)")));function Kd(t){return Ud[t%Ud.length]}function Zd(t){return Yd[t%Yd.length]}function qd(t){let e=0;return(n,o)=>{const r=t.getDatasetMeta(o).controller;r instanceof Hu?e=function(t,e){return t.backgroundColor=t.data.map((()=>Kd(e++))),e}(n,e):r instanceof ju?e=function(t,e){return t.backgroundColor=t.data.map((()=>Zd(e++))),e}(n,e):r&&(e=function(t,e){return t.borderColor=Kd(e),t.backgroundColor=Zd(e),++e}(n,e))}}function Qd(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}var Xd={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{data:{datasets:o},options:r}=t.config,{elements:i}=r;if(!n.forceOverride&&(Qd(o)||(s=r)&&(s.borderColor||s.backgroundColor)||i&&Qd(i)))return;var s;const a=qd(t);o.forEach(a)}};function $d(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function Jd(t){t.data.datasets.forEach((t=>{$d(t)}))}var tp={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled)return void Jd(t);const o=t.width;t.data.datasets.forEach(((e,r)=>{const{_data:i,indexAxis:s}=e,a=t.getDatasetMeta(r),l=i||e.data;if("y"===vl([s,t.options.indexAxis]))return;if(!a.controller.supportsDecimation)return;const u=t.scales[a.xAxisID];if("linear"!==u.type&&"time"!==u.type)return;if(t.options.parsing)return;let{start:c,count:d}=function(t,e){const n=e.length;let o,r=0;const{iScale:i}=t,{min:s,max:a,minDefined:l,maxDefined:u}=i.getUserBounds();return l&&(r=ha(va(e,i.axis,s).lo,0,n-1)),o=u?ha(va(e,i.axis,a).hi+1,r,n)-r:n-r,{start:r,count:o}}(a,l);if(d<=(n.threshold||4*o))return void $d(e);let p;switch(Ss(i)&&(e._data=l,delete e.data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(t){this._data=t}})),n.algorithm){case"lttb":p=function(t,e,n,o,r){const i=r.samples||o;if(i>=n)return t.slice(e,e+n);const s=[],a=(n-2)/(i-2);let l=0;const u=e+n-1;let c,d,p,h,f,g=e;for(s[l++]=t[g],c=0;c<i-2;c++){let o,r=0,i=0;const u=Math.floor((c+1)*a)+1+e,v=Math.min(Math.floor((c+2)*a)+1,n)+e,m=v-u;for(o=u;o<v;o++)r+=t[o].x,i+=t[o].y;r/=m,i/=m;const y=Math.floor(c*a)+1+e,C=Math.min(Math.floor((c+1)*a)+1,n)+e,{x:w,y:b}=t[g];for(p=h=-1,o=y;o<C;o++)h=.5*Math.abs((w-r)*(t[o].y-b)-(w-t[o].x)*(i-b)),h>p&&(p=h,d=t[o],f=o);s[l++]=d,g=f}return s[l++]=t[u],s}(l,c,d,o,n);break;case"min-max":p=function(t,e,n,o){let r,i,s,a,l,u,c,d,p,h,f=0,g=0;const v=[],m=e+n-1,y=t[e].x,C=t[m].x-y;for(r=e;r<e+n;++r){i=t[r],s=(i.x-y)/C*o,a=i.y;const e=0|s;if(e===l)a<p?(p=a,u=r):a>h&&(h=a,c=r),f=(g*f+i.x)/++g;else{const n=r-1;if(!Ss(u)&&!Ss(c)){const e=Math.min(u,c),o=Math.max(u,c);e!==d&&e!==n&&v.push({...t[e],x:f}),o!==d&&o!==n&&v.push({...t[o],x:f})}r>0&&n!==d&&v.push(t[n]),v.push(i),l=e,g=0,p=h=a,u=c=d=r}}return v}(l,c,d,o);break;default:throw new Error("Unsupported decimation algorithm '".concat(n.algorithm,"'"))}e._decimated=p}))},destroy(t){Jd(t)}};function ep(t,e,n,o){if(o)return;let r=e[t],i=n[t];return"angle"===t&&(r=da(r),i=da(i)),{property:t,start:r,end:i}}function np(t,e,n){for(;e>t;e--){const t=n[e];if(!isNaN(t.x)&&!isNaN(t.y))break}return e}function op(t,e,n,o){return t&&e?o(t[n],e[n]):t?t[n]:e?e[n]:0}function rp(t,e){let n=[],o=!1;return Es(t)?(o=!0,n=t):n=function(t,e){const{x:n=null,y:o=null}=t||{},r=e.points,i=[];return e.segments.forEach((t=>{let{start:e,end:s}=t;s=np(e,s,r);const a=r[e],l=r[s];null!==o?(i.push({x:a.x,y:o}),i.push({x:l.x,y:o})):null!==n&&(i.push({x:n,y:a.y}),i.push({x:n,y:l.y}))})),i}(t,e),n.length?new kd({points:n,options:{tension:0},_loop:o,_fullLoop:o}):null}function ip(t){return t&&!1!==t.fill}function sp(t,e,n){let o=t[e].fill;const r=[e];let i;if(!n)return o;for(;!1!==o&&-1===r.indexOf(o);){if(!xs(o))return o;if(i=t[o],!i)return!1;if(i.visible)return o;r.push(o),o=i.fill}return!1}function ap(t,e,n){const o=function(t){const e=t.options,n=e.fill;let o=Rs(n&&n.target,n);void 0===o&&(o=!!e.backgroundColor);if(!1===o||null===o)return!1;if(!0===o)return"origin";return o}(t);if(Os(o))return!isNaN(o.value)&&o;let r=parseFloat(o);return xs(r)&&Math.floor(r)===r?function(t,e,n,o){"-"!==t&&"+"!==t||(n=e+n);if(n===e||n<0||n>=o)return!1;return n}(o[0],e,r,n):["origin","start","end","stack","shape"].indexOf(o)>=0&&o}function lp(t,e,n){const o=[];for(let r=0;r<n.length;r++){const i=n[r],{first:s,last:a,point:l}=up(i,e,"x");if(!(!l||s&&a))if(s)o.unshift(l);else if(t.push(l),!a)break}t.push(...o)}function up(t,e,n){const o=t.interpolate(e,n);if(!o)return{};const r=o[n],i=t.segments,s=t.points;let a=!1,l=!1;for(let u=0;u<i.length;u++){const t=i[u],e=s[t.start][n],o=s[t.end][n];if(fa(r,e,o)){a=r===e,l=r===o;break}}return{first:a,last:l,point:o}}class cp{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,n){const{x:o,y:r,radius:i}=this;return e=e||{start:0,end:Ys},t.arc(o,r,i,e.end,e.start,!0),!n.bounds}interpolate(t){const{x:e,y:n,radius:o}=this,r=t.angle;return{x:e+Math.cos(r)*o,y:n+Math.sin(r)*o,angle:r}}}function dp(t){const{chart:e,fill:n,line:o}=t;if(xs(n))return function(t,e){const n=t.getDatasetMeta(e),o=n&&t.isDatasetVisible(e);return o?n.dataset:null}(e,n);if("stack"===n)return function(t){const{scale:e,index:n,line:o}=t,r=[],i=o.segments,s=o.points,a=function(t,e){const n=[],o=t.getMatchingVisibleMetas("line");for(let r=0;r<o.length;r++){const t=o[r];if(t.index===e)break;t.hidden||n.unshift(t.dataset)}return n}(e,n);a.push(rp({x:null,y:e.bottom},o));for(let l=0;l<i.length;l++){const t=i[l];for(let e=t.start;e<=t.end;e++)lp(r,s[e],a)}return new kd({points:r,options:{}})}(t);if("shape"===n)return!0;const r=function(t){const e=t.scale||{};if(e.getPointPositionForValue)return function(t){const{scale:e,fill:n}=t,o=e.options,r=e.getLabels().length,i=o.reverse?e.max:e.min,s=function(t,e,n){let o;return o="start"===t?n:"end"===t?e.options.reverse?e.min:e.max:Os(t)?t.value:e.getBaseValue(),o}(n,e,i),a=[];if(o.grid.circular){const t=e.getPointPositionForValue(0,i);return new cp({x:t.x,y:t.y,radius:e.getDistanceFromCenterForValue(s)})}for(let l=0;l<r;++l)a.push(e.getPointPositionForValue(l,s));return a}(t);return function(t){const{scale:e={},fill:n}=t,o=function(t,e){let n=null;return"start"===t?n=e.bottom:"end"===t?n=e.top:Os(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}(n,e);if(xs(o)){const t=e.isHorizontal();return{x:t?o:null,y:t?null:o}}return null}(t)}(t);return r instanceof cp?r:rp(r,o)}function pp(t,e,n){const o=dp(e),{line:r,scale:i,axis:s}=e,a=r.options,l=a.fill,u=a.backgroundColor,{above:c=u,below:d=u}=l||{};o&&r.points.length&&(Ja(t,n),function(t,e){const{line:n,target:o,above:r,below:i,area:s,scale:a}=e,l=n._loop?"angle":e.axis;t.save(),"x"===l&&i!==r&&(hp(t,o,s.top),fp(t,{line:n,target:o,color:r,scale:a,property:l}),t.restore(),t.save(),hp(t,o,s.bottom));fp(t,{line:n,target:o,color:i,scale:a,property:l}),t.restore()}(t,{line:r,target:o,above:c,below:d,area:n,scale:i,axis:s}),tl(t))}function hp(t,e,n){const{segments:o,points:r}=e;let i=!0,s=!1;t.beginPath();for(const a of o){const{start:o,end:l}=a,u=r[o],c=r[np(o,l,r)];i?(t.moveTo(u.x,u.y),i=!1):(t.lineTo(u.x,n),t.lineTo(u.x,u.y)),s=!!e.pathSegment(t,a,{move:s}),s?t.closePath():t.lineTo(c.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function fp(t,e){const{line:n,target:o,property:r,color:i,scale:s}=e,a=function(t,e,n){const o=t.segments,r=t.points,i=e.points,s=[];for(const a of o){let{start:t,end:o}=a;o=np(t,o,r);const l=ep(n,r[t],r[o],a.loop);if(!e.segments){s.push({source:a,target:l,start:r[t],end:r[o]});continue}const u=au(e,l);for(const e of u){const t=ep(n,i[e.start],i[e.end],e.loop),o=su(a,r,t);for(const r of o)s.push({source:r,target:e,start:{[n]:op(l,t,"start",Math.max)},end:{[n]:op(l,t,"end",Math.min)}})}}return s}(n,o,r);for(const{source:l,target:u,start:c,end:d}of a){const{style:{backgroundColor:e=i}={}}=l,a=!0!==o;t.save(),t.fillStyle=e,gp(t,s,a&&ep(r,c,d)),t.beginPath();const p=!!n.pathSegment(t,l);let h;if(a){p?t.closePath():vp(t,o,d,r);const e=!!o.pathSegment(t,u,{move:p,reverse:!0});h=p&&e,h||vp(t,o,c,r)}t.closePath(),t.fill(h?"evenodd":"nonzero"),t.restore()}}function gp(t,e,n){const{top:o,bottom:r}=e.chart.chartArea,{property:i,start:s,end:a}=n||{};"x"===i&&(t.beginPath(),t.rect(s,o,a-s,r-o),t.clip())}function vp(t,e,n,o){const r=e.interpolate(n,o);r&&t.lineTo(r.x,r.y)}var mp={id:"filler",afterDatasetsUpdate(t,e,n){const o=(t.data.datasets||[]).length,r=[];let i,s,a,l;for(s=0;s<o;++s)i=t.getDatasetMeta(s),a=i.dataset,l=null,a&&a.options&&a instanceof kd&&(l={visible:t.isDatasetVisible(s),index:s,fill:ap(a,s,o),chart:t,axis:i.controller.options.indexAxis,scale:i.vScale,line:a}),i.$filler=l,r.push(l);for(s=0;s<o;++s)l=r[s],l&&!1!==l.fill&&(l.fill=sp(r,s,n.propagate))},beforeDraw(t,e,n){const o="beforeDraw"===n.drawTime,r=t.getSortedVisibleDatasetMetas(),i=t.chartArea;for(let s=r.length-1;s>=0;--s){const e=r[s].$filler;e&&(e.line.updateControlPoints(i,e.axis),o&&e.fill&&pp(t.ctx,e,i))}},beforeDatasetsDraw(t,e,n){if("beforeDatasetsDraw"!==n.drawTime)return;const o=t.getSortedVisibleDatasetMetas();for(let r=o.length-1;r>=0;--r){const e=o[r].$filler;ip(e)&&pp(t.ctx,e,t.chartArea)}},beforeDatasetDraw(t,e,n){const o=e.meta.$filler;ip(o)&&"beforeDatasetDraw"===n.drawTime&&pp(t.ctx,o,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const yp=(t,e)=>{let{boxHeight:n=e,boxWidth:o=e}=t;return t.usePointStyle&&(n=Math.min(n,e),o=t.pointStyleWidth||Math.min(o,e)),{boxWidth:o,boxHeight:n,itemHeight:Math.max(e,n)}};class Cp extends Mc{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,n){this.maxWidth=t,this.maxHeight=e,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=Ps(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter((e=>t.filter(e,this.chart.data)))),t.sort&&(e=e.sort(((e,n)=>t.sort(e,n,this.chart.data)))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const n=t.labels,o=gl(n.font),r=o.size,i=this._computeTitleHeight(),{boxWidth:s,itemHeight:a}=yp(n,r);let l,u;e.font=o.string,this.isHorizontal()?(l=this.maxWidth,u=this._fitRows(i,r,s,a)+10):(u=this.maxHeight,l=this._fitCols(i,o,s,a)+10),this.width=Math.min(l,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,e,n,o){const{ctx:r,maxWidth:i,options:{labels:{padding:s}}}=this,a=this.legendHitBoxes=[],l=this.lineWidths=[0],u=o+s;let c=t;r.textAlign="left",r.textBaseline="middle";let d=-1,p=-u;return this.legendItems.forEach(((t,h)=>{const f=n+e/2+r.measureText(t.text).width;(0===h||l[l.length-1]+f+2*s>i)&&(c+=u,l[l.length-(h>0?0:1)]=0,p+=u,d++),a[h]={left:0,top:p,row:d,width:f,height:o},l[l.length-1]+=f+s})),c}_fitCols(t,e,n,o){const{ctx:r,maxHeight:i,options:{labels:{padding:s}}}=this,a=this.legendHitBoxes=[],l=this.columnSizes=[],u=i-t;let c=s,d=0,p=0,h=0,f=0;return this.legendItems.forEach(((t,i)=>{const{itemWidth:g,itemHeight:v}=function(t,e,n,o,r){const i=function(t,e,n,o){let r=t.text;r&&"string"!==typeof r&&(r=r.reduce(((t,e)=>t.length>e.length?t:e)));return e+n.size/2+o.measureText(r).width}(o,t,e,n),s=function(t,e,n){let o=t;"string"!==typeof e.text&&(o=wp(e,n));return o}(r,o,e.lineHeight);return{itemWidth:i,itemHeight:s}}(n,e,r,t,o);i>0&&p+v+2*s>u&&(c+=d+s,l.push({width:d,height:p}),h+=d+s,f++,d=p=0),a[i]={left:h,top:p,col:f,width:g,height:v},d=Math.max(d,g),p+=v+s})),c+=d,l.push({width:d,height:p}),c}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:n,labels:{padding:o},rtl:r}}=this,i=eu(r,this.left,this.width);if(this.isHorizontal()){let r=0,s=Ea(n,this.left+o,this.right-this.lineWidths[r]);for(const a of e)r!==a.row&&(r=a.row,s=Ea(n,this.left+o,this.right-this.lineWidths[r])),a.top+=this.top+t+o,a.left=i.leftForLtr(i.x(s),a.width),s+=a.width+o}else{let r=0,s=Ea(n,this.top+t+o,this.bottom-this.columnSizes[r].height);for(const a of e)a.col!==r&&(r=a.col,s=Ea(n,this.top+t+o,this.bottom-this.columnSizes[r].height)),a.top=s,a.left+=this.left+o,a.left=i.leftForLtr(i.x(a.left),a.width),s+=a.height+o}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;Ja(t,this),this._draw(),tl(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:n,ctx:o}=this,{align:r,labels:i}=t,s=Ua.color,a=eu(t.rtl,this.left,this.width),l=gl(i.font),{padding:u}=i,c=l.size,d=c/2;let p;this.drawTitle(),o.textAlign=a.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=l.string;const{boxWidth:h,boxHeight:f,itemHeight:g}=yp(i,c),v=this.isHorizontal(),m=this._computeTitleHeight();p=v?{x:Ea(r,this.left+u,this.right-n[0]),y:this.top+u+m,line:0}:{x:this.left+u,y:Ea(r,this.top+m+u,this.bottom-e[0].height),line:0},nu(this.ctx,t.textDirection);const y=g+u;this.legendItems.forEach(((C,w)=>{o.strokeStyle=C.fontColor,o.fillStyle=C.fontColor;const b=o.measureText(C.text).width,_=a.textAlign(C.textAlign||(C.textAlign=i.textAlign)),S=h+d+b;let E=p.x,O=p.y;a.setWidth(this.width),v?w>0&&E+S+u>this.right&&(O=p.y+=y,p.line++,E=p.x=Ea(r,this.left+u,this.right-n[p.line])):w>0&&O+y>this.bottom&&(E=p.x=E+e[p.line].width+u,p.line++,O=p.y=Ea(r,this.top+m+u,this.bottom-e[p.line].height));if(function(t,e,n){if(isNaN(h)||h<=0||isNaN(f)||f<0)return;o.save();const r=Rs(n.lineWidth,1);if(o.fillStyle=Rs(n.fillStyle,s),o.lineCap=Rs(n.lineCap,"butt"),o.lineDashOffset=Rs(n.lineDashOffset,0),o.lineJoin=Rs(n.lineJoin,"miter"),o.lineWidth=r,o.strokeStyle=Rs(n.strokeStyle,s),o.setLineDash(Rs(n.lineDash,[])),i.usePointStyle){const s={radius:f*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:r},l=a.xPlus(t,h/2);Xa(o,s,l,e+d,i.pointStyleWidth&&h)}else{const i=e+Math.max((c-f)/2,0),s=a.leftForLtr(t,h),l=hl(n.borderRadius);o.beginPath(),Object.values(l).some((t=>0!==t))?sl(o,{x:s,y:i,w:h,h:f,radius:l}):o.rect(s,i,h,f),o.fill(),0!==r&&o.stroke()}o.restore()}(a.x(E),O,C),E=((t,e,n,o)=>t===(o?"left":"right")?n:"center"===t?(e+n)/2:e)(_,E+h+d,v?E+S:this.right,t.rtl),function(t,e,n){il(o,n.text,t,e+g/2,l,{strikethrough:n.hidden,textAlign:a.textAlign(n.textAlign)})}(a.x(E),O,C),v)p.x+=S+u;else if("string"!==typeof C.text){const t=l.lineHeight;p.y+=wp(C,t)+u}else p.y+=y})),ou(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,n=gl(e.font),o=fl(e.padding);if(!e.display)return;const r=eu(t.rtl,this.left,this.width),i=this.ctx,s=e.position,a=n.size/2,l=o.top+a;let u,c=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),u=this.top+l,c=Ea(t.align,c,this.right-d);else{const e=this.columnSizes.reduce(((t,e)=>Math.max(t,e.height)),0);u=l+Ea(t.align,this.top,this.bottom-e-t.labels.padding-this._computeTitleHeight())}const p=Ea(s,c,c+d);i.textAlign=r.textAlign(Sa(s)),i.textBaseline="middle",i.strokeStyle=e.color,i.fillStyle=e.color,i.font=n.string,il(i,e.text,p,u,n)}_computeTitleHeight(){const t=this.options.title,e=gl(t.font),n=fl(t.padding);return t.display?e.lineHeight+n.height:0}_getLegendItemAt(t,e){let n,o,r;if(fa(t,this.left,this.right)&&fa(e,this.top,this.bottom))for(r=this.legendHitBoxes,n=0;n<r.length;++n)if(o=r[n],fa(t,o.left,o.left+o.width)&&fa(e,o.top,o.top+o.height))return this.legendItems[n];return null}handleEvent(t){const e=this.options;if(!function(t,e){if(("mousemove"===t||"mouseout"===t)&&(e.onHover||e.onLeave))return!0;if(e.onClick&&("click"===t||"mouseup"===t))return!0;return!1}(t.type,e))return;const n=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const i=this._hoveredItem,s=(r=n,null!==(o=i)&&null!==r&&o.datasetIndex===r.datasetIndex&&o.index===r.index);i&&!s&&Ps(e.onLeave,[t,i,this],this),this._hoveredItem=n,n&&!s&&Ps(e.onHover,[t,n,this],this)}else n&&Ps(e.onClick,[t,n,this],this);var o,r}}function wp(t,e){return e*(t.text?t.text.length:0)}var bp={id:"legend",_element:Cp,start(t,e,n){const o=t.legend=new Cp({ctx:t.ctx,options:n,chart:t});fc.configure(t,o,n),fc.addBox(t,o)},stop(t){fc.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const o=t.legend;fc.configure(t,o,n),o.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const o=e.datasetIndex,r=n.chart;r.isDatasetVisible(o)?(r.hide(o),e.hidden=!0):(r.show(o),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:o,textAlign:r,color:i,useBorderRadius:s,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map((t=>{const l=t.controller.getStyle(n?0:void 0),u=fl(l.borderWidth);return{text:e[t.index].label,fillStyle:l.backgroundColor,fontColor:i,hidden:!t.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:l.borderColor,pointStyle:o||l.pointStyle,rotation:l.rotation,textAlign:r||l.textAlign,borderRadius:s&&(a||l.borderRadius),datasetIndex:t.index}}),this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class _p extends Mc{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const o=Es(n.text)?n.text.length:1;this._padding=fl(n.padding);const r=o*gl(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:n,bottom:o,right:r,options:i}=this,s=i.align;let a,l,u,c=0;return this.isHorizontal()?(l=Ea(s,n,r),u=e+t,a=r-n):("left"===i.position?(l=n+t,u=Ea(s,o,e),c=-.5*Us):(l=r-t,u=Ea(s,e,o),c=.5*Us),a=o-e),{titleX:l,titleY:u,maxWidth:a,rotation:c}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const n=gl(e.font),o=n.lineHeight/2+this._padding.top,{titleX:r,titleY:i,maxWidth:s,rotation:a}=this._drawArgs(o);il(t,e.text,0,0,n,{color:e.color,maxWidth:s,rotation:a,textAlign:Sa(e.align),textBaseline:"middle",translation:[r,i]})}}var Sp={id:"title",_element:_p,start(t,e,n){!function(t,e){const n=new _p({ctx:t.ctx,options:e,chart:t});fc.configure(t,n,e),fc.addBox(t,n),t.titleBlock=n}(t,n)},stop(t){const e=t.titleBlock;fc.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const o=t.titleBlock;fc.configure(t,o,n),o.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ep=new WeakMap;var Op={id:"subtitle",start(t,e,n){const o=new _p({ctx:t.ctx,options:n,chart:t});fc.configure(t,o,n),fc.addBox(t,o),Ep.set(t,o)},stop(t){fc.removeBox(t,Ep.get(t)),Ep.delete(t)},beforeUpdate(t,e,n){const o=Ep.get(t);fc.configure(t,o,n),o.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const xp={average(t){if(!t.length)return!1;let e,n,o=0,r=0,i=0;for(e=0,n=t.length;e<n;++e){const n=t[e].element;if(n&&n.hasValue()){const t=n.tooltipPosition();o+=t.x,r+=t.y,++i}}return{x:o/i,y:r/i}},nearest(t,e){if(!t.length)return!1;let n,o,r,i=e.x,s=e.y,a=Number.POSITIVE_INFINITY;for(n=0,o=t.length;n<o;++n){const o=t[n].element;if(o&&o.hasValue()){const t=ua(e,o.getCenterPoint());t<a&&(a=t,r=o)}}if(r){const t=r.tooltipPosition();i=t.x,s=t.y}return{x:i,y:s}}};function Tp(t,e){return e&&(Es(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Rp(t){return("string"===typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function Dp(t,e){const{element:n,datasetIndex:o,index:r}=e,i=t.getDatasetMeta(o).controller,{label:s,value:a}=i.getLabelAndValue(r);return{chart:t,label:s,parsed:i.getParsed(r),raw:t.data.datasets[o].data[r],formattedValue:a,dataset:i.getDataset(),dataIndex:r,datasetIndex:o,element:n}}function Pp(t,e){const n=t.chart.ctx,{body:o,footer:r,title:i}=t,{boxWidth:s,boxHeight:a}=e,l=gl(e.bodyFont),u=gl(e.titleFont),c=gl(e.footerFont),d=i.length,p=r.length,h=o.length,f=fl(e.padding);let g=f.height,v=0,m=o.reduce(((t,e)=>t+e.before.length+e.lines.length+e.after.length),0);if(m+=t.beforeBody.length+t.afterBody.length,d&&(g+=d*u.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),m){g+=h*(e.displayColors?Math.max(a,l.lineHeight):l.lineHeight)+(m-h)*l.lineHeight+(m-1)*e.bodySpacing}p&&(g+=e.footerMarginTop+p*c.lineHeight+(p-1)*e.footerSpacing);let y=0;const C=function(t){v=Math.max(v,n.measureText(t).width+y)};return n.save(),n.font=u.string,Ls(t.title,C),n.font=l.string,Ls(t.beforeBody.concat(t.afterBody),C),y=e.displayColors?s+2+e.boxPadding:0,Ls(o,(t=>{Ls(t.before,C),Ls(t.lines,C),Ls(t.after,C)})),y=0,n.font=c.string,Ls(t.footer,C),n.restore(),v+=f.width,{width:v,height:g}}function Lp(t,e,n,o){const{x:r,width:i}=n,{width:s,chartArea:{left:a,right:l}}=t;let u="center";return"center"===o?u=r<=(a+l)/2?"left":"right":r<=i/2?u="left":r>=s-i/2&&(u="right"),function(t,e,n,o){const{x:r,width:i}=o,s=n.caretSize+n.caretPadding;return"left"===t&&r+i+s>e.width||"right"===t&&r-i-s<0||void 0}(u,t,e,n)&&(u="center"),u}function Mp(t,e,n){const o=n.yAlign||e.yAlign||function(t,e){const{y:n,height:o}=e;return n<o/2?"top":n>t.height-o/2?"bottom":"center"}(t,n);return{xAlign:n.xAlign||e.xAlign||Lp(t,e,n,o),yAlign:o}}function Ap(t,e,n,o){const{caretSize:r,caretPadding:i,cornerRadius:s}=t,{xAlign:a,yAlign:l}=n,u=r+i,{topLeft:c,topRight:d,bottomLeft:p,bottomRight:h}=hl(s);let f=function(t,e){let{x:n,width:o}=t;return"right"===e?n-=o:"center"===e&&(n-=o/2),n}(e,a);const g=function(t,e,n){let{y:o,height:r}=t;return"top"===e?o+=n:o-="bottom"===e?r+n:r/2,o}(e,l,u);return"center"===l?"left"===a?f+=u:"right"===a&&(f-=u):"left"===a?f-=Math.max(c,p)+r:"right"===a&&(f+=Math.max(d,h)+r),{x:ha(f,0,o.width-e.width),y:ha(g,0,o.height-e.height)}}function kp(t,e,n){const o=fl(n.padding);return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-o.right:t.x+o.left}function Np(t){return Tp([],Rp(t))}function Fp(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const Ip={beforeTitle:bs,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,o=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(o>0&&e.dataIndex<o)return n[e.dataIndex]}return""},afterTitle:bs,beforeBody:bs,beforeLabel:bs,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Ss(n)||(e+=n),e},labelColor(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:bs,afterBody:bs,beforeFooter:bs,footer:bs,afterFooter:bs};function Gp(t,e,n,o){const r=t[e].call(n,o);return"undefined"===typeof r?Ip[e].call(n,o):r}class Hp extends Mc{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,n=this.options.setContext(this.getContext()),o=n.enabled&&e.options.animation&&n.animations,r=new vu(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=(t=this.chart.getContext(),e=this,n=this._tooltipItems,ml(t,{tooltip:e,tooltipItems:n,type:"tooltip"})));var t,e,n}getTitle(t,e){const{callbacks:n}=e,o=Gp(n,"beforeTitle",this,t),r=Gp(n,"title",this,t),i=Gp(n,"afterTitle",this,t);let s=[];return s=Tp(s,Rp(o)),s=Tp(s,Rp(r)),s=Tp(s,Rp(i)),s}getBeforeBody(t,e){return Np(Gp(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:n}=e,o=[];return Ls(t,(t=>{const e={before:[],lines:[],after:[]},r=Fp(n,t);Tp(e.before,Rp(Gp(r,"beforeLabel",this,t))),Tp(e.lines,Gp(r,"label",this,t)),Tp(e.after,Rp(Gp(r,"afterLabel",this,t))),o.push(e)})),o}getAfterBody(t,e){return Np(Gp(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:n}=e,o=Gp(n,"beforeFooter",this,t),r=Gp(n,"footer",this,t),i=Gp(n,"afterFooter",this,t);let s=[];return s=Tp(s,Rp(o)),s=Tp(s,Rp(r)),s=Tp(s,Rp(i)),s}_createItems(t){const e=this._active,n=this.chart.data,o=[],r=[],i=[];let s,a,l=[];for(s=0,a=e.length;s<a;++s)l.push(Dp(this.chart,e[s]));return t.filter&&(l=l.filter(((e,o,r)=>t.filter(e,o,r,n)))),t.itemSort&&(l=l.sort(((e,o)=>t.itemSort(e,o,n)))),Ls(l,(e=>{const n=Fp(t.callbacks,e);o.push(Gp(n,"labelColor",this,e)),r.push(Gp(n,"labelPointStyle",this,e)),i.push(Gp(n,"labelTextColor",this,e))})),this.labelColors=o,this.labelPointStyles=r,this.labelTextColors=i,this.dataPoints=l,l}update(t,e){const n=this.options.setContext(this.getContext()),o=this._active;let r,i=[];if(o.length){const t=xp[n.position].call(this,o,this._eventPosition);i=this._createItems(n),this.title=this.getTitle(i,n),this.beforeBody=this.getBeforeBody(i,n),this.body=this.getBody(i,n),this.afterBody=this.getAfterBody(i,n),this.footer=this.getFooter(i,n);const e=this._size=Pp(this,n),s=Object.assign({},t,e),a=Mp(this.chart,n,s),l=Ap(n,s,a,this.chart);this.xAlign=a.xAlign,this.yAlign=a.yAlign,r={opacity:1,x:l.x,y:l.y,width:e.width,height:e.height,caretX:t.x,caretY:t.y}}else 0!==this.opacity&&(r={opacity:0});this._tooltipItems=i,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,n,o){const r=this.getCaretPosition(t,n,o);e.lineTo(r.x1,r.y1),e.lineTo(r.x2,r.y2),e.lineTo(r.x3,r.y3)}getCaretPosition(t,e,n){const{xAlign:o,yAlign:r}=this,{caretSize:i,cornerRadius:s}=n,{topLeft:a,topRight:l,bottomLeft:u,bottomRight:c}=hl(s),{x:d,y:p}=t,{width:h,height:f}=e;let g,v,m,y,C,w;return"center"===r?(C=p+f/2,"left"===o?(g=d,v=g-i,y=C+i,w=C-i):(g=d+h,v=g+i,y=C-i,w=C+i),m=g):(v="left"===o?d+Math.max(a,u)+i:"right"===o?d+h-Math.max(l,c)-i:this.caretX,"top"===r?(y=p,C=y-i,g=v-i,m=v+i):(y=p+f,C=y+i,g=v+i,m=v-i),w=y),{x1:g,x2:v,x3:m,y1:y,y2:C,y3:w}}drawTitle(t,e,n){const o=this.title,r=o.length;let i,s,a;if(r){const l=eu(n.rtl,this.x,this.width);for(t.x=kp(this,n.titleAlign,n),e.textAlign=l.textAlign(n.titleAlign),e.textBaseline="middle",i=gl(n.titleFont),s=n.titleSpacing,e.fillStyle=n.titleColor,e.font=i.string,a=0;a<r;++a)e.fillText(o[a],l.x(t.x),t.y+i.lineHeight/2),t.y+=i.lineHeight+s,a+1===r&&(t.y+=n.titleMarginBottom-s)}}_drawColorBox(t,e,n,o,r){const i=this.labelColors[n],s=this.labelPointStyles[n],{boxHeight:a,boxWidth:l}=r,u=gl(r.bodyFont),c=kp(this,"left",r),d=o.x(c),p=a<u.lineHeight?(u.lineHeight-a)/2:0,h=e.y+p;if(r.usePointStyle){const e={radius:Math.min(l,a)/2,pointStyle:s.pointStyle,rotation:s.rotation,borderWidth:1},n=o.leftForLtr(d,l)+l/2,u=h+a/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,Qa(t,e,n,u),t.strokeStyle=i.borderColor,t.fillStyle=i.backgroundColor,Qa(t,e,n,u)}else{t.lineWidth=Os(i.borderWidth)?Math.max(...Object.values(i.borderWidth)):i.borderWidth||1,t.strokeStyle=i.borderColor,t.setLineDash(i.borderDash||[]),t.lineDashOffset=i.borderDashOffset||0;const e=o.leftForLtr(d,l),n=o.leftForLtr(o.xPlus(d,1),l-2),s=hl(i.borderRadius);Object.values(s).some((t=>0!==t))?(t.beginPath(),t.fillStyle=r.multiKeyBackground,sl(t,{x:e,y:h,w:l,h:a,radius:s}),t.fill(),t.stroke(),t.fillStyle=i.backgroundColor,t.beginPath(),sl(t,{x:n,y:h+1,w:l-2,h:a-2,radius:s}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(e,h,l,a),t.strokeRect(e,h,l,a),t.fillStyle=i.backgroundColor,t.fillRect(n,h+1,l-2,a-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,e,n){const{body:o}=this,{bodySpacing:r,bodyAlign:i,displayColors:s,boxHeight:a,boxWidth:l,boxPadding:u}=n,c=gl(n.bodyFont);let d=c.lineHeight,p=0;const h=eu(n.rtl,this.x,this.width),f=function(n){e.fillText(n,h.x(t.x+p),t.y+d/2),t.y+=d+r},g=h.textAlign(i);let v,m,y,C,w,b,_;for(e.textAlign=i,e.textBaseline="middle",e.font=c.string,t.x=kp(this,g,n),e.fillStyle=n.bodyColor,Ls(this.beforeBody,f),p=s&&"right"!==g?"center"===i?l/2+u:l+2+u:0,C=0,b=o.length;C<b;++C){for(v=o[C],m=this.labelTextColors[C],e.fillStyle=m,Ls(v.before,f),y=v.lines,s&&y.length&&(this._drawColorBox(e,t,C,h,n),d=Math.max(c.lineHeight,a)),w=0,_=y.length;w<_;++w)f(y[w]),d=c.lineHeight;Ls(v.after,f)}p=0,d=c.lineHeight,Ls(this.afterBody,f),t.y-=r}drawFooter(t,e,n){const o=this.footer,r=o.length;let i,s;if(r){const a=eu(n.rtl,this.x,this.width);for(t.x=kp(this,n.footerAlign,n),t.y+=n.footerMarginTop,e.textAlign=a.textAlign(n.footerAlign),e.textBaseline="middle",i=gl(n.footerFont),e.fillStyle=n.footerColor,e.font=i.string,s=0;s<r;++s)e.fillText(o[s],a.x(t.x),t.y+i.lineHeight/2),t.y+=i.lineHeight+n.footerSpacing}}drawBackground(t,e,n,o){const{xAlign:r,yAlign:i}=this,{x:s,y:a}=t,{width:l,height:u}=n,{topLeft:c,topRight:d,bottomLeft:p,bottomRight:h}=hl(o.cornerRadius);e.fillStyle=o.backgroundColor,e.strokeStyle=o.borderColor,e.lineWidth=o.borderWidth,e.beginPath(),e.moveTo(s+c,a),"top"===i&&this.drawCaret(t,e,n,o),e.lineTo(s+l-d,a),e.quadraticCurveTo(s+l,a,s+l,a+d),"center"===i&&"right"===r&&this.drawCaret(t,e,n,o),e.lineTo(s+l,a+u-h),e.quadraticCurveTo(s+l,a+u,s+l-h,a+u),"bottom"===i&&this.drawCaret(t,e,n,o),e.lineTo(s+p,a+u),e.quadraticCurveTo(s,a+u,s,a+u-p),"center"===i&&"left"===r&&this.drawCaret(t,e,n,o),e.lineTo(s,a+c),e.quadraticCurveTo(s,a,s+c,a),e.closePath(),e.fill(),o.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,n=this.$animations,o=n&&n.x,r=n&&n.y;if(o||r){const n=xp[t.position].call(this,this._active,this._eventPosition);if(!n)return;const i=this._size=Pp(this,t),s=Object.assign({},n,this._size),a=Mp(e,t,s),l=Ap(t,s,a,e);o._to===l.x&&r._to===l.y||(this.xAlign=a.xAlign,this.yAlign=a.yAlign,this.width=i.width,this.height=i.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(e);const o={width:this.width,height:this.height},r={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const i=fl(e.padding),s=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&s&&(t.save(),t.globalAlpha=n,this.drawBackground(r,t,o,e),nu(t,e.textDirection),r.y+=i.top,this.drawTitle(r,t,e),this.drawBody(r,t,e),this.drawFooter(r,t,e),ou(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const n=this._active,o=t.map((t=>{let{datasetIndex:e,index:n}=t;const o=this.chart.getDatasetMeta(e);if(!o)throw new Error("Cannot find a dataset at index "+e);return{datasetIndex:e,element:o.data[n],index:n}})),r=!Ms(n,o),i=this._positionChanged(o,e);(r||i)&&(this._active=o,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const o=this.options,r=this._active||[],i=this._getActiveElements(t,r,e,n),s=this._positionChanged(i,t),a=e||!Ms(i,r)||s;return a&&(this._active=i,(o.enabled||o.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),a}_getActiveElements(t,e,n,o){const r=this.options;if("mouseout"===t.type)return[];if(!o)return e.filter((t=>this.chart.data.datasets[t.datasetIndex]&&void 0!==this.chart.getDatasetMeta(t.datasetIndex).controller.getParsed(t.index)));const i=this.chart.getElementsAtEventForMode(t,r.mode,r,n);return r.reverse&&i.reverse(),i}_positionChanged(t,e){const{caretX:n,caretY:o,options:r}=this,i=xp[r.position].call(this,t,e);return!1!==i&&(n!==i.x||o!==i.y)}}(0,ji.Z)(Hp,"positioners",xp);var Vp={id:"tooltip",_element:Hp,positioners:xp,afterInit(t,e,n){n&&(t.tooltip=new Hp({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(!1===t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0}))return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Ip},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},jp=Object.freeze({__proto__:null,Colors:Xd,Decimation:tp,Filler:mp,Legend:bp,SubTitle:Op,Title:Sp,Tooltip:Vp});function Bp(t,e,n,o){const r=t.indexOf(e);if(-1===r)return((t,e,n,o)=>("string"===typeof e?(n=t.push(e)-1,o.unshift({index:n,label:e})):isNaN(e)&&(n=null),n))(t,e,n,o);return r!==t.lastIndexOf(e)?n:r}function Wp(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class zp extends Bc{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const t=this.getLabels();for(const{index:n,label:o}of e)t[n]===o&&t.splice(n,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Ss(t))return null;const n=this.getLabels();return((t,e)=>null===t?null:ha(Math.round(t),0,e))(e=isFinite(e)&&n[e]===t?e:Bp(n,t,Rs(e,t),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:n,max:o}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(n=0),e||(o=this.getLabels().length-1)),this.min=n,this.max=o}buildTicks(){const t=this.min,e=this.max,n=this.options.offset,o=[];let r=this.getLabels();r=0===t&&e===r.length-1?r:r.slice(t,e+1),this._valueRange=Math.max(r.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let i=t;i<=e;i++)o.push({value:i});return o}getLabelForValue(t){return Wp.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!==typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function Up(t,e){const n=[],{bounds:o,step:r,min:i,max:s,precision:a,count:l,maxTicks:u,maxDigits:c,includeBounds:d}=t,p=r||1,h=u-1,{min:f,max:g}=e,v=!Ss(i),m=!Ss(s),y=!Ss(l),C=(g-f)/(c+1);let w,b,_,S,E=na((g-f)/h/p)*p;if(E<1e-14&&!v&&!m)return[{value:f},{value:g}];S=Math.ceil(g/E)-Math.floor(f/E),S>h&&(E=na(S*E/h/p)*p),Ss(a)||(w=Math.pow(10,a),E=Math.ceil(E*w)/w),"ticks"===o?(b=Math.floor(f/E)*E,_=Math.ceil(g/E)*E):(b=f,_=g),v&&m&&r&&function(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}((s-i)/r,E/1e3)?(S=Math.round(Math.min((s-i)/E,u)),E=(s-i)/S,b=i,_=s):y?(b=v?i:b,_=m?s:_,S=l-1,E=(_-b)/S):(S=(_-b)/E,S=ea(S,Math.round(S),E/1e3)?Math.round(S):Math.ceil(S));const O=Math.max(aa(E),aa(b));w=Math.pow(10,Ss(a)?O:a),b=Math.round(b*w)/w,_=Math.round(_*w)/w;let x=0;for(v&&(d&&b!==i?(n.push({value:i}),b<i&&x++,ea(Math.round((b+x*E)*w)/w,i,Yp(i,C,t))&&x++):b<i&&x++);x<S;++x){const t=Math.round((b+x*E)*w)/w;if(m&&t>s)break;n.push({value:t})}return m&&d&&_!==s?n.length&&ea(n[n.length-1].value,s,Yp(s,C,t))?n[n.length-1].value=s:n.push({value:s}):m&&_!==s||n.push({value:_}),n}function Yp(t,e,n){let{horizontal:o,minRotation:r}=n;const i=ia(r),s=(o?Math.sin(i):Math.cos(i))||.001,a=.75*e*(""+t).length;return Math.min(e/s,a)}(0,ji.Z)(zp,"id","category"),(0,ji.Z)(zp,"defaults",{ticks:{callback:Wp}});class Kp extends Bc{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Ss(t)||("number"===typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:o,max:r}=this;const i=t=>o=e?o:t,s=t=>r=n?r:t;if(t){const t=ta(o),e=ta(r);t<0&&e<0?s(0):t>0&&e>0&&i(0)}if(o===r){let e=0===r?1:Math.abs(.05*r);s(r+e),t||i(o-e)}this.min=o,this.max=r}getTickLimit(){const t=this.options.ticks;let e,{maxTicksLimit:n,stepSize:o}=t;return o?(e=Math.ceil(this.max/o)-Math.floor(this.min/o)+1,e>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(o," would result generating up to ").concat(e," ticks. Limiting to 1000.")),e=1e3)):(e=this.computeTickLimit(),n=n||11),n&&(e=Math.min(n,e)),e}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const o=Up({maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&ra(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let e=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const o=(n-e)/Math.max(t.length-1,1)/2;e-=o,n+=o}this._startValue=e,this._endValue=n,this._valueRange=n-e}getLabelForValue(t){return Ia(t,this.chart.options.locale,this.options.ticks.format)}}class Zp extends Kp{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=xs(t)?t:0,this.max=xs(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,n=ia(this.options.ticks.minRotation),o=(t?Math.sin(n):Math.cos(n))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,r.lineHeight/o))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}(0,ji.Z)(Zp,"id","linear"),(0,ji.Z)(Zp,"defaults",{ticks:{callback:Ha.formatters.numeric}});const qp=t=>Math.floor(Js(t)),Qp=(t,e)=>Math.pow(10,qp(t)+e);function Xp(t){return 1===t/Math.pow(10,qp(t))}function $p(t,e,n){const o=Math.pow(10,n),r=Math.floor(t/o);return Math.ceil(e/o)-r}function Jp(t,e){let{min:n,max:o}=e;n=Ts(t.min,n);const r=[],i=qp(n);let s=function(t,e){let n=qp(e-t);for(;$p(t,e,n)>10;)n++;for(;$p(t,e,n)<10;)n--;return Math.min(n,qp(t))}(n,o),a=s<0?Math.pow(10,Math.abs(s)):1;const l=Math.pow(10,s),u=i>s?Math.pow(10,i):0,c=Math.round((n-u)*a)/a,d=Math.floor((n-u)/l/10)*l*10;let p=Math.floor((c-d)/Math.pow(10,s)),h=Ts(t.min,Math.round((u+d+p*Math.pow(10,s))*a)/a);for(;h<o;)r.push({value:h,major:Xp(h),significand:p}),p>=10?p=p<15?15:20:p++,p>=20&&(s++,p=2,a=s>=0?1:a),h=Math.round((u+d+p*Math.pow(10,s))*a)/a;const f=Ts(t.max,h);return r.push({value:f,major:Xp(f),significand:p}),r}class th extends Bc{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const n=Kp.prototype.parse.apply(this,[t,e]);if(0!==n)return xs(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=xs(t)?Math.max(0,t):null,this.max=xs(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!xs(this._userMin)&&(this.min=t===Qp(this.min,0)?Qp(this.min,-1):Qp(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let n=this.min,o=this.max;const r=e=>n=t?n:e,i=t=>o=e?o:t;n===o&&(n<=0?(r(1),i(10)):(r(Qp(n,-1)),i(Qp(o,1)))),n<=0&&r(Qp(o,-1)),o<=0&&i(Qp(n,1)),this.min=n,this.max=o}buildTicks(){const t=this.options,e=Jp({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&ra(e,this,"value"),t.reverse?(e.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),e}getLabelForValue(t){return void 0===t?"0":Ia(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Js(t),this._valueRange=Js(this.max)-Js(t)}getPixelForValue(t){return void 0!==t&&0!==t||(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Js(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function eh(t){const e=t.ticks;if(e.display&&t.display){const t=fl(e.backdropPadding);return Rs(e.font&&e.font.size,Ua.font.size)+t.height}return 0}function nh(t,e,n,o,r){return t===o||t===r?{start:e-n/2,end:e+n/2}:t<o||t>r?{start:e-n,end:e}:{start:e,end:e+n}}function oh(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),o=[],r=[],i=t._pointLabels.length,s=t.options.pointLabels,a=s.centerPointLabels?Us/i:0;for(let d=0;d<i;d++){const i=s.setContext(t.getPointLabelContext(d));r[d]=i.padding;const p=t.getPointPosition(d,t.drawingArea+r[d],a),h=gl(i.font),f=(l=t.ctx,u=h,c=Es(c=t._pointLabels[d])?c:[c],{w:Ka(l,u.string,c),h:c.length*u.lineHeight});o[d]=f;const g=da(t.getIndexAngle(d)+a),v=Math.round(sa(g));rh(n,e,g,nh(v,p.x,f.w,0,180),nh(v,p.y,f.h,90,270))}var l,u,c;t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=function(t,e,n){const o=[],r=t._pointLabels.length,i=t.options,{centerPointLabels:s,display:a}=i.pointLabels,l={extra:eh(i)/2,additionalAngle:s?Us/r:0};let u;for(let c=0;c<r;c++){l.padding=n[c],l.size=e[c];const r=ih(t,c,l);o.push(r),"auto"===a&&(r.visible=sh(r,u),r.visible&&(u=r))}return o}(t,o,r)}function rh(t,e,n,o,r){const i=Math.abs(Math.sin(n)),s=Math.abs(Math.cos(n));let a=0,l=0;o.start<e.l?(a=(e.l-o.start)/i,t.l=Math.min(t.l,e.l-a)):o.end>e.r&&(a=(o.end-e.r)/i,t.r=Math.max(t.r,e.r+a)),r.start<e.t?(l=(e.t-r.start)/s,t.t=Math.min(t.t,e.t-l)):r.end>e.b&&(l=(r.end-e.b)/s,t.b=Math.max(t.b,e.b+l))}function ih(t,e,n){const o=t.drawingArea,{extra:r,additionalAngle:i,padding:s,size:a}=n,l=t.getPointPosition(e,o+r+s,i),u=Math.round(sa(da(l.angle+Qs))),c=function(t,e,n){90===n||270===n?t-=e/2:(n>270||n<90)&&(t-=e);return t}(l.y,a.h,u),d=function(t){if(0===t||180===t)return"center";if(t<180)return"left";return"right"}(u),p=function(t,e,n){"right"===n?t-=e:"center"===n&&(t-=e/2);return t}(l.x,a.w,d);return{visible:!0,x:l.x,y:c,textAlign:d,left:p,top:c,right:p+a.w,bottom:c+a.h}}function sh(t,e){if(!e)return!0;const{left:n,top:o,right:r,bottom:i}=t;return!($a({x:n,y:o},e)||$a({x:n,y:i},e)||$a({x:r,y:o},e)||$a({x:r,y:i},e))}function ah(t,e,n){const{left:o,top:r,right:i,bottom:s}=n,{backdropColor:a}=e;if(!Ss(a)){const n=hl(e.borderRadius),l=fl(e.backdropPadding);t.fillStyle=a;const u=o-l.left,c=r-l.top,d=i-o+l.width,p=s-r+l.height;Object.values(n).some((t=>0!==t))?(t.beginPath(),sl(t,{x:u,y:c,w:d,h:p,radius:n}),t.fill()):t.fillRect(u,c,d,p)}}function lh(t,e,n,o){const{ctx:r}=t;if(n)r.arc(t.xCenter,t.yCenter,e,0,Ys);else{let n=t.getPointPosition(0,e);r.moveTo(n.x,n.y);for(let i=1;i<o;i++)n=t.getPointPosition(i,e),r.lineTo(n.x,n.y)}}(0,ji.Z)(th,"id","logarithmic"),(0,ji.Z)(th,"defaults",{ticks:{callback:Ha.formatters.logarithmic,major:{enabled:!0}}});class uh extends Kp{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=fl(eh(this.options)/2),e=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(e,n)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=xs(t)&&!isNaN(t)?t:0,this.max=xs(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/eh(this.options))}generateTickLabels(t){Kp.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map(((t,e)=>{const n=Ps(this.options.pointLabels.callback,[t,e],this);return n||0===n?n:""})).filter(((t,e)=>this.chart.getDataVisibility(e)))}fit(){const t=this.options;t.display&&t.pointLabels.display?oh(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,n,o){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((n-o)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,n,o))}getIndexAngle(t){return da(t*(Ys/(this._pointLabels.length||1))+ia(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(Ss(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(Ss(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const n=e[t];return function(t,e,n){return ml(t,{label:n,index:e,type:"pointLabel"})}(this.getContext(),t,n)}}getPointPosition(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const o=this.getIndexAngle(t)-Qs+n;return{x:Math.cos(o)*e+this.xCenter,y:Math.sin(o)*e+this.yCenter,angle:o}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:n,right:o,bottom:r}=this._pointLabelItems[t];return{left:e,top:n,right:o,bottom:r}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const n=this.ctx;n.save(),n.beginPath(),lh(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:n,grid:o,border:r}=e,i=this._pointLabels.length;let s,a,l;if(e.pointLabels.display&&function(t,e){const{ctx:n,options:{pointLabels:o}}=t;for(let r=e-1;r>=0;r--){const e=t._pointLabelItems[r];if(!e.visible)continue;const i=o.setContext(t.getPointLabelContext(r));ah(n,i,e);const s=gl(i.font),{x:a,y:l,textAlign:u}=e;il(n,t._pointLabels[r],a,l+s.lineHeight/2,s,{color:i.color,textAlign:u,textBaseline:"middle"})}}(this,i),o.display&&this.ticks.forEach(((t,e)=>{if(0!==e){a=this.getDistanceFromCenterForValue(t.value);const n=this.getContext(e),s=o.setContext(n),l=r.setContext(n);!function(t,e,n,o,r){const i=t.ctx,s=e.circular,{color:a,lineWidth:l}=e;!s&&!o||!a||!l||n<0||(i.save(),i.strokeStyle=a,i.lineWidth=l,i.setLineDash(r.dash),i.lineDashOffset=r.dashOffset,i.beginPath(),lh(t,n,s,o),i.closePath(),i.stroke(),i.restore())}(this,s,a,i,l)}})),n.display){for(t.save(),s=i-1;s>=0;s--){const o=n.setContext(this.getPointLabelContext(s)),{color:r,lineWidth:i}=o;i&&r&&(t.lineWidth=i,t.strokeStyle=r,t.setLineDash(o.borderDash),t.lineDashOffset=o.borderDashOffset,a=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),l=this.getPointPosition(s,a),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(l.x,l.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,n=e.ticks;if(!n.display)return;const o=this.getIndexAngle(0);let r,i;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(o),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach(((o,s)=>{if(0===s&&!e.reverse)return;const a=n.setContext(this.getContext(s)),l=gl(a.font);if(r=this.getDistanceFromCenterForValue(this.ticks[s].value),a.showLabelBackdrop){t.font=l.string,i=t.measureText(o.label).width,t.fillStyle=a.backdropColor;const e=fl(a.backdropPadding);t.fillRect(-i/2-e.left,-r-l.size/2-e.top,i+e.width,l.size+e.height)}il(t,o.label,0,-r,l,{color:a.color,strokeColor:a.textStrokeColor,strokeWidth:a.textStrokeWidth})})),t.restore()}drawTitle(){}}(0,ji.Z)(uh,"id","radialLinear"),(0,ji.Z)(uh,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ha.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}}),(0,ji.Z)(uh,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),(0,ji.Z)(uh,"descriptors",{angleLines:{_fallback:"grid"}});const ch={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},dh=Object.keys(ch);function ph(t,e){return t-e}function hh(t,e){if(Ss(e))return null;const n=t._adapter,{parser:o,round:r,isoWeekday:i}=t._parseOpts;let s=e;return"function"===typeof o&&(s=o(s)),xs(s)||(s="string"===typeof o?n.parse(s,o):n.parse(s)),null===s?null:(r&&(s="week"!==r||!oa(i)&&!0!==i?n.startOf(s,r):n.startOf(s,"isoWeek",i)),+s)}function fh(t,e,n,o){const r=dh.length;for(let i=dh.indexOf(t);i<r-1;++i){const t=ch[dh[i]],r=t.steps?t.steps:Number.MAX_SAFE_INTEGER;if(t.common&&Math.ceil((n-e)/(r*t.size))<=o)return dh[i]}return dh[r-1]}function gh(t,e,n){if(n){if(n.length){const{lo:o,hi:r}=ga(n,e);t[n[o]>=e?n[o]:n[r]]=!0}}else t[e]=!0}function vh(t,e,n){const o=[],r={},i=e.length;let s,a;for(s=0;s<i;++s)a=e[s],r[a]=s,o.push({value:a,major:!1});return 0!==i&&n?function(t,e,n,o){const r=t._adapter,i=+r.startOf(e[0].value,o),s=e[e.length-1].value;let a,l;for(a=i;a<=s;a=+r.add(a,1,o))l=n[a],l>=0&&(e[l].major=!0);return e}(t,o,r,n):o}class mh extends Bc{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t.time||(t.time={}),o=this._adapter=new Zu(t.adapters.date);o.init(e),Is(n.displayFormats,o.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return void 0===t?null:hh(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,n=t.time.unit||"day";let{min:o,max:r,minDefined:i,maxDefined:s}=this.getUserBounds();function a(t){i||isNaN(t.min)||(o=Math.min(o,t.min)),s||isNaN(t.max)||(r=Math.max(r,t.max))}i&&s||(a(this._getLabelBounds()),"ticks"===t.bounds&&"labels"===t.ticks.source||a(this.getMinMax(!1))),o=xs(o)&&!isNaN(o)?o:+e.startOf(Date.now(),n),r=xs(r)&&!isNaN(r)?r:+e.endOf(Date.now(),n)+1,this.min=Math.min(o,r-1),this.max=Math.max(o+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],n=t[t.length-1]),{min:e,max:n}}buildTicks(){const t=this.options,e=t.time,n=t.ticks,o="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);const r=this.min,i=function(t,e,n){let o=0,r=t.length;for(;o<r&&t[o]<e;)o++;for(;r>o&&t[r-1]>n;)r--;return o>0||r<t.length?t.slice(o,r):t}(o,r,this.max);return this._unit=e.unit||(n.autoSkip?fh(e.minUnit,this.min,this.max,this._getLabelCapacity(r)):function(t,e,n,o,r){for(let i=dh.length-1;i>=dh.indexOf(n);i--){const n=dh[i];if(ch[n].common&&t._adapter.diff(r,o,n)>=e-1)return n}return dh[n?dh.indexOf(n):0]}(this,i.length,e.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(t){for(let e=dh.indexOf(t)+1,n=dh.length;e<n;++e)if(ch[dh[e]].common)return dh[e]}(this._unit):void 0,this.initOffsets(o),t.reverse&&i.reverse(),vh(this,i,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((t=>+t.value)))}initOffsets(){let t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=0,r=0;this.options.offset&&n.length&&(t=this.getDecimalForValue(n[0]),o=1===n.length?1-t:(this.getDecimalForValue(n[1])-t)/2,e=this.getDecimalForValue(n[n.length-1]),r=1===n.length?e:(e-this.getDecimalForValue(n[n.length-2]))/2);const i=n.length<3?.5:.25;o=ha(o,0,i),r=ha(r,0,i),this._offsets={start:o,end:r,factor:1/(o+1+r)}}_generate(){const t=this._adapter,e=this.min,n=this.max,o=this.options,r=o.time,i=r.unit||fh(r.minUnit,e,n,this._getLabelCapacity(e)),s=Rs(o.ticks.stepSize,1),a="week"===i&&r.isoWeekday,l=oa(a)||!0===a,u={};let c,d,p=e;if(l&&(p=+t.startOf(p,"isoWeek",a)),p=+t.startOf(p,l?"day":i),t.diff(n,e,i)>1e5*s)throw new Error(e+" and "+n+" are too far apart with stepSize of "+s+" "+i);const h="data"===o.ticks.source&&this.getDataTimestamps();for(c=p,d=0;c<n;c=+t.add(c,s,i),d++)gh(u,c,h);return c!==n&&"ticks"!==o.bounds&&1!==d||gh(u,c,h),Object.keys(u).sort(ph).map((t=>+t))}getLabelForValue(t){const e=this._adapter,n=this.options.time;return n.tooltipFormat?e.format(t,n.tooltipFormat):e.format(t,n.displayFormats.datetime)}format(t,e){const n=this.options.time.displayFormats,o=this._unit,r=e||n[o];return this._adapter.format(t,r)}_tickFormatFunction(t,e,n,o){const r=this.options,i=r.ticks.callback;if(i)return Ps(i,[t,e,n],this);const s=r.time.displayFormats,a=this._unit,l=this._majorUnit,u=a&&s[a],c=l&&s[l],d=n[e],p=l&&c&&d&&d.major;return this._adapter.format(t,o||(p?c:u))}generateTickLabels(t){let e,n,o;for(e=0,n=t.length;e<n;++e)o=t[e],o.label=this._tickFormatFunction(o.value,e,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+n)*e.factor)}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,n=this.ctx.measureText(t).width,o=ia(this.isHorizontal()?e.maxRotation:e.minRotation),r=Math.cos(o),i=Math.sin(o),s=this._resolveTickFontOptions(0).size;return{w:n*r+s*i,h:n*i+s*r}}_getLabelCapacity(t){const e=this.options.time,n=e.displayFormats,o=n[e.unit]||n.millisecond,r=this._tickFormatFunction(t,0,vh(this,[t],this._majorUnit),o),i=this._getLabelSize(r),s=Math.floor(this.isHorizontal()?this.width/i.w:this.height/i.h)-1;return s>0?s:1}getDataTimestamps(){let t,e,n=this._cache.data||[];if(n.length)return n;const o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(t=0,e=o.length;t<e;++t)n=n.concat(o[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const t=this._cache.labels||[];let e,n;if(t.length)return t;const o=this.getLabels();for(e=0,n=o.length;e<n;++e)t.push(hh(this,o[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return wa(t.sort(ph))}}function yh(t,e,n){let o,r,i,s,a=0,l=t.length-1;n?(e>=t[a].pos&&e<=t[l].pos&&({lo:a,hi:l}=va(t,"pos",e)),({pos:o,time:i}=t[a]),({pos:r,time:s}=t[l])):(e>=t[a].time&&e<=t[l].time&&({lo:a,hi:l}=va(t,"time",e)),({time:o,pos:i}=t[a]),({time:r,pos:s}=t[l]));const u=r-o;return u?i+(s-i)*(e-o)/u:i}(0,ji.Z)(mh,"id","time"),(0,ji.Z)(mh,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class Ch extends mh{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=yh(e,this.min),this._tableRange=yh(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:n}=this,o=[],r=[];let i,s,a,l,u;for(i=0,s=t.length;i<s;++i)l=t[i],l>=e&&l<=n&&o.push(l);if(o.length<2)return[{time:e,pos:0},{time:n,pos:1}];for(i=0,s=o.length;i<s;++i)u=o[i+1],a=o[i-1],l=o[i],Math.round((u+a)/2)!==l&&r.push({time:l,pos:i/(s-1)});return r}_generate(){const t=this.min,e=this.max;let n=super.getDataTimestamps();return n.includes(t)&&n.length||n.splice(0,0,t),n.includes(e)&&1!==n.length||n.push(e),n.sort(((t,e)=>t-e))}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),n=this.getLabelTimestamps();return t=e.length&&n.length?this.normalize(e.concat(n)):e.length?e:n,t=this._cache.all=t,t}getDecimalForValue(t){return(yh(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return yh(this._table,n*this._tableRange+this._minPos,!0)}}(0,ji.Z)(Ch,"id","timeseries"),(0,ji.Z)(Ch,"defaults",mh.defaults);const wh=[Uu,zd,jp,Object.freeze({__proto__:null,CategoryScale:zp,LinearScale:Zp,LogarithmicScale:th,RadialLinearScale:uh,TimeScale:mh,TimeSeriesScale:Ch})];Cd.register(...wh);const bh="label";function _h(t,e){"function"===typeof t?t(e):t&&(t.current=e)}function Sh(t,e){t.labels=e}function Eh(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:bh;const o=[];t.datasets=e.map((e=>{const r=t.datasets.find((t=>t[n]===e[n]));return r&&e.data&&!o.includes(r)?(o.push(r),Object.assign(r,e),r):{...e}}))}function Oh(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bh;const n={labels:[],datasets:[]};return Sh(n,t.labels),Eh(n,t.datasets,e),n}function xh(t,n){const{height:o=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:a,data:l,options:u,plugins:c=[],fallbackContent:d,updateMode:p,...h}=t,f=(0,e.useRef)(null),g=(0,e.useRef)(),v=()=>{f.current&&(g.current=new Cd(f.current,{type:a,data:Oh(l,s),options:u&&{...u},plugins:c}),_h(n,g.current))},m=()=>{_h(n,null),g.current&&(g.current.destroy(),g.current=null)};return(0,e.useEffect)((()=>{!i&&g.current&&u&&function(t,e){const n=t.options;n&&e&&Object.assign(n,e)}(g.current,u)}),[i,u]),(0,e.useEffect)((()=>{!i&&g.current&&Sh(g.current.config.data,l.labels)}),[i,l.labels]),(0,e.useEffect)((()=>{!i&&g.current&&l.datasets&&Eh(g.current.config.data,l.datasets,s)}),[i,l.datasets]),(0,e.useEffect)((()=>{g.current&&(i?(m(),setTimeout(v)):g.current.update(p))}),[i,u,l.labels,l.datasets,p]),(0,e.useEffect)((()=>{g.current&&(m(),setTimeout(v))}),[a]),(0,e.useEffect)((()=>(v(),()=>m())),[]),e.createElement("canvas",Object.assign({ref:f,role:"img",height:o,width:r},h),d)}const Th=(0,e.forwardRef)(xh);function Rh(t,n){return Cd.register(n),(0,e.forwardRef)(((n,o)=>e.createElement(Th,Object.assign({},n,{ref:o,type:t}))))}const Dh=Rh("line",Vu),Ph="CloudCoverageGraph_wrapper__-+FiE",Lh=t=>{let{data:e}=t;const n={labels:e.features.map((t=>new Date(t.properties.datetime).toLocaleDateString())),datasets:[{label:"Cloud Coverage (%)",data:e.features.map((t=>t.properties["landsat:cloud_cover_land"])),fill:!1,borderColor:"rgb(75, 192, 192)",tension:.1}]};return(0,a.jsxs)("div",{className:Ph,children:[(0,a.jsx)("h2",{children:"Temporal Cloud Coverage"}),(0,a.jsx)(Dh,{data:n,options:{scales:{x:{grid:{color:"rgba(255, 99, 132, 0.2)"}},y:{grid:{color:"rgba(54, 162, 235, 0.2)"}}}}})]})};var Mh,Ah=n(4340);function kh(t){if((!Mh&&0!==Mh||t)&&di){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),Mh=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Mh}function Nh(t){const n=function(t){const n=(0,e.useRef)(t);return n.current=t,n}(t);(0,e.useEffect)((()=>()=>n.current()),[])}function Fh(t){void 0===t&&(t=ri());try{var e=t.activeElement;return e&&e.nodeName?e:null}catch(Mg){return t.body}}function Ih(t,e){return t.contains?t.contains(e):t.compareDocumentPosition?t===e||!!(16&t.compareDocumentPosition(e)):void 0}const Gh=wr("modal-open");const Hh=class{constructor(){let{ownerDocument:t,handleContainerOverflow:e=!0,isRTL:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.handleContainerOverflow=e,this.isRTL=n,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const e={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",o=this.getElement();t.style={overflow:o.style.overflow,[n]:o.style[n]},t.scrollBarWidth&&(e[n]="".concat(parseInt(ci(o,n)||"0",10)+t.scrollBarWidth,"px")),o.setAttribute(Gh,""),ci(o,e)}reset(){[...this.modals].forEach((t=>this.remove(t)))}removeContainerStyle(t){const e=this.getElement();e.removeAttribute(Gh),Object.assign(e.style,t.style)}add(t){let e=this.modals.indexOf(t);return-1!==e?e:(e=this.modals.length,this.modals.push(t),this.setModalAttributes(t),0!==e||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),e)}remove(t){const e=this.modals.indexOf(t);-1!==e&&(this.modals.splice(e,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}},Vh=(0,e.createContext)(di?window:void 0);Vh.Provider;function jh(){return(0,e.useContext)(Vh)}const Bh=(t,e)=>di?null==t?(e||ri()).body:("function"===typeof t&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function Wh(t){let{children:n,in:o,onExited:r,onEntered:i,transition:s}=t;const[a,l]=(0,e.useState)(!o);o&&a&&l(!1);const u=function(t){let{in:n,onTransition:o}=t;const r=(0,e.useRef)(null),i=(0,e.useRef)(!0),s=or(o);return Ir((()=>{if(!r.current)return;let t=!1;return s({in:n,element:r.current,initial:i.current,isStale:()=>t}),()=>{t=!0}}),[n,s]),Ir((()=>(i.current=!1,()=>{i.current=!0})),[]),r}({in:!!o,onTransition:t=>{Promise.resolve(s(t)).then((()=>{t.isStale()||(t.in?null==i||i(t.element,t.initial):(l(!0),null==r||r(t.element)))}),(e=>{throw t.in||l(!0),e}))}}),c=ir(u,n.ref);return a&&!o?null:(0,e.cloneElement)(n,{ref:c})}function zh(t,e,n){return t?(0,a.jsx)(t,Object.assign({},n)):e?(0,a.jsx)(Wh,Object.assign({},n,{transition:e})):(0,a.jsx)(sr,Object.assign({},n))}const Uh=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];let Yh;function Kh(t){const n=jh(),o=t||function(t){return Yh||(Yh=new Hh({ownerDocument:null==t?void 0:t.document})),Yh}(n),r=(0,e.useRef)({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>o.add(r.current),remove:()=>o.remove(r.current),isTopModal:()=>o.isTopModal(r.current),setDialogRef:(0,e.useCallback)((t=>{r.current.dialog=t}),[]),setBackdropRef:(0,e.useCallback)((t=>{r.current.backdrop=t}),[])})}const Zh=(0,e.forwardRef)(((t,n)=>{let{show:o=!1,role:r="dialog",className:i,style:s,children:l,backdrop:u=!0,keyboard:c=!0,onBackdropClick:d,onEscapeKeyDown:p,transition:h,runTransition:f,backdropTransition:g,runBackdropTransition:v,autoFocus:m=!0,enforceFocus:y=!0,restoreFocus:C=!0,restoreFocusOptions:w,renderDialog:b,renderBackdrop:_=(t=>(0,a.jsx)("div",Object.assign({},t))),manager:S,container:E,onShow:O,onHide:x=(()=>{}),onExit:T,onExited:R,onExiting:D,onEnter:P,onEntering:L,onEntered:M}=t,A=function(t,e){if(null==t)return{};var n,o,r={},i=Object.keys(t);for(o=0;o<i.length;o++)n=i[o],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,Uh);const k=jh(),N=function(t,n){const o=jh(),[r,i]=(0,e.useState)((()=>Bh(t,null==o?void 0:o.document)));if(!r){const e=Bh(t);e&&i(e)}return(0,e.useEffect)((()=>{n&&r&&n(r)}),[n,r]),(0,e.useEffect)((()=>{const e=Bh(t);e!==r&&i(e)}),[t,r]),r}(E),F=Kh(S),I=function(){const t=(0,e.useRef)(!0),n=(0,e.useRef)((()=>t.current));return(0,e.useEffect)((()=>(t.current=!0,()=>{t.current=!1})),[]),n.current}(),G=function(t){const n=(0,e.useRef)(null);return(0,e.useEffect)((()=>{n.current=t})),n.current}(o),[H,V]=(0,e.useState)(!o),j=(0,e.useRef)(null);(0,e.useImperativeHandle)(n,(()=>F),[F]),di&&!G&&o&&(j.current=Fh(null==k?void 0:k.document)),o&&H&&V(!1);const B=or((()=>{if(F.add(),Z.current=mi(document,"keydown",Y),K.current=mi(document,"focus",(()=>setTimeout(z)),!0),O&&O(),m){var t,e;const n=Fh(null!=(t=null==(e=F.dialog)?void 0:e.ownerDocument)?t:null==k?void 0:k.document);F.dialog&&n&&!Ih(F.dialog,n)&&(j.current=n,F.dialog.focus())}})),W=or((()=>{var t;(F.remove(),null==Z.current||Z.current(),null==K.current||K.current(),C)&&(null==(t=j.current)||null==t.focus||t.focus(w),j.current=null)}));(0,e.useEffect)((()=>{o&&N&&B()}),[o,N,B]),(0,e.useEffect)((()=>{H&&W()}),[H,W]),Nh((()=>{W()}));const z=or((()=>{if(!y||!I()||!F.isTopModal())return;const t=Fh(null==k?void 0:k.document);F.dialog&&t&&!Ih(F.dialog,t)&&F.dialog.focus()})),U=or((t=>{t.target===t.currentTarget&&(null==d||d(t),!0===u&&x())})),Y=or((t=>{c&&function(t){return"Escape"===t.code||27===t.keyCode}(t)&&F.isTopModal()&&(null==p||p(t),t.defaultPrevented||x())})),K=(0,e.useRef)(),Z=(0,e.useRef)();if(!N)return null;const q=Object.assign({role:r,ref:F.setDialogRef,"aria-modal":"dialog"===r||void 0},A,{style:s,className:i,tabIndex:-1});let Q=b?b(q):(0,a.jsx)("div",Object.assign({},q,{children:e.cloneElement(l,{role:"document"})}));Q=zh(h,f,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!o,onExit:T,onExiting:D,onExited:function(){V(!0),null==R||R(...arguments)},onEnter:P,onEntering:L,onEntered:M,children:Q});let X=null;return u&&(X=_({ref:F.setBackdropRef,onClick:U}),X=zh(g,v,{in:!!o,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:X})),(0,a.jsx)(a.Fragment,{children:et.createPortal((0,a.jsxs)(a.Fragment,{children:[X,Q]}),N)})}));Zh.displayName="Modal";const qh=Object.assign(Zh,{Manager:Hh});function Qh(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const Xh=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",$h=".sticky-top",Jh=".navbar-toggler";class tf extends Hh{adjustAndStore(t,e,n){const o=e.style[t];e.dataset[t]=o,ci(e,{[t]:"".concat(parseFloat(ci(e,t))+n,"px")})}restore(t,e){const n=e.dataset[t];void 0!==n&&(delete e.dataset[t],ci(e,{[t]:n}))}setContainerStyle(t){super.setContainerStyle(t);const e=this.getElement();var n,o;if(o="modal-open",(n=e).classList?n.classList.add(o):function(t,e){return t.classList?!!e&&t.classList.contains(e):-1!==(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")}(n,o)||("string"===typeof n.className?n.className=n.className+" "+o:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+o)),!t.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";vr(e,Xh).forEach((e=>this.adjustAndStore(r,e,t.scrollBarWidth))),vr(e,$h).forEach((e=>this.adjustAndStore(i,e,-t.scrollBarWidth))),vr(e,Jh).forEach((e=>this.adjustAndStore(i,e,t.scrollBarWidth)))}removeContainerStyle(t){super.removeContainerStyle(t);const e=this.getElement();var n,o;o="modal-open",(n=e).classList?n.classList.remove(o):"string"===typeof n.className?n.className=Qh(n.className,o):n.setAttribute("class",Qh(n.className&&n.className.baseVal||"",o));const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";vr(e,Xh).forEach((t=>this.restore(r,t))),vr(e,$h).forEach((t=>this.restore(i,t))),vr(e,Jh).forEach((t=>this.restore(i,t)))}}let ef;function nf(t){return ef||(ef=new tf(t)),ef}const of=tf,rf=e.forwardRef(((t,e)=>{let{className:n,bsPrefix:o,as:r="div",...i}=t;return o=h(o,"modal-body"),(0,a.jsx)(r,{ref:e,className:s()(n,o),...i})}));rf.displayName="ModalBody";const sf=rf,af=e.createContext({onHide(){}}),lf=e.forwardRef(((t,e)=>{let{bsPrefix:n,className:o,contentClassName:r,centered:i,size:l,fullscreen:u,children:c,scrollable:d,...p}=t;n=h(n,"modal");const f="".concat(n,"-dialog"),g="string"===typeof u?"".concat(n,"-fullscreen-").concat(u):"".concat(n,"-fullscreen");return(0,a.jsx)("div",{...p,ref:e,className:s()(f,o,l&&"".concat(n,"-").concat(l),i&&"".concat(f,"-centered"),d&&"".concat(f,"-scrollable"),u&&g),children:(0,a.jsx)("div",{className:s()("".concat(n,"-content"),r),children:c})})}));lf.displayName="ModalDialog";const uf=lf,cf=e.forwardRef(((t,e)=>{let{className:n,bsPrefix:o,as:r="div",...i}=t;return o=h(o,"modal-footer"),(0,a.jsx)(r,{ref:e,className:s()(n,o),...i})}));cf.displayName="ModalFooter";const df=cf,pf={"aria-label":ft().string,onClick:ft().func,variant:ft().oneOf(["white"])},hf=e.forwardRef(((t,e)=>{let{className:n,variant:o,"aria-label":r="Close",...i}=t;return(0,a.jsx)("button",{ref:e,type:"button",className:s()("btn-close",o&&"btn-close-".concat(o),n),"aria-label":r,...i})}));hf.displayName="CloseButton",hf.propTypes=pf;const ff=hf,gf=e.forwardRef(((t,n)=>{let{closeLabel:o="Close",closeVariant:r,closeButton:i=!1,onHide:s,children:l,...u}=t;const c=(0,e.useContext)(af),d=or((()=>{null==c||c.onHide(),null==s||s()}));return(0,a.jsxs)("div",{ref:n,...u,children:[l,i&&(0,a.jsx)(ff,{"aria-label":o,variant:r,onClick:d})]})})),vf=gf,mf=e.forwardRef(((t,e)=>{let{bsPrefix:n,className:o,closeLabel:r="Close",closeButton:i=!1,...l}=t;return n=h(n,"modal-header"),(0,a.jsx)(vf,{ref:e,...l,className:s()(o,n),closeLabel:r,closeButton:i})}));mf.displayName="ModalHeader";const yf=mf,Cf=t=>e.forwardRef(((e,n)=>(0,a.jsx)("div",{...e,ref:n,className:s()(e.className,t)}))),wf=Cf("h4"),bf=e.forwardRef(((t,e)=>{let{className:n,bsPrefix:o,as:r=wf,...i}=t;return o=h(o,"modal-title"),(0,a.jsx)(r,{ref:e,className:s()(n,o),...i})}));bf.displayName="ModalTitle";const _f=bf;function Sf(t){return(0,a.jsx)(Ti,{...t,timeout:null})}function Ef(t){return(0,a.jsx)(Ti,{...t,timeout:null})}const Of=e.forwardRef(((t,n)=>{let{bsPrefix:o,className:r,style:i,dialogClassName:l,contentClassName:u,children:d,dialogAs:p=uf,"aria-labelledby":f,"aria-describedby":g,"aria-label":v,show:m=!1,animation:y=!0,backdrop:C=!0,keyboard:w=!0,onEscapeKeyDown:b,onShow:_,onHide:S,container:E,autoFocus:O=!0,enforceFocus:x=!0,restoreFocus:T=!0,restoreFocusOptions:R,onEntered:D,onExit:P,onExiting:L,onEnter:M,onEntering:A,onExited:k,backdropClassName:N,manager:F,...I}=t;const[G,H]=(0,e.useState)({}),[V,j]=(0,e.useState)(!1),B=(0,e.useRef)(!1),W=(0,e.useRef)(!1),z=(0,e.useRef)(null),[U,Y]=(0,e.useState)(null),K=ir(n,Y),Z=or(S),q=function(){const{dir:t}=(0,e.useContext)(c);return"rtl"===t}();o=h(o,"modal");const Q=(0,e.useMemo)((()=>({onHide:Z})),[Z]);function X(){return F||nf({isRTL:q})}function $(t){if(!di)return;const e=X().getScrollbarWidth()>0,n=t.scrollHeight>ri(t).documentElement.clientHeight;H({paddingRight:e&&!n?kh():void 0,paddingLeft:!e&&n?kh():void 0})}const J=or((()=>{U&&$(U.dialog)}));Nh((()=>{vi(window,"resize",J),null==z.current||z.current()}));const tt=()=>{B.current=!0},et=t=>{B.current&&U&&t.target===U.dialog&&(W.current=!0),B.current=!1},nt=()=>{j(!0),z.current=Ci(U.dialog,(()=>{j(!1)}))},ot=t=>{"static"!==C?W.current||t.target!==t.currentTarget?W.current=!1:null==S||S():(t=>{t.target===t.currentTarget&&nt()})(t)},rt=(0,e.useCallback)((t=>(0,a.jsx)("div",{...t,className:s()("".concat(o,"-backdrop"),N,!y&&"show")})),[y,N,o]),it={...i,...G};it.display="block";return(0,a.jsx)(af.Provider,{value:Q,children:(0,a.jsx)(qh,{show:m,ref:K,backdrop:C,container:E,keyboard:!0,autoFocus:O,enforceFocus:x,restoreFocus:T,restoreFocusOptions:R,onEscapeKeyDown:t=>{w?null==b||b(t):(t.preventDefault(),"static"===C&&nt())},onShow:_,onHide:S,onEnter:(t,e)=>{t&&$(t),null==M||M(t,e)},onEntering:(t,e)=>{null==A||A(t,e),gi(window,"resize",J)},onEntered:D,onExit:t=>{null==z.current||z.current(),null==P||P(t)},onExiting:L,onExited:t=>{t&&(t.style.display=""),null==k||k(t),vi(window,"resize",J)},manager:X(),transition:y?Sf:void 0,backdropTransition:y?Ef:void 0,renderBackdrop:rt,renderDialog:t=>(0,a.jsx)("div",{role:"dialog",...t,style:it,className:s()(r,o,V&&"".concat(o,"-static"),!y&&"show"),onClick:C?ot:void 0,onMouseUp:et,"aria-label":v,"aria-labelledby":f,"aria-describedby":g,children:(0,a.jsx)(p,{...I,onMouseDown:tt,className:l,contentClassName:u,children:d})})})})}));Of.displayName="Modal";const xf=Object.assign(Of,{Body:sf,Header:yf,Title:_f,Footer:df,Dialog:uf,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),Tf=t=>t&&4===t.length?"SW: ".concat(parseFloat(t[1].toFixed(2)),", ").concat(parseFloat(t[0].toFixed(2))," - NE: ").concat(parseFloat(t[3].toFixed(2)),", ").concat(parseFloat(t[2].toFixed(2))):"Invalid Bbox",Rf=t=>{const e=S()(t);return e.isValid()?e.format("YYYY/MM/DD"):"Invalid Date"},Df=t=>{const e=S()(t);return e.isValid()?e.format("h:mm:ss a"):"Invalid Time"},Pf=()=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"15",height:"15",viewBox:"0 0 24 24",fill:"black",children:(0,a.jsx)("path",{d:"M 19.980469 2.9902344 A 1.0001 1.0001 0 0 0 19.869141 3 L 15 3 A 1.0001 1.0001 0 1 0 15 5 L 17.585938 5 L 8.2929688 14.292969 A 1.0001 1.0001 0 1 0 9.7070312 15.707031 L 19 6.4140625 L 19 9 A 1.0001 1.0001 0 1 0 21 9 L 21 4.1269531 A 1.0001 1.0001 0 0 0 19.980469 2.9902344 z M 5 3 C 3.9069372 3 3 3.9069372 3 5 L 3 19 C 3 20.093063 3.9069372 21 5 21 L 19 21 C 20.093063 21 21 20.093063 21 19 L 21 13 A 1.0001 1.0001 0 1 0 19 13 L 19 19 L 5 19 L 5 5 L 11 5 A 1.0001 1.0001 0 1 0 11 3 L 5 3 z"})}),Lf=t=>{let{isModalOpen:e,setIsModalOpen:n,data:o}=t;const{description:r,properties:i,assets:s,bbox:l}=o,{datetime:u}=i,c=t=>["coastal","blue","green","red"].filter((e=>e in t)).map((e=>({title:t[e].title,href:t[e].href,type:t[e].type}))),d=c(s);return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(xf,{style:{maxWidth:"50rem !important",width:"50vw !important"},show:e,onHide:()=>n(!1),children:[(0,a.jsx)(xf.Header,{closeButton:!0}),(0,a.jsxs)(xf.Body,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{children:"Description"}),r]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{children:"Date and Time"}),"".concat(Rf(u)," - ").concat(Df(u))]}),d.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{children:"Spectral Bands"}),(0,a.jsx)("ul",{children:c(s).map(((t,e)=>(0,a.jsxs)("li",{children:[(0,a.jsx)("a",{href:t.href,target:"_blank",rel:"noopener noreferrer",children:t.title}),(0,a.jsx)(Pf,{})]},e)))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{children:"Location"}),(0,a.jsx)("p",{children:Tf(l)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{children:"Assets"}),Object.keys(s).filter((t=>(t=>[".json",".txt",".xml"].some((e=>t.toLowerCase().endsWith(e))))(t))).map((t=>(0,a.jsx)("ul",{children:(0,a.jsxs)("li",{children:[(0,a.jsx)("a",{href:s[t].href,target:"_blank",rel:"noopener noreferrer",children:s[t].title||t}),(0,a.jsx)(Pf,{})]})},t)))]})]})]})})},Mf=()=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"20",height:"20",viewBox:"0 0 50 50",fill:"grey",children:(0,a.jsx)("path",{d:"M 25 2 C 12.309295 2 2 12.309295 2 25 C 2 37.690705 12.309295 48 25 48 C 37.690705 48 48 37.690705 48 25 C 48 12.309295 37.690705 2 25 2 z M 25 4 C 36.609824 4 46 13.390176 46 25 C 46 36.609824 36.609824 46 25 46 C 13.390176 46 4 36.609824 4 25 C 4 13.390176 13.390176 4 25 4 z M 25 11 A 3 3 0 0 0 22 14 A 3 3 0 0 0 25 17 A 3 3 0 0 0 28 14 A 3 3 0 0 0 25 11 z M 21 21 L 21 23 L 22 23 L 23 23 L 23 36 L 22 36 L 21 36 L 21 38 L 22 38 L 23 38 L 27 38 L 28 38 L 29 38 L 29 36 L 28 36 L 27 36 L 27 21 L 26 21 L 22 21 L 21 21 z"})}),Af=t=>{let{data:n}=t;const[o,r]=(0,e.useState)(!1),[i,s]=(0,e.useState)(null),l=[{headerName:"Id",field:"id",tooltipField:"id"},{headerName:"Description",field:"description",filter:!0,tooltipField:"description"},{headerName:"Date",field:"datetime",valueFormatter:t=>Rf(t.value)},{headerName:"Time",field:"datetime",valueFormatter:t=>Df(t.value)},{headerName:"Bounding Box",field:"bbox",valueFormatter:t=>Tf(t.value),tooltipValueGetter:t=>Tf(t.value)},{headerName:"Cloud Coverage",field:"cloudCoverage",valueFormatter:t=>"".concat(t.value,"%"),tooltipValueGetter:t=>"".concat(t.value,"%"),cellStyle:t=>t.value<50?{color:"green"}:t.value>=50&&t.value<=80?{color:"orange"}:{color:"red"}},{headerName:"",field:"feature",cellRenderer:t=>(0,a.jsx)("button",{style:{border:"none",backgroundColor:"transparent"},onClick:()=>(t=>{r(!0),s(t.value)})(t),children:(0,a.jsx)(Mf,{})})}],u=n.features.map((t=>({id:t.id,description:t.description,datetime:t.properties.datetime,bbox:t.bbox,cloudCoverage:t.properties["landsat:cloud_cover_land"],thumbnail:t.assets.thumbnail.href,feature:t})));return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"ag-theme-quartz","aria-label":"table",children:(0,a.jsx)(Ah.AgGridReact,{"aria-label":"table",columnDefs:l,rowData:u,domLayout:"autoHeight",pagination:!0,paginationPageSize:20})}),o&&(0,a.jsx)(Lf,{isModalOpen:o,setIsModalOpen:r,data:i})]})},kf="TabsSection_tabs__JMRdc",Nf=t=>{let{data:e}=t;return(0,a.jsxs)(Ni,{defaultActiveKey:"data",className:kf,children:[(0,a.jsx)(Vi,{eventKey:"data",title:"Data",children:(0,a.jsx)(Af,{data:e})}),(0,a.jsx)(Vi,{eventKey:"analytics",title:"Analytics",children:(0,a.jsx)(Lh,{data:e})})]})},Ff=()=>{const[t,n]=(0,e.useState)(),[o,r]=(0,e.useState)([null,null]),[i,s]=(0,e.useState)(null),l=vo(),{data:u,loading:c,error:d,fetchData:p}=mn();console.log(u);const h=(0,e.useRef)(null);return d&&l("/error",{state:{description:d.message}}),(0,a.jsxs)(m,{className:Ao.container,children:[(0,a.jsx)(C,{children:(0,a.jsx)("h1",{children:"Search geospatial data"})}),(0,a.jsx)(C,{children:(0,a.jsx)(U,{setBbox:n,setGeoJsonData:s})}),(0,a.jsxs)(C,{children:[(0,a.jsx)(b,{sm:9,className:Ao.conlumn,children:(0,a.jsx)(Et,{setBbox:n,geoJsonData:i,bbox:t})}),(0,a.jsxs)(b,{sm:3,className:Ao.conlumn,children:[(0,a.jsx)(G,{handleClick:e=>(e=>{e.preventDefault(),t&&o[0]&&o[1]?p("https://landsatlook.usgs.gov/stac-server/search",{bbox:t&&t.toString(),datetime:"".concat(o[0],"/").concat(o[1]),collections:["landsat-c2l1","landsat-c2l2-st"],limit:200}):alert("Bounding box and date range are required. Please select both before proceeding.")})(e),setDates:r,dates:o}),c&&(0,a.jsx)(bn,{})]})]}),(0,a.jsx)("div",{ref:h,className:Ao.tabsSection,children:u&&(0,a.jsx)(Nf,{data:u})})]})},If=()=>{var t;const e=null===(t=fo().state)||void 0===t?void 0:t.description;return(0,a.jsxs)(a.Fragment,{children:[e&&(0,a.jsxs)("h3",{children:["The following error occurred: ",e]}),";"]})},Gf=e.forwardRef(((t,e)=>{let{bsPrefix:n,className:o,as:r,...i}=t;n=h(n,"navbar-brand");const l=r||(i.href?"a":"span");return(0,a.jsx)(l,{...i,ref:e,className:s()(o,n)})}));Gf.displayName="NavbarBrand";const Hf=Gf;const Vf=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter((t=>null!=t)).reduce(((t,e)=>{if("function"!==typeof e)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===t?e:function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];t.apply(this,o),e.apply(this,o)}}),null)},jf={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function Bf(t,e){const n=e["offset".concat(t[0].toUpperCase()).concat(t.slice(1))],o=jf[t];return n+parseInt(ci(e,o[0]),10)+parseInt(ci(e,o[1]),10)}const Wf={[Xr]:"collapse",[ti]:"collapsing",[$r]:"collapsing",[Jr]:"collapse show"},zf=e.forwardRef(((t,n)=>{let{onEnter:o,onEntering:r,onEntered:i,onExit:l,onExiting:u,className:c,children:d,dimension:p="height",in:h=!1,timeout:f=300,mountOnEnter:g=!1,unmountOnExit:v=!1,appear:m=!1,getDimensionValue:y=Bf,...C}=t;const w="function"===typeof p?p():p,b=(0,e.useMemo)((()=>Vf((t=>{t.style[w]="0"}),o)),[w,o]),_=(0,e.useMemo)((()=>Vf((t=>{const e="scroll".concat(w[0].toUpperCase()).concat(w.slice(1));t.style[w]="".concat(t[e],"px")}),r)),[w,r]),S=(0,e.useMemo)((()=>Vf((t=>{t.style[w]=null}),i)),[w,i]),E=(0,e.useMemo)((()=>Vf((t=>{t.style[w]="".concat(y(w,t),"px"),_i(t)}),l)),[l,y,w]),O=(0,e.useMemo)((()=>Vf((t=>{t.style[w]=null}),u)),[w,u]);return(0,a.jsx)(Ei,{ref:n,addEndListener:bi,...C,"aria-expanded":C.role?h:null,onEnter:b,onEntering:_,onEntered:S,onExit:E,onExiting:O,childRef:d.ref,in:h,timeout:f,mountOnEnter:g,unmountOnExit:v,appear:m,children:(t,n)=>e.cloneElement(d,{...n,className:s()(c,d.props.className,Wf[t],"width"===w&&"collapse-horizontal")})})})),Uf=e.forwardRef(((t,n)=>{let{children:o,bsPrefix:r,...i}=t;r=h(r,"navbar-collapse");const s=(0,e.useContext)(Lr);return(0,a.jsx)(zf,{in:!(!s||!s.expanded),...i,children:(0,a.jsx)("div",{ref:n,className:r,children:o})})}));Uf.displayName="NavbarCollapse";const Yf=Uf,Kf=e.forwardRef(((t,n)=>{let{bsPrefix:o,className:r,children:i,label:l="Toggle navigation",as:u="button",onClick:c,...d}=t;o=h(o,"navbar-toggler");const{onToggle:p,expanded:f}=(0,e.useContext)(Lr)||{},g=or((t=>{c&&c(t),p&&p()}));return"button"===u&&(d.type="button"),(0,a.jsx)(u,{...d,ref:n,onClick:g,"aria-label":l,className:s()(r,o,!f&&"collapsed"),children:i||(0,a.jsx)("span",{className:"".concat(o,"-icon")})})}));Kf.displayName="NavbarToggle";const Zf=Kf,qf=new WeakMap,Qf=(t,e)=>{if(!t||!e)return;const n=qf.get(e)||new Map;qf.set(e,n);let o=n.get(t);return o||(o=e.matchMedia(t),o.refCount=0,n.set(o.media,o)),o};function Xf(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"undefined"===typeof window?void 0:window;const o=Qf(t,n),[r,i]=(0,e.useState)((()=>!!o&&o.matches));return Ir((()=>{let e=Qf(t,n);if(!e)return i(!1);let o=qf.get(n);const r=()=>{i(e.matches)};return e.refCount++,e.addListener(r),r(),()=>{e.removeListener(r),e.refCount--,e.refCount<=0&&(null==o||o.delete(e.media)),e=void 0}}),[t]),r}const $f=function(t){const n=Object.keys(t);function o(t,e){return t===e?e:t?"".concat(t," and ").concat(e):e}function r(e){const o=function(t){return n[Math.min(n.indexOf(t)+1,n.length-1)]}(e);let r=t[o];return r="number"===typeof r?"".concat(r-.2,"px"):"calc(".concat(r," - 0.2px)"),"(max-width: ".concat(r,")")}return function(n,i,s){let a;return"object"===typeof n?(a=n,s=i,i=!0):a={[n]:i=i||!0},Xf((0,e.useMemo)((()=>Object.entries(a).reduce(((e,n)=>{let[i,s]=n;return"up"!==s&&!0!==s||(e=o(e,function(e){let n=t[e];return"number"===typeof n&&(n="".concat(n,"px")),"(min-width: ".concat(n,")")}(i))),"down"!==s&&!0!==s||(e=o(e,r(i))),e}),"")),[JSON.stringify(a)]),s)}}({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),Jf=$f,tg=e.forwardRef(((t,e)=>{let{className:n,bsPrefix:o,as:r="div",...i}=t;return o=h(o,"offcanvas-body"),(0,a.jsx)(r,{ref:e,className:s()(n,o),...i})}));tg.displayName="OffcanvasBody";const eg=tg,ng={[$r]:"show",[Jr]:"show"},og=e.forwardRef(((t,n)=>{let{bsPrefix:o,className:r,children:i,in:l=!1,mountOnEnter:u=!1,unmountOnExit:c=!1,appear:d=!1,...p}=t;return o=h(o,"offcanvas"),(0,a.jsx)(Ei,{ref:n,addEndListener:bi,in:l,mountOnEnter:u,unmountOnExit:c,appear:d,...p,childRef:i.ref,children:(t,n)=>e.cloneElement(i,{...n,className:s()(r,i.props.className,(t===$r||t===ti)&&"".concat(o,"-toggling"),ng[t])})})}));og.displayName="OffcanvasToggling";const rg=og,ig=e.forwardRef(((t,e)=>{let{bsPrefix:n,className:o,closeLabel:r="Close",closeButton:i=!1,...l}=t;return n=h(n,"offcanvas-header"),(0,a.jsx)(vf,{ref:e,...l,className:s()(o,n),closeLabel:r,closeButton:i})}));ig.displayName="OffcanvasHeader";const sg=ig,ag=Cf("h5"),lg=e.forwardRef(((t,e)=>{let{className:n,bsPrefix:o,as:r=ag,...i}=t;return o=h(o,"offcanvas-title"),(0,a.jsx)(r,{ref:e,className:s()(n,o),...i})}));lg.displayName="OffcanvasTitle";const ug=lg;function cg(t){return(0,a.jsx)(rg,{...t})}function dg(t){return(0,a.jsx)(Ti,{...t})}const pg=e.forwardRef(((t,n)=>{let{bsPrefix:o,className:r,children:i,"aria-labelledby":l,placement:u="start",responsive:c,show:d=!1,backdrop:p=!0,keyboard:f=!0,scroll:g=!1,onEscapeKeyDown:v,onShow:m,onHide:y,container:C,autoFocus:w=!0,enforceFocus:b=!0,restoreFocus:_=!0,restoreFocusOptions:S,onEntered:E,onExit:O,onExiting:x,onEnter:T,onEntering:R,onExited:D,backdropClassName:P,manager:L,renderStaticNode:M=!1,...A}=t;const k=(0,e.useRef)();o=h(o,"offcanvas");const{onToggle:N}=(0,e.useContext)(Lr)||{},[F,I]=(0,e.useState)(!1),G=Jf(c||"xs","up");(0,e.useEffect)((()=>{I(c?d&&!G:d)}),[d,c,G]);const H=or((()=>{null==N||N(),null==y||y()})),V=(0,e.useMemo)((()=>({onHide:H})),[H]);const j=(0,e.useCallback)((t=>(0,a.jsx)("div",{...t,className:s()("".concat(o,"-backdrop"),P)})),[P,o]),B=t=>(0,a.jsx)("div",{...t,...A,className:s()(r,c?"".concat(o,"-").concat(c):o,"".concat(o,"-").concat(u)),"aria-labelledby":l,children:i});return(0,a.jsxs)(a.Fragment,{children:[!F&&(c||M)&&B({}),(0,a.jsx)(af.Provider,{value:V,children:(0,a.jsx)(qh,{show:F,ref:n,backdrop:p,container:C,keyboard:f,autoFocus:w,enforceFocus:b&&!g,restoreFocus:_,restoreFocusOptions:S,onEscapeKeyDown:v,onShow:m,onHide:H,onEnter:function(t){t&&(t.style.visibility="visible");for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];null==T||T(t,...n)},onEntering:R,onEntered:E,onExit:O,onExiting:x,onExited:function(t){t&&(t.style.visibility="");for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];null==D||D(...n)},manager:L||(g?(k.current||(k.current=new of({handleContainerOverflow:!1})),k.current):nf()),transition:cg,backdropTransition:dg,renderBackdrop:j,renderDialog:B})})]})}));pg.displayName="Offcanvas";const hg=Object.assign(pg,{Body:eg,Header:sg,Title:ug}),fg=e.forwardRef(((t,n)=>{const o=(0,e.useContext)(Lr);return(0,a.jsx)(hg,{ref:n,show:!(null==o||!o.expanded),...t,renderStaticNode:!0})}));fg.displayName="NavbarOffcanvas";const gg=fg,vg=e.forwardRef(((t,e)=>{let{className:n,bsPrefix:o,as:r="span",...i}=t;return o=h(o,"navbar-text"),(0,a.jsx)(r,{ref:e,className:s()(n,o),...i})}));vg.displayName="NavbarText";const mg=vg,yg=e.forwardRef(((t,n)=>{const{bsPrefix:o,expand:r=!0,variant:i="light",bg:l,fixed:u,sticky:c,className:d,as:p="nav",expanded:f,onToggle:g,onSelect:v,collapseOnSelect:m=!1,...y}=Go(t,{expanded:"onToggle"}),C=h(o,"navbar"),w=(0,e.useCallback)((function(){null==v||v(...arguments),m&&f&&(null==g||g(!1))}),[v,m,f,g]);void 0===y.role&&"nav"!==p&&(y.role="navigation");let b="".concat(C,"-expand");"string"===typeof r&&(b="".concat(b,"-").concat(r));const _=(0,e.useMemo)((()=>({onToggle:()=>null==g?void 0:g(!f),bsPrefix:C,expanded:!!f,expand:r})),[C,f,r,g]);return(0,a.jsx)(Lr.Provider,{value:_,children:(0,a.jsx)(er.Provider,{value:w,children:(0,a.jsx)(p,{ref:n,...y,className:s()(d,C,r&&b,i&&"".concat(C,"-").concat(i),l&&"bg-".concat(l),c&&"sticky-".concat(c),u&&"fixed-".concat(u))})})})}));yg.displayName="Navbar";const Cg=Object.assign(yg,{Brand:Hf,Collapse:Yf,Offcanvas:gg,Text:mg,Toggle:Zf});const wg=n.p+"static/media/constellr-logo.1b7a90569e7e0c29275d2b3f6c6dd3f8.svg",bg="Navbar_navbar__SW0hx",_g="Navbar_container__8NSHR",Sg="Navbar_logo__ZvStZ",Eg=()=>(0,a.jsx)(Cg,{expand:"lg",className:bg,children:(0,a.jsx)(m,{className:_g,children:(0,a.jsx)(Cg.Brand,{href:"/",children:(0,a.jsx)("img",{className:Sg,src:wg,alt:"Logo"})})})}),Og=()=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h3",{children:" Page not found"}),";"]});const xg=function(){return(0,a.jsxs)("div",{className:"App",children:[(0,a.jsx)(Eg,{}),(0,a.jsxs)(Lo,{children:[(0,a.jsx)(Do,{path:"/",element:(0,a.jsx)(Ff,{})}),(0,a.jsx)(Do,{path:"/error",element:(0,a.jsx)(If,{})}),(0,a.jsx)(Do,{path:"*",element:(0,a.jsx)(Og,{})})]})]})},Tg=t=>{t&&t instanceof Function&&n.e(787).then(n.bind(n,787)).then((e=>{let{getCLS:n,getFID:o,getFCP:r,getLCP:i,getTTFB:s}=e;n(t),o(t),r(t),i(t),s(t)}))};new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);new Map;const Rg=o.startTransition;nt.flushSync;function Dg(t){let{basename:n,children:o,future:r,window:i}=t,s=e.useRef();null==s.current&&(s.current=function(t){return void 0===t&&(t={}),Ln((function(t,e){let{pathname:n,search:o,hash:r}=t.location;return Rn("",{pathname:n,search:o,hash:r},e.state&&e.state.usr||null,e.state&&e.state.key||"default")}),(function(t,e){return"string"===typeof e?e:Dn(e)}),null,t)}({window:i,v5Compat:!0}));let a=s.current,[l,u]=e.useState({action:a.action,location:a.location}),{v7_startTransition:c}=r||{},d=e.useCallback((t=>{c&&Rg?Rg((()=>u(t))):u(t)}),[u,c]);return e.useLayoutEffect((()=>a.listen(d)),[a,d]),e.createElement(Po,{basename:n,children:o,location:l.location,navigationType:l.action,navigator:a,future:r})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var Pg,Lg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Pg||(Pg={})),function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"}(Lg||(Lg={}));r.createRoot(document.getElementById("root")).render((0,a.jsxs)(e.StrictMode,{children:[(0,a.jsx)(Dg,{children:(0,a.jsx)(xg,{})}),","]})),Tg()})()})();
//# sourceMappingURL=main.3e25b0a4.js.map